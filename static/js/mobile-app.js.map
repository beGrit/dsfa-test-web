{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./platform/dsf/utils/require.js","webpack:///./platform/dsf/api/index.js","webpack:///./project/oneThing/api/index.js","webpack:///./platform/dsf/utils/idCode.js","webpack:///./platform/dsf/utils/express.js","webpack:///./platform/dsf/utils/flexble.js","webpack:///./platform/assets/styles/themes/workFlow/status-3.png","webpack:///./platform/dsf/utils/http.js","webpack:///./platform/dsf/utils/utils.js","webpack:///./platform/dsf/utils/base64.js","webpack:///./platform/dsf/utils/cookies.js","webpack:///./platform/dsf/utils/component.js","webpack:///./platform/dsf/utils/index.js","webpack:///./platform/dsf/metadata/textMetaData.js","webpack:///./platform/dsf/metadata/bigTextMetaData.js","webpack:///./platform/dsf/metadata/longTextMetaData.js","webpack:///./platform/dsf/metadata/itemsMetaData.js","webpack:///./platform/dsf/metadata/subListMetaData.js","webpack:///./platform/dsf/metadata/fileMetaData.js","webpack:///./platform/dsf/metadata/photoMetaData.js","webpack:///./platform/dsf/metadata/systemMetaData.js","webpack:///./platform/dsf/metadata/treeInfoMetaData.js","webpack:///./platform/dsf/metadata/navTreeMetaData.js","webpack:///./platform/dsf/metadata/dateIntervalMetaData.js","webpack:///./platform/dsf/metadata/datePickerMetaData.js","webpack:///./platform/dsf/metadata/timePickerMetaData.js","webpack:///./platform/dsf/metadata/examMetaData.js","webpack:///./platform/dsf/metadata/examItemsMetaData.js","webpack:///./platform/dsf/metadata/examSubjectiveMetaData.js","webpack:///./platform/dsf/metadata/customerImgMetaData.js","webpack:///./platform/dsf/metadata/flowInfoMetaData.js","webpack:///./platform/dsf/metadata/index.js","webpack:///./platform/dsf/utils/metadata.js","webpack:///./platform/dsf/mixins/view.js","webpack:///./platform/dsf/api/api.js","webpack:///./platform/dsf/directives/index.js","webpack:///./platform/dsf/utils/layer.js","webpack:///./platform/assets/styles/themes/workFlow/status0.png","webpack:///platform/dsf/output/layoutPreView.vue","webpack:///./project/oneThing/store/mutation.js","webpack:///./project/oneThing/store/actions.js","webpack:///./platform/dsf/store/demo.js","webpack:///./platform/dsf/store/flow.js","webpack:///./platform/dsf/store/seatDesign.js","webpack:///./platform/dsf/store/index.js","webpack:///./project/oneThing/store/index.js","webpack:///./platform/dsf/mixins/layoutView.js","webpack:///./platform/assets/styles/themes/workFlow sync ^\\.\\/status.*\\.png$","webpack:///./platform/dsf/utils/storage.js","webpack:///./platform/assets/styles/themes/workFlow/default-header.png","webpack:///./platform/dsf/utils/repair.js","webpack:///./platform/dsf/utils/client.js","webpack:///./platform/assets/styles/themes/workFlow/status2.png","webpack:///./platform/dsf/utils/date.js","webpack:///./platform/dsf/utils/cache.js","webpack:///platform/dsf/output/componentInfo.vue","webpack:///./project/oneThing/metadata/oneThingFormSelectMetaData.js","webpack:///./project/oneThing/metadata/index.js","webpack:///./platform/dsf/output/layoutMobilePreView.vue?ed84","webpack:///platform/dsf/output/layoutMobilePreView.vue","webpack:///./platform/dsf/output/layoutMobilePreView.vue?28f3","webpack:///./platform/dsf/output/layoutMobilePreView.vue","webpack:///./platform/dsf/mixins/formControl.js","webpack:///./platform/dsf/utils/math.js","webpack:///./platform/dsf/mixins/layout.js","webpack:///./platform/assets/styles/themes/workFlow/status1.png","webpack:///./platform/dsf/utils/init.js","webpack:///./platform/dsf/utils/designer.js","webpack:///./platform/dsf/filters/index.js","webpack:///./platform/assets/styles/themes/workFlow/status-4.png","webpack:///./platform/dsf/utils/validate.js","webpack:///./project/oneThing/dsf_config.js","webpack:///./platform/dsf/output/layoutPreView.vue?00cf","webpack:///./platform/dsf/output/layoutPreView.vue?c42d","webpack:///./platform/dsf/output/layoutPreView.vue","webpack:///./platform/dsf/utils/url.js","webpack:///./platform/dsf/output/layoutTree.vue?6496","webpack:///./platform/dsf/output/layoutTree.vue?6442","webpack:///./platform/dsf/output/layoutTree.vue","webpack:///./platform/dsf/output/componentInfo.vue?187b","webpack:///./platform/dsf/output/componentInfo.vue?50cd","webpack:///./platform/dsf/output/componentInfo.vue","webpack:///./platform/dsf/output/index.js","webpack:///./platform/dsf/utils/transition.js","webpack:///./platform/assets/styles/themes/workFlow/status-2.png","webpack:///./platform/dsf/mixins/control.js","webpack:///./platform/dsf/utils/array.js","webpack:///platform/dsf/output/layoutTree.vue","webpack:///./platform/dsf/utils/md5.js","webpack:///./platform/dsf/output/dynamicComponent.js","webpack:///./platform/dsf/utils/config.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","requirejs","require","define","init","global","setTimeout","req","head","baseElement","dataMain","src","interactiveScript","currentlyAddingScript","mainScript","subPath","version","commentRegExp","cjsRequireRegExp","jsSuffixRegExp","currDirRegExp","op","ostring","toString","hasOwn","isBrowser","navigator","document","isWebWorker","importScripts","readyRegExp","platform","defContextName","isOpera","opera","contexts","cfg","globalDefQueue","useInteractive","commentReplace","match","singlePrefix","isFunction","it","isArray","each","ary","func","eachReverse","hasProp","obj","prop","getOwn","eachProp","mixin","target","source","force","deepStringMixin","RegExp","fn","arguments","scripts","getElementsByTagName","defaultOnError","err","getGlobal","g","split","part","makeError","id","msg","requireModules","e","Error","requireType","originalError","undefined","deps","callback","errback","optional","context","config","contextName","newContext","configure","nextTick","jsExtRegExp","ctx","parentNode","onError","createNode","moduleName","url","node","xhtml","createElementNS","createElement","type","scriptType","charset","async","load","setAttribute","attachEvent","indexOf","addEventListener","onScriptLoad","onScriptError","onNodeCreated","insertBefore","appendChild","completeLoad","skipDataMain","script","getAttribute","baseUrl","pop","join","replace","test","concat","dep","getInteractiveScript","defQueue","defQueueMap","amd","jQuery","exec","text","eval","inCheckLoaded","Module","handlers","checkLoadedTimeoutId","waitSeconds","paths","bundles","pkgs","shim","registry","enabledRegistry","undefEvents","defined","urlFetched","bundlesMap","requireCounter","unnormalizedCounter","trimDots","normalize","baseName","applyMap","pkgMain","mapValue","nameParts","nameSegment","lastIndex","foundMap","foundI","foundStarMap","starI","normalizedBaseParts","baseParts","map","starMap","nodeIdCompat","charAt","outerLoop","removeScript","scriptNode","removeChild","hasPathFallback","pathConfig","undef","makeRequire","skipMap","splitPrefix","prefix","index","substring","makeModuleMap","parentModuleMap","isNormalized","pluginModule","suffix","parentName","originalName","isDefine","normalizedName","nameToUrl","parentMap","unnormalized","getModule","depMap","mod","on","defineEmitComplete","error","ids","notified","events","emit","takeGlobalQueue","queueItem","cleanRegistry","breakCycle","traced","processed","depMaps","depMatched","defineDep","check","checkLoaded","usingPathFallback","waitInterval","expired","startTime","Date","getTime","noLoads","reqCalls","stillLoading","needCycleCheck","modId","enabled","inited","fetched","callGetModule","args","removeListener","ieName","detachEvent","removeEventListener","getScriptData","evt","currentTarget","srcElement","intakeDefines","usingExports","uri","this","depExports","pluginMaps","depCount","factory","options","ignore","enable","fetch","callPlugin","enableBuildCallback","enabling","cjsModule","defining","execCb","requireMap","onResourceLoad","resLoadMaps","normalizedMap","defineEmitted","pluginMap","plugin","normalizedMod","bundleId","localRequire","fromText","textAlt","moduleMap","hasInteractive","handler","undefed","cb","cbs","urlArgs","objs","v","exportsFn","makeShimExports","packages","pkgObj","location","main","ret","relMap","requireMod","__requireJsBuild","toUrl","moduleNamePlusExt","ext","lastIndexOf","segment","isRelative","specified","ex","found","shExports","enforceDefine","skipExt","syms","parentModule","parentPath","readyState","parents","api","city","11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91","regExp","factor","parity","template","code","substr","codeArr","sum","ai","wi","toUpperCase","str","address","birthday","sex","express","k","variable","reg","findData","arr","count","newkey","tmp","endsWith","vueComponent","$vm","queryString","vm","$parentView","$route","query","dsf","session","cookies","isExist","disabled","filePath","fileInfo","JSON","parse","relativePath","pri","$viewInitData","_privilege","isView","qs","now","today","getFullYear","getMonth","getDate","method","Array","methodName","has","expressStr","openTag","closeTag","mat","__getter__","isFlag","isUnDef","evalMap","cachePool","replaceMap","isCodeBlock","startsWith","parseExpress","exp","expStr","parseInterpolate","expr","_","pools","addScope","Function","put","_isVue","rimprovePriority","rexpr","rvmKey","ruselessSp","rshortCircuit","brackets","rpipeline","rregexp","robjectProp","robjectKey","rfilterName","rlocalVar","rentities","stringNum","stringPool","$temp","decode","innerHTML","innerText","textContent","unescapeHTML","html","String","rfill","dig","a","fill","val","clearString","array","readString","end","addScopeForLocal","local","props","el","stringify","input","b","filters","body","trim","dir","isReplace","rlineSp","$","tokens","exportPools","readExpress","open","counter","parseMap","flexble","docWidth","doc","docEl","documentElement","resizeEvt","recalc","refreshRem","clientWidth","getBoundingClientRect","width","style","fontSize","Math","max","min","appVersion","devicePixelRatio","userAgent","classList","add","parseInt","Axios","axios","baseURL","timeout","responseType","crossDomain","headers","Code","withCredentials","getToken","path","params","rootPath","getWebPath","opts","paramsSerializer","arrayFormat","mix","post","configContentType","all","then","spread","res","list","item","upload","file","forms","FormData","append","importFiles","files","states","loadFiles","promise","Promise","resolve","recursionLoad","f","loadFile","catch","kill","finally","getFileType","toLowerCase","fileObj","reject","$$allLoadFiles","$$allLoadFilesArray","state","promiseList","href","rel","__views__","onload","onreadystatechange","onerror","elem","interceptors","response","use","request","responseText","done","responseHanlder","utils","isDef","success","message","errorHandler","always","mark","remove","filter","hasConsole","getProto","getPrototypeOf","$types","class2type","fnToString","ObjectFunctionString","_console","console","_setInterval","setInterval","_clearInterval","clearInterval","time","timerId","warn","consoleOn","forEach","uuidCharts","$files","absolutePath","contentType","originalFileName","size","uploadDate","noop","uuid","len","radix","chars","random","UUID","isNative","Ctor","kebabCase","joinChar","hyphenateRE","camelCase","camelizeRE","isNumber","isNaN","pxToRem","parseFloat","escapeFilter","isEmptyObject","isPlainObject","proto","constructor","log","timeEnd","copy","copyIsArray","clone","deep","getCss","curEle","attr","getComputedStyle","currentStyle","getUploadFileInfo","getParse","getCookie","cookie_name","allcookies","cookie","cookie_pos","cookie_end","unescape","toPromise","next","numberAmountConversion","amount","integerNum","decimalNum","parts","cnNums","cnIntRadice","cnIntUnits","cnDecUnits","cnInteger","cnIntLast","maxNum","chineseStr","zeroCount","IntLen","q","decLen","Number","Base64","_keyStr","encode","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","fromCharCode","_utf8_decode","string","utftext","c2","c3","b64","Cookies","pascalCaseRE","__ctrls__","__designOptions__","__options__","hasSymbol","Reflect","ownKeys","componentNameRE","component","ctrlCaption","dsfCode","default","ctrlType","mixins","$getMinixsAndExtends","ctrlAttrs","$minixAttributes","design","$mergeData","createComponent","attributes","attrs","designId","getComponentOptions","getComponentDesignOptions","fillComponentDefaultProps","slots","slot","controls","ctrlProps","recursionComponentProps","resizeDetector","$resizeComponent","event","pageComponent","page","querySelectorAll","__vue__","$resize","resize","$$getComponent","$children","children","isRoot","nodes","instance","extend","extends","from","$getAttributes","mixinsAttributes","attrVal","defaultVal","propDefault","to","toVal","fromVal","keys","mixinsProps","ctrlName","metadata","currentControl","resizeComponent","http","base64","md5","date","beautify","requireJS","designer","client","layer","math","validate","storage","idCode","transition","lodash","jquery","mmtype","at","defaultValue","valueAttributes","getDataType","emptyValidate","unit","dataSource","attach","level","textMetaData","bigTextMetaData","longTextMetaData","itemsMetaData","subListMetaData","fileMetaData","photoMetaData","systemMetaData","treeInfoMetaData","navTreeMetaData","dateIntervalMetaData","datePickerMetaData","timePickerMetaData","examMetaData","examItemsMetaData","examSubjectiveMetaData","customerImgMetaData","flowInfoMetaData","metadataMap","dataType","num","find","ckey","control","provide","$page","isLoaded","Boolean","serial","B","M","clientVersion","title","headfootwidth","fit","topBottom","leftRight","viewSplit","pageWidth","hasHeader","hasFooter","pagePrivilege","pageType","xssConfig","allow","customCss","footFixed","needLogin","$serialNum","postFields","computed","nameSpace","$isLoaded","isDesign","destroyed","mounted","created","$on","methods","getSerial","$data","$emit","formSave","isMask","dbSourceInterface","$http","getBatchDict","dicts","pageBuild","pageSaveTemplate","getDesignerButtons","getComponents","rmIds","getBusinessComponets","getMetaDataFieldsTree","hasValueAttributes","tree","vas","fieldCaption","field","sort","v1","v2","order","metadatas","namespace","ID","getDbSourceFieldsTree","getOuaRulesTree","getCurrentUserRoles","login","loginOut","directives","install","Vue","directive","proxyFunction","PC","Mobile","fnName","pc","mobile","openWindow","openDialog","loading","closeLoading","alert","confirm","prompt","getViewMixin","layout","renderFn","render","inject","$frame","$$viewInitData","$$viewData","$$enum","$$controls","isPreView","frames","_isLoaded","metadataDict","flows","choiceParams","$refs","$viewData","$enum","$dataKey","$controls","_data","$keepAlive","caption","content","$nextTick","preViewRef","__preView","beforeDestroy","$clone","$proxyFn","$getDefaultValue","$dataFormat","updateControlPropsInTemplate","$set","scope","_self","$updateControlPropsInTemplate","base","$$form","loaded","templateStr","domTree","loadLayout","$destroy","layoutData","$options","components","demo","namespaced","mutations","actions","getters","flow","height","top","left","right","scale","svgRoot","scrollLeft","scrollTop","lanes","vertical","horizontal","LaneDirection","allPoints","selectedList","setPage","assign","setSvgRoot","addLane","direction","lane","commit","deleteLane","checked","changeLane","reloadLanes","before","setPointsByNode","points","nodeWidth","nodeHeight","hide","show","xAll","xPadding","yAll","yPadding","point","x","y","img","addPoint","deletePoint","clearPoints","setSelectedList","addSelected","deleteSelected","lanesWidth","lanesHeight","getMousePointByCanvas","store","mouseEvent","svgRootOffset","getSvgOffset","abs","getMousePointByPoint","getPoints","seatDesign","compelPanelSize","panelSize","newSeatItem","pageX","pageY","activeId","regionPosition","seatInfo","newGroupItem","activeGroup","styObj","seat","region","info","group","Vuex","Store","_platformStoreModules","noopHooks","createWatcher","$watch","promiseFn","_array","self","initEnum","initControls","vd","initData","ctrl","isFormControl","$forceReadOnly","readOnly","metadata_fullcode","isOneToMany","inheritAttrs","$dialog","$isMobile","$choiceParams","pageName","isLayoutView","$formWatchs","$choice","$isDestroyed","$isReady","$$keepAlive","beforeCreate","$dialogArgs","$openerVm","opener","dialogArgs","openerVms","openerVm","isview","updated","activated","deactivated","isMobile","$init","$frames","$delete","eachRight","uw","viewData","$initData","_this","$loadData","dataLoaded","ready","formWatch","immediate","unwatch","reset","reloadData","yes","getReturnValue","getScopeMetaDataDict","fullCode","inSubTable","watch","nv","ov","webpackContext","webpackContextResolve","sessionStorage","localStorage","createStorage","set","setItem","__dsfStorageValue","getItem","removeItem","clear","emptyBlockReg","HTMLElement","update","classes","className","toggle","contains","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","HTMLCanvasElement","toBlob","quality","canvas","binStr","atob","toDataURL","Uint8Array","Blob","ua","checkBrowser","isIE","isEdge","isFF","isSafari","isChrome","reIE","fIEVersion","isMac","iOS","u","userAgentInfo","Agents","flag","QQ","WeiXin","isAndroid","formatType","dates","days","daysShort","daysMin","months","monthsShort","format","weekStart","meridiem","DPGlobal","modes","clsName","navFnc","navStep","isLeapYear","year","parseFormat","separators","validParts","nonpunctuation","UTCDate","UTC","minutesToSeconds","startDate","endDate","totalSeconds","getDateRange","dateSpan","language","dateUTC","valueOf","getTimezoneOffset","setMilliseconds","filtered","parsed","setters_order","setters_map","hh","setHours","h","HH","H","ii","setMinutes","ss","setSeconds","yyyy","setFullYear","yy","setUTCMonth","setDate","getHours","cnt","inArray","MM","D","getDay","DD","getMinutes","getSeconds","P","dd","mm","seps","getWeekDay","weekday","getCalendar","month","currentMonth_firstDay","currentMonth_lastDay","weekFirst","weekLast","offset_before","offset_after","totalDays","rows","rowsLength","offset","addDate","getMonthWeek","day","monthFirstDayDate","monthFirstDayOfWeek","ceil","getMonthWeekDate","monthWeek","week","getBeforDate","dayDiff","getAfterDate","diffDays","date1","date2","iDays","toDay","formatRangeDateTime","sd","ed","secondsToTime","hours","minutes","seconds","floor","modulo","timeDown","getUTCDate","timeAgo","accurate","diff","today1","today2","today3","thisYear","getAge","referDate","Cache","maxLength","limit","tail","_keymap","entry","newer","older","oneThingFormSelectMetaData","_vm","_h","$createElement","_c","_m","staticRenderFns","staticStyle","VALUE_CHANGE","VALUE_UPDATE_SYNC","model","label","showLabel","allowPost","required","dataCapion","dataAudioUrl","dataVideoUrl","readOnlyShowText","simple","metaDataLevel","formatter","validateRule","isValidate","colSpan","labelWidth","immediatelyAudit","errorsCopy","errors","$getClass","errorsMsg","$labelWidth","formItemLabelWidth","$form","addFiled","$dynamicForm","removeFiled","showHelper","$openDialog","getLableWidth","getLabelWidthStyle","getFormItemBlockMarginLeft","getShowContent","$emitValueChange","listeners","$listeners","emitFormValidate","emitValueChange","$dispatch","infoButton","exclude","root","toChinesNum","changeNum","getWan","temp","strArr","reverse","newNum","overWan","noWan","numToEnglishLetter","number","char","numToStringAction","nnum","r2a","PI","a2r","getRadina","p1","p2","angle","atan","getRotatedPiont","xcenter","ycenter","radian","x2","y2","x1","cos","sin","y1","getDistance","x_len","y_len","sqrt","pow","convertLocalCoordinate","isListContent","designPages","initRouter","router","clientString","VueRouterPush","VueRouterReplace","beforeEach","matched","isMatched","clientPart","rmCode","rmCodeArr","dynamicComponent","addRoutes","meta","pageTitle","keepAlive","isKeepAlive","pageLevel","fullPath","afterEach","__dsfUrlInfo__","hotLoad","routers","injectionWebAPI","defineProperties","$webAPI","$$webapi","injectionDsf","injectionHttp","dbKeyWords","getParentControl","slotEl","closest","container","hasClass","layoutContainer","layoutParent","$layoutTree","$parent","getComponent","comp","maxComponent","$props","$el","createMobileComponent","getComponentByTarget","isAllowDrop","curr","controlToJson","broadcast","sourceComponent","eventName","excludeComponent","child","layoutExclude","getLayoutInfo","arrs","recursionLayoutTree","parent","slotName","parentProps","designOptions","layoutNode","$attrs","excludeProps","span","exc","callbackAfter","isContinue","designMethods","isdeep","isDeep","desid","saveLayoutValidate","nameValidate","validateCaption","rule","getExtPath","pn","isTpl","tplOrViews","folder","clientDirs","extPath","getLayoutPath","htmlPath","createViewMetaData","md","accessRole","isForm","pageState","privilege","browseScope","createComponentMetaData","orderNum","schema","scheam","ref","metadataNode","ns_arr","com","subMetaDataKey","existFromMeta","sourceKey","isFromMetaData","isuser","getMetaDataPrefixById","ensure","currMetaDataKey","code_arr","checkMetadataControlValue","cname","pinyin","asyncDataSource","asyncChooseMetaData","_k","convertTemplateAndControlData","defaultOptions","after","parentNodes","slotScope","scopeDataKey","unique","isRepeat","textProxy","metadataFullCode","modelExpress","attachAttrs","treeProxy","slotIndex","$index","tpl","attrMap","getVuePropsAndEventMap","customAttrs","development","mergeAttrs","attrsArr","propName","modifier","_textProxy","templateMark","repeat","dataKey","scopeName","propExpressArray","rexpVueProp","compileCss","scssStr","sass","Sass","scss","preloadFiles","scssDir","scssFiles","compile","status","cssStr","css","indent_size","indent_char","errorMsg","r_allow","textOrValue","validatorMap","validator","precision","maxlength","minLength","isIDCard1","isIDCard2","tel","$$validate","webRoot","dsfa","preViewServer","defaultTheme","defaultTitle","assetsDir","gotoIcon","$$config","$$webRoot","rawName","expression","staticClass","tag","_e","isHtmlDir","isAssetsDir","htmlDir","globalCache","hash","oRegex","oMatch","decodeURI","getAbsolutePath","XEUtils","parseUrl","queryStringParse","analyzing","protocol","slash","host","port","decodeURIComponent","parse_url","_result","names","_query","_i","_v","hashString","$getComponetRenderType","__desContext__","class","selected","$isReload","__context__","_b","__hasDesign__","designHeightChange","scopedSlots","_u","_l","$event","proxy","mask","stopPropagation","$detail","color","$remove","$setting","_s","_info","typeText","typeValue","DsfLayoutTree","DsfPreView","DsfMobilePreView","DsfComponentInfo","localSessionRouteChain","addCount","routerMap","pageDirection","routeChain","addRouteChain","route","popRouteChain","setPageDirection","initRouteTransition","routeLength","beforePaths","beforePathIndex","findLastIndex","lastBeforeRoute","slideLeft","$$state","isListRepeat","propsProxy","$designer","$templateControl","$list","comments","isBusiness","visible","noPadding","isMergeHttp","tbNoPadding","lrNoPadding","designProxy","designOnlySlot","$hash","_id","isDes","vmQuery","routerQuery","updateSubControls","removeSubControls","viewContext","viewInitData","$dispatchTo","componentName","eventTrigger","dispatch","removeClass","addClass","clearClass","removeAt","$root","_componentTag","postBefore","$getSlot","dragButton","removeButton","accpetContextData","attachAttributes","attachSlot","removeWith","findIndex","setEnumItems","items","designInit","initDragDrop","hasInfo","hasDragDrop","hasRemove","dragdrap","draggable","addClasses","appendTo","distance","revert","cursor","containment","cursorAt","helper","start","stop","createPropsProxy","propsKey","configurable","createComputedProxy","createMethodsProxy","destroyPropsProxy","destroyComputedProxy","destroyMethodsProxy","$layoutParent","componentProps","rootProp","parentProp","$layoutContext","$designContext","$events","$clientId","$scopeData","__nodeSwitch__","isDesignProxy","isQuestionControl","nextEles","nexts","setNextQuestionIndex","questionIndex","$bus","$getRoot","fullscreen","MD5","sMessage","RotateLeft","lValue","iShiftBits","AddUnsigned","lX","lY","lX4","lY4","lX8","lY8","lResult","F","z","G","I","FF","ac","GG","II","ConvertToWordArray","lWordCount","lMessageLength","lNumberOfWords_temp1","lNumberOfWords_temp2","lNumberOfWords","lWordArray","lBytePosition","lByteCount","WordToHex","lByte","lCount","WordToHexValue","WordToHexValue_temp","AA","BB","CC","S11","S12","S13","S14","S21","S22","S23","S24","S31","S32","S33","S34","S41","S42","S43","S44","__componetMap","NOT_FOUND_EXTJS","setMap","getMap","isRouter","getRemoteComponent","getComponentName","getComponentTemplate","$$mobile","compileFn","getModuleName","layoutViewMixins","getLayout","layoutAndStyle","getLayoutAndStyleData","tplAndProps","propsFn","r_notfound","viewinfo","splitNameSpace","dom","createDocumentFragment","div","querySelector","layoutCode","cssNode","cssCode","metadataNodeContent","metadataCode","layoutFn","cssFn","metadataFn","fileName","loginSuccessTo","defaultControlGroup","kw","deleted","unitid","createtime","updatetime","updateusername","updateuserid","createusername","createuserid"],"mappings":"2EACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,aAAc,GAGXK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,OAAO,cAAc,eAEtCM,K,skIC3ILyC,UAAWC,QAASC,OAExB,SAASC,KAAKC,OAAQC,YACpB,IAAIC,IACFvC,EACAwC,KACAC,YACAC,SACAC,IACAC,kBACAC,sBACAC,WACAC,QACAC,QAAU,QACVC,cAAgB,wCAChBC,iBAAmB,iDACnBC,eAAiB,QACjBC,cAAgB,QAChBC,GAAKxE,OAAOC,UACZwE,QAAUD,GAAGE,SACbC,OAASH,GAAGtE,eACZ0E,YAAiC,qBAAX3B,QAA+C,qBAAd4B,YAA6B5B,OAAO6B,UAC3FC,aAAeH,WAAsC,qBAAlBI,cAKnCC,YAAcL,WAAoC,kBAAvBC,UAAUK,SAA+B,aAAe,sBACnFC,eAAiB,IAEjBC,QAA2B,qBAAVC,OAA8C,mBAArBA,MAAMX,WAChDY,SAAW,GACXC,IAAM,GACNC,eAAiB,GACjBC,gBAAiB,EAGnB,SAASC,eAAeC,EAAOC,GAC7B,OAAOA,GAAgB,GAGzB,SAASC,WAAWC,GAClB,MAA4B,sBAArBrB,QAAQtE,KAAK2F,GAGtB,SAASC,QAAQD,GACf,MAA4B,mBAArBrB,QAAQtE,KAAK2F,GAOtB,SAASE,KAAKC,EAAKC,GAEf,IAAIrG,EADN,GAAIoG,EAEF,IAAKpG,EAAI,EAAGA,EAAIoG,EAAIlG,OAAQF,GAAK,EAC/B,GAAIoG,EAAIpG,IAAMqG,EAAKD,EAAIpG,GAAIA,EAAGoG,GAC5B,MAUR,SAASE,YAAYF,EAAKC,GAEtB,IAAIrG,EADN,GAAIoG,EAEF,IAAKpG,EAAIoG,EAAIlG,OAAS,EAAGF,GAAK,EAAGA,GAAK,EACpC,GAAIoG,EAAIpG,IAAMqG,EAAKD,EAAIpG,GAAIA,EAAGoG,GAC5B,MAMR,SAASG,QAAQC,EAAKC,GACpB,OAAO3B,OAAOxE,KAAKkG,EAAKC,GAG1B,SAASC,OAAOF,EAAKC,GACnB,OAAOF,QAAQC,EAAKC,IAASD,EAAIC,GAQnC,SAASE,SAASH,EAAKH,GACrB,IAAII,EACJ,IAAKA,KAAQD,EACX,GAAID,QAAQC,EAAKC,IACXJ,EAAKG,EAAIC,GAAOA,GAClB,MAUR,SAASG,MAAMC,EAAQC,EAAQC,EAAOC,GAepC,OAdIF,GACFH,SAASG,GAAQ,SAASvE,EAAOkE,IAC3BM,GAAUR,QAAQM,EAAQJ,MACxBO,GAAoC,WAAjB,wHAAOzE,KAAsBA,GAAU2D,QAAQ3D,IAAWyD,WAAWzD,IAAYA,aAAiB0E,OAMvHJ,EAAOJ,GAAQlE,GALVsE,EAAOJ,KACVI,EAAOJ,GAAQ,IAEjBG,MAAMC,EAAOJ,GAAOlE,EAAOwE,EAAOC,QAOnCH,EAKT,SAAS/D,KAAK0D,EAAKU,GACjB,OAAO,WACL,OAAOA,EAAGrG,MAAM2F,EAAKW,YAIzB,SAASC,UACP,OAAOnC,SAASoC,qBAAqB,UAGvC,SAASC,eAAeC,GACtB,MAAMA,EAKR,SAASC,UAAUjF,GACjB,IAAKA,EACH,OAAOA,EAET,IAAIkF,EAAI9D,OAIR,OAHAwC,KAAK5D,EAAMmF,MAAM,MAAM,SAASC,GAC9BF,EAAIA,EAAEE,MAEDF,EAWT,SAASG,UAAUC,EAAIC,EAAKP,EAAKQ,GAC/B,IAAIC,EAAI,IAAIC,MAAMH,EAAM,4CAA8CD,GAMtE,OALAG,EAAEE,YAAcL,EAChBG,EAAED,eAAiBA,EACfR,IACFS,EAAEG,cAAgBZ,GAEbS,EAGT,GAAsB,qBAAXvE,OAAX,CAMA,GAAyB,qBAAdF,UAA2B,CACpC,GAAIyC,WAAWzC,WAEb,OAEFmC,IAAMnC,UACNA,eAAY6E,EAIS,qBAAZ5E,SAA4BwC,WAAWxC,WAEhDkC,IAAMlC,QACNA,aAAU4E,GAgkDZvE,IAAMN,UAAY,SAAS8E,EAAMC,EAAUC,EAASC,GAElD,IAAIC,EACFC,EACAC,EAAcrD,eA6BhB,OA1BKY,QAAQmC,IAAyB,kBAATA,IAE3BK,EAASL,EACLnC,QAAQoC,IAEVD,EAAOC,EACPA,EAAWC,EACXA,EAAUC,GAEVH,EAAO,IAIPK,GAAUA,EAAOD,UACnBE,EAAcD,EAAOD,SAGvBA,EAAU/B,OAAOjB,SAAUkD,GACtBF,IACHA,EAAUhD,SAASkD,GAAe9E,IAAIvC,EAAEsH,WAAWD,IAGjDD,GACFD,EAAQI,UAAUH,GAGbD,EAAQjF,QAAQ6E,EAAMC,EAAUC,IAOzC1E,IAAI6E,OAAS,SAASA,GACpB,OAAO7E,IAAI6E,IASb7E,IAAIiF,SACoB,qBAAflF,WACL,SAASsD,GACPtD,WAAWsD,EAAI,IAEjB,SAASA,GACPA,KAMD1D,UACHA,QAAUK,KAGZA,IAAIS,QAAUA,QAGdT,IAAIkF,YAAc,iBAClBlF,IAAIkB,UAAYA,UAChBzD,EAAIuC,IAAIvC,EAAI,CACVmE,SAAUA,SACVmD,WAAYA,YAId/E,IAAI,IAGJsC,KAAK,CAAC,QAAS,QAAS,UAAW,cAAc,SAASM,GAIxD5C,IAAI4C,GAAQ,WACV,IAAIuC,EAAMvD,SAASH,gBACnB,OAAO0D,EAAIxF,QAAQiD,GAAM5F,MAAMmI,EAAK7B,eAIpCpC,YACFjB,KAAOxC,EAAEwC,KAAOmB,SAASoC,qBAAqB,QAAQ,GAItDtD,YAAckB,SAASoC,qBAAqB,QAAQ,GAChDtD,cACFD,KAAOxC,EAAEwC,KAAOC,YAAYkF,aAShCpF,IAAIqF,QAAU5B,eAKdzD,IAAIsF,WAAa,SAAST,EAAQU,EAAYC,GAC5C,IAAIC,EAAOZ,EAAOa,MAAQtE,SAASuE,gBAAgB,+BAAgC,eAAiBvE,SAASwE,cAAc,UAI3H,OAHAH,EAAKI,KAAOhB,EAAOiB,YAAc,kBACjCL,EAAKM,QAAU,QACfN,EAAKO,OAAQ,EACNP,GAYTzF,IAAIiG,KAAO,SAASrB,EAASW,EAAYC,GACvC,IACEC,EADEZ,EAAUD,GAAWA,EAAQC,QAAW,GAE5C,GAAI3D,UAsEF,OApEAuE,EAAOzF,IAAIsF,WAAWT,EAAQU,EAAYC,GAE1CC,EAAKS,aAAa,sBAAuBtB,EAAQE,aACjDW,EAAKS,aAAa,qBAAsBX,IAWtCE,EAAKU,aAQHV,EAAKU,YAAYnF,UAAYyE,EAAKU,YAAYnF,WAAWoF,QAAQ,gBAAkB,GACpF1E,SAsBD+D,EAAKY,iBAAiB,OAAQzB,EAAQ0B,cAAc,GACpDb,EAAKY,iBAAiB,QAASzB,EAAQ2B,eAAe,KAhBtDxE,gBAAiB,EAEjB0D,EAAKU,YAAY,qBAAsBvB,EAAQ0B,eAgBjDb,EAAKrF,IAAMoF,EAIPX,EAAO2B,eACT3B,EAAO2B,cAAcf,EAAMZ,EAAQU,EAAYC,GAOjDlF,sBAAwBmF,EACpBvF,YACFD,KAAKwG,aAAahB,EAAMvF,aAExBD,KAAKyG,YAAYjB,GAEnBnF,sBAAwB,KAEjBmF,EACF,GAAIpE,YACT,IAWEtB,YAAW,cAAe,GAC1BuB,cAAckE,GAGdZ,EAAQ+B,aAAapB,GACrB,MAAOpB,GACPS,EAAQS,QAAQtB,UAAU,gBAAiB,4BAA8BwB,EAAa,OAASC,EAAKrB,EAAG,CAACoB,OAmB1GrE,YAAcW,IAAI+E,cAEpBnE,YAAYc,WAAW,SAASsD,GAW9B,GARK5G,OACHA,KAAO4G,EAAOzB,YAMhBjF,SAAW0G,EAAOC,aAAa,aAC3B3G,SA6BF,OA3BAI,WAAaJ,SAKR0B,IAAIkF,UAAwC,IAA7BxG,WAAW6F,QAAQ,OAGrChG,IAAMG,WAAWsD,MAAM,KACvBtD,WAAaH,IAAI4G,MACjBxG,QAAUJ,IAAI/D,OAAS+D,IAAI6G,KAAK,KAAO,IAAM,KAE7CpF,IAAIkF,QAAUvG,SAKhBD,WAAaA,WAAW2G,QAAQtG,eAAgB,IAG5CZ,IAAIkF,YAAYiC,KAAK5G,cACvBA,WAAaJ,UAIf0B,IAAI2C,KAAO3C,IAAI2C,KAAO3C,IAAI2C,KAAK4C,OAAO7G,YAAc,CAACA,aAE9C,KAYbX,OAAS,SAAS3B,EAAMuG,EAAMC,GAC5B,IAAIgB,EAAMb,EAGU,kBAAT3G,IAETwG,EAAWD,EACXA,EAAOvG,EACPA,EAAO,MAIJoE,QAAQmC,KACXC,EAAWD,EACXA,EAAO,OAKJA,GAAQrC,WAAWsC,KACtBD,EAAO,GAIHC,EAASpI,SACXoI,EACGzD,WACAkG,QAAQxG,cAAesB,gBACvBkF,QAAQvG,kBAAkB,SAASsB,EAAOoF,GACzC7C,EAAK7H,KAAK0K,MAQd7C,GAA4B,IAApBC,EAASpI,OAAe,CAAC,WAAa,CAAC,UAAW,UAAW,WAAW+K,OAAO5C,KAMvFzC,iBACF0D,EAAOnF,uBAAyBgH,uBAC5B7B,IACGxH,IACHA,EAAOwH,EAAKqB,aAAa,uBAE3BlC,EAAUhD,SAAS6D,EAAKqB,aAAa,0BAUrClC,GACFA,EAAQ2C,SAAS5K,KAAK,CAACsB,EAAMuG,EAAMC,IACnCG,EAAQ4C,YAAYvJ,IAAQ,GAE5B6D,eAAenF,KAAK,CAACsB,EAAMuG,EAAMC,KAIrC7E,OAAO6H,IAAM,CACXC,QAAQ,GASV1H,IAAI2H,KAAO,SAASC,MAElB,OAAOC,KAAKD,OAId5H,IAAI6B,KAr7DJ,SAASkD,WAAWD,GAClB,IAAIgD,EACFC,EACAnD,EACAoD,EACAC,EACApD,EAAS,CAIPqD,YAAa,EACbnB,QAAS,KACToB,MAAO,GACPC,QAAS,GACTC,KAAM,GACNC,KAAM,GACNzD,OAAQ,IAEV0D,EAAW,GAIXC,EAAkB,GAClBC,EAAc,GACdlB,EAAW,GACXmB,EAAU,GACVC,EAAa,GACbC,EAAa,GACbC,EAAiB,EACjBC,EAAsB,EAWxB,SAASC,EAASxG,GAChB,IAAIpG,EAAG2H,EACP,IAAK3H,EAAI,EAAGA,EAAIoG,EAAIlG,OAAQF,IAE1B,GADA2H,EAAOvB,EAAIpG,GACE,MAAT2H,EACFvB,EAAIhF,OAAOpB,EAAG,GACdA,GAAK,OACA,GAAa,OAAT2H,EAAe,CAMxB,GAAU,IAAN3H,GAAkB,IAANA,GAAsB,OAAXoG,EAAI,IAA+B,OAAfA,EAAIpG,EAAI,GACrD,SACSA,EAAI,IACboG,EAAIhF,OAAOpB,EAAI,EAAG,GAClBA,GAAK,IAgBb,SAAS6M,EAAU/K,EAAMgL,EAAUC,GACjC,IAAIC,EACFC,EACAC,EACAlN,EACAkB,EACAiM,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAYZ,GAAYA,EAASpF,MAAM,KACvCiG,EAAMjF,EAAOiF,IACbC,EAAUD,GAAOA,EAAI,KA+BvB,GA5BI7L,IACFA,EAAOA,EAAK4F,MAAM,KAClB0F,EAAYtL,EAAK5B,OAAS,EAMtBwI,EAAOmF,cAAgBpJ,eAAeuG,KAAKlJ,EAAKsL,MAClDtL,EAAKsL,GAAatL,EAAKsL,GAAWrC,QAAQtG,eAAgB,KAIlC,MAAtB3C,EAAK,GAAGgM,OAAO,IAAcJ,IAM/BD,EAAsBC,EAAUpK,MAAM,EAAGoK,EAAUxN,OAAS,GAC5D4B,EAAO2L,EAAoBxC,OAAOnJ,IAGpC8K,EAAS9K,GACTA,EAAOA,EAAKgJ,KAAK,MAIfiC,GAAYY,IAAQD,GAAaE,GAAU,CAC7CV,EAAYpL,EAAK4F,MAAM,KAEvBqG,EAAW,IAAK/N,EAAIkN,EAAUhN,OAAQF,EAAI,EAAGA,GAAK,EAAG,CAGnD,GAFAmN,EAAcD,EAAU5J,MAAM,EAAGtD,GAAG8K,KAAK,KAErC4C,EAGF,IAAKxM,EAAIwM,EAAUxN,OAAQgB,EAAI,EAAGA,GAAK,EAKrC,GAJA+L,EAAWvG,OAAOiH,EAAKD,EAAUpK,MAAM,EAAGpC,GAAG4J,KAAK,MAI9CmC,IACFA,EAAWvG,OAAOuG,EAAUE,GACxBF,GAAU,CAEZI,EAAWJ,EACXK,EAAStN,EACT,MAAM+N,GASTR,GAAgBK,GAAWlH,OAAOkH,EAAST,KAC9CI,EAAe7G,OAAOkH,EAAST,GAC/BK,EAAQxN,IAIPqN,GAAYE,IACfF,EAAWE,EACXD,EAASE,GAGPH,IACFH,EAAU9L,OAAO,EAAGkM,EAAQD,GAC5BvL,EAAOoL,EAAUpC,KAAK,MAQ1B,OAFAkC,EAAUtG,OAAOgC,EAAOwD,KAAMpK,GAEvBkL,GAAoBlL,EAG7B,SAASkM,EAAalM,GAChBiD,WACFoB,KAAKiB,WAAW,SAAS6G,GACvB,GAAIA,EAAWtD,aAAa,wBAA0B7I,GAAQmM,EAAWtD,aAAa,yBAA2BlC,EAAQE,YAEvH,OADAsF,EAAWhF,WAAWiF,YAAYD,IAC3B,KAMf,SAASE,EAAgBtG,GACvB,IAAIuG,EAAa1H,OAAOgC,EAAOsD,MAAOnE,GACtC,GAAIuG,GAAclI,QAAQkI,IAAeA,EAAWlO,OAAS,EAY3D,OATAkO,EAAWzN,QACX8H,EAAQjF,QAAQ6K,MAAMxG,GAItBY,EAAQ6F,YAAY,KAAM,CACxBC,SAAS,GADX9F,CAEG,CAACZ,KAEG,EAOX,SAAS2G,EAAY1M,GACnB,IAAI2M,EACFC,EAAQ5M,EAAOA,EAAKmI,QAAQ,MAAQ,EAKtC,OAJIyE,GAAS,IACXD,EAAS3M,EAAK6M,UAAU,EAAGD,GAC3B5M,EAAOA,EAAK6M,UAAUD,EAAQ,EAAG5M,EAAK5B,SAEjC,CAACuO,EAAQ3M,GAkBlB,SAAS8M,EAAc9M,EAAM+M,EAAiBC,EAAc/B,GAC1D,IAAI1D,EACF0F,EACAC,EACA9B,EACAuB,EAAS,KACTQ,EAAaJ,EAAkBA,EAAgB/M,KAAO,KACtDoN,EAAepN,EACfqN,GAAW,EACXC,EAAiB,GA2DnB,OAvDKtN,IACHqN,GAAW,EACXrN,EAAO,OAAS4K,GAAkB,IAGpCQ,EAAYsB,EAAY1M,GACxB2M,EAASvB,EAAU,GACnBpL,EAAOoL,EAAU,GAEbuB,IACFA,EAAS5B,EAAU4B,EAAQQ,EAAYlC,GACvCgC,EAAerI,OAAO6F,EAASkC,IAI7B3M,IACE2M,EAEAW,EADEN,EACehN,EACRiN,GAAgBA,EAAalC,UAErBkC,EAAalC,UAAU/K,GAAM,SAASA,GACrD,OAAO+K,EAAU/K,EAAMmN,EAAYlC,OAUG,IAAvBjL,EAAKmI,QAAQ,KAAc4C,EAAU/K,EAAMmN,EAAYlC,GAAYjL,GAItFsN,EAAiBvC,EAAU/K,EAAMmN,EAAYlC,GAK7CG,EAAYsB,EAAYY,GACxBX,EAASvB,EAAU,GACnBkC,EAAiBlC,EAAU,GAC3B4B,GAAe,EAEfzF,EAAMZ,EAAQ4G,UAAUD,KAO5BJ,GAASP,GAAWM,GAAiBD,EAA8D,GAA/C,iBAAmBnC,GAAuB,GAEvF,CACL8B,OAAQA,EACR3M,KAAMsN,EACNE,UAAWT,EACXU,eAAgBP,EAChB3F,IAAKA,EACL6F,aAAcA,EACdC,SAAUA,EACVtH,IAAK4G,EAASA,EAAS,IAAMW,EAAiBA,GAAkBJ,GAIpE,SAASQ,EAAUC,GACjB,IAAI5H,EAAK4H,EAAO5H,GACd6H,EAAMhJ,OAAO0F,EAAUvE,GAMzB,OAJK6H,IACHA,EAAMtD,EAASvE,GAAM,IAAIY,EAAQmD,OAAO6D,IAGnCC,EAGT,SAASC,EAAGF,EAAQ3N,EAAMoF,GACxB,IAAIW,EAAK4H,EAAO5H,GACd6H,EAAMhJ,OAAO0F,EAAUvE,IAErBtB,QAAQgG,EAAS1E,IAAS6H,IAAOA,EAAIE,oBAKvCF,EAAMF,EAAUC,GACZC,EAAIG,OAAkB,UAAT/N,EACfoF,EAAGwI,EAAIG,OAEPH,EAAIC,GAAG7N,EAAMoF,IARF,YAATpF,GACFoF,EAAGqF,EAAQ1E,IAYjB,SAASqB,EAAQ3B,EAAKgB,GACpB,IAAIuH,EAAMvI,EAAIQ,eACZgI,GAAW,EAETxH,EACFA,EAAQhB,IAERpB,KAAK2J,GAAK,SAASjI,GACjB,IAAI6H,EAAMhJ,OAAO0F,EAAUvE,GACvB6H,IAEFA,EAAIG,MAAQtI,EACRmI,EAAIM,OAAOH,QACbE,GAAW,EACXL,EAAIO,KAAK,QAAS1I,QAKnBwI,GACHlM,IAAIqF,QAAQ3B,IASlB,SAAS2I,IAEHvK,eAAezF,SACjBiG,KAAKR,gBAAgB,SAASwK,GAC5B,IAAItI,EAAKsI,EAAU,GACD,kBAAPtI,IACTY,EAAQ4C,YAAYxD,IAAM,GAE5BuD,EAAS5K,KAAK2P,MAEhBxK,eAAiB,IAsCrB,SAASyK,EAAcvI,UAEduE,EAASvE,UACTwE,EAAgBxE,GAGzB,SAASwI,EAAWX,EAAKY,EAAQC,GAC/B,IAAI1I,EAAK6H,EAAI/B,IAAI9F,GAEb6H,EAAIG,MACNH,EAAIO,KAAK,QAASP,EAAIG,QAEtBS,EAAOzI,IAAM,EACb1B,KAAKuJ,EAAIc,SAAS,SAASf,EAAQzP,GACjC,IAAImB,EAAQsO,EAAO5H,GACjBqD,EAAMxE,OAAO0F,EAAUjL,IAMrB+J,GAAQwE,EAAIe,WAAWzQ,IAAOuQ,EAAUpP,KACtCuF,OAAO4J,EAAQnP,IACjBuO,EAAIgB,UAAU1Q,EAAGuM,EAAQpL,IACzBuO,EAAIiB,SAEJN,EAAWnF,EAAKoF,EAAQC,OAI9BA,EAAU1I,IAAM,GAIpB,SAAS+I,IACP,IAAIrJ,EACFsJ,EACAC,EAAoC,IAArBpI,EAAOqD,YAEtBgF,EAAUD,GAAgBrI,EAAQuI,UAAYF,GAAe,IAAIG,MAAOC,UACxEC,EAAU,GACVC,EAAW,GACXC,GAAe,EACfC,GAAiB,EAGnB,IAAI3F,EAAJ,CA6CA,GAzCAA,GAAgB,EAGhBhF,SAAS0F,GAAiB,SAASqD,GACjC,IAAI/B,EAAM+B,EAAI/B,IACZ4D,EAAQ5D,EAAI9F,GAGd,GAAK6H,EAAI8B,UAIJ7D,EAAIwB,UACPiC,EAAS5Q,KAAKkP,IAGXA,EAAIG,OAGP,IAAKH,EAAI+B,QAAUV,EACb5C,EAAgBoD,IAClBV,GAAoB,EACpBQ,GAAe,IAEfF,EAAQ3Q,KAAK+Q,GACbvD,EAAauD,SAEV,IAAK7B,EAAI+B,QAAU/B,EAAIgC,SAAW/D,EAAIwB,WAC3CkC,GAAe,GACV1D,EAAIc,QAMP,OAAQ6C,GAAiB,KAM7BP,GAAWI,EAAQjR,OAIrB,OAFAqH,EAAMK,UAAU,UAAW,6BAA+BuJ,EAAS,KAAMA,GACzE5J,EAAIoB,YAAcF,EAAQE,YACnBO,EAAQ3B,GAIb+J,GACFnL,KAAKiL,GAAU,SAAS1B,GACtBW,EAAWX,EAAK,GAAI,OAOlBqB,IAAWF,IAAsBQ,IAGhCtM,YAAaG,aAAiB4G,IACjCA,EAAuBlI,YAAW,WAChCkI,EAAuB,EACvB8E,MACC,KAIPjF,GAAgB,GA2flB,SAASgG,EAAcC,GAEhBrL,QAAQgG,EAASqF,EAAK,KACzBpC,EAAUZ,EAAcgD,EAAK,GAAI,MAAM,IAAOlO,KAAKkO,EAAK,GAAIA,EAAK,IAIrE,SAASC,EAAevI,EAAMjD,EAAMvE,EAAMgQ,GAIpCxI,EAAKyI,cAAgBxM,QAGnBuM,GACFxI,EAAKyI,YAAYD,EAAQzL,GAG3BiD,EAAK0I,oBAAoBlQ,EAAMuE,GAAM,GAUzC,SAAS4L,EAAcC,GAIrB,IAAI5I,EAAO4I,EAAIC,eAAiBD,EAAIE,WAMpC,OAHAP,EAAevI,EAAMb,EAAQ0B,aAAc,OAAQ,sBACnD0H,EAAevI,EAAMb,EAAQ2B,cAAe,SAErC,CACLd,KAAMA,EACNzB,GAAIyB,GAAQA,EAAKqB,aAAa,uBAIlC,SAAS0H,IACP,IAAIT,EAGJ1B,IAGA,MAAO9E,EAASlL,OAAQ,CAEtB,GADA0R,EAAOxG,EAASzK,QACA,OAAZiR,EAAK,GACP,OAAO1I,EAAQtB,UAAU,WAAY,yCAA2CgK,EAAKA,EAAK1R,OAAS,KAInGyR,EAAcC,GAGlBnJ,EAAQ4C,YAAc,GA8dxB,OA/qCAQ,EAAW,CACTrI,QAAS,SAASkM,GAChB,OAAIA,EAAIlM,QACCkM,EAAIlM,QAEHkM,EAAIlM,QAAUiF,EAAQ6F,YAAYoB,EAAI/B,MAGlDnM,QAAS,SAASkO,GAEhB,GADAA,EAAI4C,cAAe,EACf5C,EAAI/B,IAAIwB,SACV,OAAIO,EAAIlO,QACE+K,EAAQmD,EAAI/B,IAAI9F,IAAM6H,EAAIlO,QAE1BkO,EAAIlO,QAAU+K,EAAQmD,EAAI/B,IAAI9F,IAAM,IAIlDpG,OAAQ,SAASiO,GACf,OAAIA,EAAIjO,OACCiO,EAAIjO,OAEHiO,EAAIjO,OAAS,CACnBoG,GAAI6H,EAAI/B,IAAI9F,GACZ0K,IAAK7C,EAAI/B,IAAItE,IACbX,OAAQ,WACN,OAAOhC,OAAOgC,EAAOA,OAAQgH,EAAI/B,IAAI9F,KAAO,IAE9CrG,QAASkO,EAAIlO,UAAYkO,EAAIlO,QAAU,OAgI/CoK,EAAS,SAAS+B,GAChB6E,KAAKxC,OAAStJ,OAAO4F,EAAaqB,EAAI9F,KAAO,GAC7C2K,KAAK7E,IAAMA,EACX6E,KAAKrG,KAAOzF,OAAOgC,EAAOyD,KAAMwB,EAAI9F,IACpC2K,KAAKC,WAAa,GAClBD,KAAKhC,QAAU,GACfgC,KAAK/B,WAAa,GAClB+B,KAAKE,WAAa,GAClBF,KAAKG,SAAW,GAQlB/G,EAAOxL,UAAY,CACjBsD,KAAM,SAAS8M,EAASoC,EAASrK,EAASsK,GACxCA,EAAUA,GAAW,GAKjBL,KAAKf,SAITe,KAAKI,QAAUA,EAEXrK,EAEFiK,KAAK7C,GAAG,QAASpH,GACRiK,KAAKxC,OAAOH,QAGrBtH,EAAUzF,KAAK0P,MAAM,SAASjL,GAC5BiL,KAAKvC,KAAK,QAAS1I,OASvBiL,KAAKhC,QAAUA,GAAWA,EAAQlN,MAAM,GAExCkP,KAAKjK,QAAUA,EAGfiK,KAAKf,QAAS,EAEde,KAAKM,OAASD,EAAQC,OAMlBD,EAAQrB,SAAWgB,KAAKhB,QAG1BgB,KAAKO,SAELP,KAAK7B,UAITD,UAAW,SAAS1Q,EAAGyS,GAGhBD,KAAK/B,WAAWzQ,KACnBwS,KAAK/B,WAAWzQ,IAAK,EACrBwS,KAAKG,UAAY,EACjBH,KAAKC,WAAWzS,GAAKyS,IAIzBO,MAAO,WACL,IAAIR,KAAKd,QAAT,CAGAc,KAAKd,SAAU,EAEfjJ,EAAQuI,WAAY,IAAIC,MAAOC,UAE/B,IAAIvD,EAAM6E,KAAK7E,IAIf,IAAI6E,KAAKrG,KAWP,OAAOwB,EAAIc,OAAS+D,KAAKS,aAAeT,KAAK1I,OAV7CrB,EAAQ6F,YAAYkE,KAAK7E,IAAK,CAC5BuF,qBAAqB,GADvBzK,CAGE+J,KAAKrG,KAAK9D,MAAQ,GAClBvF,KAAK0P,MAAM,WACT,OAAO7E,EAAIc,OAAS+D,KAAKS,aAAeT,KAAK1I,aASrDA,KAAM,WACJ,IAAIT,EAAMmJ,KAAK7E,IAAItE,IAGdmD,EAAWnD,KACdmD,EAAWnD,IAAO,EAClBZ,EAAQqB,KAAK0I,KAAK7E,IAAI9F,GAAIwB,KAQ9BsH,MAAO,WACL,GAAK6B,KAAKhB,UAAWgB,KAAKW,SAA1B,CAIA,IAAI5L,EACF6L,EACAvL,EAAK2K,KAAK7E,IAAI9F,GACd4K,EAAaD,KAAKC,WAClBjR,EAAUgR,KAAKhR,QACfoR,EAAUJ,KAAKI,QAEjB,GAAKJ,KAAKf,QAKH,GAAIe,KAAK3C,MACd2C,KAAKvC,KAAK,QAASuC,KAAK3C,YACnB,IAAK2C,KAAKa,SAAU,CAOzB,GAFAb,KAAKa,UAAW,EAEZb,KAAKG,SAAW,IAAMH,KAAKjG,QAAS,CACtC,GAAIvG,WAAW4M,GAAU,CAOvB,GAAKJ,KAAKxC,OAAOH,OAAS2C,KAAK7E,IAAIwB,UAAatL,IAAIqF,UAAY5B,eAC9D,IACE9F,EAAUiH,EAAQ6K,OAAOzL,EAAI+K,EAASH,EAAYjR,GAClD,MAAOwG,GACPT,EAAMS,OAGRxG,EAAUiH,EAAQ6K,OAAOzL,EAAI+K,EAASH,EAAYjR,GAgBpD,GAVIgR,KAAK7E,IAAIwB,eAAwB/G,IAAZ5G,IACvB4R,EAAYZ,KAAK/Q,OACb2R,EACF5R,EAAU4R,EAAU5R,QACXgR,KAAKF,eAEd9Q,EAAUgR,KAAKhR,UAIf+F,EAIF,OAHAA,EAAIgM,WAAaf,KAAK7E,IACtBpG,EAAIQ,eAAiByK,KAAK7E,IAAIwB,SAAW,CAACqD,KAAK7E,IAAI9F,IAAM,KACzDN,EAAIW,YAAcsK,KAAK7E,IAAIwB,SAAW,SAAW,UAC1CjG,EAASsJ,KAAK3C,MAAQtI,QAI/B/F,EAAUoR,EAKZ,GAFAJ,KAAKhR,QAAUA,EAEXgR,KAAK7E,IAAIwB,WAAaqD,KAAKM,SAC7BvG,EAAQ1E,GAAMrG,EAEVqC,IAAI2P,gBAAgB,CACtB,IAAIC,EAAc,GAClBtN,KAAKqM,KAAKhC,SAAS,SAASf,GAC1BgE,EAAYjT,KAAKiP,EAAOiE,eAAiBjE,MAE3C5L,IAAI2P,eAAe/K,EAAS+J,KAAK7E,IAAK8F,GAK1CrD,EAAcvI,GAEd2K,KAAKjG,SAAU,EAMjBiG,KAAKa,UAAW,EAEZb,KAAKjG,UAAYiG,KAAKmB,gBACxBnB,KAAKmB,eAAgB,EACrBnB,KAAKvC,KAAK,UAAWuC,KAAKhR,SAC1BgR,KAAK5C,oBAAqB,SAlFvBrJ,QAAQkC,EAAQ4C,YAAaxD,IAChC2K,KAAKQ,UAsFXC,WAAY,WACV,IAAItF,EAAM6E,KAAK7E,IACb9F,EAAK8F,EAAI9F,GAET+L,EAAYhF,EAAcjB,EAAIc,QAIhC+D,KAAKhC,QAAQhQ,KAAKoT,GAElBjE,EACEiE,EACA,UACA9Q,KAAK0P,MAAM,SAASqB,GAClB,IAAI/J,EACF4J,EACAI,EACAC,EAAWrN,OAAO+F,EAAY+F,KAAK7E,IAAI9F,IACvC/F,EAAO0Q,KAAK7E,IAAI7L,KAChBmN,EAAauD,KAAK7E,IAAI2B,UAAYkD,KAAK7E,IAAI2B,UAAUxN,KAAO,KAC5DkS,EAAevL,EAAQ6F,YAAYX,EAAI2B,UAAW,CAChD4D,qBAAqB,IAKzB,OAAIV,KAAK7E,IAAI4B,cAEPsE,EAAOhH,YACT/K,EACE+R,EAAOhH,UAAU/K,GAAM,SAASA,GAC9B,OAAO+K,EAAU/K,EAAMmN,GAAY,OAC/B,IAKVyE,EAAgB9E,EAAcjB,EAAIc,OAAS,IAAM3M,EAAM0Q,KAAK7E,IAAI2B,WAAW,GAC3EK,EACE+D,EACA,UACA5Q,KAAK0P,MAAM,SAASjQ,GAClBiQ,KAAK7E,IAAI+F,cAAgBA,EACzBlB,KAAK9O,KACH,IACA,WACE,OAAOnB,IAET,KAAM,CACJiP,SAAS,EACTsB,QAAQ,QAMhBgB,EAAgBpN,OAAO0F,EAAUsH,EAAc7L,SAC3CiM,IAGFtB,KAAKhC,QAAQhQ,KAAKkT,GAEdlB,KAAKxC,OAAOH,OACdiE,EAAcnE,GACZ,QACA7M,KAAK0P,MAAM,SAASjL,GAClBiL,KAAKvC,KAAK,QAAS1I,OAIzBuM,EAAcf,YAQdgB,GACFvB,KAAK7E,IAAItE,IAAMZ,EAAQ4G,UAAU0E,QACjCvB,KAAK1I,SAIPA,EAAOhH,KAAK0P,MAAM,SAASjQ,GACzBiQ,KAAK9O,KACH,IACA,WACE,OAAOnB,IAET,KAAM,CACJiP,SAAS,OAKf1H,EAAK+F,MAAQ/M,KAAK0P,MAAM,SAASjL,GAC/BiL,KAAKf,QAAS,EACde,KAAK3C,MAAQtI,EACbA,EAAIQ,eAAiB,CAACF,GAItBlB,SAASyF,GAAU,SAASsD,GACuB,IAA7CA,EAAI/B,IAAI9F,GAAGoC,QAAQpC,EAAK,kBAC1BuI,EAAcV,EAAI/B,IAAI9F,OAI1BqB,EAAQ3B,MAKVuC,EAAKmK,SAAWnR,KAAK0P,MAAM,SAAS/G,EAAMyI,GAExC,IAAI9K,EAAauE,EAAI7L,KACnBqS,EAAYvF,EAAcxF,GAC1BgL,EAAiBxO,eAMfsO,IACFzI,EAAOyI,GAKLE,IACFxO,gBAAiB,GAKnB4J,EAAU2E,GAGN5N,QAAQmC,EAAOA,OAAQb,KACzBa,EAAOA,OAAOU,GAAcV,EAAOA,OAAOb,IAG5C,IACEhE,IAAI2H,KAAKC,GACT,MAAOzD,GACP,OAAOkB,EAAQtB,UAAU,eAAgB,qBAAuBC,EAAK,YAAcG,EAAGA,EAAG,CAACH,KAGxFuM,IACFxO,gBAAiB,GAKnB4M,KAAKhC,QAAQhQ,KAAK2T,GAGlB1L,EAAQ+B,aAAapB,GAIrB4K,EAAa,CAAC5K,GAAaU,WAM7B+J,EAAO/J,KAAK6D,EAAI7L,KAAMkS,EAAclK,EAAMpB,QAI9CD,EAAQsK,OAAOa,EAAWpB,MAC1BA,KAAKE,WAAWkB,EAAU/L,IAAM+L,GAGlCb,OAAQ,WACN1G,EAAgBmG,KAAK7E,IAAI9F,IAAM2K,KAC/BA,KAAKhB,SAAU,EAMfgB,KAAKW,UAAW,EAGhBhN,KACEqM,KAAKhC,QACL1N,KAAK0P,MAAM,SAAS/C,EAAQzP,GAC1B,IAAI6H,EAAI6H,EAAK2E,EAEb,GAAsB,kBAAX5E,EAAqB,CAQ9B,GALAA,EAASb,EAAca,EAAQ+C,KAAK7E,IAAIwB,SAAWqD,KAAK7E,IAAM6E,KAAK7E,IAAI2B,WAAW,GAAQkD,KAAKjE,SAC/FiE,KAAKhC,QAAQxQ,GAAKyP,EAElB4E,EAAU3N,OAAOmF,EAAU4D,EAAO5H,IAE9BwM,EAEF,YADA7B,KAAKC,WAAWzS,GAAKqU,EAAQ7B,OAI/BA,KAAKG,UAAY,EAEjBhD,EACEF,EACA,UACA3M,KAAK0P,MAAM,SAASC,GACdD,KAAK8B,UAGT9B,KAAK9B,UAAU1Q,EAAGyS,GAClBD,KAAK7B,aAIL6B,KAAKjK,QACPoH,EAAGF,EAAQ,QAAS3M,KAAK0P,KAAMA,KAAKjK,UAC3BiK,KAAKxC,OAAOH,OAIrBF,EACEF,EACA,QACA3M,KAAK0P,MAAM,SAASjL,GAClBiL,KAAKvC,KAAK,QAAS1I,OAM3BM,EAAK4H,EAAO5H,GACZ6H,EAAMtD,EAASvE,GAKVtB,QAAQsF,EAAUhE,KAAO6H,GAAQA,EAAI8B,SACxC/I,EAAQsK,OAAOtD,EAAQ+C,UAO7B7L,SACE6L,KAAKE,WACL5P,KAAK0P,MAAM,SAASoB,GAClB,IAAIlE,EAAMhJ,OAAO0F,EAAUwH,EAAU/L,IACjC6H,IAAQA,EAAI8B,SACd/I,EAAQsK,OAAOa,EAAWpB,UAKhCA,KAAKW,UAAW,EAEhBX,KAAK7B,SAGPhB,GAAI,SAAS7N,EAAMyS,GACjB,IAAIC,EAAMhC,KAAKxC,OAAOlO,GACjB0S,IACHA,EAAMhC,KAAKxC,OAAOlO,GAAQ,IAE5B0S,EAAIhU,KAAK+T,IAGXtE,KAAM,SAASnO,EAAMoQ,GACnB/L,KAAKqM,KAAKxC,OAAOlO,IAAO,SAASyS,GAC/BA,EAAGrC,MAEQ,UAATpQ,UAIK0Q,KAAKxC,OAAOlO,KAqEzB2G,EAAU,CACRC,OAAQA,EACRC,YAAaA,EACbyD,SAAUA,EACVG,QAASA,EACTC,WAAYA,EACZpB,SAAUA,EACVC,YAAa,GACbO,OAAQA,EACRgD,cAAeA,EACf9F,SAAUjF,IAAIiF,SACdI,QAASA,EAMTL,UAAW,SAASnD,GASlB,GAPIA,EAAIkF,SAC6C,MAA/ClF,EAAIkF,QAAQkD,OAAOpI,EAAIkF,QAAQ1K,OAAS,KAC1CwF,EAAIkF,SAAW,KAKQ,kBAAhBlF,EAAI+O,QAAsB,CACnC,IAAIA,EAAU/O,EAAI+O,QAClB/O,EAAI+O,QAAU,SAAS5M,EAAIwB,GACzB,QAA8B,IAAtBA,EAAIY,QAAQ,KAAc,IAAM,KAAOwK,GAMnD,IAAItI,EAAOzD,EAAOyD,KAChBuI,EAAO,CACL1I,OAAO,EACPC,SAAS,EACTvD,QAAQ,EACRiF,KAAK,GAGThH,SAASjB,GAAK,SAASnD,EAAOkE,GACxBiO,EAAKjO,IACFiC,EAAOjC,KACViC,EAAOjC,GAAQ,IAEjBG,MAAM8B,EAAOjC,GAAOlE,GAAO,GAAM,IAEjCmG,EAAOjC,GAAQlE,KAKfmD,EAAIuG,SACNtF,SAASjB,EAAIuG,SAAS,SAAS1J,EAAOkE,GACpCN,KAAK5D,GAAO,SAASoS,GACfA,IAAMlO,IACRgG,EAAWkI,GAAKlO,SAOpBf,EAAIyG,OACNxF,SAASjB,EAAIyG,MAAM,SAAS5J,EAAOsF,GAE7B3B,QAAQ3D,KACVA,EAAQ,CACN8F,KAAM9F,KAGLA,EAAMf,UAAWe,EAAMmB,MAAUnB,EAAMqS,YAC1CrS,EAAMqS,UAAYnM,EAAQoM,gBAAgBtS,IAE5C4J,EAAKtE,GAAMtF,KAEbmG,EAAOyD,KAAOA,GAIZzG,EAAIoP,UACN3O,KAAKT,EAAIoP,UAAU,SAASC,GAC1B,IAAIC,EAAUlT,EAEdiT,EAA2B,kBAAXA,EAAsB,CAAEjT,KAAMiT,GAAWA,EAEzDjT,EAAOiT,EAAOjT,KACdkT,EAAWD,EAAOC,SACdA,IACFtM,EAAOsD,MAAMlK,GAAQiT,EAAOC,UAQ9BtM,EAAOwD,KAAKpK,GAAQiT,EAAOjT,KAAO,KAAOiT,EAAOE,MAAQ,QAAQlK,QAAQrG,cAAe,IAAIqG,QAAQtG,eAAgB,OAOvHkC,SAASyF,GAAU,SAASsD,EAAK7H,GAI1B6H,EAAI+B,QAAW/B,EAAI/B,IAAI4B,eAC1BG,EAAI/B,IAAMiB,EAAc/G,EAAI,MAAM,QAOlCnC,EAAI2C,MAAQ3C,EAAI4C,WAClBG,EAAQjF,QAAQkC,EAAI2C,MAAQ,GAAI3C,EAAI4C,WAIxCuM,gBAAiB,SAAStS,GACxB,SAAS2E,IACP,IAAIgO,EAIJ,OAHI3S,EAAMmB,OACRwR,EAAM3S,EAAMmB,KAAK7C,MAAM8C,OAAQwD,YAE1B+N,GAAQ3S,EAAMf,SAAWgG,UAAUjF,EAAMf,SAElD,OAAO0F,GAGToH,YAAa,SAAS6G,EAAQtC,GAG5B,SAASmB,EAAa3L,EAAMC,EAAUC,GACpC,IAAIV,EAAI8F,EAAKyH,EAMb,OAJIvC,EAAQK,qBAAuB5K,GAAYtC,WAAWsC,KACxDA,EAAS+M,kBAAmB,GAGV,kBAAThN,EACLrC,WAAWsC,GAENY,EAAQtB,UAAU,cAAe,wBAAyBW,GAM/D4M,GAAU5O,QAAQsF,EAAUxD,GACvBwD,EAASxD,GAAM+D,EAAS+I,EAAOtN,KAKpChE,IAAI1B,IACC0B,IAAI1B,IAAIsG,EAASJ,EAAM8M,EAAQnB,IAIxCrG,EAAMiB,EAAcvG,EAAM8M,GAAQ,GAAO,GACzCtN,EAAK8F,EAAI9F,GAEJtB,QAAQgG,EAAS1E,GAGf0E,EAAQ1E,GAFNqB,EAAQtB,UAAU,YAAa,gBAAkBC,EAAK,0CAA4Cc,GAAewM,EAAS,GAAK,yBAM1I9C,IAGA5J,EAAQK,UAAS,WAGfuJ,IAEA+C,EAAa5F,EAAUZ,EAAc,KAAMuG,IAI3CC,EAAW7G,QAAUsE,EAAQtE,QAE7B6G,EAAW1R,KAAK2E,EAAMC,EAAUC,EAAS,CACvCiJ,SAAS,IAGXZ,OAGKoD,GA8ET,OA1IAnB,EAAUA,GAAW,GA+DrBjM,MAAMoN,EAAc,CAClBjP,UAAWA,UAOXuQ,MAAO,SAASC,GACd,IAAIC,EACF9G,EAAQ6G,EAAkBE,YAAY,KACtCC,EAAUH,EAAkB7N,MAAM,KAAK,GACvCiO,EAAyB,MAAZD,GAA+B,OAAZA,EASlC,OALe,IAAXhH,KAAkBiH,GAAcjH,EAAQ,KAC1C8G,EAAMD,EAAkB5G,UAAUD,EAAO6G,EAAkBrV,QAC3DqV,EAAoBA,EAAkB5G,UAAU,EAAGD,IAG9CjG,EAAQ4G,UAAUxC,EAAU0I,EAAmBJ,GAAUA,EAAOtN,IAAI,GAAO2N,GAAK,IAGzFjJ,QAAS,SAAS1E,GAChB,OAAOtB,QAAQgG,EAASqC,EAAc/G,EAAIsN,GAAQ,GAAO,GAAMtN,KAGjE+N,UAAW,SAAS/N,GAElB,OADAA,EAAK+G,EAAc/G,EAAIsN,GAAQ,GAAO,GAAMtN,GACrCtB,QAAQgG,EAAS1E,IAAOtB,QAAQ6F,EAAUvE,MAKhDsN,IACHnB,EAAa3F,MAAQ,SAASxG,GAG5BqI,IAEA,IAAIvC,EAAMiB,EAAc/G,EAAIsN,GAAQ,GAClCzF,EAAMhJ,OAAO0F,EAAUvE,GACzB,IACE6H,EAAI4E,SAAU,EACd,MAAOuB,IACT7H,EAAanG,UAEN0E,EAAQ1E,UACR2E,EAAWmB,EAAItE,YACfiD,EAAYzE,GAKnBvB,YAAY8E,GAAU,SAASwG,EAAM5R,GAC/B4R,EAAK,KAAO/J,GACduD,EAAShK,OAAOpB,EAAG,aAGhByI,EAAQ4C,YAAYxD,GAEvB6H,IAIEA,EAAIM,OAAOzD,UACbD,EAAYzE,GAAM6H,EAAIM,QAGxBI,EAAcvI,MAKbmM,GASTjB,OAAQ,SAAStD,GACf,IAAIC,EAAMhJ,OAAO0F,EAAUqD,EAAO5H,IAC9B6H,GACFF,EAAUC,GAAQsD,UAUtBvI,aAAc,SAASpB,GACrB,IAAI0M,EACFlE,EACAlC,EACAvD,EAAOzF,OAAOgC,EAAOyD,KAAM/C,IAAe,GAC1C2M,EAAY5J,EAAK3K,QAEnB0O,IAEA,MAAO9E,EAASlL,OAAQ,CAEtB,GADA0R,EAAOxG,EAASzK,QACA,OAAZiR,EAAK,GAAa,CAKpB,GAJAA,EAAK,GAAKxI,EAIN0M,EACF,MAEFA,GAAQ,OACClE,EAAK,KAAOxI,IAErB0M,GAAQ,GAGVnE,EAAcC,GAQhB,GANAnJ,EAAQ4C,YAAc,GAItBqE,EAAMhJ,OAAO0F,EAAUhD,IAElB0M,IAAUvP,QAAQgG,EAASnD,IAAesG,IAAQA,EAAI+B,OAAQ,CACjE,MAAI/I,EAAOsN,eAAmBD,GAAcvO,UAAUuO,IACpD,OAAI5H,EAAgB/E,QAClB,EAEOF,EAAQtB,UAAU,WAAY,sBAAwBwB,EAAY,KAAM,CAACA,KAKlFuI,EAAc,CAACvI,EAAY+C,EAAK9D,MAAQ,GAAI8D,EAAKyI,YAIrDhE,KAUFvB,UAAW,SAASjG,EAAYoM,EAAKS,GACnC,IAAIjK,EACFkK,EACAlW,EACAmW,EACA9M,EACA+M,EACArC,EACA/G,EAAUtG,OAAOgC,EAAOwD,KAAM9C,GAQhC,GANI4D,IACF5D,EAAa4D,GAGf+G,EAAWrN,OAAO+F,EAAYrD,GAE1B2K,EACF,OAAOtL,EAAQ4G,UAAU0E,EAAUyB,EAAKS,GAO1C,GAAIpS,IAAIkF,YAAYiC,KAAK5B,GAIvBC,EAAMD,GAAcoM,GAAO,QACtB,CAQL,IANAxJ,EAAQtD,EAAOsD,MAEfkK,EAAO9M,EAAW1B,MAAM,KAInB1H,EAAIkW,EAAKhW,OAAQF,EAAI,EAAGA,GAAK,EAIhC,GAHAmW,EAAeD,EAAK5S,MAAM,EAAGtD,GAAG8K,KAAK,KAErCsL,EAAa1P,OAAOsF,EAAOmK,GACvBC,EAAY,CAGVlQ,QAAQkQ,KACVA,EAAaA,EAAW,IAE1BF,EAAK9U,OAAO,EAAGpB,EAAGoW,GAClB,MAKJ/M,EAAM6M,EAAKpL,KAAK,KAChBzB,GAAOmM,IAAQ,qBAAqBxK,KAAK3B,IAAQ4M,EAAU,GAAK,OAChE5M,GAAyB,MAAlBA,EAAIyE,OAAO,IAAczE,EAAIvD,MAAM,iBAAmB,GAAK4C,EAAOkC,SAAWvB,EAGtF,OAAOX,EAAO+L,UAAY,UAAUzJ,KAAK3B,GAAOA,EAAMX,EAAO+L,QAAQrL,EAAYC,GAAOA,GAK1FS,KAAM,SAASjC,EAAIwB,GACjBxF,IAAIiG,KAAKrB,EAASZ,EAAIwB,IAUxBiK,OAAQ,SAASxR,EAAMwG,EAAUsJ,EAAMpQ,GACrC,OAAO8G,EAASzH,MAAMW,EAASoQ,IASjCzH,aAAc,SAAS+H,GAIrB,GAAiB,SAAbA,EAAIxI,MAAmBtE,YAAY4F,MAAMkH,EAAIC,eAAiBD,EAAIE,YAAYiE,YAAa,CAG7FnS,kBAAoB,KAGpB,IAAIxE,EAAOuS,EAAcC,GACzBzJ,EAAQ+B,aAAa9K,EAAKmI,MAO9BuC,cAAe,SAAS8H,GACtB,IAAIxS,EAAOuS,EAAcC,GACzB,IAAK/D,EAAgBzO,EAAKmI,IAAK,CAC7B,IAAIyO,EAAU,GAWd,OAVA3P,SAASyF,GAAU,SAAS7J,EAAOM,GACN,IAAvBA,EAAIoH,QAAQ,QACd9D,KAAK5D,EAAMiO,SAAS,SAASf,GAC3B,GAAIA,EAAO5H,KAAOnI,EAAKmI,GAErB,OADAyO,EAAQ9V,KAAKqC,IACN,QAKRqG,EAAQtB,UAAU,cAAe,qBAAuBlI,EAAKmI,IAAMyO,EAAQpW,OAAS,iBAAmBoW,EAAQxL,KAAK,MAAQ,KAAMoH,EAAK,CAACxS,EAAKmI,SAK1JY,EAAQjF,QAAUiF,EAAQ6F,cACnB7F,EAkPT,SAAS0C,uBACP,OAAIjH,mBAAsD,gBAAjCA,kBAAkBmS,YAI3C/P,YAAYc,WAAW,SAASsD,GAC9B,GAA0B,gBAAtBA,EAAO2L,WACT,OAAQnS,kBAAoBwG,KALvBxG,mBAwJb,IAAIP,OAAS,GACbD,KAAKC,OAAQC,YAGE,0BACbJ,gBACAC,gB,oDCzoEa8S,SCCAA,U,4DCyBTC,EAAO,CACXC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAGAC,EAAS,gFAETC,EAAS,CAAE,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAE7DC,EAAS,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAE/DC,EAAW,WAAsC,IAArCrP,IAAqC,yDAAxB5B,EAAwB,uDAAlB,GAAIpI,EAAc,uDAAP,GAC5C,MAAO,CAACgK,OAAM5B,MAAKpI,SAQN,gBAAAsZ,GAEb,IAAKA,IAASJ,EAAO5N,KAAKgO,GACxB,OAAOD,GAAS,EAAO,YAGzB,IAAKvC,EAAKwC,EAAKC,OAAO,EAAG,IACvB,OAAOF,GAAS,EAAO,UAEzB,IAAIjR,EAAM,KAEV,GAAoB,KAAhBkR,EAAK9Y,OAAe,CAItB,IAFA,IAAIgZ,EAAUF,EAAKtR,MAAM,IACpByR,EAAgB,EAAXC,EAAc,EAAVC,EAAa,EAClBrZ,EAAI,EAAGA,EAAI,GAAIA,IACtBoZ,EAAKF,EAAQlZ,GACbqZ,EAAKR,EAAO7Y,GACZmZ,GAAOC,EAAKC,EAEVP,EAAOK,EAAM,MAAQD,EAAQ,IAAII,gBACnCxR,EAAM,SAIV,IAAIyR,EAAM,GACU,KAAhBP,EAAK9Y,OACPqZ,EAAM,CAACP,EAAKC,OAAO,EAAG,GAAI,KAAOD,EAAKC,OAAO,EAAG,GAAID,EAAKC,QAAQ,EAAG,IAC3C,KAAhBD,EAAK9Y,SACdqZ,EAAM,CAACP,EAAKC,OAAO,EAAG,GAAID,EAAKC,OAAO,EAAG,GAAID,EAAKC,QAAQ,EAAG,KAE/D,IAAIzS,EAAM,CACRgT,QAAS,CACPR,KAAMO,EAAI,GACV7Z,KAAM8W,EAAK+C,EAAI,KAEjBE,SAAU,CACRT,KAAMO,EAAI,GACV7Z,KAAM,IAAIuR,KAAKsI,EAAI,GAAGN,OAAO,EAAG,GAAK,IAAMM,EAAI,GAAGN,OAAO,EAAG,GAAK,IAAMM,EAAI,GAAGN,OAAO,EAAG,KAE1FS,IAAK,CACHV,KAAMO,EAAI,GACV7Z,KAAQ6Z,EAAI,GAAK,EAAW,IAAN,MAG1B,OAAKzR,EAGIiR,GAAS,EAAOjR,EAAKtB,GAFrBuS,GAAS,EAAM,GAAIvS,K,yoGC5HTmT,QACnB,WAAYja,GAEV,IAAK,IAAIka,KAFO,wIAChBpH,KAAKqH,SAAW,GACFna,EACZ8S,KAAKqH,SAASD,GAAKla,EAAKka,IAK1BE,IAAM,kBAEV,SAASC,SAASlX,IAAKnD,MAErB,GADAA,KAAOA,MAAQ8S,KAAKqH,cACHzR,GAAb1I,KAAKmD,KACP,OAAOnD,KAAKmD,KAGZ,IAAImX,IAAMnX,IAAI6E,MAAM,KAChBuS,MAAQD,IAAI9Z,OACZF,EAAI,EACJka,OAASF,IAAIha,GACjB,GAAIka,OACF,OAAQxa,KAAKwa,SAAWla,EAAIia,MAAQ,EAClCC,QAAU,IAAMF,MAAMha,GAG1B,GAAIN,KAAKwa,QAAS,CAGhB,IAFA,IAAIrY,EAAInC,KAAKwa,QACTC,IAAMH,IAAI1W,MAAMtD,EAAI,GACfA,GAAI,EAAGA,GAAIma,IAAIja,OAAQF,KAAK,CACnC,IAAIwC,EAAI2X,IAAIna,IACRwC,EAAE4X,SAAS,MAAQ5X,EAAE4X,SAAS,KAChC1O,KAAK,OAAclJ,GAEnBX,EAAIA,EAAEW,GAGV,OAAOX,GAKb8X,QAAQtQ,IAAM,SAASxG,GACrB,GAAI2P,KAAK6H,aAAc,CACrB,IAAIC,EAAM9H,KAAK6H,aAAaC,IAC5B,GAAIA,GAAOA,EAAIC,YAAa,CAC1B,IAAIC,EAAKF,EACT,WAA+BlS,IAAxBoS,EAAGD,YAAY1X,GAEpB,GADA2X,EAAKA,EAAGC,aACHD,EACH,OAGJ,OAAOA,EAAKA,EAAGD,YAAY1X,GAAO2P,KAAK6H,aAAaK,OAAOC,MAAM9X,GAEjE,OAAO2P,KAAK6H,aAAaK,OAAOC,MAAM9X,GAGxC,OAAO+X,IAAIvR,IAAIkR,YAAY1X,IAI/B8W,QAAQkB,QAAU,SAAShY,GACzB,OAAO+X,IAAIE,QAAQ3Y,IAAIU,IAAQ,IAGjC8W,QAAQhM,IAAM,SAASqM,EAAKtL,EAAO7L,GACjC,IAAI8R,EAAIqF,EAAItL,GACZ,OAAIiG,EACG9R,EAGI8R,EAAE9R,IAAQ,GAFV8R,EAKJ,MAGTgF,QAAQoB,QAAU,SAASlY,GAEzB,IADA,IAAImX,EAAM,GACDha,EAAI,EAAGA,EAAImH,UAAUjH,OAAQF,IACpCga,EAAIxZ,KAAK2G,UAAUnH,IAErB,OAAOga,EAAI/P,QAAQpH,IAAQ,GAE7B8W,QAAQqB,SAAW,SAASnY,GAE1B,IADA,IAAImX,EAAM,GACDha,EAAI,EAAGA,EAAImH,UAAUjH,OAAQF,IACpCga,EAAIxZ,KAAK2G,UAAUnH,IAErB,QAAOga,EAAI/P,QAAQpH,IAAQ,IAG7B8W,QAAQsB,SAAW,SAASvb,GAC1B,IAAIwb,EAAWC,KAAKC,MAAM1b,GAAQ,MAMlC,MAL0B,SAAtBkb,IAAIlR,KAAKwR,GACXA,EAAWA,EAAS,GACW,UAAtBN,IAAIlR,KAAKwR,KAClBA,EAAWA,GAENA,EAASG,cAGlB1B,QAAQ2B,IAAM,SAASzY,GACrB,GAAI2P,KAAK6H,aAAc,CACrB,IAAIG,EAAKhI,KAAK6H,aAAaC,IAC3B,GAAIE,EACF,MAA2C,KAApCA,EAAGe,cAAcC,WAAW3Y,GAGvC,OAAO,GAGT8W,QAAQ8B,OAAS,WACf,GAAIjJ,KAAK6H,aAAc,CACrB,IAAIqB,EAAKlJ,KAAK6H,aAAaE,YAC3B,GAAImB,EACF,MAAuB,KAAhBA,EAAG,UAGd,OAAO,GAET/B,QAAQgC,IAAM,WACZ,OAAO,IAAI1K,MAEb0I,QAAQiC,MAAQ,WACd,IAAI/Z,EAAI,IAAIoP,KACZ,OAAO,IAAIA,KAAKpP,EAAEga,cAAeha,EAAEia,WAAYja,EAAEka,YAGnDpC,QAAQqC,OAAS,WACf,GAAIxJ,KAAK6H,aAAc,CACrB,IAAIzI,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,UAAW,GAC7C+U,EAAatK,EAAK,GAClB0I,EAAM9H,KAAK6H,aAAaC,IAC5B,GAAIA,GAAOA,EAAI4B,GACb,OAAO5B,EAAI4B,GAAYrb,MAAMyZ,EAAtB,mIAA+B1I,EAAKtO,MAAM,OAKvDqW,QAAQwC,IAAM,SAASC,EAAYC,EAASC,GAC1C,IAAIC,EAAMH,EAAWtW,MAAMgU,KAC3B,SAAIyC,GAAOA,EAAIrc,OAAS,IAO1ByZ,QAAQ6C,WAAa,SAAS3Z,EAAKnD,EAAM+c,GACvC,IAAIra,EAAI2X,SAASlX,EAAKnD,GACtB,OAAe,IAAX+c,GACE7B,IAAI8B,QAAQta,GACP,GAGJA,GAIT,IAAIua,QAAUC,kDAAU,KACpBC,WAAaD,kDAAU,KAE3BjD,QAAQjR,OAAS,SAAS7F,KAI1B8W,QAAQjO,KAAO,SAAS0Q,EAAY1c,GAClC,IAAK0c,EACH,OAAO,KAGT,IAAIlV,EAAKyV,QAAQxa,IAAIia,GACrB,IAAKlV,EAAI,CACP,IAAI4V,GAAc,EACdV,EAAWW,WAAW,OAASX,EAAWhC,SAAS,QACrD0C,GAAc,EACdV,EAAaA,EAAWrR,QAAQ,KAAM,IACtCqR,EAAaA,EAAWrR,QAAQ,KAAM,KAExC,IAAIhK,EAASic,aAAaZ,GACtBa,EAAMlc,EAAOmc,OACb9a,EAAI+a,iBAAiBF,EAAK,KAAM,MAChC1D,EAAMnX,EAAEgb,KACZC,EAAElX,KAAK/D,EAAEkb,OAAO,SAACpa,EAAG0W,GAClB,IAAIhY,EAAI2b,SAASra,GACjBqW,EAAMA,EAAIxO,QAAQ6O,EAAGhY,MAEvB,IAAIoX,EAAO,GACP8D,EACF9D,EAAO,CACL,SACA,uBACA,UAAYO,GAAY,eACxB,QACA,gBACA,gBACA,QAGFA,EAAMA,EAAM,IAAMA,EAAM,IAAM,OAC9BP,EAAO,CACL,gBACA,SACA,uBACA,gBAAkBO,EAAM,IACxB,QACA,gBACA,gBACA,MACA,qBAIJrS,EAAK,IAAIsW,SAAS,YAAa,aAAcxE,EAAKlO,KAAK,OACvD6R,QAAQc,IAAIrB,EAAYlV,GAE1B,IAAIV,EAAMrG,OAAOyC,OAAO+W,SACxBnT,EAAIqT,SAAWna,GAAQ,GACvB8G,EAAI6T,aAAe7H,KAAKkL,OAASlL,KAAO,KACxC,IAAIlR,EAAI4F,EAAGV,GAIX,OAHAA,EAAI6T,aAAe,KACnB7T,EAAM,KAEClF,GAGTqY,QAAQ5O,QAAU,SAASqR,EAAY1c,EAAM+c,GAE3C,IAAIvV,EAAK2V,WAAW1a,IAAIia,GACxB,IAAKlV,EAAI,CACP,IAAInG,EAASic,aAAaZ,GAC1B,IAAIrb,IAAUA,EAAOob,IAuBnB,OAAOC,EAtBP,IAAIa,EAAMlc,EAAOmc,OACb9a,EAAI+a,iBAAiBF,EAAK,KAAM,MAAM,GACtC1D,EAAMnX,EAAEgb,KACZC,EAAElX,KAAK/D,EAAEkb,OAAO,SAACpa,EAAG0W,GAClB,IAAIhY,EAAI2b,SAASra,GACjBqW,EAAMA,EAAIxO,QAAQ6O,EAAGhY,MAEvB2X,EAAMA,EAAM,IAAMA,EAAM,IAAM,KAC9B,IAAIP,EAAO,CACT,gBACA,SACA,uBACA,gBAAkBO,EAAM,IACxB,QACA,gBACA,gBACA,MACA,oBAEFrS,EAAK,IAAIsW,SAAS,YAAa,aAAcxE,EAAKlO,KAAK,OACvD+R,WAAWY,IAAIrB,EAAYlV,GAK/B,IAAIV,EAAMrG,OAAOyC,OAAO+W,SACxBnT,EAAIqT,SAAWna,GAAQ,GACvB8G,EAAI6T,aAAe7H,KAAKkL,OAASlL,KAAO,KACxC,IAAIlR,EAAI4F,EAAGV,IAAMoU,IAAI8B,QAAQD,IAAkBA,GAI/C,OAFAjW,EAAI6T,aAAe,KACnB7T,EAAM,KACClF,GAOT,IAAIqc,iBAAmB,SACnBC,MAAQ,oBACRC,OAAS,0CACTC,WAAa,iBACbC,cAAgB,QAChBC,SAAW,cACXC,UAAY,aACZC,QAAU,gFACVC,YAAc,eACdC,WAAa,2BACbC,YAAc,WACdC,UAAY,qCACZC,UAAY,oBACZC,UAAY,EACZC,WAAa,CACf9Q,IAAK,IAEHY,QAAU,CACZ,GAAM,EACN,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,OAAU,EACV,OAAU,EACV,QAAW,EACX,OAAU,EACV,OAAU,EACV,OAAU,EACV,WAAc,EACd,UAAa,EACb,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,MAAS,EACT,IAAO,EACP,OAAU,EACV,WAAc,EACd,WAAc,GAGZmQ,MAAQzZ,SAASwE,cAAc,OAEnC,SAASkV,OAAOpF,GACd,OAAIgF,UAAUvT,KAAKuO,IACjBmF,MAAME,UAAYrF,EACXmF,MAAMG,WAAaH,MAAMI,aAE3BvF,EAGT,SAASwF,aAAaC,GACpB,OAAOC,OAAOD,GAAMjU,QAAQ,UAAW,KAAKA,QAAQ,SAAU,KAAMA,QAAQ,QAAS,KAAKA,QAAQ,QAAS,KAAKA,QAAQ,SAAU,KAGpI,IAAImU,MAAQ,WAEZ,SAASC,IAAIC,GACX,IAAIvc,EAAM,KAAO2b,YAEjB,OADAC,WAAW9Q,IAAI9K,GAAOuc,EACfvc,EAAM,IAGf,SAASwc,KAAKD,GACZ,IAAIE,EAAMb,WAAW9Q,IAAIyR,GACzB,OAAOE,EAGT,SAASC,YAAYhG,GAEnB,IADA,IAAIiG,EAAQC,WAAWlG,GACdvZ,EAAI,EAAG+C,EAAIyc,EAAMtf,OAAQF,EAAI+C,EAAG/C,IACvCuZ,EAAMA,EAAIxO,QAAQyU,EAAMxf,GAAImf,KAE9B,OAAO5F,EAGT,SAASkG,WAAWlG,EAAKvZ,EAAGkV,GAC1B,IAAIwK,GAAM,EACRpe,EAAI,EACJtB,EAAIA,GAAK,EACXkV,EAAMA,GAAO,GACb,IAAK,IAAInS,EAAIwW,EAAIrZ,OAAQF,EAAI+C,EAAG/C,IAAK,CACnC,IAAI4B,EAAI2X,EAAIzL,OAAO9N,GACd0f,EAUC9d,IAAM8d,GAA6B,OAAtBnG,EAAIzL,OAAO9N,EAAI,KAC9BkV,EAAI1U,KAAK+Y,EAAIjW,MAAMhC,EAAGtB,EAAI,IAC1B0f,GAAM,GAVE,MAAN9d,GAAmC,OAAtB2X,EAAIzL,OAAO9N,EAAI,IAC9B0f,EAAM,IACNpe,EAAItB,GACW,MAAN4B,GAAmC,OAAtB2X,EAAIzL,OAAO9N,EAAI,KACrC0f,EAAM,IACNpe,EAAItB,GASV,OAAY,IAAR0f,EACKD,WAAWlG,EAAKjY,EAAI,EAAG4T,GAEzBA,EAGT,SAASyK,iBAAiBpG,EAAKqG,GAC7B,IAAIC,EAAQtG,EACRxY,EAAS8e,EAAM9U,QAAQuT,WAAW,SAASwB,GAE7C,OAAIA,EAAG1F,SAAS,MAKT7L,QAAQuR,GAJNA,EAKE,cAAgB3E,KAAK4E,UAAUD,GAAM,2BAKlD,OAAO/e,EAGT,SAASwc,SAASH,EAAMwC,GACtBnB,WAAW9Q,IAAM,GACjB,IAAIqS,EAAQ5C,EAAKrS,QAAQmT,SAAS,SAASkB,EAAGa,GAC5C,OAAOA,EAAId,IAAIC,EAAE9b,MAAM2c,EAAE/f,YAE3B8f,EAAQT,YAAYS,GACpBA,EAAQA,EAAMjV,QAAQgT,cAAeoB,KAClCpU,QAAQ+S,WAAY,MACpB/S,QAAQqT,YAAY,SAASf,EAAG+B,EAAGa,GAElC,OAAOb,EAAID,IAAIc,GAAK,OAErBlV,QAAQ8S,OAAQ,iBAChB9S,QAAQsT,aAAa,SAASe,EAAGa,GAEhC,MAAO,IAAMd,IAAIc,MAGrBD,EAAQA,EAAMjV,QAAQ,2BAA2B,SAASqU,EAAGa,EAAGre,EAAGC,GAEjE,OAAOoe,EAAId,IAAIvd,MAIjBoe,EAAQL,iBAAiBK,EAAOJ,GAEhC,IAAIM,EAAUF,EAAMtY,MAAMuW,WACtBkC,EAAOD,EAAQvf,QAAQoK,QAAQmU,MAAOG,MAAMe,OAIhD,MAHI,SAASpV,KAAKmV,KAChBA,EAAOA,EAAKpV,QAAQmU,MAAOG,OAEtBc,EAGT,SAAShD,iBAAiBkD,EAAKhE,EAASC,EAAUgE,GAChD,IAAIC,EAAU,SACVhH,EAAMiH,EAAEJ,KAAKC,GAAKtV,QAAQwV,EAAS,IACnCE,EAAS,GACbpE,EAAUA,EACVC,EAAWA,EACX,IAAIoE,EAAc,GACdzG,EAAQ,EACZ,EAAG,CAED,IAAIvL,EAAQ6K,EAAItP,QAAQoS,GACxB3N,GAAmB,IAAXA,EAAe6K,EAAIrZ,OAASwO,EACpC,IAAInM,EAAQgX,EAAIjW,MAAM,EAAGoL,GASzB,GARI,KAAK1D,KAAKzI,KACR+d,EACFG,EAAOjgB,KAAK2a,KAAK4E,UAAUpB,OAAOpc,KAElCke,EAAOjgB,KAAKme,OAAOpc,KAGvBgX,EAAMA,EAAIjW,MAAMoL,EAAQ2N,EAAQnc,QAC5BqZ,EAAK,CACP7K,EAAQ6K,EAAItP,QAAQqS,GAChB/Z,EAAQgX,EAAIjW,MAAM,EAAGoL,GAAzB,IACI0O,EAAO2B,aAAaxc,GACxB,GAAIob,iBAAkB,CACpB,IAAI9a,EAAM,KAAOoX,EAAQ,KACrBtF,EAAIyI,EACRA,EAAO,IAAMva,EAAM,IACnB6d,EAAY7d,GAAO8R,EACnBsF,IAEFwG,EAAOjgB,KAAK4c,GACZ7D,EAAMA,EAAIjW,MAAMoL,EAAQ4N,EAASpc,eAE5BqZ,EAAIrZ,QACb,MAAO,CACLkd,KAAMqD,EAAO3V,KAAKwV,EAAY,IAAM,IACpChD,MAAOoD,GAIX,SAASC,YAAYpH,EAAKvZ,EAAGkV,GAC3B,IAAI0L,GAAO,EACPC,EAAU,EACZvf,EAAI,EACJtB,EAAIA,GAAK,EACXkV,EAAMA,GAAO,GACb,IAAK,IAAInS,EAAIwW,EAAIrZ,OAAQF,EAAI+C,EAAG/C,IAAK,CACnC,IAAI4B,EAAI2X,EAAIzL,OAAO9N,GACnB,GAAK4gB,GAUH,GAHS,KAALhf,GACFif,IAEO,KAALjf,EAAU,CACZ,GAAIif,EAAU,EAAG,CACfA,IACA,SAEA3L,EAAI1U,KAAK+Y,EAAIjW,MAAMhC,EAAI,EAAGtB,EAAI,IAC9B4gB,GAAO,EACPC,EAAU,OAfJ,MAANjf,GAAmC,MAAtB2X,EAAIzL,OAAO9N,EAAI,KAC9B4gB,GAAO,EACPtf,EAAItB,GAkBV,OAAa,IAAT4gB,EACKD,YAAYpH,EAAKjY,EAAI,EAAG4T,GAE1BA,EAGT,IAAI4L,SAAW,GAEf,SAAS9D,aAAaC,GACpB,IAAK6D,SAAS7D,GAAM,CAClB,IAAIV,EAAMoE,YAAY1D,GACtBwB,WAAW9Q,IAAM,GACjB,IAHkB,iBAIhB,IAAIrM,EAAIib,EAAIvc,GAAGsD,MAAM,EAAGiZ,EAAIvc,GAAGE,OAAS,GACxC+c,EAAMA,EAAIlS,QAAQwR,EAAIvc,IAAI,SAASof,GACjC,MAAO,KAAO9d,EAAI,SAHbtB,EAAI,EAAG+C,EAAIwZ,EAAIrc,OAAQF,EAAI+C,EAAG/C,IAAK,IAM5C8gB,SAAS7D,GAAO,CACdd,IAAMI,GAAOA,EAAIrc,OAAS,EAC1Bgd,OAAQD,GAGZ,OAAO6D,SAAS7D,M,0IChhBd8D,EAAU,WAGZ,IAAIC,EAAW,IAEXC,EAAM7d,OAAO6B,SACfic,EAAQD,EAAIE,gBACZC,EAAY,sBAAuBhe,OAAS,oBAAsB,SAEhEie,EAAU,SAASC,IACrB,IAAIC,EAAcL,EAAMM,wBAAwBC,MAKhD,OAFAP,EAAMQ,MAAMC,SAAyE,EAA9DC,KAAKC,IAAID,KAAKE,IAAUP,EAAcP,EAApB,GAA+B,IAAK,MAAY,KAElFM,EANK,GAUdJ,EAAMnX,aAAa,WAAY3G,OAAO4B,UAAU+c,WAAWjc,MAAM,YAAc1C,OAAO4e,iBAAmB,GAErG,iBAAiBhX,KAAK5H,OAAO4B,UAAUid,aAEzChB,EAAIE,gBAAgBe,UAAUC,IAAI,OAE9BC,SAAShf,OAAO4B,UAAU+c,WAAWjc,MAAM,0BAA0B,GAAI,KAAO,GAClFmb,EAAIE,gBAAgBe,UAAUC,IAAI,aAGjClB,EAAI/W,mBACT9G,OAAO8G,iBAAiBkX,EAAWC,GAAQ,GAC3CJ,EAAI/W,iBAAiB,mBAAoBmX,GAAQ,KAGpCN,U,0DClCftf,EAAOD,QAAU,shC,yKCMX6gB,EAAQC,IAAM1f,OAAO,CACzB2f,QAAS,GACTC,QAAS,IACTC,aAAc,OACdC,aAAa,EACbC,QAAS,CACP,eAAgB,kDAChBC,KAAM,MAGRC,iBAAiB,IA8EnB,SAASC,IAMP,OAAOlI,IAAIE,QAAQ3Y,IAAI,wBAA0B,GAGnD,SAASA,EAAI4gB,EAAMC,EAAQnQ,EAASoQ,GACT,UAArBrI,IAAIlR,KAAKmJ,KACXoQ,EAAWpQ,EACXA,EAAU,MAEZkQ,EAAO1Z,OAAI6Z,WAAWH,EAAME,GAC5B,IAAIE,EAAO,CACTH,OAAQA,GAAU,GAClBL,QAAS,CACP,oBAAuBG,KAEzBM,iBAAkB,SAASJ,GACzB,OAAOtH,IAAGqE,UAAUiD,EAAQ,CAC1BK,YAAa,aAInBF,EAAKH,OAAOxgB,GAAK,IAAIyO,MAAQC,UAC7BiS,EAAOvI,IAAI0I,IAAIH,EAAMtQ,GAAW,IAChC,IAAI3P,EAAImf,EAAMlgB,IAAI4gB,EAAMI,GACxB,OAAOjgB,EAGT,SAASqgB,EAAKR,EAAMC,EAAQnQ,EAASoQ,GACV,UAArBrI,IAAIlR,KAAKmJ,KACXoQ,EAAWpQ,EACXA,EAAU,MAEZkQ,EAAO1Z,OAAI6Z,WAAWH,EAAME,GAC5B,IAAIO,EAAoB3Q,GAAWA,EAAQ8P,SAAW9P,EAAQ8P,QAAQ,gBAAkB9P,EAAQ8P,QAAQ,gBAAkB,GAChG,wBAAtBa,GAAiE,UAAlB5I,IAAIlR,KAAKsZ,KAC1DA,EAAStH,IAAGqE,UAAUiD,IAExB,IAAIG,EAAO,CACTR,QAAS,CACP,oBAAuBG,MAG3BK,EAAOvI,IAAI0I,IAAIH,EAAMtQ,GAAW,IAChC,IAAI3P,EAAImf,EAAMkB,KAAKR,EAAMC,EAAQG,GACjC,OAAOjgB,EAGT,SAASugB,EAAIzJ,GACX,OAAOsI,IAAMmB,IAAIzJ,GAAK0J,KAAKpB,IAAMqB,QAAO,WAAY,2BAARC,EAAQ,yBAARA,EAAQ,gBAClD,IAAMC,EAAOD,EAAIjW,KAAI,SAAAmW,GAAI,OAAIA,EAAKpkB,QAClC,OAAOmkB,MAIX,SAASE,EAAOhB,EAAMiB,EAAMhB,EAAQnQ,EAASoQ,GAClB,UAArBrI,IAAIlR,KAAKmJ,KACXoQ,EAAWpQ,EACXA,EAAU,MAEZ,IAAIsQ,EAAO,CACTR,QAAS,CACP,eAAgB,sBAChB,oBAAuBG,MAG3BK,EAAOvI,IAAI0I,IAAIH,EAAMtQ,GAAW,IAChC,IAAIoR,EAAQ,IAAIC,SAEhB,IAAK,IAAItK,KADTqK,EAAME,OAAO,OAAQH,GACPhB,EACZiB,EAAME,OAAOvK,EAAGoJ,EAAOpJ,IAEzBmJ,EAAO1Z,OAAI6Z,WAAWH,EAAME,GAC5B,IAAI/f,EAAImf,EAAMkB,KAAKR,EAAMkB,EAAOd,GAChC,OAAOjgB,EAMT,SAASkhB,EAAYC,GACnB,IAAIC,EAAS,GACTC,EAA+B,SAAnB3J,IAAIlR,KAAK2a,GAAoBA,EAAM/gB,MAAM,GAAK,CAAC+gB,GAC3DG,EAAU,IAAIC,SAAQ,SAAAC,GACxBC,GAAc,WACZD,EAAQJ,SAIZ,SAASK,EAAcrc,GACrB,IAAIsc,EAAIL,EAAU5jB,QACdikB,EACFC,EAASD,GACNlB,MAAK,SAAA3iB,GACJujB,EAAO9jB,KAAKO,GACZA,EAAS,QAEV+jB,OAAM,SAAA/jB,GACLqjB,EAAYW,KAAKhkB,EAAOkD,KAAK,GAC7BqgB,EAAO9jB,KAAKO,GACZA,EAAS,QAEVikB,SAAQ,WACPL,EAAcrc,MAGlBA,GAAYA,IAGhB,OAAOkc,EAGT,SAASS,EAAY5b,GACnB,GAAW,MAAPA,GAAeA,EAAInJ,OAAS,EAI9B,OAHImJ,EAAIoM,YAAY,KAAO,IACzBpM,EAAMA,EAAI4P,OAAO,EAAG5P,EAAIoM,YAAY,OAE/BpM,EAAI4P,OAAO5P,EAAIoM,YAAY,MAAMyP,cAI5C,SAASL,EAASxb,GAChB,IAAIK,EAAOub,EAAY5b,GACnB8b,EAAU,KACVX,EAAU,IAAIC,SAAQ,SAACC,EAASU,GAClC,GAAKhiB,OAAOiiB,eAAehc,GAuCpB,CACLjG,OAAOkiB,oBAAoB9kB,KAAK6I,GAChC,IAAIkc,EAAQniB,OAAOiiB,eAAehc,GAAKkc,MAC1B,WAATA,EACFniB,OAAOiiB,eAAehc,GAAKmc,YAAYhlB,KAAK,CAAEkkB,QAASA,EAASU,OAAQA,IACtD,WAATG,EACTb,EAAQthB,OAAOiiB,eAAehc,IAE9B+b,EAAOhiB,OAAOiiB,eAAehc,QA9CnB,OAARK,GACFyb,EAAUlgB,SAASwE,cAAc,UACjC0b,EAAQlhB,IAAMoF,GACG,QAARK,IACTyb,EAAUlgB,SAASwE,cAAc,QACjC0b,EAAQM,KAAOpc,EACf8b,EAAQzb,KAAO,WACfyb,EAAQO,IAAM,cAEZP,IACFA,EAAQQ,UAAY,GACpBR,EAAQS,OAAST,EAAQU,mBAAqB,WACvCrT,KAAK6D,YAAc,WAAa7D,KAAK6D,YAAc,aAAe7D,KAAK6D,aAC1EjT,OAAOiiB,eAAehc,GAAKkc,MAAQ,UACnCb,EAAQthB,OAAOiiB,eAAehc,IAC9BgU,EAAElX,KAAK/C,OAAOiiB,eAAehc,GAAKmc,aAAa,SAAAtiB,GAC7CA,EAAEwhB,QAAQthB,OAAOiiB,eAAehc,SAItC8b,EAAQW,QAAU,WAChB1iB,OAAOiiB,eAAehc,GAAKkc,MAAQ,QACnClI,EAAElX,KAAK/C,OAAOiiB,eAAehc,GAAKmc,aAAa,SAAAtiB,GAC7CA,EAAEkiB,OAAOhiB,OAAOiiB,eAAehc,QAG9BjG,OAAOiiB,eAAehc,KACzBjG,OAAOiiB,eAAehc,GAAO,CAC3B0c,KAAMZ,EACNI,MAAO,UACP7b,KAAMA,EACNzF,IAAKoF,EACLmc,YAAa,CAAC,CAAEd,QAASA,EAASU,OAAQA,KAE5ChiB,OAAOkiB,oBAAoB9kB,KAAK6I,GAChCpE,SAASoC,qBAAqB,QAAQ,GAAGkD,YAAY4a,QAe7D,OAAOX,EA7PTnC,EAAM2D,aAAaC,SAASC,KAAI,SAAAD,GAE9B,GAAqB,MAAjBA,EAASvmB,MAAiD,SAAjCumB,EAASvd,OAAO+Z,cAA4D,MAAjCwD,EAASE,QAAQC,aACvF,IACEH,EAASvmB,KAAOyb,KAAKC,MAAM6K,EAASE,QAAQC,cAC5C,MAAOpe,IAIX,OAAOie,KAGTxB,QAAQrkB,UAAUimB,KAAO,SAASnf,GAChC,SAASof,EAAgBL,GACvB,GAAIA,EAAStD,QAAS,CACpB,IAAI5hB,EAASklB,EAASvmB,MAAQ,GAE9B,OAAI6mB,OAAMC,MAAMzlB,EAAO0lB,UAAYF,OAAMC,MAAMzlB,EAAOwkB,QAAUgB,OAAMC,MAAMzlB,EAAO2lB,SAI1Exf,EAAGnG,GAKRA,EAASklB,EAEb,OAAIM,OAAMC,MAAMzlB,EAAO0lB,UAAYF,OAAMC,MAAMzlB,EAAOwkB,QAAUgB,OAAMC,MAAMzlB,EAAO2lB,SAI1Exf,EAAGnG,GAOhB,IAAIqB,EAAIoQ,KAAKkR,MAAK,SAAAuC,GAChB,OAAOK,EAAgBL,MAEzB,OAAO7jB,GAGTqiB,QAAQrkB,UAAUyP,MAAQ,SAAS3I,GACjC,SAASyf,EAAa9W,GACpB,IAAItI,EAAM,CAAE,QAAW,IAErBA,EADqB,UAAnBqT,IAAIlR,KAAKmG,GACL,CACJ6W,QAAS7W,GAEiB,SAAnB+K,IAAIlR,KAAKmG,IAAwC,UAAnB+K,IAAIlR,KAAKmG,GAC1C,CACJ6W,QAAS7W,EAAM6W,SAGX,CACJA,QAAS,SAGb9L,IAAI/K,MAAMA,GACV3I,EAAGK,GAEL,OAAOiL,KAAKsS,OAAM,SAAAjV,GAChB8W,EAAa9W,OAIjB4U,QAAQrkB,UAAUwmB,OAAS,SAAS1f,GAClCsL,KAAKwS,QAAQ9d,IAoFf9D,OAAOiiB,eAAiB,GACxBjiB,OAAOkiB,oBAAsB,GAoG7BlB,EAAYW,KAAO,SAAS9gB,EAAK4iB,GAC/BjM,IAAI4E,MAAMsH,OAAO1jB,OAAOkiB,oBAAqBrhB,GAC7C,IAAIlD,EAASsc,EAAE0J,OAAO3jB,OAAOkiB,qBAAqB,SAAAjc,GAAG,OAAIA,GAAOpF,KAChE,GAAIlD,EAAOb,QAAU,IAAc,IAAT2mB,EAAe,CACvC,IAAIjC,EAAIxhB,OAAOiiB,eAAephB,GAC1B2gB,GAAKA,EAAEmB,MAAQnB,EAAEmB,KAAK9c,YACxB2b,EAAEmB,KAAK9c,WAAWiF,YAAY0W,EAAEmB,aAE3B3iB,OAAOiiB,eAAephB,KAGjCmgB,EAAYjI,IAAM,SAASlY,GACzB,IAAIlD,EAASsc,EAAE0J,OAAO3jB,OAAOkiB,qBAAqB,SAAAjc,GAAG,OAAIA,GAAOpF,KAChE,OAAOlD,EAAOb,OAAS,GAGV,QACbiC,MACAohB,OACAE,MACAM,SACAK,iB,0OCvSE4C,G,WAAa,GACbC,EAAW9mB,OAAO+mB,eAClBC,EAAS,CACX,UACA,SACA,SACA,WACA,QACA,OACA,SACA,SACA,QACA,UAEEC,EAAa,GACbtiB,EAASsiB,EAAW/mB,eACpBgnB,EAAaviB,EAAOD,SACpByiB,EAAuBD,EAAW/mB,KAAKH,QACvC0E,EAAWuiB,EAAWviB,SACtB0iB,EAAWnkB,OAAOokB,QAMlBC,EAAerkB,OAAOskB,YAEtBC,EAAiBvkB,OAAOwkB,cAC5BxkB,OAAOskB,YAAc,SAACxgB,EAAI2gB,GACxB,IAAIC,EAAUL,EAAavgB,EAAI2gB,GAE/B,OADAjN,IAAImN,KAAK,iBAAmBD,GACrBA,GAET1kB,OAAOwkB,cAAgB,SAACE,GACtBlN,IAAImN,KAAK,iBAAmBD,GAC5BH,EAAeG,IAGjB1kB,OAAO4kB,UAAY,WACjBhB,GAAa,GAGfG,EAAOc,SAAQ,SAAClC,GACdqB,EAAW,WAAarB,EAAO,KAAOA,EAAKb,iBAG7C,IAAIgD,EAAa,iEAAiExgB,MAChF,IAGEygB,EAAS,CACX,CACEC,aAAc,GACdC,YAAa,GACbxgB,GAAI,GACJ/F,KAAM,GACNwmB,iBAAkB,GAClBjN,aAAc,GACdkN,KAAM,EACNvZ,OAAQ,GACRwZ,WAAY,KAGZnoB,EAAiBF,OAAOC,UAAUC,eAEvB,QACbooB,KAAM,aAENC,KAAM,SAAUC,EAAKC,GACnB,IAEE5oB,EAQIoC,EAVFymB,EAAQX,EACVQ,EAAO,GAIT,GAFAE,EAAQA,GAASC,EAAM3oB,OACvByoB,EAAMA,GAAO,GACTA,EAEF,IAAK3oB,EAAI,EAAGA,EAAI2oB,EAAK3oB,IAAK0oB,EAAK1oB,GAAK6oB,EAAM,EAAKjH,KAAKkH,SAAWF,QAW/D,IALAF,EAAK,GAAKA,EAAK,IAAMA,EAAK,IAAMA,EAAK,IAAM,GAC3CA,EAAK,IAAM,IAIN1oB,EAAI,EAAGA,EAAI,GAAIA,IACb0oB,EAAK1oB,KACRoC,EAAI,EAAqB,GAAhBwf,KAAKkH,SACdJ,EAAK1oB,GAAK6oB,EAAW,IAAL7oB,EAAe,EAAJoC,EAAW,EAAMA,IAKlD,OAAOsmB,EAAK5d,KAAK,KAEnBie,KAAM,WACJ,OAAOvW,KAAKkW,QAGdlC,MAAO,SAAUhgB,GACf,YAAe4B,IAAR5B,GAA4B,MAAPA,GAG9BkW,QAAS,SAAUlW,GACjB,YAAe4B,IAAR5B,GAA6B,OAARA,GAG9BkD,KAAM,SAAUlD,GACd,OAAW,MAAPA,EACKA,EAAM,GAGO,WAAf,eAAOA,IAAmC,oBAARA,EACrC4gB,EAAWviB,EAASvE,KAAKkG,KAAS,SAD/B,eAEIA,IAEb1B,OAAQ,SAAU0B,EAAK3D,GACrB,OAAOxC,EAAeC,KAAKkG,EAAK3D,IAGlCmmB,SAAU,SAAUC,GAClB,MAAuB,oBAATA,GAAuB,cAAcje,KAAKie,EAAKpkB,aAE/DqkB,UAAW,SAAU3P,EAAK4P,GACxB,IAAIC,EAAc,aAClB,OAAO7P,EAAIxO,QAAQqe,EAAaD,EAAW,MAAMjE,eAEnDmE,UAAW,SAAU9P,EAAK4P,GACxB,IAAIG,EAAa,IAAIriB,OAAO,KAAOkiB,EAAW,QAAS,KACvD,OAAO5P,EAAIxO,QAAQue,GAAY,SAAUjM,EAAGzb,GAC1C,OAAOA,EAAIA,EAAE0X,cAAgB,OAIjCiQ,SAAU,SAAUjK,GAClB,OAAI1E,IAAI8B,QAAQ4C,IAAe,IAAPA,IAGdkK,MAAMlK,IAGlBmK,QA9Ea,SA8ELlB,GACN,MAAsB,UAAlB3N,IAAIlR,KAAK6e,GACP3N,IAAI2O,SAAShB,IAASA,EAAKnO,SAAS,MAC/BsP,WAAWnB,GAAQ,GAAK,MAExBA,EAEkB,UAAlB3N,IAAIlR,KAAK6e,GACXA,EAAO,GAAK,MAEZA,GAGXoB,aA3Fa,SA2FApQ,GACX,OAAW,MAAPA,EAAoB,GACjB0F,OAAO1F,GACXxO,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,UAEnBgU,aApGa,SAoGAC,GACX,OAAOC,OAAOD,GACXjU,QAAQ,UAAW,KACnBA,QAAQ,SAAU,KAClBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KACjBA,QAAQ,SAAU,MAGvB6e,cAAe,SAAUpjB,GACvB,IAAI1E,EACJ,IAAKA,KAAQ0E,EACX,OAAO,EAET,OAAO,GAGTqjB,cAAe,SAAUrjB,GACvB,IAAIsjB,EAAOb,EACX,SAAKziB,GAA8B,oBAAvB3B,EAASvE,KAAKkG,MAI1BsjB,EAAQ7C,EAASzgB,IACZsjB,IAGLb,EAAOnkB,EAAOxE,KAAKwpB,EAAO,gBAAkBA,EAAMC,YAEhC,oBAATd,GACP5B,EAAW/mB,KAAK2oB,KAAU3B,KAI9BthB,WAtIa,SAsIFkB,GACT,MAAwB,YAAjBsL,KAAK9I,KAAKxC,IAGnB8iB,IAAK,WACChD,GACFxJ,SAAS3c,MAAMP,KAAKinB,EAASyC,IAAKzC,EAAUpgB,YAIhD0gB,KAAM,WACJ,GAAIb,EAAY,CACd,IAAIhL,EAASuL,EAASM,KACtBrK,SAAS3c,MAAMP,KAAK0b,EAAQuL,EAAUpgB,aAI1C8iB,QAAS,WACP,GAAIjD,EAAY,CACd,IAAIhL,EAASuL,EAAS0C,QACtBzM,SAAS3c,MAAMP,KAAK0b,EAAQuL,EAAUpgB,aAI1C4gB,KAAM,WACJ,GAAIf,EAAY,CACd,IAAIhL,EAASwL,QAAQO,MAAQP,QAAQwC,IACrCxM,SAAS3c,MAAMP,KAAK0b,EAAQwL,QAASrgB,aAIzC0I,MAAO,WACL,GAAImX,EAAY,CACd,IAAIhL,EAASwL,QAAQ3X,OAAS2X,QAAQwC,IACtCxM,SAAS3c,MAAMP,KAAK0b,EAAQwL,QAASrgB,aAIzCmc,IAAK,WACH,IAAIzQ,EACF/Q,EACAmC,EACAimB,EACAC,EACAC,EACAvjB,EAASM,UAAU,IAAM,GACzBnH,EAAI,EACJE,EAASiH,UAAUjH,OACnBmqB,GAAO,EAqBT,IAlBsB,mBAAXxjB,IACTwjB,EAAOxjB,EAGPA,EAASM,UAAUnH,IAAM,GACzBA,KAIoB,WAAlB,eAAO6G,IAAwB2L,KAAKxM,WAAWa,KACjDA,EAAS,IAGP7G,IAAME,IACR2G,EAAS2L,KACTxS,KAGKA,EAAIE,EAAQF,IAEjB,GAAgC,OAA3B6S,EAAU1L,UAAUnH,IAEvB,IAAK8B,KAAQ+Q,EACXqX,EAAOrX,EAAQ/Q,GAIF,cAATA,GAAwB+E,IAAWqjB,IAMrCG,GACAH,IACC1X,KAAKqX,cAAcK,KAAUC,EAAclO,MAAM/V,QAAQgkB,MAE1DjmB,EAAM4C,EAAO/E,GAIXsoB,EADED,IAAgBlO,MAAM/V,QAAQjC,GACxB,GACEkmB,GAAgB3X,KAAKqX,cAAc5lB,GAGrCA,EAFA,GAIVkmB,GAAc,EAGdtjB,EAAO/E,GAAQ0Q,KAAK8Q,IAAI+G,EAAMD,EAAOF,SAGnB9hB,IAAT8hB,IACTrjB,EAAO/E,GAAQooB,IAOvB,OAAOrjB,GAGTyjB,OAAQ,SAAUC,EAAQC,GACxB,IAAIlL,EAAM,KACRxF,EAAM,KAcR,MAbI,qBAAsB1W,OACxBkc,EAAMlc,OAAOqnB,iBAAiBF,EAAQ,MAAMC,GAI/B,YAATA,GACFlL,EAAMiL,EAAOG,aAAa,UAC1B5Q,EAAM,yDACNwF,EAAMxF,EAAI9O,KAAKsU,GAAOxF,EAAItO,KAAK8T,GAAK,GAAK,IAAM,GAE/CA,EAAMiL,EAAOG,aAAaF,GAGvBd,WAAWpK,IAEpBqL,kBA3Qa,SA2QKpR,EAAK7K,GACrB,IAAI2V,EAAQ8D,EACZ,GAAI5O,EAAK,CACP,IAAIxY,EAASoa,KAAKC,MAAM7B,GACC,SAArB/G,KAAK9I,KAAK3I,GACZsjB,EAAQtjB,EACsB,UAArByR,KAAK9I,KAAK3I,KACnBsjB,EAAQ,CAACtjB,IAGb,OAAIyR,KAAKgU,MAAM9X,GACN2V,EAAM3V,GAER2V,GAETuG,SA1Ra,WA4RX,IAAIrR,EAAMpS,UAAU,GACpB,GAAIoS,EAAK,CACP,IAAIxY,EAASoa,KAAKC,MAAM7B,GACxB,GAAI/G,KAAKgU,MAAMzlB,GACb,IAAK,IAAIf,EAAI,EAAGA,EAAImH,UAAUjH,OAAQF,IACpCe,EAASA,EAAOoG,UAAUnH,IAG9B,OAAOe,EAET,OAAOwY,GAGTsR,UAAW,SAAUC,GACnB,IAAIC,EAAa9lB,SAAS+lB,OAEtBC,EAAaF,EAAW9gB,QAAQ6gB,GAEpC,IAAmB,GAAfG,EAAkB,CAGpBA,EAAaA,EAAaH,EAAY5qB,OAAS,EAE/C,IAAIgrB,EAAaH,EAAW9gB,QAAQ,IAAKghB,IACtB,GAAfC,IACFA,EAAaH,EAAW7qB,QAG1B,IAAIqC,EAAQ4oB,SAASJ,EAAWpc,UAAUsc,EAAYC,IAExD,OAAO3oB,GAET6oB,UAAW,SAAUlkB,GACnB,OAAO,IAAIud,SAAQ,SAACC,EAASU,GAC3B,IAAIiG,EAAO,SAACxE,IACG,IAATA,EACFzB,GAAO,GACEyB,aAAgB5e,MACzBmd,EAAOyB,GAEPnC,GAAQ,IAGZxd,EAAGmkB,OAGPC,uBAAwB,SAAUC,GAEhC,IAcIC,EAEAC,EAIAC,EApBEC,EAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEvDC,EAAc,CAAC,GAAI,IAAK,IAAK,KAE7BC,EAAa,CAAC,GAAI,IAAK,IAAK,KAE5BC,EAAa,CAAC,IAAK,IAAK,IAAK,KAE7BC,EAAY,IAEZC,EAAY,IAEZC,EAAS,KAMXC,EAAa,GAGjB,GAAe,KAAXX,EACF,MAAO,GAGT,GADAA,EAAS7B,WAAW6B,GAChBA,GAAUU,EAEZ,MAAO,GAET,GAAe,IAAXV,EAEF,OADAW,EAAaP,EAAO,GAAKK,EAAYD,EAC9BG,EAaT,GAVAX,EAASA,EAAO1mB,YACa,IAAzB0mB,EAAOthB,QAAQ,MACjBuhB,EAAaD,EACbE,EAAa,KAEbC,EAAQH,EAAO7jB,MAAM,KACrB8jB,EAAaE,EAAM,GACnBD,EAAaC,EAAM,GAAGzS,OAAO,EAAG,IAG9BmJ,SAASoJ,EAAY,IAAM,EAAG,CAGhC,IAFA,IAAIW,EAAY,EACVC,EAASZ,EAAWtrB,OACjBF,EAAI,EAAGA,EAAIosB,EAAQpsB,IAAK,CAC/B,IAAM+C,EAAIyoB,EAAWvS,OAAOjZ,EAAG,GACzBkD,EAAIkpB,EAASpsB,EAAI,EACjBqsB,EAAInpB,EAAI,EACRvB,EAAIuB,EAAI,EACJ,MAANH,EACFopB,KAEIA,EAAY,IACdD,GAAcP,EAAO,IAGvBQ,EAAY,EACZD,GAAcP,EAAOvJ,SAASrf,EAAG,KAAO6oB,EAAYjqB,IAE5C,IAANA,GAAWwqB,EAAY,IACzBD,GAAcL,EAAWQ,IAG7BH,GAAcF,EAGhB,GAAmB,KAAfP,EAEF,IADA,IAAMa,EAASb,EAAWvrB,OACjBF,EAAI,EAAGA,EAAIssB,EAAQtsB,IAAK,CAC/B,IAAM+C,EAAI0oB,EAAWxS,OAAOjZ,EAAG,GACrB,MAAN+C,IACFmpB,GAAcP,EAAOY,OAAOxpB,IAAM+oB,EAAW9rB,IASnD,MALmB,KAAfksB,EACFA,GAAcP,EAAO,GAAKK,EAAYD,EACd,KAAfN,IACTS,GAAcH,GAETG,K,sDCleX,SAASM,IAEP,IAAIC,EAAU,oEAGdja,KAAKka,OAAS,SAAU1M,GACtB,GAAa,MAATA,EAAe,OAAO,KAE1B,IACI2M,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EADpCC,EAAS,GAETltB,EAAI,EACRggB,EAAQmN,EAAanN,GACrB,MAAOhgB,EAAIggB,EAAM9f,OACfysB,EAAO3M,EAAMoN,WAAWptB,KACxB4sB,EAAO5M,EAAMoN,WAAWptB,KACxB6sB,EAAO7M,EAAMoN,WAAWptB,KACxB8sB,EAAOH,GAAQ,EACfI,GAAgB,EAAPJ,IAAa,EAAMC,GAAQ,EACpCI,GAAgB,GAAPJ,IAAc,EAAMC,GAAQ,EACrCI,EAAc,GAAPJ,EACHrD,MAAMoD,GACRI,EAAOC,EAAO,GACLzD,MAAMqD,KACfI,EAAO,IAETC,EAASA,EAAST,EAAQ3e,OAAOgf,GAAQL,EAAQ3e,OAAOif,GAAQN,EAAQ3e,OAAOkf,GAAQP,EAAQ3e,OAAOmf,GAExG,OAAOC,GAIT1a,KAAKmM,OAAS,SAAUqB,GACtB,GAAa,MAATA,EAAe,OAAO,KAC1B,IACI2M,EAAMC,EAAMC,EACZC,EAAMC,EAAMC,EAAMC,EAFlBC,EAAS,GAGTltB,EAAI,EAERggB,EAAQA,EAAMjV,QAAQ,sBAAuB,IAC7C,MAAO/K,EAAIggB,EAAM9f,OACf4sB,EAAOL,EAAQxiB,QAAQ+V,EAAMlS,OAAO9N,MACpC+sB,EAAON,EAAQxiB,QAAQ+V,EAAMlS,OAAO9N,MACpCgtB,EAAOP,EAAQxiB,QAAQ+V,EAAMlS,OAAO9N,MACpCitB,EAAOR,EAAQxiB,QAAQ+V,EAAMlS,OAAO9N,MACpC2sB,EAAQG,GAAQ,EAAMC,GAAQ,EAC9BH,GAAgB,GAAPG,IAAc,EAAMC,GAAQ,EACrCH,GAAgB,EAAPG,IAAa,EAAKC,EAC3BC,GAAkBjO,OAAOoO,aAAaV,GAC1B,IAARK,IACFE,GAAkBjO,OAAOoO,aAAaT,IAE5B,IAARK,IACFC,GAAkBjO,OAAOoO,aAAaR,IAI1C,OADAK,EAASI,EAAaJ,GACfA,GAIT,IAAIC,EAAe,SAAUI,GAC3BA,EAASA,EAAOxiB,QAAQ,QAAS,MAEjC,IADA,IAAIyiB,EAAU,GACLzqB,EAAI,EAAGA,EAAIwqB,EAAOrtB,OAAQ6C,IAAK,CACtC,IAAInB,EAAI2rB,EAAOH,WAAWrqB,GACtBnB,EAAI,IACN4rB,GAAWvO,OAAOoO,aAAazrB,GACtBA,EAAI,KAAOA,EAAI,MACxB4rB,GAAWvO,OAAOoO,aAAczrB,GAAK,EAAK,KAC1C4rB,GAAWvO,OAAOoO,aAAkB,GAAJzrB,EAAU,OAE1C4rB,GAAWvO,OAAOoO,aAAczrB,GAAK,GAAM,KAC3C4rB,GAAWvO,OAAOoO,aAAezrB,GAAK,EAAK,GAAM,KACjD4rB,GAAWvO,OAAOoO,aAAkB,GAAJzrB,EAAU,MAG9C,OAAO4rB,GAILF,EAAe,SAAUE,GAC3B,IAAID,EAAS,GACTvtB,EAAI,EACJ4B,EAAI,EAGN6rB,EAAK,EACLC,EAAK,EACP,MAAO1tB,EAAIwtB,EAAQttB,OACjB0B,EAAI4rB,EAAQJ,WAAWptB,GACnB4B,EAAI,KACN2rB,GAAUtO,OAAOoO,aAAazrB,GAC9B5B,KACS4B,EAAI,KAAOA,EAAI,KACxB6rB,EAAKD,EAAQJ,WAAWptB,EAAI,GAC5ButB,GAAUtO,OAAOoO,cAAmB,GAAJzrB,IAAW,EAAW,GAAL6rB,GACjDztB,GAAK,IAELytB,EAAKD,EAAQJ,WAAWptB,EAAI,GAC5B0tB,EAAKF,EAAQJ,WAAWptB,EAAI,GAC5ButB,GAAUtO,OAAOoO,cAAmB,GAAJzrB,IAAW,IAAa,GAAL6rB,IAAY,EAAW,GAALC,GACrE1tB,GAAK,GAGT,OAAOutB,GAIX,IAAII,EAAM,IAAInB,EACCmB,U,oCC5Gf,yBAKeC,SAAf,G,qKCFIC,EAAe,iBAEfC,EAAY,GACZC,EAAoB,GACpBC,EAAc,GAEdC,EAA8B,qBAAX5rB,QAA0BkkB,OAAMyC,SAAS3mB,SAA8B,qBAAZ6rB,SAA2B3H,OAAMyC,SAASkF,QAAQC,SAChIC,EAAkB,wBAGtB,SAASC,EAAUxb,GACjB,IAAKA,EAAQ/Q,KACX,KAAM,aAER,IAAK+Q,EAAQ/Q,KAAKib,WAAW,SAAWlK,EAAQ/Q,KAAKib,WAAW,aAC9D,KAAM,KAAOlK,EAAQ/Q,KAAO,4CAE9B,IAAK+Q,EAAQyb,YACX,MAAMzb,EAAQ/Q,KAAO,oBAEvBssB,EAAgBhhB,UAAY,EAC5B,IAAI4L,EAAOoV,EAAgB5iB,KAAKqH,EAAQ/Q,MACpCkY,EAAM,GACV,GAAIhB,GAAQA,EAAK9Y,OAAS,EACxB,IAAK,IAAIF,EAAI,EAAGA,EAAIgZ,EAAK9Y,OAAQF,IAC3BgZ,EAAKhZ,IACPga,EAAIxZ,KAAKwY,EAAKhZ,GAAGklB,eAInBtK,IAAI8B,QAAQ7J,EAAQgN,SACtBhN,EAAQgN,MAAQ,IAElB,IAAI0O,EAAUvU,EAAIlP,KAAK,KACvB+H,EAAQgN,MAAM,YAAc,CAC1BnW,KAAMuV,OACNuP,QAASD,GAEX,IAAIE,EAAW5b,EAAQ4b,SAAWF,EAElC,GAAKT,EAAUW,GA4Cb,OAAOX,EAAUW,GA1CjB,GADAZ,EAAazgB,UAAY,GACpBygB,EAAa7iB,KAAK6H,EAAQ/Q,MAC7B,MAAM+Q,EAAQ/Q,KAAO,4BAWvB,GATK+Q,EAAQgN,QACXhN,EAAQgN,MAAQ,IAEbjF,IAAI9V,OAAO+N,EAAQgN,MAAO,cAC7BhN,EAAQgN,MAAM,YAAc,CAC1BnW,KAAMuV,OACNuP,QAAS3b,EAAQ/Q,QAGhB8Y,IAAI9V,OAAO+N,EAAQgN,MAAO,YAAa,CAC1CuO,EAAgBhhB,UAAY,EAC5B,IAAI4L,EAAOoV,EAAgB5iB,KAAKqH,EAAQ/Q,MACpCkY,EAAM,GACV,GAAIhB,GAAQA,EAAK9Y,OAAS,EACxB,IAAK,IAAIF,EAAI,EAAGA,EAAIgZ,EAAK9Y,OAAQF,IAC3BgZ,EAAKhZ,IACPga,EAAIxZ,KAAKwY,EAAKhZ,GAAGklB,eAIvB,IAAIqJ,EAAUvU,EAAIlP,KAAK,KACvB+H,EAAQgN,MAAM,YAAc,CAC1BnW,KAAMuV,OACNuP,QAASD,GAEX1b,EAAQ4b,SAAWF,EAGrB,IAAIE,EAAW5b,EAAQ4b,SAASvJ,cAE5BwJ,EAASC,EAAqB9b,GAAS,EAAM,CAAC,QAAS,WAEvD+b,EAAYC,EAAiBhc,EAAS6b,EAAO,UAKjD,OAJA7b,EAAQic,OAASC,EAAWlc,EAAQic,QAAU,GAAIJ,EAAO,WACzDZ,EAAUW,GAAYG,EACtBb,EAAkBU,GAAY5b,EAAQic,OACtCd,EAAYS,GAAY5b,EACjBA,EAOX,SAASmc,EAAgBnsB,EAAKosB,GAC5B,GAAqB,UAAjBrU,IAAIlR,KAAK7G,IACX,GAAIirB,EAAUjrB,GAAM,CAClB,IAAIqsB,EAAQtU,IAAI0I,KAAI,EAAM,GAAIwK,EAAUjrB,GAAMosB,GAAc,IAI5D,OAHKC,EAAMC,WACTD,EAAMC,SAAWvU,IAAI8N,QAEhBwG,QAEJ,GAAqB,UAAjBtU,IAAIlR,KAAK7G,GAIlB,OAHKirB,EAAUjrB,EAAI4rB,WACjBJ,EAAUxrB,GAELmsB,EAAgBnsB,EAAI4rB,SAAUQ,GAIzC,SAASG,EAAoBvsB,GAC3B,GAAImrB,EAAYnrB,GACd,OAAOmrB,EAAYnrB,GAKvB,SAASwsB,EAA0BxsB,GACjC,OAAOkrB,EAAkBlrB,GAI3B,SAASysB,EAA0BzP,EAAOvX,GACxC,GAAIuX,EAAO,CACT,IAAIje,EAAIgZ,IAAIoU,gBAAgBnP,EAAM4O,UAGlC,IAAK,IAAI7U,KAAKiG,EACRjG,EAAEmD,WAAW,OACf8C,EAAMjG,EAAEX,OAAO,IAAM4G,EAAMjG,UACpBiG,EAAMjG,IAIjBgB,IAAI0I,IAAIzD,EAAOjF,IAAI0I,IAAI1hB,EAAGie,IAC1BvX,GAAYA,EAAS1G,GACjBie,EAAM0P,OACRlS,EAAElX,KAAK0Z,EAAM0P,OAAO,SAAAC,GAClB,IAAIC,EAAWD,EAAKC,SACpBpS,EAAElX,KAAKspB,GAAU,SAAAC,GACfJ,EAA0BI,EAAWpnB,SAK7C,OAAOuX,EAIT,SAAS8P,EAAwB9P,EAAOvX,GAClCuX,IACFvX,GAAYA,EAASuX,GACjBA,EAAM0P,OACRlS,EAAElX,KAAK0Z,EAAM0P,OAAO,SAAAC,GAClB,IAAIC,EAAWD,EAAKC,SACpBpS,EAAElX,KAAKspB,GAAU,SAAAC,GACfC,EAAwBD,EAAWpnB,UAO7C,SAASsnB,IACPxsB,OAAO4O,oBAAoB,SAAU6d,GACrCzsB,OAAO8G,iBAAiB,SAAU2lB,GAGpC,SAASA,EAAiBC,EAAOC,GAC/B,IAAIC,EAAOD,EAITC,EAHGA,EAGI,CAACA,GAFD/qB,SAASgrB,iBAAiB,YAInC5S,EAAElX,KAAK6pB,GAAM,SAAClQ,GACZ,IAAIuO,EAAYvO,EAAGpC,OAASoC,EAAKA,EAAGoQ,QACpCC,EAAQ9B,MAIZ,SAAS8B,EAAQ9B,GACZA,IACGA,EAAUI,UAAYJ,EAAU+B,SAAW/B,EAAUgC,gBACvDhC,EAAU+B,SAER/B,EAAUiC,WACZjT,EAAElX,KAAKkoB,EAAUiC,WAAW,SAACC,GAC3BJ,EAAQI,OAQhB,SAAS5B,EAAqB9b,EAAS2d,EAAQC,GAC7C,IAAI1vB,EAAS,GACX2vB,EAAW,GACT1W,EAAM,GACN2W,EAAS9d,EAAQ+d,QACjBlC,EAAS7b,EAAQ6b,QAAU,GAO/B,GANI9T,IAAI4L,MAAMmK,KACZ3W,EAAMA,EAAIxZ,KAAKmwB,IAEbjC,GAAUA,EAAOxuB,SACnB8Z,EAAMA,EAAI/O,OAAOyjB,KAEJ,IAAX8B,EACF,IAAK,IAAI5W,KAAK6W,EACR5d,EAAQ4d,EAAM7W,MAChB7Y,EAAO0vB,EAAM7W,IAAMgB,IAAI0I,IAAI,GAAIzQ,EAAQ4d,EAAM7W,MAKnD,GAAII,GAAOA,EAAI9Z,OACb,IAAK,IAAIF,EAAI,EAAGA,EAAIga,EAAI9Z,OAAQF,IAAK,CACnC,IAAI6wB,EAAOlC,EAAqB3U,EAAIha,IAAI,EAAOywB,GAC/C1vB,EAASguB,EAAWhuB,EAAQ8vB,GAIhC,OADAH,EAAW3B,EAAW2B,EAAU3vB,GACzB2vB,EAIT,SAASI,EAAeje,EAASgN,GAC/B,IAAIoP,EAAa,GACf8B,EAAmB,GACnBL,EAAW,GACb,IAAK,IAAI9W,KAAK/G,EAAQgN,MAAO,CAC3B,IAAImR,OAAO,EACX,GAAIpW,IAAI9V,OAAO+N,EAAQgN,MAAMjG,GAAI,WAAY,CAC3C,IAAIqX,OAAa7oB,EACb8oB,EAAcre,EAAQgN,MAAMjG,GAAG4U,QACnCyC,EAAarW,IAAI5U,WAAWkrB,GAAeA,IAAgBA,EAC3DF,EAAUC,EAEZhC,EAAWrV,GAAKoX,EAElB,IAAK,IAAIpX,KAAKiG,EAAO,CACnB,IAAImR,OAAO,EACX,GAAIpW,IAAI9V,OAAO+a,EAAMjG,GAAI,WAAY,CACnC,IAAIqX,OAAa7oB,EACb8oB,EAAcrR,EAAMjG,GAAG4U,QAC3ByC,EAAarW,IAAI5U,WAAWkrB,GAAeA,IAAgBA,EAC3DF,EAAUC,EAEZF,EAAiBnX,GAAKoX,EAIxB,OAFAjC,EAAWE,EAAY8B,GACvBL,EAAW3B,EAAW2B,EAAUzB,GACzByB,EAIT,SAAS3B,EAAWoC,EAAIN,GACtB,IAAKA,EACH,OAAOM,EAKT,IAHA,IAAItuB,EAAKuuB,EAAOC,EACZC,EAAOrD,EAAYC,QAAQC,QAAQ0C,GAAQ1wB,OAAOmxB,KAAKT,GAElD7wB,EAAI,EAAGA,EAAIsxB,EAAKpxB,OAAQF,IAC/B6C,EAAMyuB,EAAKtxB,GACXoxB,EAAQD,EAAGtuB,GACXwuB,EAAUR,EAAKhuB,GACV+X,IAAI9V,OAAOqsB,EAAItuB,GAETuuB,IAAUC,GAAWzW,IAAIiP,cAAcuH,IAAUxW,IAAIiP,cAAcwH,IAC5EtC,EAAWqC,EAAOC,GAFlBF,EAAGtuB,GAAOwuB,EAKd,OAAOF,EAIT,SAAStC,EAAiBhc,EAAS0e,GAEjC,IAAI3C,EAAYkC,EAAeje,EAAS0e,GASxC,OARA3C,EAAU4C,SAAW3e,EAAQ/Q,KAC7B8sB,EAAUH,SAAW5b,EAAQ4b,SAEzBG,EAAU6C,WAEZ7C,EAAU6C,SAASC,eAAiB,CAAEjmB,KAAMoH,EAAQyb,YAAa/rB,MAAOsQ,EAAQ4b,UAChFG,EAAU6C,SAAShC,SAAW,CAACb,EAAU6C,SAASC,iBAE7C9C,EAcM,QACbP,YACAW,kBACAM,4BACAK,0BACAN,4BACAO,iBACA+B,gBAAiB,SAAC3B,GAChBH,EAAiB,KAAMG,IAEzBZ,yB,0ZC7REzrB,EAASP,QAAUO,EAEnBiX,EAAM,6DACRlX,aACG6iB,QAFE,IAGLld,WACAuoB,YACAC,cACAC,WACA/Q,eACAgR,YACArpB,eACG2lB,QAVE,IAWL7O,aACA7b,SACA8tB,gBACAO,cACGC,QAfE,IAgBLC,gBACAC,cACAC,aACAC,YACA1Y,eACA2Y,gBACA1V,iBACA2V,eACAC,cACAC,WAAU,kBACNA,UAIF3X,QACFF,EAAI0I,IAAI1I,EAAK,CAAC,QAAUE,SAKtBnX,IACFA,EAAOiX,IAAMA,EACbjX,EAAO0Z,EAAI1Z,EAAO+uB,OAASrV,EAC3B1Z,EAAO6c,EAAI7c,EAAOgvB,OAASnS,K,oECpEd,eAAS5F,GACtB,MAAO,CACL/S,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CAAC,CAChBjxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KAEdG,eAAe,EACfC,KAAM,SCpBG,WAAUtY,EAAI/H,GAC3B,MAAO,CACL,GAAM,GACN,KAAQ,GACR,KAAQ,GACR,KAAQ+H,EAAI6W,SAASmB,OAAO,GAC5B,GAAM,GACN,MAAS,EACT,eAAkB,KAClB,SAAY,GACZ,SAAYhY,EAAI6W,SAASa,WACzB,aAAgB,KAChB,gBAAmB,CACjB,CACE,KAAQ,MACR,KAAQ,OACR,KAAQ1X,EAAI6W,SAASuB,YAAY,UACjC,OAAU,GACV,aAAgB,KAChB,KAAQ,SCnBD,WAAUpY,EAAI/H,GAC3B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,OACNkX,KAAM,MACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,cAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,SClBC,WAAStY,EAAI/H,GAC1B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdK,WAAY,CACVna,KAAM,KACNtP,KAAM,SACN0pB,OAAQ,IAEVL,gBAAiB,CAAC,CACdjxB,KAAM,IACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdG,eAAe,EACfC,KAAM,MAER,CACEpxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdI,KAAM,SC/BC,WAAUtY,EAAI/H,GAC3B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChB2B,MAAO,EACP5D,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,KCZN,WAAUnY,EAAI/H,GAC3B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,OACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdI,KAAM,SClBC,WAAUtY,EAAI/H,GAC3B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,OACNkX,KAAM,MACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdI,KAAM,SClBC,WAAUtY,EAAI/H,GAC3B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV4D,MAAO,EACPf,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,GACNkX,KAAM,GACNtP,KAAM,GACNxJ,OAAQ,GACR4yB,aAAc,KACdI,KAAM,SCnBC,WAAUtY,GACvB,MAAO,CACL/S,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV4D,MAAO,EACPf,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,YACNkX,KAAM,MACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,WACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,SCnDC,WAAStY,EAAK/H,GAC3B,MAAO,CACL,GAAM,GACN,KAAQ,GACR,KAAQ,GACR,KAAQ+H,EAAI6W,SAASmB,OAAO,GAC5B,GAAM,GACN,eAAkB,KAClB,SAAY,GACZ,MAAS,EACT,cAAiB,OACjB,SAAYhY,EAAI6W,SAASa,WACzB,aAAgB,KAChB,gBAAmB,CAAC,CAChB,KAAQ,OACR,KAAQ,OACR,KAAQ1X,EAAI6W,SAASuB,YAAY,UACjC,OAAU,KACV,aAAgB,KAChB,KAAQ,MACP,CACDlxB,KAAM,YACNkX,KAAM,MACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,WACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,SClDC,WAAStY,EAAI/H,GAC1B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,OACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,QAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,MACL,CACDpxB,KAAM,OACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,QAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,SCzBC,WAAStY,EAAI/H,GAC1B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,QAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,SClBC,WAAStY,EAAI/H,GAC1B,MAAO,CACLhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,QAC/B9yB,OAAQA,QAAU,GAClB4yB,aAAc,KACdI,KAAM,SClBC,WAAUtY,GACvB,MAAO,CACL/S,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,SCjBC,WAAUtY,EAAK/H,GAC1B,MAAO,CACHhL,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdK,WAAY,CACRzpB,KAAM,SACNsP,KAAM,GACNoa,OAAQ,IAEZL,gBAAiB,CACb,CACIjxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,MAEV,CACIpxB,KAAM,IACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,SChCP,WAAUtY,GACrB,MAAO,CACH/S,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,SAAS,CAC5B,WAAc,mDACd,KAAQ,mDACR,WAAc,oDACf,CACC,QAAW,GACX,SAAY,IACZ,IAAO,GACP,IAAO,GACP,UAAa,GACb,UAAY,EACZ,YAAe,GAChB,QACHQ,aAAc,KACdC,gBAAiB,CACb,CACIjxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,MACR4yB,aAAc,KACdI,KAAM,SC9BP,WAAStY,EAAK/H,GAC3B,MAAO,CACL,GAAM,GACN,KAAQ,GACR,KAAQ,GACR,KAAQ+H,EAAI6W,SAASmB,OAAO,GAC5B,GAAM,GACN,eAAkB,KAClB,SAAY,GACZ,SAAYhY,EAAI6W,SAASa,WACzB,aAAgB,KAChB,gBAAmB,CAAC,CAClB,KAAQ,OACR,KAAQ,SACR,KAAQ1X,EAAI6W,SAASuB,YAAY,UACjC,OAAU,IACV,aAAgB,KAChB,KAAQ,SCjBC,aACb,MAAO,CACLnrB,GAAI,GACJ/F,KAAM,OACNkX,KAAM,GACNtP,KAAMkR,IAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJQ,MAAO,EACP5D,SAAU,GACV6C,SAAU1X,IAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,OACNkX,KAAM,QACNtP,KAAMkR,IAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,OACNkX,KAAM,UACNtP,KAAMkR,IAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,KACR4yB,aAAc,KACdI,KAAM,SCLdtY,IAAI6W,SAAStP,IAAI,iBAAkBmR,GACnC1Y,IAAI6W,SAAStP,IAAI,qBAAsBoR,GACvC3Y,IAAI6W,SAAStP,IAAI,sBAAuBqR,GAExC5Y,IAAI6W,SAAStP,IAAI,kBAAmBsR,GACpC7Y,IAAI6W,SAAStP,IAAI,oBAAqBuR,GACtC9Y,IAAI6W,SAAStP,IAAI,iBAAkBwR,GACnC/Y,IAAI6W,SAAStP,IAAI,kBAAmByR,GAEpChZ,IAAI6W,SAAStP,IAAI,mBAAoB0R,GACrCjZ,IAAI6W,SAAStP,IAAI,sBAAuB2R,GACxClZ,IAAI6W,SAAStP,IAAI,qBAAsB4R,GAEvCnZ,IAAI6W,SAAStP,IAAI,0BAA2B6R,GAC5CpZ,IAAI6W,SAAStP,IAAI,wBAAyB8R,GAC1CrZ,IAAI6W,SAAStP,IAAI,wBAAyB+R,GAE1CtZ,IAAI6W,SAAStP,IAAI,iBAAkBgS,GACnCvZ,IAAI6W,SAAStP,IAAI,uBAAwBiS,GACzCxZ,IAAI6W,SAAStP,IAAI,4BAA6BkS,GAC9CzZ,IAAI6W,SAAStP,IAAI,yBAA0BmS,GAC3C1Z,IAAI6W,SAAStP,IAAI,sBAAuBoS,I,2ECxCpCC,EAAc,GAEdC,EAAW,CACb,CAAEhpB,KAAM,KAAMlJ,MAAO,UACrB,CAAEkJ,KAAM,KAAMlJ,MAAO,QACrB,CAAEkJ,KAAM,KAAMlJ,MAAO,UACrB,CAAEkJ,KAAM,KAAMlJ,MAAO,UACrB,CAAEkJ,KAAM,KAAMlJ,MAAO,QACrB,CAAEkJ,KAAM,MAAOlJ,MAAO,eAGpBqwB,EAAS,SAAS8B,GACpB,IAAI/f,EAAI,CACN,EAAK,CAAEpS,MAAO,IAAKkJ,KAAM,SACzB,EAAK,CAAElJ,MAAO,IAAKkJ,KAAM,SACzB,EAAK,CAAElJ,MAAO,IAAKkJ,KAAM,UAE3B,OAAOkJ,EAAE+f,IAGP1B,EAAc,SAAStpB,GACzB,OAAO2T,EAAEsX,KAAKF,GAAU,SAAA9f,GACtB,OAAOA,EAAEpS,OAASmH,MAclB4oB,EAAW,WACb,OAAO,MAGT,SAASnQ,EAAItf,EAAK4uB,GAOhB,OANA5uB,EAAM0jB,OAAM2C,UAAUrmB,GACjB2xB,EAAY3xB,GAGf+X,IAAImN,KAAKllB,EAAM,WAFf2xB,EAAY3xB,GAAO4uB,EAId+C,EAAY3xB,GAGrB,SAASV,EAAIU,EAAK2D,GAChB3D,EAAM0jB,OAAM2C,UAAUrmB,GACtB,IAAIlB,EAAI6yB,EAAY3xB,GAAK+X,KAEzB,OADAjZ,EAAEizB,KAAO/xB,EACF+X,IAAI0I,IAAI3hB,EAAG6E,GAAO,IAG3B,SAAS0f,EAAI1f,GACX,IAAK,IAAIoT,KAAKpT,EACZ2b,EAAIvI,EAAGpT,EAAIoT,IAIf,SAAS6J,IACP,OAAO+Q,EAIM,QACbrS,MACAhgB,MACAshB,MACAyC,MACA0M,SACA6B,WACAzB,cACAV,c,oFC3Ea,QACb5D,OAAQ,CAACmG,QACTC,QAFa,WAGX,MAAM,CACJC,MAAMviB,OAGVqN,MAAO,CACLmV,SAAS,CACPtrB,KAAMurB,QACNzG,SAAS,GAEX1sB,KAAM,CACJ4H,KAAMuV,OACNuP,QAAS,IAEX0G,OAAQ,CACNxrB,KAAM6iB,OACNiC,QAAS,GAEX/S,OAAQ,CACN/R,KAAMurB,QACNzG,SAAS,GAEX/lB,QAAS,CACPiB,KAAMvJ,OACNquB,QAFO,WAGL,MAAO,CACL2G,EAAG,GACHC,EAAG,MAITC,cAAe,CACb3rB,KAAMuV,OACNuP,QAAS,OAEX8G,MAAO,CACL5rB,KAAMuV,OACNuP,QAAS,IAGX+G,cAAe,CACb7rB,KAAMuV,OACNuP,QAAS,QAEXgH,IAAK,CACH9rB,KAAM,CAACuV,OAAOgW,SACdzG,SAAS,GAGXiH,UAAW,CACT/rB,KAAMuV,OACNuP,QAAS,IAGXkH,UAAW,CACThsB,KAAMuV,OACNuP,QAAS,IAGXmH,UAAW,CACTjsB,KAAMuV,OACNuP,QAAS,WAGXoH,UAAW,CACTlsB,KAAMuV,OACNuP,QAAS,IAGXqH,UAAW,CACTnsB,KAAMurB,QACNzG,SAAS,GAGXsH,UAAW,CACTpsB,KAAMurB,QACNzG,SAAS,GAGXuH,cAAe,CACbrsB,KAAMuS,MACNuS,QAFa,WAGX,MAAO,KAGXwH,SAAU,CACRtsB,KAAMuV,OACNuP,QAAS,SAEXyH,UAAW,CACTvsB,KAAMvJ,OACNquB,QAFS,WAGP,MAAO,CACL0H,OAAO,KAIbC,UAAW,CACTzsB,KAAMuV,OACNuP,QAAS,IAGX4H,UAAU,CACR1sB,KAAKurB,QACLzG,SAAQ,GAEV6H,UAAW,CACT3sB,KAAMurB,QACNzG,SAAS,IAOb9uB,KArHa,WAsHX,MAAO,CACL42B,WAAY9jB,KAAK0iB,OACjBqB,WAAY,KAGhBC,SAAU,CACRC,UADQ,WAEN,OAAOjkB,KAAK/J,QAAQ0sB,EAAI,IAAM3iB,KAAK/J,QAAQ2sB,GAE7CsB,UAJQ,WAKN,IAAIC,EAASnkB,KAAKmkB,SACd3B,EAASxiB,KAAKwiB,SAClB,QAAG2B,GAIM3B,IAIb4B,UA1Ia,aA2IbC,QA3Ia,aA4IbC,QA5Ia,WA6INtkB,KAAKmkB,UAA6B,QAAjBnkB,KAAKwjB,WACzBxjB,KAAKukB,IAAI,yBAAyB,SAAC7kB,GACpBA,EAAIrL,OACjB2gB,QAAQK,KAAK,MAEbL,QAAQyC,QAAQ,SAElBzX,KAAKukB,IAAI,4BAA4B,SAAC7kB,GACvBA,EAAIrL,YAKvBmwB,QAAS,CACPC,UADO,WAEL,IAAIvC,IAAQliB,KAAK0kB,MAAMZ,WAEvB,OADA9jB,KAAK2kB,MAAM,gBAAiBzC,GACrBA,GAET0C,SANO,WAOD5kB,KAAKmkB,WAMb7H,OAAQ,CACNuI,QAAQ,K,sJC3KG,QAEbC,kBAFa,SAEK30B,EAAIqgB,GACpB,IAAID,EAAOpgB,EACPogB,EAAKhG,WAAW,OAClBgG,EAAOA,EAAK9J,OAAO,IAErB,IAAI5P,EAAM,uBAAyB0Z,EACnC,OAAOvQ,KAAK+kB,MAAMp1B,IAAIkH,EAAK2Z,IAI7BwU,aAZa,SAYAxU,GAEX,OADAA,EAAOyU,MAAQtc,KAAK4E,UAAUiD,EAAOyU,OAC9BjlB,KAAK+kB,MAAMp1B,IAAI,aAAc6gB,IAGtC0U,UAjBa,SAiBH1U,GACR,OAAOxQ,KAAK+kB,MAAMhU,KAAK,cAAeP,IAGxC2U,iBArBa,SAqBI3U,GACf,OAAOxQ,KAAK+kB,MAAMhU,KAAK,iBAAkBP,IAG3CoU,SAzBa,SAyBJpU,GACP,OAAOxQ,KAAK+kB,MAAMhU,KAAK,oBAAqBP,EAAQ,OAEtD4U,mBA5Ba,SA4BM5U,GACjB,OAAOxQ,KAAK+kB,MAAMp1B,IAAI,oBAAqB6gB,EAAQ,MAChDqD,MAAK,SAAC3mB,GACL,OAAOA,MAIbm4B,cAnCa,SAmCC7U,GACZ,IAAIlT,EAAMkT,EAAOlY,KAAK,KACtB,OAAO0H,KAAK+kB,MAAMp1B,IAAI,mBAAoB,CAAE21B,MAAOhoB,GAAO,MACvD4T,MAAK,YAAc,IAAXhkB,EAAW,EAAXA,KACP,OAAOA,MAIbq4B,qBA3Ca,SA2CQ/U,GACnB,IAAIlT,EAAMkT,EAAOlY,KAAK,KACtB,OAAO0H,KAAK+kB,MAAMp1B,IAAI,gBAAiB,CAAE2N,IAAKA,GAAO,MAClD4T,MAAK,YAAc,IAAXhkB,EAAW,EAAXA,KACP,OAAOA,MAKbs4B,sBApDa,SAoDShV,EAAQiV,GAC5B,IAAIC,EAAO,GACX,SAAShxB,EAAGxH,GACV,GAAIA,EAAK+xB,SAAU,CACjB,IAAI5N,EAAOxG,EAAE1P,IAAIjO,EAAK+xB,UAAU,SAAC9vB,EAAG3B,GAClC,IAAIm4B,EAAMx2B,EAAEoxB,gBAiBZ,OAhB2B,IAAvBkF,GACEE,EAAIj4B,OAAS,GACfyB,EAAE4uB,SAAW4H,EACb9a,EAAElX,KAAKgyB,GAAK,SAACxjB,GACXA,EAAEyjB,aAAez2B,EAAEG,KAAO,IAAM6S,EAAE7S,KAAO,IACzC6S,EAAE0jB,MAAQ12B,EAAEqX,KAAO,IAAMrE,EAAEqE,KAC3BrE,EAAE9M,GAAKlG,EAAEkxB,GAAG9nB,QAAQ,MAAO,KAAO,IAAMpJ,EAAEqX,KAAO,IAAMrE,EAAEqE,UAO7DrX,EAAEy2B,aAAez2B,EAAEG,KACnBH,EAAE02B,MAAQ12B,EAAEqX,MAEPrX,KAETkiB,EAAOA,EAAKyU,MAAK,SAACC,EAAIC,GACpB,OAAOD,EAAGE,MAAQD,EAAGC,OAAS,EAAI,KAEpC/4B,EAAK6wB,SAAW1M,SACTnkB,EAAK+xB,UAGhB,OAAOjf,KAAK+kB,MAAMp1B,IAAI,gBAAiB6gB,GACpCU,MAAK,YAEJ,IAFkB,IAAXhkB,EAAW,EAAXA,KACHg5B,EAAYh5B,EAAKA,KACZM,EAAI,EAAGA,EAAI04B,EAAUx4B,OAAQF,IAAK,CACzC,IAAIN,EAAOkb,IAAI0I,IAAI,GAAIoV,EAAU14B,IACjCkH,EAAGxH,GACHw4B,EAAK13B,KAAKd,GAOZ,OALIsjB,EAAO2V,YACTT,EAAO7a,EAAE0J,OAAOmR,GAAM,SAACvjB,GACrB,OAAOA,EAAEikB,IAAM5V,EAAO2V,cAGnBT,MAIZW,sBApGY,SAoGU7V,EAAQiV,GAC7B,IAAIC,EAAO,GACX,SAAShxB,EAAGxH,GACV,GAAIA,EAAK+xB,SAAU,CACjB,IAAI5N,EAAOxG,EAAE1P,IAAIjO,EAAK+xB,UAAU,SAAC9vB,EAAG3B,GAClC,IAAIm4B,EAAMx2B,EAAEoxB,gBAiBZ,OAhB2B,IAAvBkF,GACEE,EAAIj4B,OAAS,GACfyB,EAAE4uB,SAAW4H,EACb9a,EAAElX,KAAKgyB,GAAK,SAACxjB,GACXA,EAAEyjB,aAAez2B,EAAEG,KAAO,IAAM6S,EAAE7S,KAAO,IACzC6S,EAAE0jB,MAAQ12B,EAAEqX,KAAO,IAAMrE,EAAEqE,KAC3BrE,EAAE9M,GAAKlG,EAAEkxB,GAAG9nB,QAAQ,MAAO,KAAO,IAAMpJ,EAAEqX,KAAO,IAAMrE,EAAEqE,UAO7DrX,EAAEy2B,aAAez2B,EAAEG,KACnBH,EAAE02B,MAAQ12B,EAAEqX,MAEPrX,KAETkiB,EAAOA,EAAKyU,MAAK,SAACC,EAAIC,GACpB,OAAOD,EAAGE,MAAQD,EAAGC,OAAS,EAAI,KAEpC/4B,EAAK6wB,SAAW1M,SACTnkB,EAAK+xB,UAGhB,OAAOjf,KAAK+kB,MAAMp1B,IAAI,iBAAkB6gB,GACrCU,MAAK,YAEJ,IAFkB,IAAXhkB,EAAW,EAAXA,KACHg5B,EAAYh5B,EAAKA,KACZM,EAAI,EAAGA,EAAI04B,EAAUx4B,OAAQF,IAAK,CACzC,IAAIN,EAAOkb,IAAI0I,IAAI,GAAIoV,EAAU14B,IACjCkH,EAAGxH,GACHw4B,EAAK13B,KAAKd,GAOZ,OALIsjB,EAAO2V,YACTT,EAAO7a,EAAE0J,OAAOmR,GAAM,SAACvjB,GACrB,OAAOA,EAAEikB,IAAM5V,EAAO2V,cAGnBT,MAIbY,gBApJa,SAoJG9V,GACd,OAAOxQ,KAAK+kB,MAAMp1B,IAAI,yBAA0B,IAC7CkkB,MAAK,SAACzC,GACL,OAAOA,MAIbmV,oBA3Ja,SA2JO/V,GAClB,OAAOxQ,KAAK+kB,MAAMp1B,IAAI,0BAA2B,IAC9CkkB,MAAK,SAACzC,GACL,OAAOA,MAIboV,MAlKa,SAkKPhW,GACJ,OAAOxQ,KAAK+kB,MAAMhU,KAAK,cAAeP,GAAQU,MAAK,YAAc,IAAXhkB,EAAW,EAAXA,KACpD,OAAOA,MAIXu5B,SAxKa,WAyKX,OAAOzmB,KAAK+kB,MAAMhU,KAAK,kBAAkBG,MAAK,YAAc,IAAXhkB,EAAW,EAAXA,KAC/C,OAAOA,S,0DC1Kb,IAAIw5B,EAAa,GAMjB,SAASC,EAAQC,GACf,IAAK,IAAIxf,KAAKsf,EACZE,EAAIC,UAAUzf,EAAGsf,EAAWtf,IAIjBuf,U,oFC2Bf,SAASG,IACP,IAAI1nB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WAClCtE,EAAM,GACNsvB,OAAOoH,KACT12B,EAAM,KACGsvB,OAAOqH,WAChB32B,EAAM,UAER,IAAI42B,EAAS7nB,EAAK,GAClB,OAAI/O,GAAO+X,IAAIwX,MAAMvvB,GAAK42B,GACjB7e,IAAIwX,MAAMvvB,GAAK42B,GAAQ54B,MAAM2R,KAAMZ,EAAKtO,MAAM,IAEhD,KAjDM,QACbo2B,GAAI,GACJC,OAAQ,GACRC,WAHa,WAIX,IAAIhoB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,cAA3B,sBAA4CZ,MAErDioB,WAPa,WAQX,IAAIjoB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,cAA3B,sBAA4CZ,MAErD8U,QAXa,WAYX,IAAI9U,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,WAA3B,sBAAyCZ,MAElDkoB,QAfa,WAgBX,IAAIloB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,WAA3B,sBAAyCZ,MAElDmoB,aAnBa,WAoBX,IAAInoB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,gBAA3B,sBAA8CZ,MAEvDooB,MAvBa,WAwBX,IAAIpoB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,SAA3B,sBAAuCZ,MAEhDqoB,QAAS,WACP,IAAIroB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,WAA3B,sBAAyCZ,MAElDsoB,OAAQ,WACN,IAAItoB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACtC,OAAOmyB,EAAcz4B,MAAM2R,KAApB,CAA2B,UAA3B,sBAAwCZ,Q,qBCnCnDnQ,EAAOD,QAAU,00B,qGC8DjB,SAAS24B,EAAaC,EAAQva,EAAOwa,GACnC,IAAF,GACIC,OAAQD,EACRv4B,KAAM,gBACNy4B,OAAQ,CACN9f,YAAa,CACX+T,QAAS,MAEXgM,OAAQ,CACNhM,QAAS,OAGbsG,QAXJ,WAYM,MAAO,CACLxa,IAAK9H,KACLiI,YAAajI,OAGjBkc,OAAQ,GACRhvB,KAlBJ,WAmBM,MAAO,CACL+I,QAAS,CACPgyB,eAAgB,GAChBC,WAAY,GACZC,OAAQ,IAEVC,WAAY/a,EACZgb,WAAW,EACXC,OAAQ,GACRC,WAAW,EACXjB,SAAS,EACTkB,aAAc,GACdC,MAAO,KAGXpb,MAAO,CACLtF,YAAa,CACX7Q,KAAMvJ,OACNquB,QAFR,WAGU,MAAO,KAGX0M,aAAc,CACZxxB,KAAMvJ,OACNquB,QAFR,WAGU,OAAO,QAIbgI,SAAU,CACRzB,MADN,WAEQ,OAAOviB,KAAK2oB,MAAMnL,MAEpBoL,UAJN,WAKQ,OAAO5oB,KAAK/J,QAAQiyB,YAAc,IAEpCnf,cAPN,WAQQ,OAAO/I,KAAK/J,QAAQgyB,gBAEtBY,MAVN,WAWQ,OAAO7oB,KAAK/J,QAAQkyB,QAEtBW,SAbN,WAcQ,IAAR,mBACQ,OAAOtY,EAASA,EAAOnb,GAAK,IAE9B0zB,UAjBN,WAkBQ,OAAO/oB,KAAKgpB,MAAMZ,YAEpBlE,UApBN,WAqBQ,OAAOlkB,KAAK0kB,MAAM6D,WAEpBU,WAvBN,WAwBQ,OAAO,IAGX3E,QA3EJ,WA4EM,GAAItkB,KAAKiI,aAAejI,KAAKgoB,OAAQ,CACnC,IAAR,6CACY14B,IACF0Q,KAAKiI,YAAYqgB,OAAOtoB,KAAKgoB,OAAOkB,SAASC,QAAUnpB,QAI7DqkB,QAnFJ,WAmFA,WACMrkB,KAAK0kB,MAAM6D,WAAY,EACvBvoB,KAAKopB,WAAU,WACbx4B,OAAOy4B,WAAa,EAA5B,MACQz4B,OAAO04B,UAAY,MAIvBC,cA3FJ,aA6FI/E,QAAS,CACPgF,OADN,SACA,GACQ,OAAO7gB,KAAKC,MAAMD,KAAK4E,UAAUvZ,KAEnCy1B,SAJN,WAKQ,IAAR,0CACA,eACQzpB,KAAKinB,IAAWjnB,KAAKinB,GAAQ54B,MAAM2R,KAAMZ,IAE3CsqB,iBATN,aAWMC,YAXN,SAWA,OACQ,GAAInZ,EAAQ,CACV,IAAV,cACU,GAAI+D,EACF,OAAOA,EAAOpS,EAAGqO,GAGrB,OAAOrO,GAETynB,6BApBN,SAoBA,KACQ,IAAR,oBACA,OAaQ,OAZK5pB,KAAK+oB,UAAU14B,GAIlBgd,EAAQrN,KAAK+oB,UAAU14B,IAHvBgd,EAAQrN,KAAKwpB,OAAOxpB,KAAK+oB,UAAUpM,IACnC3c,KAAK6pB,KAAK7pB,KAAK+oB,UAAW14B,EAAKgd,IAI7Byc,EAAMC,MAAMH,+BACdvc,EAAQyc,EAAMC,MAAMH,6BAA6Bvc,EAAOyc,IAEtD9pB,KAAKgqB,gCACP3c,EAAQrN,KAAKgqB,8BAA8B3c,EAAOyc,IAE7Czc,GAET2c,8BArCN,SAqCA,GACQ,OAAO9M,KAOb,MAHuB,QAAnB0K,EAAOpE,UAAyC,YAAnBoE,EAAOpE,UACtCyG,EAAK/N,OAAOluB,KAAK4C,OAAOs5B,QAEnBD,EA9LT,QACE36B,KAAM,aACN+d,MAAO,CACL8Z,OAAQ,CACNjwB,KAAMurB,QACNzG,SAAS,IAGb9uB,KARF,WASI,MAAO,CACL06B,OAAQ,GACRuC,QAAQ,EACRC,YAAa,GACbC,QAAS,OAGb/F,QAhBF,aAiBED,QAjBF,WAkBIrkB,KAAKsqB,cAEPlG,UApBF,WAqBQpkB,KAAKqqB,SACPrqB,KAAKqqB,QAAQE,YAGjB/F,QAAS,CACP8F,WADJ,WAEM,IAAN,2CACA,gCACA,oCACA,uDACA,6BACA,qCACME,EAAW,eAAiBA,EAAWv0B,QAAQ0sB,EAAI,IAAM6H,EAAWv0B,QAAQ2sB,EAAI,IAAM4H,EAAWl7B,KACjG,IAAN,mDACA,QACA,eACA,kCAIM0Q,KAAKyqB,SAASC,WAAW,iBAAmBrqB,EAC5CL,KAAKmqB,QAAS,EACdnqB,KAAKopB,WAAU,WAEbhhB,IAAI+W,0B,uHCtDG,G,UAAA,ICFA,KCATwL,EAAO,CACXC,YAAY,EACZ7X,MAAO,CACL7lB,KAAM,IAER29B,UAAW,CACTF,KADS,WAEP3V,QAAQwC,IAAI,UAGhBsT,QAAS,GACTC,QAAS,IAGIJ,ICdTK,G,sEAAO,CACXJ,YAAY,EACZ7X,MAAO,CACLyK,KAAM,CACJvO,MAAO,EACPgc,OAAQ,EACRC,IAAK,GACLC,KAAM,IACNC,MAAO,IACPC,MAAO,GAETC,QAAS,CACPJ,IAAK,EACLC,KAAM,EACNC,MAAO,EACPG,WAAY,EACZC,UAAW,GAEbC,MAAO,CACLC,SAAU,GACVC,WAAY,GACZV,OAAQ,GACRhc,MAAO,IAET2c,cAAe,CACb,SAAY,WACZ,WAAc,cAEhBC,UAAW,GACXC,aAAc,IAEhBjB,UAAW,CACTkB,QADS,SACDhZ,EAAO1S,GACb0S,EAAMyK,KAAO7vB,OAAOq+B,OAAOjZ,EAAMyK,KAAMnd,IAEzC4rB,WAJS,SAIElZ,EAAO1S,GAChB0S,EAAMuY,QAAU39B,OAAOq+B,OAAOjZ,EAAMuY,QAASjrB,IAE/C6rB,QAPS,SAODnZ,EAAO1S,GACTA,EAAQnE,OAAS,EACnB6W,EAAM0Y,MAAMprB,EAAQ8rB,WAAWv9B,OAAOyR,EAAQnE,MAAO,EAAGmE,EAAQ+rB,MAEhErZ,EAAM0Y,MAAMprB,EAAQ8rB,WAAWn+B,KAAKqS,EAAQ+rB,MAE9CpsB,KAAKqsB,OAAO,mBAAoBhsB,EAAQ8rB,YAE1CG,WAfS,SAeEvZ,EAAOwZ,GAChB,IAAMrwB,EAAQ6W,EAAM0Y,MAAMc,EAAQJ,WAAW10B,QAAQ80B,GACjDrwB,GAAS,GACX6W,EAAM0Y,MAAMc,EAAQJ,WAAWv9B,OAAOsN,EAAO,GAE/C8D,KAAKqsB,OAAO,mBAAoBE,EAAQJ,YAE1CK,WAtBS,SAsBEzZ,EAAOqZ,GAChBrZ,EAAM0Y,MAAMW,EAAKD,WAAW1W,SAAQ,SAACnE,GAC/BA,EAAKjc,KAAO+2B,EAAK/2B,KACnBic,EAAO3jB,OAAOq+B,OAAO1a,EAAM8a,OAG/BpsB,KAAKqsB,OAAO,mBAAoBD,EAAKD,YAEvCM,YA9BS,SA8BG1Z,EAAOoZ,GACjB,IAAIO,EACAP,IAAcpZ,EAAM6Y,cAAcF,SACpC3Y,EAAM0Y,MAAMU,GAAW1W,SAAQ,SAAC2W,GAC9BA,EAAKjB,KAAOuB,EAASA,EAAO3W,KAAO2W,EAAOvB,KAAO,EACjDuB,EAASN,KAGXrZ,EAAM0Y,MAAMU,GAAW1W,SAAQ,SAAC2W,GAC9BA,EAAKlB,IAAMwB,EAASA,EAAO3W,KAAO2W,EAAOxB,IAAM,EAC/CwB,EAASN,MAIfO,gBA5CS,SA4CO5Z,GAAgC,6DAAT1S,QAAdvJ,EAAuB,EAAvBA,KAAM9C,EAAiB,EAAjBA,IAEzB44B,EAAS,GACb,GAAkB,SAAd91B,EAAKgvB,KAAiB,CACxB,IAAI+G,EAAWC,EACTC,EAAOj2B,EAAKsX,OAAStX,EAAKsX,KAAK4e,KACrCH,EAAYE,EAAOj2B,EAAKsX,KAAKa,MAAQnY,EAAKmY,MAC1C6d,EAAaC,EAAOj2B,EAAKsX,KAAK6c,OAASn0B,EAAKm0B,OAU5C,IARA,IAAMgC,EAAOrd,UAAUid,EAAY74B,EAAIib,OAASjb,EAAIib,OAE9Cie,EAAWtd,UAAUid,EAAY74B,EAAIib,OAASjb,EAAIib,OAASge,EAAO,EAAKA,EAAO,EAAK,IAEnFE,EAAOvd,UAAUkd,EAAa94B,EAAIi3B,QAAUj3B,EAAIi3B,QAEhDmC,EAAWxd,UAAUkd,EAAa94B,EAAIi3B,QAAUj3B,EAAIi3B,QAAUkC,EAAO,EAAKA,EAAO,EAAK,IAEnF3/B,EAAI,EAAGA,EAAIy/B,EAAMz/B,IAExBo/B,EAAO5+B,KAAK,CACVq/B,MAAO,CACLC,GAAIx2B,EAAKu2B,MAAMC,EAAI9/B,EAAI0/B,EAAWl5B,EAAIib,OAASzhB,EAAI,KAAUulB,EAAMyK,KAAK6N,MACxEkC,GAAIz2B,EAAKu2B,MAAME,EAAoB,EAAhBv5B,EAAIw5B,IAAIve,MAAY,GAAK8D,EAAMyK,KAAK6N,OAEzDnvB,MAAO1O,EACP2+B,UAAW,QAGbS,EAAO5+B,KAAK,CACVq/B,MAAO,CACLC,GAAIx2B,EAAKu2B,MAAMC,EAAI9/B,EAAI0/B,EAAWl5B,EAAIib,OAASzhB,EAAI,KAAUulB,EAAMyK,KAAK6N,MACxEkC,GAAIz2B,EAAKu2B,MAAME,EAAIT,EAA6B,EAAhB94B,EAAIw5B,IAAIve,MAAY,GAAK8D,EAAMyK,KAAK6N,OAEtEnvB,MAAO1O,EACP2+B,UAAW,WAKf,IAAK,IAAIz9B,EAAI,EAAGA,EAAIy+B,EAAO,EAAGz+B,IAE5Bk+B,EAAO5+B,KAAK,CACVq/B,MAAO,CACLC,GAAIx2B,EAAKu2B,MAAMC,EAAiB,EAAbt5B,EAAIi3B,OAAa,GAAKlY,EAAMyK,KAAK6N,MACpDkC,GAAIz2B,EAAKu2B,MAAME,EAAIH,EAAWp5B,EAAIi3B,QAAUv8B,EAAI,KAAUqkB,EAAMyK,KAAK6N,OAEvEnvB,MAAOxN,EACPy9B,UAAW,SAGbS,EAAO5+B,KAAK,CACVq/B,MAAO,CACLC,GAAIx2B,EAAKu2B,MAAMC,EAAIT,EAAyB,EAAb74B,EAAIi3B,OAAa,GAAKlY,EAAMyK,KAAK6N,MAChEkC,GAAIz2B,EAAKu2B,MAAME,EAAIH,EAAWp5B,EAAIi3B,QAAUv8B,EAAI,KAAUqkB,EAAMyK,KAAK6N,OAEvEnvB,MAAOxN,EACPy9B,UAAW,UAKjBpZ,EAAM8Y,UAAU/0B,EAAKzB,IAAMu3B,GAE7Ba,SA3GS,SA2GA1a,GAA8B,6DAAT1S,QAAZhL,EAAqB,EAArBA,GAAIrB,EAAiB,EAAjBA,IACpB+e,EAAM8Y,UAAUx2B,IAAO0d,EAAM8Y,UAAUx2B,GAAIrH,KAAKgG,IAElD05B,YA9GS,SA8GG3a,GAAgC,6DAAT1S,QAAdhL,EAAuB,EAAvBA,GAAI6G,EAAmB,EAAnBA,MACvB6W,EAAM8Y,UAAUx2B,IAAO0d,EAAM8Y,UAAUx2B,GAAIzG,OAAOsN,EAAO,IAE3DyxB,YAjHS,SAiHG5a,GACVA,EAAM8Y,UAAY,IAEpB+B,gBApHS,SAoHO7a,EAAO1B,GACrB0B,EAAM+Y,aAAeza,GAEvBwc,YAvHS,SAuHG9a,EAAOzB,GACjByB,EAAM+Y,aAAa99B,KAAKsjB,IAE1Bwc,eA1HS,SA0HM/a,EAAO7W,GACpBA,GAAS,GAAK6W,EAAM+Y,aAAal9B,OAAOsN,EAAO,KAGnD4uB,QAAS,GACTC,QAAS,CACPU,MAAO,SAAC1Y,EAAOoZ,GACb,OAAOpZ,EAAM0Y,MAAMU,IAErB4B,WAAY,SAAChb,GACX,OAAOA,EAAM0Y,MAAME,WAAWj+B,OAAS,EAAIqlB,EAAM0Y,MAAMxc,MAAQ,GAEjE+e,YAAa,SAACjb,GACZ,OAAOA,EAAM0Y,MAAMC,SAASh+B,OAAS,EAAIqlB,EAAM0Y,MAAMR,OAAS,GAEhEgD,sBAAuB,SAAClb,EAAOmb,GAAR,OAAkB,SAACC,GACxC,IAAIb,EAAIa,EAAWb,EACfC,EAAIY,EAAWZ,EACfa,EAAgBF,EAAMG,aAG1B,OAFAf,EAAIA,EAAIva,EAAMyK,KAAK2N,KAAOiD,EAAcjD,KAAOpY,EAAMuY,QAAQC,WAC7DgC,EAAIA,EAAIxa,EAAMyK,KAAK0N,IAAMkD,EAAclD,IAAMnY,EAAMuY,QAAQE,UACpD,CACL8B,EAAGA,EACHC,EAAGA,KAGPc,aAAc,SAACtb,GACb,IAAMoY,EAAQpY,EAAM0Y,MAAME,YAAc5Y,EAAM0Y,MAAME,WAAWj+B,OAAS,EAAKqlB,EAAM0Y,MAAMxc,MAAQ,EAC3Fic,EAAOnY,EAAM0Y,MAAMC,UAAY3Y,EAAM0Y,MAAMC,SAASh+B,OAAS,EAAKqlB,EAAM0Y,MAAMR,OAAS,EACzFmD,EAAgB,CAClBlD,IAAK9b,KAAKkf,IAAIpX,WAAWgU,GAAO,IAChCC,KAAM/b,KAAKkf,IAAIpX,WAAWiU,GAAQ,KAEpC,OAAOiD,GAETG,qBAAsB,SAACxb,EAAOmb,GAAR,OAAkB,SAACb,GACvC,IAAIC,EAAID,EAAMC,EACVC,EAAIF,EAAME,EACVa,EAAgBF,EAAMG,aAG1B,OAFAf,EAAIA,EAAIva,EAAMyK,KAAK2N,KAAOiD,EAAcjD,KAAOpY,EAAMuY,QAAQC,WAC7DgC,EAAIA,EAAIxa,EAAMyK,KAAK0N,IAAMkD,EAAclD,IAAMnY,EAAMuY,QAAQE,UACpD,CACL8B,EAAGA,EACHC,EAAGA,KAGPiB,UAAW,SAACzb,GAAD,OAAW,SAAC1d,GACrB,OAAO0d,EAAM8Y,UAAUx2B,QAKd21B,IC7MTyD,EAAa,CACjB7D,YAAY,EACZ7X,MAAO,CAEL2b,gBAAiB,CACfzf,MAAO,KACPgc,OAAQ,MAIV0D,UAAW,CACT1f,MAAO,KACPgc,OAAQ,KACRI,MAAO,EACPF,KAAM,EACND,IAAK,GAIP0D,YAAa,CACXv5B,GAAI,KACJw5B,MAAO,KACPC,MAAO,MAITC,SAAU,GAGVC,eAAgB,GAGhBC,SAAS,GAGTC,aAAa,CACX75B,GAAI,MAIN85B,YAAa,IAEftE,UAAW,CACT,sBADS,SACe9X,EAAOqc,GAC7Brc,EAAM2b,gBAAkBU,GAG1B,gBALS,SAKSrc,EAAO7lB,GACvB6lB,EAAM4b,UAAYzhC,GAGpB,cATS,SASO6lB,EAAOsc,GACrBtc,EAAM6b,YAAcS,GAGtB,eAbS,SAaQtc,EAAO1d,GACtB0d,EAAMgc,SAAW15B,GAGnB,qBAjBS,SAiBc0d,EAAOuc,GAC5Bvc,EAAMic,eAAiBM,GAGzB,eArBS,SAqBQvc,EAAOwc,GACtBxc,EAAMkc,SAAWM,GAGnB,eAzBS,SAyBQxc,EAAOyc,GACtBzc,EAAMmc,aAAeM,IAIzB1E,QAAS,GACTC,QAAS,IAGI0D,ICxEA,GACb9D,OACAK,OACAyD,cCAF7H,aAAIlT,IAAI+b,QAEO,WAAIA,OAAKC,MAAM,CAC5B3c,MAAO,GACP8X,YACAC,UACA78B,QAAS,kBACJ0hC,M,2HCdHC,EAAY,SAAS1iC,EAAM2rB,GAC7BA,KAGEgX,EAAgB,SAAS/nB,EAAKzX,EAAKyF,EAAUuK,GAC/C,OAAOyH,EAAIgoB,QAAO,WAChB,IACE,OAAO1nB,IAAIjB,QAAQjO,KAAK,KAAO7I,EAAM,KAAMyX,EAAI8gB,WAC/C,MAAOvlB,GACP,UAEDvN,EAAUuK,IAsWf,SAAS0vB,EAAUr7B,GACjB,OAAO,WACL,IAAIs7B,EAASvmB,MAAM7b,UAAUkD,MAAMhD,KAAK6G,WACpCs7B,EAAOjwB,KACX,OAAO,IAAIiS,SAAQ,SAACC,EAASU,GAC3B,IAAIiG,EAAO,SAAAxE,IACI,IAATA,EACFzB,EAAOvkB,MAAM,KAAM2hC,GAEnB9d,EAAQ7jB,MAAM,KAAM2hC,IAGxBt7B,EAAGrG,MAAM4hC,EAAMD,EAAOv3B,OAAO,CAACogB,SAKpC,SAASqX,IACP,IAAK,IAAI9oB,KAAKpH,KAAK/J,QAAQgyB,eAAgB,CACzC,IAAI54B,EAAI2Q,KAAK/J,QAAQgyB,eAAe7gB,GAChC/X,GAAKA,EAAEsxB,YACT3gB,KAAK6pB,KAAK7pB,KAAK/J,QAAQkyB,OAAQ/gB,EAAG/X,EAAEsxB,aAK1C,SAASwP,IACP,IAAIC,EAAK,GACLnT,EAAWjd,KAAK+oB,UAChBsH,EAAWrwB,KAAK+I,cACpB,IAAK,IAAI3B,KAAK6V,EAAU,CACtB,IAAIqT,EAAOrT,EAAS7V,GAKpB,GAHIkpB,EAAKC,eAAiBvwB,KAAK0kB,MAAM8L,iBACnCF,EAAKG,UAAW,GAEdH,EAAKrR,SAAU,CACjB,IAAI5uB,EAAMigC,EAAKI,kBACY,GAAvBJ,EAAKrR,SAAS4B,MACZwP,EAAShgC,IAEP+X,IAAI4L,MAAMhU,KAAK0pB,iBAAiBr5B,MAClC+/B,EAAGE,EAAKI,mBAAqB1wB,KAAK0pB,iBAAiBr5B,IAGvB,GAAvBigC,EAAKrR,SAAS4B,OAAcyP,EAAKK,aACtCvoB,IAAI4L,MAAMhU,KAAK0pB,iBAAiBr5B,MAClC+/B,EAAGE,EAAKI,mBAAqB1wB,KAAK0pB,iBAAiBr5B,KAK3D,OAAO+/B,EAvZM,QACbQ,cAAc,EACd7I,OAAQ,CACN9f,YAAa,CACX+T,QAAS,MAEXgM,OAAQ,CACNhM,QAAS,MAEX6U,QAAS,CACP7U,QAAS,MAEX8U,UAAW,CACT9U,SAAS,IAGbsG,QAhBa,WAiBX,MAAO,CACLxa,IAAK9H,KACLiI,YAAajI,KACb+wB,cAAe/wB,KAAK0oB,eAGxBrb,MAAO,CACL4W,UAAW,CACT/sB,KAAMuV,OACNuP,QAAS,IAEXgV,SAAU,CACR95B,KAAMuV,OACNuP,QAAS,IAEXjU,YAAa,CACX7Q,KAAMvJ,OACNquB,QAFW,WAGT,MAAO,KAGX0M,aAAc,CACZxxB,KAAMvJ,OACNquB,QAFY,WAGV,OAAO,QAIb9uB,KA7Ca,WA8CX,MAAO,CACL+I,QAAS,CACPgyB,eAAgB,GAChBC,WAAY,GACZC,OAAQ,IAEVG,OAAQ,GACRC,WAAW,EACX0I,cAAc,EACdzI,aAAc,GACdlB,SAAS,EACTmB,MAAO,GACP+H,gBAAgB,EAChBU,YAAa,GACbC,QAAS,KACTC,cAAc,EACdC,UAAU,IAGdrN,SAAU,CACRzB,MADQ,WAEN,OAAOviB,KAAK2oB,MAAMnL,MAEpBoL,UAJQ,WAKN,OAAO5oB,KAAK/J,QAAQiyB,YAEtBnf,cAPQ,WAQN,OAAO/I,KAAK/J,QAAQgyB,gBAEtBY,MAVQ,WAWN,OAAO7oB,KAAK/J,QAAQkyB,QAEtBW,SAbQ,WAcN,IAAItY,EAASxQ,KAAK+H,YAClB,OAAOyI,EAASA,EAAOnb,GAAK,IAE9B6uB,UAjBQ,WAkBN,OAAOlkB,KAAK0kB,MAAM6D,WAGpBU,WArBQ,WAsBN,OAAOjpB,KAAK0kB,MAAM4M,cAAe,IAGrCC,aA1Fa,WA2FXvxB,KAAKwxB,YAAc,KACnBxxB,KAAKyxB,UAAY,KACjB,IACM7gC,OAAO8gC,QACL9gC,OAAO8gC,OAAOC,WAAW/gC,OAAOtB,QAClC0Q,KAAKwxB,YAAc7oB,KAAKC,MAAMhY,OAAO8gC,OAAOC,WAAW/gC,OAAOtB,QAAU,MAEtEsB,OAAO8gC,OAAOE,UAAUhhC,OAAOtB,QACjC0Q,KAAKyxB,UAAY7gC,OAAO8gC,OAAOE,UAAUhhC,OAAOtB,OAAS,OAElD0Q,KAAK6wB,UACd7wB,KAAKwxB,YAAcxxB,KAAK6wB,QAAQc,YAAc,KAC9C3xB,KAAKyxB,UAAYzxB,KAAK6wB,QAAQgB,UAEhC,MAAOxuB,GACP,OAAO,OAGXihB,QA7Ga,WA8GXtkB,KAAK0kB,MAAM8L,eAA4C,KAA3BxwB,KAAK+H,YAAY+pB,OACzC9xB,KAAKgoB,SACPhoB,KAAKgoB,OAAOmB,QAAUnpB,OAG1B+xB,QAnHa,aAsHbC,UAtHa,aAuHbC,YAvHa,aAwHb5N,QAxHa,WAwHH,WACJrkB,KAAKkyB,SACPthC,OAAOQ,YAAW,WAChB,EAAK+gC,UACJ,KAEHnyB,KAAKmyB,SAGT5I,cAjIa,WAiIG,WAMd,IAAK,IAAIniB,KAJTpH,KAAK0kB,MAAM0M,cAAe,EAC1BpxB,KAAK/J,QAAQiyB,WAAa,KAC1BloB,KAAK/J,QAAQgyB,eAAiB,KAC9BjoB,KAAK0kB,MAAMyM,QAAU,KACPnxB,KAAKoyB,QACjBpyB,KAAKqyB,QAAQryB,KAAKsoB,OAAQlhB,GAExBpH,KAAKgoB,eACAhoB,KAAKgoB,OAAOmB,QAErBte,EAAEynB,UAAUtyB,KAAK0kB,MAAMwM,aAAa,SAACqB,EAAI/kC,GACvC+kC,IACA,EAAK7N,MAAMwM,YAAYtiC,OAAOpB,EAAG,MAEnCwS,KAAKwxB,YAAc,KACnBxxB,KAAKyxB,UAAY,MAEnBjN,QAAS,CAEP2N,MAFO,WAEC,WAEFK,EAAW,KACf,IAAIvgB,SAAQ,SAAAC,GAAaA,OACtBhB,MAAK,WACJ,IAAK,EAAKwT,MAAM0M,aAEd,OAAO,EAAKqB,eAGfvhB,MAAK,SAAAuC,GACJ,IAAK,EAAKiR,MAAM0M,aAAc,CAE5B,IAAInyB,EAAS,EAAKwrB,SAASxrB,QAAU2wB,EACrC,OAAOG,EAAU9wB,GAAQnR,KAAK,EAAM2lB,EAAWA,EAASvmB,KAAO,QAGlEgkB,MAAK,SAAAhkB,GACJ,IAAK,EAAKw3B,MAAM0M,aAAc,CAC5B,IAAIsB,EAAQ,EAMZ,GALAA,EAAMz8B,QAAQgyB,eAAiB/6B,EAC/BgjC,EAASpiC,KAAK,GACd0kC,EAAWrC,EAAariC,KAAK,GAE7B,EAAK42B,MAAM6D,WAAY,EACnBmK,EAAMC,UAER,OAAOD,EAAMC,UAAU,EAAK1O,eAIjC/S,MAAK,SAAAuC,GACJ,IAAK,EAAKiR,MAAM0M,aAAc,CAE5B,IAAIwB,EAAa,EAAKnI,SAASmI,YAAchD,EAC7C,OAAOG,EAAU6C,GAAY9kC,KAAK,EAAM2lB,EAAWA,EAASvmB,KAAO,QAGtEgkB,MAAK,SAAAhkB,GACJ,IAAK,EAAKw3B,MAAM0M,aAAc,CAC5B,IAAIsB,EAAQ,EACZtqB,IAAIoP,IAAI,cACJtqB,GACFkb,IAAI0I,IAAI0hB,EAAUtlC,GAEpBwlC,EAAMz8B,QAAQiyB,WAAasK,MAG9BlgB,OAAM,SAAAvd,GACgB,UAAjBqT,IAAIlR,KAAKnC,GACXqT,IAAIwX,MAAMsH,GAAGhT,QAAQnf,GAAK,GACA,UAAjBqT,IAAIlR,KAAKnC,IAAoBA,EAAImf,QAC1C9L,IAAIwX,MAAMsH,GAAGhT,QAAQnf,EAAImf,SAAS,GACR,SAAjB9L,IAAIlR,KAAKnC,IAElBqT,IAAI/K,MAAMtI,MAGbyd,SAAQ,WAEP,EAAK4W,WAAU,WAEb,IAAIyJ,EAAQ,EAAKpI,SAASoI,MAC1BA,GAASA,EAAM/kC,KAAK,GACpB,EAAK42B,MAAM2M,UAAW,EAGtB,IAAIyB,EAAY,EAAKrI,SAASqI,WAAa,GAE3C,IAAK,IAAIziC,KAAOyiC,EAAW,CACzB,IAAIxhB,EAAOwhB,EAAUziC,GACjBqE,OAAE,EAAE2L,EAAU,GAClB,GAAsB,YAAlB+H,IAAIlR,KAAKoa,GACX5c,EAAK4c,EAAKhhB,KAAK,OACV,IAAsB,UAAlB8X,IAAIlR,KAAKoa,GAYlB,MAXA,IAAKA,EAAKzP,SAAsC,aAA3BuG,IAAIlR,KAAKoa,EAAKzP,SACjC,MAEFnN,EAAK4c,EAAKzP,QAAQvR,KAAK,GACnBghB,EAAKuG,OACPxX,EAAQwX,MAAO,GAEbvG,EAAKyhB,YACP1yB,EAAQ0yB,WAAY,GAKxB,IAAIC,EAAUnD,EAAc,EAAMx/B,EAAKqE,EAAI2L,GAC3C,EAAKqkB,MAAMwM,YAAYljC,KAAKglC,WAMtCP,UAjGO,WAiGK,WACV,OAAO,IAAIxgB,SAAQ,SAACC,EAASU,GAC3B,IAAIpC,EAASpI,IAAI0I,IAAI,CACjBkgB,SAAU,EAAKA,SACf7K,UAAW,EAAKlC,WAElB,EAAKlc,aAEP,EAAKgd,MAAMp1B,IAAI,aAAc6gB,GAC1BqD,MAAK,SAAA3mB,GACJglB,EAAQhlB,MAETmQ,OAAM,SAAAtI,GACL6d,EAAO,CAAEsB,QAASnf,EAAImf,iBAI9BwV,iBAlHO,SAkHUr5B,GACf,GAAI+X,IAAI4L,MAAMhU,KAAK+I,cAAc1Y,KAAS+X,IAAI4L,MAAMhU,KAAK+I,cAAc1Y,GAAKiwB,cAAe,CACzF,IAAIne,EAAInC,KAAK+I,cAAc1Y,GAAKiwB,aAC5BppB,EAAOkR,IAAIlR,KAAKiL,GAIpB,MAHY,UAARjL,GAA4B,SAARA,IACtBiL,EAAIiG,IAAI0I,KAAI,EAAc,UAAR5Z,EAAmB,GAAK,GAAIiL,IAEzCA,IAGXsnB,SA5HO,WA6HL,IAAIrqB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,UAAW,GAC7CsyB,EAAStyB,UAAU,GACvBqL,KAAKinB,IAAWjnB,KAAKinB,GAAQ54B,MAAM2R,KAAMZ,IAE3CuqB,YAjIO,SAiIKviB,EAAGoJ,EAAQrO,GACrB,GAAIqO,EAAQ,CACV,IAAI+D,EAASqS,EAAIrS,OAAOnN,GACxB,GAAImN,EACF,OAAOA,EAAOpS,EAAGqO,GAGrB,OAAOrO,GAETqnB,OA1IO,SA0IAx1B,GACL,OAAO2U,KAAKC,MAAMD,KAAK4E,UAAUvZ,KAEnCi/B,MA7IO,WA8IL,IAAK,IAAI7rB,KAAKpH,KAAK2oB,MACb3oB,KAAK2oB,MAAMvhB,IAAMpH,KAAK2oB,MAAMvhB,GAAG6rB,OACjCjzB,KAAK2oB,MAAMvhB,GAAG6rB,SAIpBC,WApJO,WAqJL,IAAK,IAAI9rB,KAAKpH,KAAK2oB,MACb3oB,KAAK2oB,MAAMvhB,IAAMpH,KAAK2oB,MAAMvhB,GAAG8rB,YACjClzB,KAAK2oB,MAAMvhB,GAAG8rB,cAKpBC,IA5JO,WA6JL,IAAI5kC,EAASyR,KAAK0kB,MAAMyM,QAAQiC,iBAChC,OAAO7kC,GAGT8kC,qBAjKO,SAiKcxX,GAAW,WAC9B,GAAIzT,IAAIgP,cAAcpX,KAAKwoB,cACzB,MAAO,GAET,IAAIvJ,EAAWpD,EAAUoD,SACzB,IAAKA,IAAapD,EAAU6U,kBAC1B,MAAO,GAET,IAAI4C,EAAWzX,EAAU6U,kBACzB,GAAI1wB,KAAKwoB,aAAa8K,GAAW,CAC/B,GAAItzB,KAAKwoB,aAAa8K,GAAUC,WAAY,CAC1C,IAAIhlC,EAAS,GAMb,OALAsc,EAAElX,KAAKqM,KAAKwoB,cAAc,SAAClb,EAAI9f,GACzB8f,EAAGimB,aAAe,EAAK/K,aAAa8K,GAAUC,aAChDhlC,EAAOf,GAAK8f,MAGT/e,EAEP,IAAIA,EAAS,GAMb,OALAsc,EAAElX,KAAKqM,KAAKwoB,cAAc,SAAClb,EAAI9f,GACzB4a,IAAI8B,QAAQoD,EAAGimB,cACjBhlC,EAAOf,GAAK8f,MAGT/e,KAKfilC,MAAO,CACLtP,UAAW,CACTriB,QADS,SACD4xB,EAAIC,GAAI,WACVD,GAAMC,IAAa,IAAPD,GACdzzB,KAAKopB,WAAU,WAEbhhB,IAAI+W,gBAAgB,EAAKoD,OACzB,EAAKoC,MAAM,SAAU,Y,kECxWjC,IAAIxpB,EAAM,CACT,iBAAkB,OAClB,iBAAkB,OAClB,iBAAkB,OAClB,gBAAiB,OACjB,gBAAiB,OACjB,gBAAiB,QAIlB,SAASw4B,EAAetiC,GACvB,IAAIgE,EAAKu+B,EAAsBviC,GAC/B,OAAOxC,EAAoBwG,GAE5B,SAASu+B,EAAsBviC,GAC9B,IAAIxC,EAAoBW,EAAE2L,EAAK9J,GAAM,CACpC,IAAImE,EAAI,IAAIC,MAAM,uBAAyBpE,EAAM,KAEjD,MADAmE,EAAEgR,KAAO,mBACHhR,EAEP,OAAO2F,EAAI9J,GAEZsiC,EAAe7U,KAAO,WACrB,OAAOnxB,OAAOmxB,KAAK3jB,IAEpBw4B,EAAezhB,QAAU0hB,EACzB3kC,EAAOD,QAAU2kC,EACjBA,EAAet+B,GAAK,Q,4DCtBdw+B,EAAiBjjC,OAAOijC,eACxBC,EAAeljC,OAAOkjC,aAE5B,SAASC,EAAehU,GACtB,MAAO,CACLiU,IADK,SACA3jC,EAAKN,GACRgwB,EAAQkU,QAAQ5jC,EAAKsY,KAAK4E,UAAU,CAClC2mB,kBAAmBnkC,MAGvBJ,IANK,SAMAU,GAA0B,IAArBiwB,EAAqB,uDAAN,KACnBvwB,EAAQgwB,EAAQoU,QAAQ9jC,GAC5B,OAAKN,GAGLA,EAAQ4Y,KAAKC,MAAM7Y,GACfA,GAASpC,OAAOmxB,KAAK/uB,GAAO0H,QAAQ,sBAAwB,EACvD1H,EAAMmkC,kBAER5T,GANEA,GAQXhM,OAjBK,SAiBGjkB,GACN0vB,EAAQqU,WAAW/jC,IAErBgkC,MApBK,WAqBHtU,EAAQsU,SAEV1qB,IAvBK,SAuBAtZ,GACH,IAAIN,EAAQgwB,EAAQoU,QAAQ9jC,GAC5B,QAAKN,IAGLA,EAAQ4Y,KAAKC,MAAM7Y,MACTA,GAASpC,OAAOmxB,KAAK/uB,GAAO0H,QAAQ,sBAAwB,KAExE/J,OA/BK,WAgCH,OAAOqyB,EAAQryB,SAKN,QACb2a,QAAS0rB,EAAcF,GACvBzmB,MAAO2mB,EAAcD,K,qBChDvB7kC,EAAOD,QAAU,IAA0B,iC,qaCGP,mBAAzByd,OAAO7e,UAAUggB,OAC1BnB,OAAO7e,UAAUggB,KAAK,WACpB,IAAI0mB,EAAgB,qCACpB,OAAOt0B,KAAKzH,QAAQ+7B,EAAc,MAII,mBAA/B7nB,OAAO7e,UAAU2c,aAC1BkC,OAAO7e,UAAU2c,WAAa,SAAUtO,GACtC,OAAO+D,KAAKlP,MAAM,EAAGmL,EAAOvO,UAAYuO,IAKJ,mBAA7BwQ,OAAO7e,UAAUga,WAC1B6E,OAAO7e,UAAUga,SAAW,SAAUpL,GACpC,OAA8D,IAAvDwD,KAAKvI,QAAQ+E,EAAQwD,KAAKtS,OAAS8O,EAAO9O,UAIf,mBAA3B+b,MAAM7b,UAAU6nB,UACzBhM,MAAM7b,UAAU6nB,QAAU,SAAU3f,GAClC,IAAK,IAAItI,EAAI,EAAGA,EAAIwS,KAAKtS,OAAQF,IAC/BsI,EAASkK,KAAKxS,GAAIA,KAKa,mBAA1Bic,MAAM7b,UAAU2mB,SACzB9K,MAAM7b,UAAU2mB,OAAS,SAAUze,GAEjC,IADA,IAAIvH,EAAS,GACJf,EAAI,EAAGA,EAAIwS,KAAKtS,OAAQF,IAAK,CACpC,IAAIoC,EAAIkG,EAASkK,KAAKxS,KACZ,IAANoC,GACFrB,EAAOP,KAAKgS,KAAKxS,IAGrB,OAAOe,IAIL,cAAekE,SAASkc,iBAC5BhhB,OAAO8B,eAAe8kC,YAAY3mC,UAAW,YAAa,CACxD+B,IAAK,WACH,IAAIsgC,EAAOjwB,KAEX,SAASw0B,EAAO9/B,GACd,OAAO,SAAU3E,GACf,IAAI0kC,EAAUxE,EAAKyE,UAAUx/B,MAAM,QACjCgH,EAAQu4B,EAAQh9B,QAAQ1H,GAE1B2E,EAAG+/B,EAASv4B,EAAOnM,GACnBkgC,EAAKyE,UAAYD,EAAQn8B,KAAK,MAIlC,MAAO,CACLqX,IAAK6kB,GAAO,SAAUC,EAASv4B,EAAOnM,IAC9BmM,GAAOu4B,EAAQzmC,KAAK+B,MAG5BukB,OAAQkgB,GAAO,SAAUC,EAASv4B,IAC3BA,GAAOu4B,EAAQ7lC,OAAOsN,EAAO,MAGpCy4B,OAAQH,GAAO,SAAUC,EAASv4B,EAAOnM,IAClCmM,EAAOu4B,EAAQ7lC,OAAOsN,EAAO,GAC7Bu4B,EAAQzmC,KAAK+B,MAGpB6kC,SAAU,SAAU7kC,GAClB,SAAUkgC,EAAKyE,UAAUx/B,MAAM,QAAQuC,QAAQ1H,IAGjDuhB,KAAM,SAAU9jB,GACd,OAAOyiC,EAAKyE,UAAUx/B,MAAM,QAAQ1H,IAAM,UAQ/CqnC,QAAQjnC,UAAUknC,UACrBD,QAAQjnC,UAAUknC,QAChBD,QAAQjnC,UAAUmnC,iBAClBF,QAAQjnC,UAAUonC,oBAClBH,QAAQjnC,UAAUqnC,mBAClBJ,QAAQjnC,UAAUsnC,kBAClBL,QAAQjnC,UAAUunC,uBAClB,SAAUrmC,GACR,IAAIgmC,GAAW90B,KAAKvN,UAAYuN,KAAKo1B,eAAe3X,iBAAiB3uB,GACnEtB,EAAIsnC,EAAQpnC,OAEd,QAASF,GAAK,GAAKsnC,EAAQxjB,KAAK9jB,KAAOwS,MACvC,OAAOxS,GAAK,IAKb6nC,kBAAkBznC,UAAU0nC,QAC/B3nC,OAAO8B,eAAe4lC,kBAAkBznC,UAAW,SAAU,CAC3DmC,MAAO,SAAU+F,EAAUoB,EAAMq+B,GAC/B,IAAIC,EAASx1B,KACb5O,YAAW,WAIT,IAHA,IAAIqkC,EAASC,KAAMF,EAAOG,UAAUz+B,EAAMq+B,GAASrgC,MAAM,KAAK,IAC1DihB,EAAMsf,EAAO/nC,OACb8Z,EAAM,IAAIouB,WAAWzf,GAChB3oB,EAAI,EAAGA,EAAI2oB,EAAK3oB,IACvBga,EAAIha,GAAKioC,EAAO7a,WAAWptB,GAG7BsI,EAAS,IAAI+/B,KAAK,CAACruB,GAAM,CAAEtQ,KAAMA,GAAQ,sB,oGCnH7C4+B,EAAItjC,UAAUid,UAElB,SAASsmB,IACP,IAAMhjC,EAAU+iC,EAAGr+B,QAAQ,UAAY,EACjCu+B,EAAOF,EAAGr+B,QAAQ,eAAiB,GACpCq+B,EAAGr+B,QAAQ,SAAW,IAAM1E,EAC3BkjC,EAASH,EAAGr+B,QAAQ,SAAW,EAC/By+B,EAAOJ,EAAGr+B,QAAQ,YAAc,EAChC0+B,EAAWL,EAAGr+B,QAAQ,WAAa,IACV,IAA1Bq+B,EAAGr+B,QAAQ,UACV2+B,EAAWN,EAAGr+B,QAAQ,WAAa,GACpCq+B,EAAGr+B,QAAQ,WAAa,EAE7B,GAAIu+B,EAAM,CACR,IAAMK,EAAO,IAAI5hC,OAAO,uBACxB4hC,EAAK79B,KAAKs9B,GACV,IAAMQ,EAAapf,WAAWziB,OAAO,OACrC,OAAmB,IAAf6hC,EACK,MACiB,IAAfA,EACF,MACiB,IAAfA,EACF,MACiB,KAAfA,EACF,OACiB,KAAfA,EACF,OAEA,KAGX,OAAIvjC,EACK,QAELkjC,EACK,OAELC,EACK,KAELC,EACK,SAELC,EACK,cADT,EAMa,QAEbG,MAAO/jC,UAAUK,SAASS,MAAM,OAEhC4D,KAAM6+B,IAENS,IAAK,WACH,IAAMC,EAAIjkC,UAAUid,UACpB,QAAIgnB,EAAEh/B,QAAQ,YAAc,GAAKg/B,EAAEh/B,QAAQ,UAAY,KAE5Cg/B,EAAEh/B,QAAQ,WAAa,IAEvBg/B,EAAEh/B,QAAQ,SAAW,GAErBg/B,EAAEh/B,QAAQ,kBADZ,KAQXsvB,GAAI,WAOF,IANA,IAAM2P,EAAgBlkC,UAAUid,UAC1BknB,EAAS,CAAC,UAAW,SACzB,YAAa,gBACb,OAAQ,QAENC,GAAO,EACFz0B,EAAI,EAAGA,EAAIw0B,EAAOjpC,OAAQyU,IACjC,GAAIu0B,EAAcj/B,QAAQk/B,EAAOx0B,IAAM,EAAG,CACxCy0B,GAAO,EACP,MAGJ,OAAOA,GAGTC,GAAG,WACD,QAASf,EAAGxiC,MAAM,8CAGpB0zB,OAAO,WACL,MAAO,wCAAwCxuB,KAAKs9B,IAGtDgB,OAAO,WACL,MAAuC,mBAAhChB,EAAGxiC,MAAM,oBAGlByjC,UAjDa,WAkDX,OAAOjB,EAAGr+B,QAAQ,YAAc,GAAKq+B,EAAGr+B,QAAQ,UAAY,K,qBCnGhExI,EAAOD,QAAU,8nC,mKCKbgoC,EAAa,WACbC,EAAQ,CACV,QAAS,CACPC,KAAM,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACxDC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACtDC,QAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC7CC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,OAC5EC,YAAa,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,OACjFluB,MAAO,KACPmuB,OAAQ,cACRC,UAAW,EACXC,SAAU,KAIVC,EAAW,CACbC,MAAO,CAAC,CACNC,QAAS,OACTC,OAAQ,QACRC,QAAS,GAEX,CACEF,QAAS,SACTC,OAAQ,WACRC,QAAS,GAEX,CACEF,QAAS,QACTC,OAAQ,WACRC,QAAS,KAGXC,WAAY,SAASC,GACnB,OAAQA,EAAO,IAAM,GAAKA,EAAO,MAAQ,GAAMA,EAAO,MAAQ,GAEhEC,YAAa,SAASV,EAAQrgC,GAC5BA,EAAOA,GAAQ8/B,EACf,IAAIkB,EAAaX,EAAOh/B,QAAQyH,KAAKm4B,WAAWjhC,GAAO,KAAKhC,MAAM,KAChEgkB,EAAQqe,EAAOjkC,MAAM0M,KAAKm4B,WAAWjhC,IACvC,IAAKghC,IAAeA,EAAWxqC,SAAWwrB,GAAyB,GAAhBA,EAAMxrB,OACvD,MAAM,IAAI+H,MAAM,wBAElB,MAAO,CAAEyiC,WAAYA,EAAYhf,MAAOA,IAE1Cif,WAAY,SAASjhC,GACnB,GAAY,YAARA,EACF,MAAO,iDACF,GAAY,OAARA,EACT,MAAO,8BAEP,MAAM,IAAIzB,MAAM,yBAGpB2iC,eAAgB,0CAGlB,SAASC,IAEP,OAAO,IAAI55B,KAAKA,KAAK65B,IAAIjqC,MAAMoQ,KAAM9J,YAIvC,SAAS4jC,EAAiBC,EAAWC,GACnCD,EAAYA,EAAU95B,UACtB+5B,EAAUA,EAAQ/5B,UAClB,IAAIg6B,EAAe9oB,UAAU6oB,EAAUD,GAAa,KACpD,OAAOE,EAGM,QACbC,aADa,SACAH,EAAWC,EAASvhC,GAC/B,IAAI0hC,EAAW,EAQf,OAPKJ,IACHA,EAAY,IAAI/5B,KAChB+5B,EAAY,IAAI/5B,KAAK+5B,EAAUnvB,cAAemvB,EAAUlvB,WAAYkvB,EAAUjvB,UAAY,EAAG,EAAG,EAAG,IAEjGkvB,IACFG,EAAWxpB,KAAKkf,IAAIkK,EAAYC,GAArB,MAAqD,GAE9DvhC,EACK,CACL,IAAIuH,KAAKg6B,EAAQpvB,cAAeovB,EAAQnvB,WAAYmvB,EAAQlvB,UAAY,EAAG,EAAG,EAAG,GACjF,IAAI9K,KAAKg6B,EAAQpvB,cAAeovB,EAAQnvB,WAAYmvB,EAAQlvB,UAAYqvB,EAAU,EAAG,EAAG,IAGnF,CACL,IAAIn6B,KAAK+5B,EAAUnvB,cAAemvB,EAAUlvB,WAAYkvB,EAAUjvB,UAAYqvB,EAAU,EAAG,EAAG,GAC9F,IAAIn6B,KAAK+5B,EAAUnvB,cAAemvB,EAAUlvB,WAAYkvB,EAAUjvB,UAAY,EAAG,EAAG,EAAG,KAK7FX,MAvBa,SAuBP2W,EAAMgY,EAAQsB,EAAU3hC,GAG5B,GAFAA,EAAOA,GAAQ8/B,EACf6B,EAAWA,GAAY,QACnBtZ,aAAgB9gB,KAAM,CACxB,IAAIq6B,EAAU,IAAIr6B,KAAK8gB,EAAKwZ,UAAuC,IAA3BxZ,EAAKyZ,qBAE7C,OADAF,EAAQG,gBAAgB,GACjBH,EACEvZ,IACJgY,EAiBHA,EAASG,EAASO,YAAYV,EAAQrgC,IAhBlC,mBAAmBsB,KAAK+mB,KAC1BgY,EAASG,EAASO,YAAY,UAAW/gC,IAEvC,4BAA4BsB,KAAK+mB,KACnCgY,EAASG,EAASO,YAAY,aAAc/gC,IAE1C,gDAAgDsB,KAAK+mB,KACvDgY,EAASG,EAASO,YAAY,mBAAoB/gC,IAEhD,oEAAoEsB,KAAK+mB,KAC3EgY,EAASG,EAASO,YAAY,sBAAuB/gC,IAEnD,iEAAiEsB,KAAK+mB,KACxEgY,EAASG,EAASO,YAAY,sBAAuB/gC,MAM3D,IAkDE4V,EACAosB,EACA/jC,EApDE+jB,EAASqG,GAAQA,EAAKjsB,MAAMokC,EAASU,iBAAoB,GAE3De,GADA5Z,EAAO,IAAI9gB,KAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACzB,IACT26B,EAAgB,CAAC,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,OAAQ,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,KAC5HC,EAAc,CACZC,GAAI,SAASjqC,EAAG8S,GACd,OAAO9S,EAAEkqC,SAASp3B,IAEpBq3B,EAAG,SAASnqC,EAAG8S,GACb,OAAO9S,EAAEkqC,SAASp3B,IAEpBs3B,GAAI,SAASpqC,EAAG8S,GACd,OAAO9S,EAAEkqC,SAAc,IAALp3B,EAAU,EAAIA,IAElCu3B,EAAG,SAASrqC,EAAG8S,GACb,OAAO9S,EAAEkqC,SAAc,IAALp3B,EAAU,EAAIA,IAElCw3B,GAAI,SAAStqC,EAAG8S,GACd,OAAO9S,EAAEuqC,WAAWz3B,IAEtB3U,EAAG,SAAS6B,EAAG8S,GACb,OAAO9S,EAAEuqC,WAAWz3B,IAEtB03B,GAAI,SAASxqC,EAAG8S,GACd,OAAO9S,EAAEyqC,WAAW33B,IAEtBrT,EAAG,SAASO,EAAG8S,GACb,OAAO9S,EAAEyqC,WAAW33B,IAEtB43B,KAAM,SAAS1qC,EAAG8S,GAChB,OAAO9S,EAAE2qC,YAAY73B,IAEvB83B,GAAI,SAAS5qC,EAAG8S,GACd,OAAO9S,EAAE2qC,YAAY,IAAO73B,IAE9BhT,EAAG,SAASE,EAAG8S,GACbA,GAAK,EACL,MAAOA,EAAI,EAAGA,GAAK,GACnBA,GAAK,GACL9S,EAAE6qC,YAAY/3B,GACd,MAAO9S,EAAEia,YAAcnH,EAAG9S,EAAE8qC,QAAQ9qC,EAAEka,UAAY,GAClD,OAAOla,GAETA,EAAG,SAASA,EAAG8S,GACb,OAAO9S,EAAE8qC,QAAQh4B,IAEnBzR,EAAG,SAASrB,EAAG8S,GACb,OAAO9S,EAAEkqC,SAAc,GAALp3B,EAAS9S,EAAE+qC,WAAa,GAAK/qC,EAAE+qC,cAMvDf,EAAY,KAAOA,EAAY,MAAQA,EAAY,MAAQA,EAAY,KACvEA,EAAY,MAAQA,EAAY,KAChCA,EAAY,KAAOA,EAAY,KAC/B,IAAK,IAAI7rC,EAAI,EAAG6sC,EAAM9C,EAAOre,MAAMxrB,OAAQF,EAAI6sC,EAAK7sC,IAAK,CAGvD,GAFAsf,EAAM8C,SAASsJ,EAAM1rB,GAAI,IACzB2H,EAAOoiC,EAAOre,MAAM1rB,GAChBwpB,MAAMlK,GACR,OAAQ3X,GACR,IAAK,KACH+jC,EAAWlrB,EAAEipB,EAAM4B,GAAUxB,QAAQ9iB,QAAO,WAC1C,IAAIplB,EAAI6Q,KAAKlP,MAAM,EAAGooB,EAAM1rB,GAAGE,QAC7BgD,EAAIwoB,EAAM1rB,GAAGsD,MAAM,EAAG3B,EAAEzB,QAC1B,OAAOyB,GAAKuB,KAEdoc,EAAMkB,EAAEssB,QAAQpB,EAAS,GAAIjC,EAAM4B,GAAUxB,QAAU,EACvD,MACF,IAAK,IACH6B,EAAWlrB,EAAEipB,EAAM4B,GAAUvB,aAAa/iB,QAAO,WAC/C,IAAIplB,EAAI6Q,KAAKlP,MAAM,EAAGooB,EAAM1rB,GAAGE,QAC7BgD,EAAIwoB,EAAM1rB,GAAGsD,MAAM,EAAG3B,EAAEzB,QAC1B,OAAOyB,GAAKuB,KAEdoc,EAAMkB,EAAEssB,QAAQpB,EAAS,GAAIjC,EAAM4B,GAAUvB,aAAe,EAC5D,MACF,IAAK,IACL,IAAK,IACHxqB,EAAMkB,EAAEssB,QAAQphB,EAAM1rB,GAAGklB,cAAeukB,EAAM4B,GAAUpB,UACxD,MAGJ0B,EAAOhkC,GAAQ2X,EAEZ,IAAWhe,EAAhB,IAAStB,EAAI,EAAMA,EAAI4rC,EAAc1rC,OAAQF,IAC3CsB,EAAIsqC,EAAc5rC,GACdsB,KAAKqqC,IAAWniB,MAAMmiB,EAAOrqC,KAAKuqC,EAAYvqC,GAAGywB,EAAM4Z,EAAOrqC,IAEpE,OAAOywB,GAGTgY,OA/Ia,SA+INhY,EAAMgY,EAAQsB,EAAU3hC,GAG7B,GAFAA,EAAOA,GAAQ8/B,EACf6B,EAAWA,GAAY,QACX,MAARtZ,EACF,MAAO,GAET,GAAmB,iBAARA,EACT,IACEA,EAAOvf,KAAK4I,MAAM2W,GAClB,MAAOlc,GACP,MAAO,QAEJ,GAAmB,iBAARkc,EAChB,IACEA,EAAO,IAAI9gB,KAAK8gB,GAChBA,EAAOvf,KAAK4I,MAAM2W,GAClB,MAAOlc,GACP,MAAO,GAIX,IAAIyJ,EACJ,GAFAyqB,EAASG,EAASO,YAAYV,EAAQrgC,GAE1B,YAARA,EA8BF,MAAM,IAAIzB,MAAM,wBA7BhBqX,EAAM,CAEJmtB,GAAI1a,EAAKlW,cAAchX,WAAW8J,UAAU,GAC5C49B,KAAMxa,EAAKlW,cAEXla,EAAGowB,EAAKjW,WAAa,EACrBsZ,EAAGqU,EAAM4B,GAAUvB,YAAY/X,EAAKjW,YACpCixB,GAAItD,EAAM4B,GAAUxB,OAAO9X,EAAKjW,YAEhCja,EAAGkwB,EAAKhW,UACRixB,EAAGvD,EAAM4B,GAAU1B,UAAU5X,EAAKkb,UAClCC,GAAIzD,EAAM4B,GAAU3B,KAAK3X,EAAKkb,UAC9B/pC,EAAsC,GAAnCumC,EAAM4B,GAAUpB,SAAS/pC,OAAcupC,EAAM4B,GAAUpB,SAASlY,EAAK6a,WAAa,GAAK,EAAI,GAAK,GAEnGZ,EAAGja,EAAK6a,WAER5sC,EAAG+xB,EAAKob,aAER7rC,EAAGywB,EAAKqb,cAEV9tB,EAAI4sB,EAAI5sB,EAAI0sB,EAAI,IAAM,EAAI,GAAK1sB,EAAI0sB,EAAI,GACvC1sB,EAAI2sB,IAAM3sB,EAAI4sB,EAAI,GAAK,IAAM,IAAM5sB,EAAI4sB,EACvC5sB,EAAI+tB,EAAI/tB,EAAIpc,EAAEoW,cACdgG,EAAIwsB,IAAMxsB,EAAI0sB,EAAI,GAAK,IAAM,IAAM1sB,EAAI0sB,EACvC1sB,EAAI6sB,IAAM7sB,EAAItf,EAAI,GAAK,IAAM,IAAMsf,EAAItf,EACvCsf,EAAI+sB,IAAM/sB,EAAIhe,EAAI,GAAK,IAAM,IAAMge,EAAIhe,EACvCge,EAAIguB,IAAMhuB,EAAIzd,EAAI,GAAK,IAAM,IAAMyd,EAAIzd,EACvCyd,EAAIiuB,IAAMjuB,EAAI3d,EAAI,GAAK,IAAM,IAAM2d,EAAI3d,EAIrCowB,EAAO,GAEX,IAFA,IACIyb,EAAOjnB,OAAMjD,IAAI,GAAIymB,EAAOW,YACvB1qC,EAAI,EAAG6sC,EAAM9C,EAAOre,MAAMxrB,OAAQF,EAAI6sC,EAAK7sC,IAC9CwtC,EAAKttC,QACP6xB,EAAKvxB,KAAKgtC,EAAK7sC,SAEjBoxB,EAAKvxB,KAAK8e,EAAIyqB,EAAOre,MAAM1rB,KAK7B,OAHIwtC,EAAKttC,QACP6xB,EAAKvxB,KAAKgtC,EAAK7sC,SAEVoxB,EAAKjnB,KAAK,KAGnB2iC,WAnNa,SAmNF5rC,GACT,IAAI6rC,EAAU7rC,EAAEorC,SAEhB,OADAS,EAAqB,GAAXA,EAAe,EAAIA,EACtBA,GAETC,YAxNa,SAwNDnD,EAAMoD,GAChB,IAAIC,EAAwB,IAAI58B,KAAKu5B,EAAMoD,EAAO,GAC9CE,EAAuB,IAAI78B,KAAKu5B,EAAMoD,EAAQ,EAAG,GACjDG,EAAY,EACdC,EAAW,EACTN,EAAUl7B,KAAKi7B,WAAWI,GAC1BI,EAAgBP,EAAUK,EAC9BL,EAAUl7B,KAAKi7B,WAAWK,GAC1B,IAAII,EAAeF,EAAWN,EAC1BS,EAAYL,EAAqB/xB,UAErCoyB,EAAYA,EAAYF,EAAgBC,EAGxC,IAFA,IAAIE,EAAO,GACPC,EAAaF,EAAY,EACpBnuC,EAAI,EAAGA,EAAIquC,EAAYruC,IAAK,CAEnC,IADA,IAAIga,EAAM,GACDjX,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAIgvB,EAAW,EAAJ/xB,EAAQ+C,EACflB,EAAI,IAAIoP,KAAKu5B,EAAMoD,EAAO7b,EAAOkc,GACrCj0B,EAAIxZ,KAAK,CACPuxB,KAAMlwB,EACNysC,OAAQzsC,EAAEia,YAAc8xB,IAG5BQ,EAAK5tC,KAAKwZ,GAEZ,OAAOo0B,GAETG,QApPa,SAoPLxc,EAAM2X,GAMZ,YALYthC,GAARshC,GAA6B,IAARA,IACvBA,EAAO,GAET3X,EAAO,IAAI9gB,KAAK8gB,GAChBA,EAAK4a,QAAQ5a,EAAKhW,UAAY2tB,GACvB3X,GAGTyc,aA7Pa,SA6PAhE,EAAMoD,EAAOa,GACxB,IAAI1c,EAAO,IAAI9gB,KAAKu5B,EAAMoD,EAAOa,GACjCA,EAAM1c,EAAKhW,UAEX,IAAI2yB,EAAoB,IAAIz9B,KAAKu5B,EAAMoD,EAAO,GAE1Ce,EAAsBD,EAAkBzB,SAM5C,OAL2B,GAAvB0B,IACFA,EAAsB,GAGxBF,GAAaE,EAAsB,EAC5B/sB,KAAKgtB,KAAKH,EAAM,IAEzBI,iBA3Qa,SA2QIrE,EAAMoD,EAAOa,GAE5B,IAAI5qB,EAAOrR,KAAKm7B,YAAYnD,EAAMoD,IAAU,GACxCkB,EAAYt8B,KAAKg8B,aAAahE,EAAMoD,EAAOa,IAAQ,EACvD,MAAO,CAAEM,KAAMD,EAAWtE,KAAMA,EAAMoD,MAAOA,EAAO/pB,KAAMA,EAAKirB,EAAY,IAAM,KAEnFE,aAjRa,SAiRAxE,EAAMoD,EAAOa,EAAKQ,GAI7B,OAFAA,EAAUA,GAAW,EACrBR,EAAMrsB,SAASqsB,GAAOrsB,SAAS6sB,GACxB,IAAIh+B,KAAKu5B,EAAMoD,EAAOa,IAE/BS,aAvRa,SAuRA1E,EAAMoD,EAAOa,EAAKQ,GAI7B,OAFAA,EAAUA,GAAW,EACrBR,EAAMrsB,SAASqsB,GAAOrsB,SAAS6sB,GACxB,IAAIh+B,KAAKu5B,EAAMoD,EAAOa,IAE/BU,SA7Ra,SA6RJC,EAAOC,GACd,IAAIjE,EAAWiE,EAAQD,EACvBhE,EAAWxpB,KAAKkf,IAAIsK,GACpB,IAAIkE,EAAQlE,EAAW,MACvB,OAAOkE,GAETC,MAnSa,WAoSX,IAAI1tC,EAAI,IAAIoP,KACZ,OAAOA,KAAKmK,MAAM5I,KAAKu3B,OAAOloC,EAAG,gBAEnC8Z,IAvSa,WAwSX,OAAO,IAAI1K,MAEbu+B,oBA1Sa,SA0SOC,EAAIC,GACtB,IAAI3uC,EAAS,GAWb,OAVI0uC,GAAMC,IACRD,EAAKj9B,KAAK4I,MAAMq0B,GAChBC,EAAKl9B,KAAK4I,MAAMs0B,GAEd3uC,EADE0uC,EAAG5zB,eAAiB6zB,EAAG7zB,eAAiB4zB,EAAG3zB,YAAc4zB,EAAG5zB,YAAc2zB,EAAG1zB,WAAa2zB,EAAG3zB,UACtFvJ,KAAKu3B,OAAO0F,EAAI,cAAgB,IAAMj9B,KAAKu3B,OAAO0F,EAAI,SAAW,IAAMj9B,KAAKu3B,OAAO2F,EAAI,SAEvFl9B,KAAKu3B,OAAO0F,EAAI,oBAAsB,IAAMj9B,KAAKu3B,OAAO2F,EAAI,qBAIlE3uC,GAGT4uC,cAzTa,SAyTCruC,GACZ,IAAI4pC,EAAe5pC,EACnB,IAAK4pC,GAAgBA,EAAe,EAClC,MAAO,CACLxB,KAAM,KACNkG,MAAO,KACPC,QAAS,KACTC,QAAS,MAIb,IAAIpG,EAAO9nB,KAAKmuB,MAAM7E,EAAe,OAEjC8E,EAAS9E,EAAe,MAExB0E,EAAQhuB,KAAKmuB,MAAMC,EAAS,MAChCA,GAAkB,KAElB,IAAIH,EAAUjuB,KAAKmuB,MAAMC,EAAS,IAE9BF,EAAUluB,KAAKgtB,KAAKoB,EAAS,IAMjC,OAJAtG,IAASA,GAAQ,GAAK,KAAK7kC,WAAWoU,OAAO,GAC7C22B,IAAUA,GAAS,GAAK,KAAK/qC,WAAWoU,OAAO,GAC/C42B,IAAYA,GAAW,GAAK,KAAKhrC,WAAWoU,OAAO,GACnD62B,IAAYA,GAAW,GAAK,KAAKjrC,WAAWoU,OAAO,GAC5C,CACLywB,KAAMA,EACNkG,MAAOA,EACPC,QAASA,EACTC,QAASA,IAGbG,SA1Va,SA0VJb,EAAOC,GACd,IAAInE,EAAeH,EAAiBqE,EAAOC,GAC3C,OAAO78B,KAAKm9B,cAAczE,IAE5BgF,WA9Va,WAgWX,OAAOrF,EAAQ1jC,YAOjBgpC,QAvWa,SAuWLpe,GAAuB,IAAjBqe,IAAiB,yDACzBvoB,EAAO,KACX,GAAuB,WAAnBjN,IAAIlR,KAAKqoB,GACXlK,EAAOkK,EACPA,EAAO,IAAI9gB,KAAK4W,OACX,IAAuB,SAAnBjN,IAAIlR,KAAKqoB,GAKlB,OAFAnX,IAAI/K,MAAM,gCAEH,GAJPgY,EAAOkK,EAAK7gB,UAMd,IAAIyK,EAAM,IAAI1K,KACVo/B,EAAO10B,EAAIzK,UAAY2W,EAEvB2iB,EAAO7uB,EAAIE,cACX+xB,EAAQjyB,EAAIG,WACZ2yB,EAAM9yB,EAAII,UACV6zB,EAAQ7d,EAAK6a,WAEb0D,EAAS30B,EAAIzK,UAAa,IAAID,KAAKu5B,EAAMoD,EAAOa,EAAK,EAAG,EAAG,GAAIv9B,UAC/Dq/B,EAASD,EAAS,MAClBE,EAASD,EAAS,MAClBE,EAAW90B,EAAIzK,UAAa,IAAID,KAAKu5B,EAAM,EAAG,EAAG,EAAG,EAAG,GAAIt5B,UAE/D,OAAIm/B,GAAQC,EACNV,EAAQ,EACHp9B,KAAKu3B,OAAOhY,EAAM,WAChB6d,EAAQ,GACVp9B,KAAKu3B,OAAOhY,EAAM,WAChB6d,EAAQ,GACVp9B,KAAKu3B,OAAOhY,EAAM,WAChB6d,EAAQ,GACVp9B,KAAKu3B,OAAOhY,EAAM,WAElBvf,KAAKu3B,OAAOhY,EAAM,WAElBse,GAAQE,EACVH,EAAW59B,KAAKu3B,OAAOhY,EAAM,WAAa,KACxCse,GAAQG,EACVJ,EAAW59B,KAAKu3B,OAAOhY,EAAM,WAAa,KACxCse,GAAQI,EACVj+B,KAAKu3B,OAAOhY,EAAMqe,EAAW,YAAc,QAE3C59B,KAAKu3B,OAAOhY,EAAMqe,EAAW,iBAAmB,cAS3DM,OA5Za,SA4ZN3e,EAAM4e,GACX,GAAsB,QAAlB/1B,IAAIlR,KAAKqoB,GACX,OAAO,EAET4e,EAAoC,QAAvB/1B,IAAIlR,KAAKinC,GAAwB,IAAI1/B,KAAS0/B,EAC3D,IAAM5Q,EAAI4Q,EAAU90B,cAAgBkW,EAAKlW,cACnCla,EAAIgvC,EAAU70B,WAAaiW,EAAKjW,WACtC,GAAIna,EAAI,EACN,OAAOo+B,EACF,GAAS,GAALp+B,EAAQ,CACjB,IAAME,EAAI8uC,EAAU50B,UAAYgW,EAAKhW,UACrC,GAAIla,GAAK,EACP,OAAOk+B,EAGX,OAAOA,EAAI,M,wDC3ef,SAAS6Q,EAAMC,GAEbr+B,KAAK+V,KAAO,EAEZ/V,KAAKs+B,MAAQD,EAGbr+B,KAAK1O,KAAO0O,KAAKu+B,UAAO,EACxBv+B,KAAKw+B,QAAU,GAoFF,SAASp0B,EAAUi0B,GAChC,GAAgB,OAAZA,QAA8BzoC,IAAZyoC,EAItB,OAAO,IAAID,EAAMC,GAHfj2B,IAAI/K,MAAM,WAxGd,kCAqBA+gC,EAAMxwC,UAAY,CAChBqd,IAAK,SAAa5a,EAAKN,GACrB,IAAI0uC,EAAQ,CACVpuC,IAAKA,EACLN,MAAOA,GAmBT,OAjBAiQ,KAAKw+B,QAAQnuC,GAAOouC,EAChBz+B,KAAKu+B,MAEPv+B,KAAKu+B,KAAKG,MAAQD,EAClBA,EAAME,MAAQ3+B,KAAKu+B,MAGnBv+B,KAAK1O,KAAOmtC,EAEdz+B,KAAKu+B,KAAOE,EAGRz+B,KAAK+V,OAAS/V,KAAKs+B,MACrBt+B,KAAK7R,QAEL6R,KAAK+V,OAEAhmB,GAET5B,MAAO,WACL,IAAIswC,EAAQz+B,KAAK1O,KACbmtC,IAEFz+B,KAAK1O,KAAO0O,KAAK1O,KAAKotC,MAEtB1+B,KAAK1O,KAAKqtC,MAAQF,EAAMC,MAAQD,EAAME,MAAQ3+B,KAAKw+B,QAAQC,EAAMpuC,UAAO,SACjE2P,KAAKw+B,QAAQC,EAAMpuC,KAE1B2P,KAAK+V,SAGTpmB,IAAK,SAAaU,GAChB,IAAIouC,EAAQz+B,KAAKw+B,QAAQnuC,GAEzB,QAAc,IAAVouC,EAEJ,OAAIA,IAAUz+B,KAAKu+B,OAOfE,EAAMC,QAEJD,IAAUz+B,KAAK1O,OAGjB0O,KAAK1O,KAAOmtC,EAAMC,OAKpBD,EAAMC,MAAMC,MAAQF,EAAME,OAExBF,EAAME,QAGRF,EAAME,MAAMD,MAAQD,EAAMC,OAG5BD,EAAMC,WAAQ,EAEdD,EAAME,MAAQ3+B,KAAKu+B,KACfv+B,KAAKu+B,OAEPv+B,KAAKu+B,KAAKG,MAAQD,GAGpBz+B,KAAKu+B,KAAOE,GAhCHA,EAAM1uC,S,iDCtDnB,QACE,KAAF,mBACE,MAAF,CACI,KAAJ,CACM,KAAN,OACM,QAFN,WAGQ,MAAR,MAIE,SAAF,CACI,MADJ,WAEM,IAAN,KAIM,OAHA,EAAN,gCACQ,EAAR,aAEA,O,0DC1Be,eAAUqY,GACvB,MAAO,CACL/S,GAAI,GACJ/F,KAAM,GACNkX,KAAM,GACNtP,KAAMkR,EAAI6W,SAASmB,OAAO,GAC1BC,GAAI,GACJnB,eAAgB,KAChBjC,SAAU,GACV6C,SAAU1X,EAAI6W,SAASa,WACvBQ,aAAc,KACdC,gBAAiB,CACf,CACEjxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,OACNkX,KAAM,SACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,KACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdI,KAAM,MAER,CACEpxB,KAAM,OACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdG,eAAe,EACfC,KAAM,MAER,CACEpxB,KAAM,WACNkX,KAAM,UACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdG,eAAe,EACfC,KAAM,MAER,CACEpxB,KAAM,OACNkX,KAAM,QACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdG,eAAe,EACfC,KAAM,MAER,CACEpxB,KAAM,OACNkX,KAAM,OACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdG,eAAe,EACfC,KAAM,MAER,CACEpxB,KAAM,UACNkX,KAAM,iBACNtP,KAAMkR,EAAI6W,SAASuB,YAAY,UAC/B9yB,OAAQ,IACR4yB,aAAc,KACdG,eAAe,EACfC,KAAM,SC3EdtY,IAAI6W,SAAStP,IAAI,kCAAmCivB,I,oCCJpD,IAAI9W,EAAS,WAAa,IAAI+W,EAAI7+B,KAAS8+B,EAAGD,EAAIE,eAAsBF,EAAI9U,MAAMiV,GAAO,OAAOH,EAAII,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIL,EAAI7+B,KAAS8+B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAI9U,MAAMiV,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,cAAc,OAAO,aAAa,eAAe,CAACH,EAAG,SAAS,CAACG,YAAY,CAAC,MAAQ,QAAQ,OAAS,QAAQ,OAAS,oBAAoB,OAAS,OAAO,QAAU,SAASziB,MAAM,CAAC,IAAM,6CCK1V,GACEptB,KAAM,mBACN+d,MAAO,ICRmW,I,YCOxWwO,EAAY,eACd,EACAiM,EACAoX,GACA,EACA,KACA,KACA,MAIa,OAAArjB,E,8HChBTujB,EAAe,uBACfC,EAAoB,eAgBX,QACbC,MAAO,CACLrrC,KAAM,QACNqpB,MAAO8hB,GAuBT/xB,MAAO,CAELkjB,cAAe,CACbr5B,KAAMurB,QACNzG,SAAS,GAGXujB,MAAO,CACLroC,KAAMuV,OACNuP,QAAS,IAGXwjB,UAAW,CACTtoC,KAAMurB,QACNzG,SAAS,GAGXyU,SAAU,CACRv5B,KAAMurB,QACNzG,SAAS,GAGXxT,SAAU,CACRtR,KAAMurB,QACNzG,SAAS,GAGXyjB,UAAW,CACTvoC,KAAMurB,QACNzG,SAAS,GAGX0jB,SAAU,CACRxoC,KAAMurB,QACNzG,SAAS,GAGXjsB,MAAO,CACLmH,KAAM,CAACuV,OAAQsN,OAAQpsB,OAAQ8b,MAAOgZ,SACtCzG,QAFK,WAGH,OAAO,OAIX2jB,WAAY,CACVzoC,KAAMuV,OACNuP,QAAS,IAGX4jB,aAAc,CACZ1oC,KAAMuV,OACNuP,QAAS,IAGX6jB,aAAc,CACZ3oC,KAAMuV,OACNuP,QAAS,IAGXiD,SAAU,CACR/nB,KAAMvJ,OACNquB,QAFQ,WAGN,OAAO,OAIX8jB,iBAAkB,CAChB5oC,KAAMuV,OACNuP,QAAS,QAGX0U,kBAAmB,CACjBx5B,KAAMuV,OACNuP,QAAS,IAGX+jB,OAAQ,CACN7oC,KAAMurB,QACNzG,SAAS,GAGXgkB,cAAe,CACb9oC,KAAM6iB,OACNiC,QAAS,GAGXikB,UAAW,CACT/oC,KAAMuV,OACNuP,QAAS,IAGXkkB,aAAc,CACZhpC,KAAMuV,OACNuP,QAAS,IAGXmkB,WAAY,CACVjpC,KAAMurB,QACNzG,SAAS,GAGXokB,QAAS,CACPlpC,KAAM6iB,OACNiC,QAAS,IAEXqkB,WAAY,CACVnpC,KAAM6iB,OACNiC,QAAS,KAGXskB,iBAAkB,CAChBppC,KAAMurB,QACNzG,SAAS,IAGb9uB,KA7Ia,WA8IX,MAAO,CACLqzC,WAAY,KAGhBrkB,OAAQ,CAACmG,QACT2B,SAAU,CACRwc,OAAQ,CACN7wC,IADM,WAKJ,OAHKqQ,KAAKmgC,aACRngC,KAAKugC,WAAa,IAEbvgC,KAAKugC,YAEdvM,IAPM,SAOFjkC,GACEiQ,KAAKmgC,aACPngC,KAAKugC,WAAaxwC,KAIxB+nB,OAdQ,WAeN,OACE9X,KAAKwgC,OAAO9yC,OAAS,EAAI,WAAa,IADxC,sBAEKsS,KAAKygC,aAFV,CAGEzgC,KAAKw/B,UAAY,eAAiB,GAClCx/B,KAAK0/B,SAAW,cAAgB,GAChC1/B,KAAKywB,SAAW,cAAgB,MAGpCiQ,UAvBQ,WAwBN,OAAO71B,EAAE1P,IAAI6E,KAAKwgC,OAAQ,WAAWloC,KAAK,MAE5CqoC,YA1BQ,WA2BN,OAAI3gC,KAAKuiB,OACAviB,KAAKuiB,MAAMqe,oBAEb5gC,KAAKqgC,aAGhB/b,QApLa,YAqLNtkB,KAAKmkB,UAAYnkB,KAAK6gC,OACzB7gC,KAAK6gC,MAAMC,SAAS9gC,OAEjBA,KAAKmkB,UAAYnkB,KAAK+gC,cACzB/gC,KAAK+gC,aAAaD,SAAS9gC,OAG/BqkB,QA5La,aA6LbkF,cA7La,YA8LNvpB,KAAKmkB,UAAYnkB,KAAK6gC,OAEzB7gC,KAAK6gC,MAAMG,YAAYhhC,OAGpBA,KAAKmkB,UAAYnkB,KAAK+gC,cACzB/gC,KAAK+gC,aAAaC,YAAYhhC,OAWlCwkB,QAAS,CACPyc,WADO,WAELjhC,KAAKkhC,YAAY,CACfpe,MAAO,OACPvc,SAAU,oCACV0I,MAAO,OACPgc,OAAQ,OACRza,OAAQ,CACNzgB,MAAOiQ,KAAK2/B,eAIlBwB,cAZO,WAaL,OAAOnhC,KAAKqgC,YAAc,KAE5Be,mBAfO,WAgBL,OAAIphC,KAAK2gC,aAAe3gC,KAAKw/B,UACpB,CACL,MAASx/B,KAAK2gC,YAAc,MAGzB,IAETU,2BAvBO,WAwBL,OAAIrhC,KAAK2gC,aAAe3gC,KAAKw/B,UACpB,CACL,cAAex/B,KAAK2gC,YAAc,MAG/B,IAETW,eA/BO,WAgCL,MAA4B,UAAxBl5B,IAAIlR,KAAK8I,KAAKjQ,OACTiQ,KAAKjQ,MAAMiQ,KAAK8/B,kBACU,SAAxB13B,IAAIlR,KAAK8I,KAAKjQ,OAChB8a,EAAE1P,IAAI6E,KAAKjQ,MAAOiQ,KAAK8/B,kBAAkBxnC,KAAK,KAE9C0H,KAAKjQ,OAGhBwxC,iBAxCO,SAwCUp/B,GAEf,IAAIq/B,EAAYxhC,KAAKyhC,YAAc,GAE/BD,EAAUpC,GACZp/B,KAAK2kB,MAAMya,EAAcj9B,GAGlBq/B,EAAUnC,IACjBr/B,KAAK2kB,MAAM0a,EAAmBl9B,IAGlCu/B,iBApDO,SAoDUv/B,GACXnC,KAAK6gC,OACP7gC,KAAK6gC,MAAMlc,MAAM,qBAAsB,CAAE50B,MAAOoS,GAAKnC,KAAKjQ,MAAOsE,OAAQ2L,QAG7E2hC,gBAzDO,SAyDSx/B,GACdnC,KAAKuhC,iBAAiBp/B,GACtBnC,KAAK4hC,UAAU,eAAgBz/B,KAGnCma,OAAQ,CACNulB,YAAY,EACZja,OAAQ,CACNka,QAAS,CAAC,UAEZ7iB,SAAU,CACR7uB,OADQ,SACD2xC,GAIL,OAHK/hC,KAAKif,WACRjf,KAAKif,SAAW,IAEX,CACLgR,KAAMjwB,KACN9O,KAAM,KACN+tB,SAAUjf,KAAKif,gB,mIC7SV,QACb+iB,YAAa,SAAS9f,GACpB,IAAI+f,EAAY,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC1DvhB,EAAO,CAAC,GAAI,IAAK,IAAK,IAAK,KAC/BwB,EAAMtS,SAASsS,GACf,IAAIggB,EAAS,SAASC,GAGpB,IAFA,IAAIC,EAASD,EAAK9vC,WAAW6C,MAAM,IAAImtC,UACnCC,EAAS,GACJ90C,EAAI,EAAGA,EAAI40C,EAAO10C,OAAQF,IACjC80C,GAAe,GAAL90C,GAAuB,GAAb40C,EAAO50C,IAAgBA,EAAI,GAAkB,GAAb40C,EAAO50C,IAA4B,GAAjB40C,EAAO50C,EAAI,GAA5C,GAA2Dy0C,EAC9FG,EAAO50C,KAAoB,GAAb40C,EAAO50C,GAAUkzB,EAAK,GAAKA,EAAKlzB,KAAQ80C,EAE1D,OAAOA,GAELC,EAAUnzB,KAAKmuB,MAAMrb,EAAM,KAC3BsgB,EAAQtgB,EAAM,IAElB,OADIsgB,EAAMnwC,WAAW3E,OAAS,IAAG80C,EAAQ,IAAMA,GACxCD,EAAUL,EAAOK,GAAW,IAAML,EAAOM,GAASN,EAAOhgB,IAElEugB,mBAAoB,SAASC,GAC3B,IAAIC,EAAO,GACP31B,EAAQ,GAER41B,EAAoB,SAApBA,EAA6BC,GAC/B,IAAI3gB,EAAM2gB,EAAO,EACbj2B,EAAIgD,SAASsS,EAAM,IACnBzU,EAAIyU,EAAM,GACdlV,EAAMhf,KAAKyf,GACPb,EAAI,GACNg2B,EAAkBh2B,IAGtBg2B,EAAkBF,GAClB11B,EAAQA,EAAMq1B,UAEd,IAAK,IAAI70C,EAAI,EAAGA,EAAIwf,EAAMtf,OAAQF,IAChCm1C,GAAQl2B,OAAOoO,aAAa,GAAKjL,SAAS5C,EAAMxf,GAAK,IAEvD,OAAOm1C,GAKTG,IAAK,SAASlzC,GACZ,OAAO,KAAOwf,KAAK2zB,GAAKnzC,IAK1BozC,IAAK,SAASp2B,GACZ,OAAOwC,KAAK2zB,GAAMn2B,EAAK,KAKzBq2B,UAAW,SAASC,EAAIC,EAAIC,GAC1B,IAAI/zC,EAAI+f,KAAKi0B,MAAMF,EAAG5V,EAAI2V,EAAG3V,IAAM4V,EAAG7V,EAAI4V,EAAG5V,IAqB7C,OApBAj+B,GAAS+zC,GAAS,EAGbD,EAAG5V,EAAI2V,EAAG3V,EAAI,GAAK4V,EAAG7V,EAAI4V,EAAG5V,EAAI,GAAO6V,EAAG5V,EAAI2V,EAAG3V,EAAI,GAAK4V,EAAG7V,EAAI4V,EAAG5V,EAAI,EAC5Ej+B,GAAK+f,KAAK2zB,GAGHI,EAAG5V,EAAI2V,EAAG3V,EAAI,GAAK4V,EAAG7V,EAAI4V,EAAG5V,EAAI,IACxCj+B,GAAe,EAAV+f,KAAK2zB,IAGRI,EAAG7V,EAAI4V,EAAG5V,GAAK6V,EAAG5V,GAAK2V,EAAG3V,EAE5Bl+B,EAAI+f,KAAK2zB,GAGFI,EAAG7V,GAAK4V,EAAG5V,GAAK6V,EAAG5V,EAAI2V,EAAG3V,IACjCl+B,EAAI,IAAM+f,KAAK2zB,IAGV1zC,GAGTi0C,gBAAiB,SAAShW,EAAGC,EAAGgW,EAASC,EAASJ,GAChD,IAAIK,EAASr0B,KAAK2zB,GAAKK,EAAQ,IAC3BM,EAAMpW,EAAIiW,EACVI,EAAMpW,EAAIiW,EACVI,EAAKF,EAAKt0B,KAAKy0B,IAAIJ,GAAUE,EAAKv0B,KAAK00B,IAAIL,GAAUF,EACrDQ,EAAKL,EAAKt0B,KAAK00B,IAAIL,GAAUE,EAAKv0B,KAAKy0B,IAAIJ,GAAUD,EACzD,MAAO,CACLlW,EAAGsW,EACHrW,EAAGwW,IAIPC,YAAa,SAASd,EAAIC,GACxB,IAAKD,IAAOC,EACV,OAAO,EAET,IAAIc,EAAQd,EAAG7V,EAAI4V,EAAG5V,EAClB4W,EAAQf,EAAG5V,EAAI2V,EAAG3V,EAClBpX,EAAM/G,KAAK+0B,KAAK/0B,KAAKg1B,IAAIH,EAAO,GAAK70B,KAAKg1B,IAAIF,EAAO,IACzD,OAAO/tB,GAITkuB,uBAAuB,SAAS/2B,EAAInc,EAAQk6B,GAC1C/d,EAAKU,EAAEV,GACP,IAAIwuB,EAASxuB,EAAGwuB,SACZ5Q,EAAM4Q,EAAO5Q,IACbC,EAAO2Q,EAAO3Q,KACd/d,EAAQ,CACVkgB,EAAG,EACHC,EAAG,GASL,OAPAngB,EAAMkgB,EAAIn8B,EAAOm8B,EAAInC,EACrB/d,EAAMmgB,EAAIp8B,EAAOo8B,EAAIrC,EAChB9iB,IAAI4L,MAAMqX,KACbA,EAAQ,GAEVje,EAAMkgB,GAAKjC,EACXje,EAAMmgB,GAAKlC,EACJje,M,0DCvHX,gBAee,QACb8O,OAAQ,CAACmG,QAMThV,MAAM,CAEJi3B,cAAc,CACZptC,KAAKurB,QACLzG,SAAQ,IAGZM,OAAQ,CAENuI,QAAQ,K,mBC/BZ51B,EAAOD,QAAU,kpC,qKCGbu1C,EAAc,GAElB,SAASC,EAAWC,EAAQC,GAE1B,IAAMC,EAAgBF,EAAOz2C,KAC7By2C,EAAOz2C,KAAO,SAAc2wB,GAI1B,OAAOgmB,EAAc72C,KAAKkS,KAAM2e,GAC7BrM,OAAM,SAAAvd,GACLqT,IAAImN,KAAKxgB,OAGf,IAAM6vC,EAAmBH,EAAOlsC,QAChCksC,EAAOlsC,QAAU,SAAiBomB,GAIhC,OAAOimB,EAAiB92C,KAAKkS,KAAM2e,GAChCrM,OAAM,SAAAvd,GACLqT,IAAImN,KAAKxgB,OAeX2vC,GACFD,EAAOI,YAAW,SAAClmB,EAAIN,EAAMxF,GAC3B,IAAIisB,EAAUnmB,EAAGmmB,QAEbC,EAAYD,EAAQp3C,QAAU,GAAwB,KAAnBo3C,EAAQ,GAAGv0B,KAC9Cy0B,EAAa,IAAMN,EAAe,IACtC,GAAIK,GAAapmB,EAAGpO,KAAKhG,WAAWy6B,KAAgBT,EAAY5lB,EAAGpO,MAAO,CAIxE,IAAI00B,EAAStmB,EAAGpO,KAAK9J,OAAOu+B,EAAWt3C,QAAQ6K,QAAQ,MAAO,KAC1D2sC,EAAYD,EAAO/vC,MAAM,KACzB+uB,EAAYihB,EAAUp0C,MAAM,EAAGo0C,EAAUx3C,OAAS,GAAG4K,KAAK,KAC1D04B,EAAWkU,EAAUA,EAAUx3C,OAAS,GAC5Cy3C,eAAiBF,EAAQP,GAAc,GAAMxzB,MAAK,SAAC3iB,GACjDk2C,EAAOW,UAAU,CAAC,CAChB70B,KAAMoO,EAAGpO,KACTjhB,KAAMf,EAAOe,KACbusB,UAAWttB,EACX82C,KAAM,CACJxhB,UAAWt1B,EAAOs1B,UAClBf,MAAO1a,IAAIjB,QAAQ5O,QAAQhK,EAAO+2C,UAAWl9B,IAAIlS,QACjDqvC,UAAWh3C,EAAOi3C,YAClB3kB,MAAOtyB,EAAOk3C,WAAa,GAE7Bp4B,MAVgB,SAUVo3B,GACJ,MAAO,CACL,UAAaxgB,EACb,SAAY+M,EACZ,YAAeyT,EAAOt8B,WAI5Bo8B,EAAY5lB,EAAGpO,OAAQ,EACvBsI,EAAK,CAAEtI,KAAMoO,EAAG+mB,cACfpzB,OAAM,SAACvd,GACR8jB,YAGFA,OAKN4rB,EAAO/tC,SAAQ,SAAC2G,GACd+K,IAAIwX,MAAM1L,QAAQ,YAAY,MAGhCuwB,EAAOkB,WAAU,SAAChnB,EAAIN,GACpBztB,OAAOg1C,eAAiBjnB,KAI5B,SAASknB,EAAQrsC,EAAOirC,EAAQC,GAC9B,IAAIoB,EAAU,GAId,OAHAj7B,EAAElX,KAAK6F,GAAO,SAAC8T,GACbw4B,EAAQx4B,IAAM,KAET,IAAI2E,SAAQ,SAACC,EAASU,GACvBpZ,EAAM9L,QAAU,GAClBwkB,IAEFrH,EAAElX,KAAK6F,GAAO,SAAChE,EAAGhI,GAChB,IAAIw3C,EAAa,IAAMN,EAAe,IAClCn0B,EAAO/a,EACPyvC,EAAS10B,EAAK9J,OAAOu+B,EAAWt3C,QAAQ6K,QAAQ,MAAO,KACvD2sC,EAAYD,EAAO/vC,MAAM,KACzB+uB,EAAYihB,EAAUp0C,MAAM,EAAGo0C,EAAUx3C,OAAS,GAAG4K,KAAK,KAC1D04B,EAAWkU,EAAUA,EAAUx3C,OAAS,GAC5Cy3C,eAAiBF,EAAQP,GAAc,GACpCxzB,MAAK,SAAC3iB,GACLk2C,EAAOW,UAAU,CAAC,CAChB70B,KAAMA,EACNjhB,KAAMf,EAAOe,KACbusB,UAAWttB,EACX82C,KAAM,CACJxhB,UAAWt1B,EAAOs1B,UAClBf,MAAO1a,IAAIjB,QAAQ5O,QAAQhK,EAAO+2C,UAAWl9B,IAAIlS,QACjDqvC,UAAWh3C,EAAOi3C,YAClB3kB,MAAOtyB,EAAOk3C,WAAa,GAE7Bp4B,MAVgB,SAUVo3B,GACJ,MAAO,CACL,UAAaxgB,EACb,SAAY+M,EACZ,YAAeyT,EAAOt8B,WAK5Bo8B,EAAYh0B,IAAQ,KAErB+B,OAAM,SAACvd,OACPyd,SAAQ,WAEPszB,EAAQtwC,IAAK,EACb,IAAIjH,EAASsc,EAAE0J,OAAOuxB,GAAS,SAACx4B,GAAD,OAASA,KACxC/e,EAAOb,QAAU,GAAKwkB,aAMhC,SAAS6zB,EAAgBnf,EAAK7iB,GAE5BpW,OAAOq4C,iBAAiBpf,EAAIh5B,UAAW,CACrCq4C,QAAS,CACPt2C,IAAK,WACH,IAAKqQ,KAAKkmC,SAER,IAAK,IAAI9+B,KADTpH,KAAKkmC,SAAW,GACFniC,EACZ/D,KAAKkmC,SAAS9+B,GAAKrD,EAAIqD,GAAG9W,KAAK0P,MAGnC,OAAOA,KAAKkmC,aAMpB,SAASC,EAAavf,EAAKxe,GACzBwe,EAAIh5B,UAAUwa,IAAMA,EAGtB,SAASg+B,EAAcxf,EAAKxH,GAC1BwH,EAAIh5B,UAAUm3B,MAAQ3F,EAIT,QACbymB,UACArB,aACAuB,kBACAI,eACAC,mB,6QC3KEC,EAAa,CACf,QAAW,EACX,MAAS,EACT,OAAU,EACV,KAAQ,EACR,QAAW,EACX,MAAS,EACT,OAAU,EACV,KAAQ,EACR,IAAO,EACP,MAAS,EACT,SAAY,EACZ,OAAU,EACV,UAAa,EACb,QAAW,EACX,MAAS,EACT,KAAQ,EACR,MAAS,EACT,IAAO,EACP,MAAS,EACT,OAAU,EACV,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,OAAU,EACV,GAAM,EACN,GAAM,EACN,KAAQ,EACR,MAAS,EACT,SAAY,EACZ,OAAU,EACV,GAAM,EACN,MAAS,EACT,KAAQ,EACR,IAAO,EACP,KAAQ,EACR,QAAW,EACX,MAAS,EACT,IAAO,EACP,OAAU,EACV,MAAS,EACT,WAAc,EACd,QAAW,EACX,KAAQ,EACR,OAAU,EACV,IAAO,EACP,IAAO,EACP,UAAa,EACb,QAAW,EACX,QAAW,EACX,OAAU,EACV,QAAW,EACX,OAAU,EACV,MAAS,EACT,SAAY,EACZ,KAAQ,EACR,IAAO,EACP,OAAU,EACV,GAAM,EACN,QAAW,EACX,OAAU,EACV,GAAM,EACN,OAAU,EACV,KAAQ,EACR,SAAY,EACZ,KAAQ,EACR,WAAc,EACd,GAAM,EACN,GAAM,EACN,OAAU,EACV,SAAY,EACZ,KAAQ,EACR,IAAO,EACP,MAAS,EACT,QAAW,EACX,GAAM,EACN,KAAQ,EACR,OAAU,EACV,MAAS,EACT,MAAS,GAIX,SAASC,EAAiBh5B,GACxB,IAAIjZ,EAAS2Z,EAAEV,GACXi5B,EAASv4B,EAAE3Z,GAAQmyC,QAAQ,eAC3BC,EAAY,KAEZpyB,GAAO,EAEX,GAAIkyB,EAAOG,SAAS,cAAe,CACjC,IAAI7+B,EAAe0+B,EAAO52C,IAAI,GAAG+tB,QACjC+oB,EAAY5+B,OAMZwM,GAAO,EAET,GAAIA,IACFoyB,EAAYF,EAAOziC,QAAQ,eACvB2iC,EAAU92C,IAAI,IAAI,CACpB,IAAIkY,EAAe4+B,EAAU92C,IAAI,GAAG+tB,QACpC+oB,EAAY5+B,EAGhB,GAAI4+B,EAAW,CACb,IAAIE,EAAkBF,EAClBG,EAAeD,EAAgBE,YAEnC,OAAQD,EACND,EAAkBA,EAAgBG,QAClCF,EAAeD,EAAgBE,YAEjC,GAAID,EACF,OAAOA,GAwBb,SAASG,EAAaC,EAAMC,GAC1B,IAAIp/B,EAAem/B,EACnB,GAAIn/B,EAEF,OAAQA,EAAaq/B,OAAOloB,SAE1B,GADAnX,EAAeA,EAAai/B,QACxBj/B,EAAas/B,KAAOF,EAAaE,IAAK,CACxCt/B,EAAe,KACf,MAIN,OAAOA,EAGT,SAAS2U,EAAgBltB,EAAMotB,GAC7B,IAAIsqB,EAAO5+B,IAAIoU,gBAAgBltB,EAAMotB,GAIrC,OAHKsqB,EAAKrqB,WACRqqB,EAAKrqB,SAAWvU,IAAI8N,QAEf8wB,EAGT,SAASI,EAAsB93C,EAAMotB,GACnC,IAAIlV,EAAMlY,EAAK4F,MAAM,KAEP,UAAVsS,EAAI,KACNA,EAAI5Y,OAAO,EAAG,EAAG,UACjBU,EAAOkY,EAAIlP,KAAK,MAOlB,IAAI0uC,EAAO5+B,IAAIoU,gBAAgBltB,EAAMotB,GAIrC,OAHKsqB,EAAKrqB,WACRqqB,EAAKrqB,SAAWvU,IAAI8N,QAEf8wB,EAIT,SAASK,EAAqBhzC,GAC5BA,EAAS2Z,EAAE3Z,GACXA,EAASA,EAAOmyC,QAAQ,wBACxB,IAAI3qB,EAAYxnB,EAAO1E,IAAI,GAAG+tB,QAC9B,OAAI7B,GACFA,EAAYA,EAAUgC,eAAiBhC,EAAUgC,iBAAmBhC,EAC7DA,GAEF,KAIT,SAASyrB,EAAYjzC,EAAQ4yC,GAC3B,IAAIM,EAAO,KACT9/B,EAAQ,EACRic,GAAQ,EACV,IAAKrvB,EACH,OAAO,EAOT,GAJEkzC,EADElzC,EAAO8rB,OACF9rB,EAAO3G,OAAS,EAAI2G,EAAO1E,IAAI,GAAK,KAEpC0E,GAEJkzC,EACH,OAAO,EAET,EAAG,CACD,GAAIA,GAAQN,EAAaE,IACvB,MAEF,GAAII,EAAK7pB,QAAS,CAChB,IAAI7V,EAAek/B,EAAaQ,EAAK7pB,QAASupB,GAC9C,GAAIp/B,IAAiBA,EAAaq/B,OAAO/iB,SAAU,CACjDT,GAAQ,EACR,MAEA,MAGF6jB,EAAOA,EAAK9wC,WAEdgR,UACOA,EAAQ,KACjB,OAAOic,EAIT,SAAS8jB,EAAclX,GACrB,OAAO3nB,KAAK4E,UAAU+iB,GAIxB,SAASmX,EAAUC,EAAiBC,EAAWjoC,EAAK8Q,EAAQo3B,GAC1DF,EAAgB5pB,UAAUrI,SAAQ,SAAAoyB,GAC5BA,EAAMpd,SAASnO,QAAUurB,EAAMpd,SAASnO,OAAOqrB,IAC7CC,GAAoBC,GACtBA,EAAMpd,SAASnO,OAAOqrB,GAAW75C,KAAK+5C,EAAOnoC,EAAK8Q,GAGtDi3B,EAAUI,EAAOF,EAAWjoC,EAAK8Q,EAAQo3B,MAK7C,IAAIE,EAAgB,CAAC,aAAc,eAAgB,WAAY,MAAO,SAEtE,SAASC,EAAcvqB,EAAM6K,GAC3B,IAAI2f,EAAO,GACTjG,EAAO,KAuDT,OAtDAkG,EAAoBzqB,EAAM,KAAM,MAAM,SAAC3B,EAAWqsB,EAAQC,GACxD,IAAIC,EAAcJ,EAAKA,EAAKt6C,OAAS,GACjC26C,EAAgBxsB,EAAU4O,SAAW5O,EAAU4O,SAASnO,OAAS,KACrE,GAAI+rB,EAAe,CACjB,IAAIC,EAAaD,EAAczgB,QAAU,GACzC0gB,EAAW5b,QAAU4b,EAAW5b,OAAO5+B,KAAK+tB,GAE9C,IAAIxO,EAAQjF,IAAI0I,KAAI,EAAM,GAAI+K,EAAUqrB,QACpCrrB,EAAU0sB,OAAO,eACnBl7B,EAAM,aAAewO,EAAU0sB,OAAO,cAExC,IAAIC,EAAe,GAAH,OAAOV,GACvB,GAAIjsB,EAAU4O,UAAY5O,EAAU4O,SAASnO,OAAQ,CACnD,IAAIsL,EAAS/L,EAAU4O,SAASnO,OAAOsL,OACvC,GAAIA,EAAQ,CACV,IAAIka,EAAUla,EAAOka,SAAW,GAChC0G,EAAeA,EAAa/vC,OAAOqpC,IAGnCjmB,EAAU0U,gBACR1U,EAAUirB,QAAQA,SAAWjrB,EAAUirB,QAAQA,QAAQ2B,KAEzDp7B,EAAM+yB,QAAUvkB,EAAUirB,QAAQA,QAAQ2B,MAAQ,GAElDp7B,EAAM+yB,QAAU,IAGpBv1B,EAAElX,KAAK60C,GAAc,SAAAE,GACfrgB,GACGqgB,EAAIn+B,WAAW,aAIb8C,EAAMq7B,MAIjBV,EAAKh6C,KAAKqf,GACL+6B,IACHrG,EAAO10B,GAET,IAAI0P,EAAQ1P,EAAM0P,MAIlB,GAHAlS,EAAElX,KAAKopB,GAAO,SAAAC,GACZA,EAAKC,SAAW,MAEdmrB,EAAa,CACf,IAAIprB,EAAOnS,EAAEsX,KAAKimB,EAAYrrB,OAAO,SAAAjuB,GAAC,OAAIA,EAAEQ,MAAQ64C,KAChDnrB,GACFA,EAAKC,SAASjvB,KAAKqf,OAGtB,WACD26B,EAAK3vC,SAEA0pC,EAIT,SAASkG,EAAoBpsB,EAAWqsB,EAAQC,EAAUryC,EAAU6yC,GAClE,GAAI9sB,EAAW,CACb,OAAQA,EAAUgC,eAChBhC,EAAYA,EAAUirB,QAExB,IAAKjrB,EACH,OAGF,IAAI+sB,EAIJ,GALA/sB,EAAYA,EAAUgC,iBAElB/nB,IACF8yC,EAAa9yC,EAAS+lB,EAAWqsB,EAAQC,KAExB,IAAfS,EAAsB,CACxB,IAAIC,EAAgBhtB,EAAU4O,SAASnO,OACnCgsB,EAAaO,EAAcjhB,OAC3BkhB,EAAS1gC,IAAI5U,WAAW80C,EAAWS,QAAUT,EAAWS,OAAOj7C,KAAK+tB,GAAaysB,EAAWS,QACjF,IAAXD,GACFj+B,EAAElX,KAAKkoB,EAAUkB,OAAS,IAAI,SAAAC,GAC5BnS,EAAElX,KAAKqpB,EAAKC,UAAY,IAAI,SAAAoF,GAC1B,IAAI2mB,EAAQ3mB,EAAQ1F,SAChBtoB,EAAS2Z,EAAE,YAAcg7B,EAAQ,MACrC,GAAI30C,EAAO3G,OAAQ,CACjB,IAAIm6C,EAAQxzC,EAAO1E,IAAI,GAAG+tB,QAC1BuqB,EAAoBJ,EAAOhsB,EAAWmB,EAAK1tB,KAAMwG,EAAU6yC,UAMrEA,GAAiBA,EAAc9sB,EAAWqsB,EAAQC,IAKtD,SAASc,EAAmBzrB,GAC1B,IAAIgjB,EAAS,GAoBb,GAnBAyH,EAAoBzqB,EAAM,KAAM,MAAM,SAAClQ,EAAI46B,EAAQC,GACjD,GAAI76B,EAAGijB,cAAe,CACpB,IAAI3I,EAASta,EAAGmd,SAASnO,OAAShP,EAAGmd,SAASnO,OAAOsL,OAAS,GAC1DshB,GAAe,EACf9gC,IAAI9V,OAAOs1B,EAAQ,kBAA2C,IAAxBA,EAAOshB,eAC/CA,GAAe,GAEbA,GAEFr+B,EAAElX,KAAKw1C,EAAgB77B,IAAK,SAACjQ,GAC3BmjC,EAAOxyC,KAAKqP,MAIG,iBAAfiQ,EAAG0R,UAAgC1R,EAAG87B,MACxC5I,EAAOxyC,KAAK,KAAOsf,EAAG4b,QAAU,cAIlCsX,EAAO9yC,OAET,OADA0a,IAAIwX,MAAMsH,GAAGhT,QAAQssB,EAAO,IAAI,IACzB,EAIX,SAAS2I,EAAgB77B,GACvB,IAAIkzB,EAAS,GACTlxC,EAAOge,EAAG45B,OAAOjrB,SAAS/mB,MAAM,KAAK,GAOzC,OANIoY,EAAG45B,OAAOhe,QAAQ3e,WAAWjb,IAC/BkxC,EAAOxyC,KAAKsf,EAAG45B,OAAOhe,QAAU,iBAEkB,IAAhDmd,EAAW/4B,EAAG45B,OAAOhe,QAAQpiB,gBAC/B05B,EAAOxyC,KAAKsf,EAAG45B,OAAOhe,QAAU,cAE3BsX,EAIT,SAAS6I,EAAW57B,EAAGte,EAAGm6C,EAAIpX,EAAUqX,GACtC,IAAIC,EAAaD,EAAQ,MAAQ,QAC7BE,EAAS,CAACh8B,EAAGte,GAAGmJ,KAAK,KACrBoxC,EAAaxX,EAAW9pB,IAAIvR,IAAI6Z,WAAW,YAAc84B,GAAcphC,IAAIvR,IAAI6Z,WAAW,QAAU84B,GACpGG,EAAU,GAAH,OAAMD,EAAN,YAAoBD,EAApB,YAA8BH,EAA9B,sBAA6C,IAAI7qC,MAAOC,WACnE,OAAOirC,EAIT,SAASC,EAAcn8B,EAAGte,EAAGm6C,EAAIpX,EAAUqX,GACzC,IAAIC,EAAaD,EAAQ,OAAS,QAC9BE,EAAS,CAACh8B,EAAGte,GAAGmJ,KAAK,KACrBoxC,EAAaxX,EAAW9pB,IAAIvR,IAAI6Z,WAAW,YAAc84B,GAAcphC,IAAIvR,IAAI6Z,WAAW,QAAU84B,GACpGK,EAAW,GAAH,OAAMH,EAAN,YAAoBD,EAApB,YAA8BH,EAA9B,2BAAkD,IAAI7qC,MAAOC,WACzE,OAAOmrC,EAIT,SAASC,EAAmBtsB,EAAM1nB,GAChC,IAAIi0C,EAAK,CACPC,WAAY,GACZC,OAAyB,QAAjBzsB,EAAKgG,SACb0mB,UAAW1sB,EAAKgG,SAChBC,UAAWjG,EAAKiG,UAChBvyB,KAAM,CAAEi5C,UAAW,IACnBhiC,MAAO,GACPiiC,YAAa,GACbnrB,SAAU,GACViT,UAAU,GAER3jC,EAAS87C,EAAwB7sB,EAAMA,EAAM1nB,GAC7Cw0C,EAAW,EAoBf,OAnBAz/B,EAAElX,KAAKpF,GAAQ,SAAA+iB,GACb,GAAIA,EAAKi5B,OAAQ,CACf,IAAIC,EAASl5B,EAAKi5B,OACdl5B,EAA2B,SAApBjJ,IAAIlR,KAAKszC,GAAqB,CAACA,GAAUA,EACpD3/B,EAAElX,KAAK0d,GAAM,SAAA/D,GACPA,EAAG2R,WACL8qB,EAAG9qB,SAAS3R,EAAGjd,KAAO+X,IAAI0I,IAAI,GAAIxD,EAAG2R,UACrC8qB,EAAG9qB,SAAS3R,EAAGjd,KAAK41B,QAAUqkB,EAC9BP,EAAG9qB,SAAS3R,EAAGjd,KAAKo6C,IAAMn9B,EAAG2iB,MAE3B3iB,EAAGnF,QACL4hC,EAAG5hC,MAAQmF,EAAGnF,OAEZmF,EAAG88B,cACLL,EAAGK,YAAc98B,EAAG88B,oBAKrBL,EAKT,SAASM,EAAwBxuB,EAAWkmB,EAAMjsC,GAChD,IAAI0R,EAAM,GACVygC,EAAoBpsB,EAAW,KAAM,MAAM,SAAAvO,GACzC,IAAI+6B,EAAgB/6B,EAAGmd,SAASnO,QAAU,GACtCouB,EAAerC,EAAcppB,UAAY,GACzC1wB,EAASm8C,EAAat6C,QAAUs6C,EAAat6C,OAAOtC,KAAKwf,EAAIy0B,GACjExzC,GAAUiZ,EAAIxZ,KAAK,CACjB6tB,UAAWvO,EACXi9B,OAAQh8C,IAEV,IAAIw6C,GAAS3gC,IAAI4L,MAAM02B,EAAa3B,SAAU2B,EAAa3B,OAC3D,IAAKA,EACH,OAAO,KAKX,IAFA,IAAI4B,EAAS,CAAC5I,EAAK9rC,QAAQ0sB,EAAGof,EAAK9rC,QAAQ2sB,GACvCvyB,EAAMs6C,EAAOryC,KAAK,KAAKC,QAAQ,MAAO,KACjC/K,EAAI,EAAGA,EAAIga,EAAI9Z,OAAQF,IAAK,CACnC,IAAIo9C,EAAMpjC,EAAIha,GAAGquB,UACbttB,EAASiZ,EAAIha,GAAG+8C,OAEhBK,EAAIja,YAAa,WACnB,IAAIka,EAAiB,GAEjBC,EAAgB,GAClBC,EAAY,GAUd,GATAlgC,EAAElX,KAAKpF,GAAQ,SAAC+e,GACd,GAAIA,EAAG2R,WACD3R,EAAG2R,SAAS+rB,gBAAkB19B,EAAG2R,SAASgsB,QAAQ,CACpDH,EAAc98C,KAAKsf,EAAG2R,UACtB,IAAI5uB,EAAM66C,EAAsB59B,EAAG2R,SAAS5pB,IAC5C+S,IAAI4E,MAAMm+B,OAAOJ,EAAW16C,OAI9B06C,EAAUr9C,OAAS,EACrB,KAAM,mBAGRmd,EAAElX,KAAKpF,GAAQ,SAAC+e,EAAI9f,GAClB,IAAI8iC,EAAOhjB,EAAG2iB,KACVmb,EAAkB,GACtB,GAAS,GAAL59C,EAAQ,CACV,IAAIgZ,EAAO,GACTnR,EAAK,GACLgrB,EAAK,GACL/wB,EAAO,GACPgkC,EAAW,GAEb,GAAIwX,EAAcp9C,OAAS,EAAG,CAC5B,IAAI29C,EAAWP,EAAc,GAAGzqB,GAAGnrB,MAAM,KACzCsR,EAAO6kC,EAASA,EAAS39C,OAAS,GAClC2H,EAAKg2C,EAAS/yC,KAAK,KACnB+nB,EAAKgrB,EAAS/yC,KAAK,KACnBhJ,EAAOghC,EAAKiP,MACZjM,EAAW+X,EAAS/yC,KAAK,KACzB8yC,EAAkBP,EAAiBQ,EAAS/yC,KAAK,UAEjDkO,EAAO8pB,EAAKpH,QACZ7zB,EAAKs1C,EAAOryC,KAAK,KAAO,IAAMg4B,EAAKpH,QACnC7I,EAAKsqB,EAAOryC,KAAK,KACjBhJ,EAAOghC,EAAKrR,SAAS3vB,MAAQghC,EAAKiP,MAClCjM,EAAWjjC,EAAM,IAAMigC,EAAKpH,QAC5BkiB,EAAkBP,EAAiBx6C,EAAM,IAAMigC,EAAKpH,QAEtDoiB,EAA0Bh+B,EAAG2R,UAE7B3R,EAAG2R,SAASzY,KAAOA,EACnB8G,EAAG2R,SAAS5pB,GAAKA,EACjBiY,EAAG2R,SAASoB,GAAKA,EACjB/S,EAAG2R,SAAS3vB,KAAOA,EACnBge,EAAG2R,SAASssB,MAAQjb,EAAKpH,QACzBoH,EAAKI,kBAAoB4C,OAErBhmB,EAAG2R,WACLqsB,EAA0Bh+B,EAAG2R,UAC7B3R,EAAG2R,SAASsU,WAAasX,EACzBv9B,EAAG2R,SAASzY,KAAO8pB,EAAKpH,QACxB5b,EAAG2R,SAASssB,MAAQjb,EAAKpH,QACzB5b,EAAG2R,SAAS5pB,GAAKw1C,EAAetyC,QAAQ,MAAO,KAAO,IAAM+3B,EAAKpH,QACjE5b,EAAG2R,SAASoB,GAAKwqB,EAAetyC,QAAQ,MAAO,KAC/C+U,EAAG2R,SAAS3vB,KAAOghC,EAAKrR,SAAS3vB,MAAQghC,EAAKiP,MAC9CjP,EAAKI,kBAAoBma,EAAiB,IAAMva,EAAKpH,QACrD5b,EAAG2R,SAASusB,QAAyB,IAAhBlb,EAAKkb,OAC1BJ,EAAkBP,EAAiB,IAAMva,EAAKpH,SAGlD5b,EAAG2R,SAAS4B,MAAQ,EACpBvT,EAAGjd,IAAM+6C,KAnEQ,IAuEnB78C,EAA6B,SAApB6Z,IAAIlR,KAAK3I,GAAqBA,EAAS,CAACA,GACjDsc,EAAElX,KAAKpF,GAAQ,SAAC+e,GACd,IAAIgjB,EAAOhjB,EAAG2iB,KACd,GAAI3iB,EAAG2R,SAEL,GAAIqR,EAAKC,cAKP,GAJA+a,EAA0Bh+B,EAAG2R,UAIxB3R,EAAG2R,SAAS+rB,gBAAmB19B,EAAG2R,SAASgsB,OAUzC,CACL,IAAII,EAAW/9B,EAAG2R,SAAS5pB,GAAGH,MAAM,KAChCo+B,EAAW+X,EAASv6C,MAAM,EAAGu6C,EAAS39C,OAAS,GAAG4K,KAAK,KAAO,IAAM+yC,EAASA,EAAS39C,OAAS,GACnG4iC,EAAKI,kBAAoB4C,EACzBhmB,EAAG2R,SAASnD,YAAcwU,EAAKpH,QAC/B5b,EAAG2R,SAAS4B,MAAQ,EACpBvT,EAAG2R,SAASusB,QAAyB,IAAhBlb,EAAKkb,OAC1Bl+B,EAAGjd,IAAMijC,OAhBThmB,EAAG2R,SAASssB,MAAQjb,EAAKpH,QACzB5b,EAAG2R,SAASzY,KAAO8pB,EAAKpH,QACxB5b,EAAG2R,SAAS5pB,GAAKs1C,EAAOryC,KAAK,KAAO,IAAMg4B,EAAKpH,QAC/C5b,EAAG2R,SAASoB,GAAKsqB,EAAOryC,KAAK,KAC7BgV,EAAG2R,SAAS3vB,KAAOghC,EAAKrR,SAAS3vB,MAAQghC,EAAKiP,MAC9CjyB,EAAG2R,SAAS4B,MAAQ,EACpByP,EAAKI,kBAAoBrgC,EAAM,IAAMigC,EAAKpH,QAC1C5b,EAAG2R,SAASusB,QAAyB,IAAhBlb,EAAKkb,OAC1Bl+B,EAAGjd,IAAMA,EAAM,IAAMigC,EAAKpH,aAYzB,GAAwB,sBAApB5b,EAAG2R,SAASmD,KAA8B,CACjD,IAAI8G,EAAUoH,EAAKpH,QAMnB,GAJA5b,EAAG2R,SAASssB,MAAQriB,EACpB5b,EAAG2R,SAASzY,KAAO0iB,EACnB5b,EAAG2R,SAAS3vB,KAAOghC,EAAKrR,SAAS3vB,MAAQghC,EAAKiP,MAC9CjyB,EAAG2R,SAAS4B,MAAQ,EAChByP,EAAKj5B,OAAgC,EAAvBi5B,EAAKmb,iBAAuB,GAAKnb,EAAKob,oBAAoBllC,MAAQ8pB,EAAKob,oBAAoBllC,KAAKnR,GAChHiY,EAAG2R,SAAS5pB,GAAKi7B,EAAKob,oBAAoBllC,KAAK6Z,GAAK,IAAM6I,EAC1D5b,EAAG2R,SAASoB,GAAKiQ,EAAKob,oBAAoBllC,KAAK6Z,GAC/ChwB,EAAMigC,EAAKob,oBAAoBllC,KAAK6Z,GAAGnrB,MAAM,KAAKoD,KAAK,SAClD,CACL,IAAIqzC,EAAKt7C,EACTid,EAAG2R,SAAS5pB,GAAKs2C,EAAGpzC,QAAQ,MAAO,KAAO,IAAM2wB,EAChD5b,EAAG2R,SAASoB,GAAKsrB,EAAGpzC,QAAQ,MAAO,KAErClI,GAAO,IAAM64B,EACboH,EAAKI,kBAAoBrgC,EACzBid,EAAGjd,IAAMA,OAETi7C,EAA0Bh+B,EAAG2R,UAE7B3R,EAAG2R,SAASssB,MAAQjb,EAAKpH,QACzB5b,EAAG2R,SAASzY,KAAO8pB,EAAKpH,QACxB5b,EAAG2R,SAAS5pB,GAAKs1C,EAAOryC,KAAK,KAAO,IAAMg4B,EAAKpH,QAC/C5b,EAAG2R,SAASoB,GAAKsqB,EAAOryC,KAAK,KAC7BgV,EAAG2R,SAAS3vB,KAAOghC,EAAKrR,SAAS3vB,MAAQghC,EAAKiP,MAC9CjyB,EAAG2R,SAAS4B,MAAQ,EACpBvT,EAAGjd,IAAMA,EAAM,IAAMigC,EAAKpH,YAOpC,OAAO1hB,EAMT,SAASokC,EAA8BhkB,EAAQS,EAAWhoB,GACxDunB,EAASxf,IAAI0I,KAAI,EAAM,GAAI8W,GAC3B,IAAIikB,EAAiB,CACnBnf,OAAQ,KACRof,MAAO,MAET1jC,IAAI0I,IAAI+6B,EAAgBxrC,GACxB,IAAI0rC,EAAc,GASlB,SAAS90C,EAAcH,EAAMoxC,EAAQlrB,EAAMgvB,EAAWC,EAAcC,EAAQC,EAAUlwC,EAAQmwC,GAC5F,IAAI5kC,EAAM,GACR6F,EAAQ,GAEVw+B,EAAenf,QAAUmf,EAAenf,OAAO51B,EAAMi1C,EAAa/uB,EAAMgvB,EAAWC,GAC/En1C,GACFi1C,EAAY/9C,KAAK8I,GAEnB,IAAIy5B,EAAgBz5B,EAAKy5B,cACrB8b,EAAmBv1C,EAAK45B,kBACxB4b,EAAe,YACfx9C,EAAI,GACJk9C,GACFl9C,EAAEd,KAAKg+C,GAELC,GACFn9C,EAAEd,KAAKi+C,GAELn9C,EAAEpB,SACJ4+C,EAAex9C,EAAEwJ,KAAK,MAGxB,IAAIi0C,EAAc,GAQlB,GAPIhc,GAAiB8b,IACnBE,EAAY,WAAaD,EAAe,KAAOD,EAAmB,KAExC,mBAAtBv1C,EAAKmoB,SAASmD,MAA8BiG,IAC9CkkB,EAAY,UAAY,UAAYF,EAAmB,OAGvDv1C,EAAK01C,UACP3hC,EAAElX,KAAKmD,EAAKimB,OAAO,SAACjuB,EAAGtB,GACjBsB,EAAEmuB,SAASvvB,OAAS,GACtBmd,EAAElX,KAAK7E,EAAEmuB,UAAU,SAAC7tB,EAAGuqC,GACrB,IAAIkO,EAAQ5wC,EAAc7H,EAAG84C,EAAQ,CAAEC,SAAUr5C,EAAEQ,KAAMm9C,UAAWj/C,EAAGk/C,OAAQ/S,GAAMqS,EAAWC,EAAcC,EAAQC,EAAUlwC,EAAQmwC,GACxI5kC,EAAIxZ,KAAJ,MAAAwZ,EAAG,eAASqgC,EAAM8E,MAClBvkC,IAAI0I,IAAIzD,EAAOw6B,EAAMx6B,kBAMxB,GAAqB,WAAjBvW,EAAKkoB,UAA0BqJ,EAIjC,CACL,IAAIoiB,EAAM,GACL0B,GAQHI,EAAY,UAAZ,qBAAsCz1C,EAAK6lB,SAA3C,cAAyD2vB,EAAzD,YAAyEJ,GAAQ,QAAjF,KACAK,EAAY,UAAYD,EACxBC,EAAY,cAAgB,IAAMz1C,EAAK6lB,SAAW,MATlD4vB,EAAY,eAAiB,cAAgBz1C,EAAK6lB,SAAW,KACzD7lB,EAAKoyB,UACPuhB,EAAM,IAAM3zC,EAAKoyB,QAAU,KAE7BqjB,EAAY,UAAYD,GAS1BC,EAAY,QAAU,IAAMz1C,EAAK6lB,SAAW,IAExC8tB,IACF8B,EAAY,QAAU9B,EACtB8B,EAAY,YAAc9B,GAExB3zC,EAAKmS,SAEPsjC,EAAY,QAAU,YAEtBA,EAAY,wBAA0B,WAExC,IAAIK,EAAUC,EAAuBN,GACjCO,EAAezkB,EAAsE,GAA1DwkB,EAAuB/1C,EAAKi2C,YAAY,UAAY,IAC/EC,EAAa,iCAAKJ,GAAYE,GAC9BG,EAAWpiC,EAAE1P,IAAI6xC,GAAY,SAACh1B,GAChC,IAAI1oB,EAAO0oB,EAAK/b,OAAS+b,EAAKk1B,SAAWl1B,EAAKm1B,SAC9C,OAAO79C,EAAO,IAAM0oB,EAAKjoB,SAQvBq9C,EAAat2C,EAAKy5B,eAAiB6b,EACvC,GAAIgB,EAAY,CACd5lC,EAAIxZ,KAAJ,2BAA6Bs+C,EAAa,YAA1C,OACA,IAAI7hC,EAAM,GAAH,OAAM6hC,EAAc,KAAOD,EAAmB,MACrD7kC,EAAIxZ,KAAJ,mDAAoD8I,EAAKmpC,UAAzD,aAAuEx1B,EAAvE,6CAA6G3T,EAAKmpC,UAAlH,aAAgIx1B,EAAhI,eACAjD,EAAIxZ,KAAK,eACTwZ,EAAIxZ,KAAK,qBAEXwZ,EAAIxZ,KAAK,IAAM8I,EAAKkoB,SAAW,IAAMiuB,EAAS30C,KAAK,KAAO,KAC1DuS,EAAElX,KAAKmD,EAAKimB,OAAO,SAACjuB,EAAGtB,GACrB,GAAIsB,EAAEmuB,SAASvvB,OAAS,EAAG,CACzB,IAAI2/C,GAAe,EACL,WAAVv+C,EAAEQ,MAAsBR,EAAEg7B,QAC5BujB,GAAe,GAEbA,GACF7lC,EAAIxZ,KAAK,oBAAsBc,EAAEQ,MAAQR,EAAEg7B,MAAQ,IAAMnhB,KAAK4E,UAAUze,EAAEg7B,OAAS,IAAM,KAE3F,IAAIwjB,GAAsB,IAAbx+C,EAAEw+C,OACXnB,IACFmB,GAAS,GAEX,IAAIrxC,GAAsB,IAAbnN,EAAEw+C,OAAkBx2C,EAAKoyB,QAAU,GAC5CqkB,EAAUz+C,EAAEy+C,SAAWtB,EACvBuB,EAAY1+C,EAAEg7B,OAASkiB,EACvBI,EAAYt9C,EAAEs9C,UACdF,EAASp9C,EAAEo9C,QAAUA,EACzBrhC,EAAElX,KAAK7E,EAAEmuB,UAAU,SAAC7tB,EAAGuqC,GACrB,IAAIkO,EAAQ5wC,EAAc7H,EAAG0H,EAAM,CAAEqxC,SAAUr5C,EAAEQ,KAAMm9C,UAAWj/C,EAAGk/C,OAAQ/S,GAAM6T,EAAWD,EAASrB,EAAQoB,EAAQrxC,EAAQmwC,GAC/H5kC,EAAIxZ,KAAJ,MAAAwZ,EAAG,eAASqgC,EAAM8E,MAClBvkC,IAAI0I,IAAIzD,EAAOw6B,EAAMx6B,UAEnBggC,GACF7lC,EAAIxZ,KAAK,mBAIfwZ,EAAIxZ,KAAK,KAAO8I,EAAKkoB,SAAW,KAC5BotB,GACF5kC,EAAIxZ,KAAK,eAEXqf,EAAMvW,EAAK6lB,UAAY7lB,OArFnBA,EAAK0V,MACPhF,EAAIxZ,KAAKoa,IAAImE,aAAazV,EAAK0V,OA4FnC,OAFAq/B,EAAeC,OAASD,EAAeC,MAAMh1C,EAAMi1C,EAAa/uB,EAAMgvB,EAAWC,GACjFF,EAAY1zC,MACL,CACLgV,MAAOA,EACPs/B,IAAKnlC,GAGT,IAAIjZ,EAAS0I,EAAc2wB,EAAQ,MACnC,MAAO,CACLva,MAAO9e,EAAO8e,MACds/B,IAAKp+C,EAAOo+C,IAAIr0C,KAAK,OAIzB,SAASu0C,EAAuBx/B,GAC9B,IAAIu/B,EAAU,GAyBd,OAxBA/hC,EAAElX,KAAK0Z,GAAO,SAACve,EAAGtB,GAEhB,IAAIigD,EAAmBjgD,EAAE0H,MAAM,KAC3Bw4C,EAAc,0CACdR,EAAW,GACbjxC,EAAS,GACTkxC,EAAW,GACT3d,EAAQke,EAAY10C,KAAKxL,GACzBgiC,GAASA,EAAM9hC,OAAS,IAC1Bw/C,EAAW1d,EAAM,GACjBvzB,EAASuzB,EAAM,GACf2d,EAAW3d,EAAM,IAEA,UAAfpnB,IAAIlR,KAAKpI,KAAmB2+C,EAAiB,GAAGljC,WAAW,MAAQkjC,EAAiB,GAAGljC,WAAW,cACpGzb,EAAI,GAAKA,GAEX,IAAIkpB,EAAO,CACTk1B,SAAWA,GAAY,GACvBjxC,OAASA,GAAU,GACnBkxC,SAAWA,GAAY,GACvBp9C,MAAO4Y,KAAK4E,UAAUze,IAExB89C,EAAQM,GAAYjxC,GAAU+b,KAEzB40B,EAIT,SAASe,EAAWC,EAAS3pB,GAC3B,OAAO,IAAIhS,SAAQ,SAACC,EAASU,GAC3B,IAAIi7B,EAAO,IAAIC,KACXC,EAAO,CACT,YAAc9pB,EAAY,iBAAmBA,EAAY,KAAO,IAAM,IACtE2pB,EACA,KAEE/7B,EAAQzJ,IAAIlS,OAAOwpB,SAASquB,MAAQ,GACxCF,EAAKG,aAAa5lC,IAAIlS,OAAOwpB,SAASuuB,QAAU,UAAW,GAAIp8B,GAAO,WACpE,IAAIq8B,EAAYrjC,EAAE1P,IAAI0W,GAAO,SAACL,GAAD,yBAAsBA,EAAtB,SAC7Bu8B,EAAO,GAAH,sBAAOG,GAAP,eAAqBH,IACzBF,EAAKM,QAAQJ,EAAKz1C,KAAK,OAAO,SAAS/J,GACrC,GAAqB,GAAjBA,EAAO6/C,OAAa,CACtB,IAAIC,EAASjmC,IAAIoX,SAAS8uB,IAAI//C,EAAO0K,KAAM,CACzCs1C,YAAa,IACbC,YAAa,MAEft8B,EAAQm8B,OACH,CACL,IAAII,EAAW,QAAUlgD,EAAO2lB,QAChC9L,IAAI/K,MAAMoxC,GACV77B,EAAO67B,aAQjB,SAASvD,EAAsB71C,GAC7B,IAAImS,EAAMnS,EAAGH,MAAM,KAEnB,OADAsS,EAAMA,EAAI1W,MAAM,EAAG0W,EAAI9Z,OAAS,GACzB8Z,EAAIlP,KAAK,KAIlB,SAASgzC,EAA0BrsB,GAC7BA,EAASC,gBAAkBD,EAASC,eAAenvB,QAChDkvB,EAASC,eAAenvB,MAAMwa,WAAW,UAC5C0U,EAASC,eAAenvB,MAAQ,OAASkvB,EAASC,eAAenvB,QAGrE8a,EAAElX,KAAKsrB,EAAShC,UAAU,SAACqT,GACpBA,EAAKvgC,MAAMwa,WAAW,UACzB+lB,EAAKvgC,MAAQ,OAASugC,EAAKvgC,UAyIlB,QACbu2C,mBAEAgB,cACAE,gBACAC,YACAM,gBACAhB,eACAkB,sBACA6B,qBACAO,0BACAhD,uBACA7qB,kBACA4qB,wBACAwE,gCACA3C,qBACA0E,aACAxE,kBACAE,aACAO,mB,yLCv+BE8E,EAAU,MAEVhhC,EAAU,CACZ,MAAS,SAASvL,GAChB,GAAIA,EAAG,CACL,IAAI/C,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,UAAW,GACjD,GAAIyK,EAAK,GAAI,CACX,IAAIoI,EAAMpI,EAAK,GAAGlK,MAAM,KACxB,OAAIwY,EAAQlG,EAAI,IACPkG,EAAQlG,EAAI,IAAInZ,MAAM2R,KAAtB,CAA6BmC,GAA7B,sBAAmCqF,EAAI1W,MAAM,MAE7CqR,EAGT,OAAOA,EAGT,MAAO,IAGX,WAAc,SAASA,GACrB,GAAIA,EAAG,CACL,IAAI/C,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,UAAW,GACjD,GAAIyK,EAAK,GAAI,CACX,IAAIoI,EAAMpI,EAAK,GAAGlK,MAAM,KACxB,GAAIwY,EAAQlG,EAAI,IAAK,CACnB,GAAIA,EAAI,GAAG+C,WAAW,QACpB,MAAO,GAET,IAAIgtB,EAAS7pB,EAAQlG,EAAI,IAAInZ,MAAM2R,KAAtB,CAA6BmC,GAA7B,sBAAmCqF,EAAI1W,MAAM,MAC1D,OAAOymC,EAEP,OAAOp1B,EAGT,OAAOA,EAGT,MAAO,IAGX,UAAa,SAASA,GACpB,OAAOA,GAET,SAAY,SAASA,GAAgD,IAA7Co1B,EAA6C,uDAApC,mBAAoBsB,EAAgB,uCAAN3hC,EAAM,uCACnE,OAAIiL,EACKiG,IAAImX,KAAKgY,OAAOp1B,EAAGo1B,EAAQsB,EAAU3hC,GAEvC,IAET,QAAW,SAASqoB,GAAuB,IAAjBqe,IAAiB,yDACzC,OAAIre,EACKnX,IAAImX,KAAKoe,QAAQpe,EAAMqe,GAEzB,IAET,YAAe,SAASz7B,GAAc,IAAXlJ,EAAW,uDAAJ,GAChC,MAAiB,oBAANkJ,GACO,SAAhBiG,IAAIlR,KAAKiL,GAAsBA,EAE7BiG,IAAI8B,QAAQ/H,IACd6U,MAAM7U,IACO,IAAbA,EAAEzU,QACF0a,IAAIgP,cAAcjV,GACXlJ,EAEFkJ,GAET,UAAa,SAASA,EAAGwsC,GACvB,OAAIxsC,EACiB,UAAfiG,IAAIlR,KAAKiL,GACJA,EAAEwsC,GACe,SAAfvmC,IAAIlR,KAAKiL,GACX0I,EAAE1P,IAAIgH,EAAGwsC,GAAar2C,KAAK,KAE7B6J,EAEA,IAIX,WAAc,SAASA,EAAGwgC,GACxB,OAAOxgC,EAAE5J,QAAQm2C,EAAS/L,IAG5B,cAAkB,SAASxgC,EAAGwsC,GAC5B,OAAIxsC,EACiB,UAAfiG,IAAIlR,KAAKiL,GACJ0I,EAAE1P,IAAIwN,KAAKC,MAAMzG,GAAIwsC,GAAar2C,KAAK,KACtB,SAAf8P,IAAIlR,KAAKiL,GACX0I,EAAE1P,IAAIgH,EAAGwsC,GAAar2C,KAAK,KAE7B6J,EAEA,KAMb,SAASwkB,EAAQC,GACf,IAAK,IAAIxf,KAAKsG,EACZkZ,EAAIrS,OAAOnN,EAAGsG,EAAQtG,IAIXuf,W,yCC/Gf13B,EAAOD,QAAU,sgC,kICCb4/C,EAAe,CACjB,OAAU,CACRt/C,KAAK,OACLu/C,UAFQ,SAEE9+C,GACR,IAAIoS,EAAIpS,EAIR,MAHmB,UAAfqY,IAAIlR,KAAKiL,KACXA,EAAIA,EAAEyL,QAEE,KAANzL,GAAiB,MAALA,GAAiB,MAALA,MAEF,UAAfiG,IAAIlR,KAAKiL,KAAkBiG,IAAIgP,cAAcjV,MAE9B,SAAfiG,IAAIlR,KAAKiL,IAA6B,GAAZA,EAAEzU,UAE5B0a,IAAI8B,QAAQ/H,OAO3B,SAAY,CACV7S,KAAK,UACLu/C,UAFU,SAEA9+C,EAAO++C,GACf,IAAIxnC,EAAM,KAMV,OAJEA,EADEwnC,GAAaA,EAAY,EACrB,IAAIr6C,OAAO,uCAAyCq6C,EAAY,OAAQ,MAExE,IAAIr6C,OAAO,mCAAoC,QAElD6S,EAAI9O,KAAKzI,KAOlB,aAAgB,CACdT,KAAK,WACLu/C,UAFc,SAEJ9+C,EAAOqsC,GAGf,OAFArsC,EAAQmnB,WAAWnnB,GACnBqsC,EAAOllB,WAAWklB,GACdrsC,EAAQqsC,IAOhB,cAAgB,CACd9sC,KAAK,WACLu/C,UAFc,SAEJ9+C,EAAOwtC,GAGf,OAFAxtC,EAAQmnB,WAAWnnB,GACnBwtC,EAAQrmB,WAAWqmB,GACfxtC,EAAQwtC,IAOhB,UAAY,CACVjuC,KAAK,OACLu/C,UAFU,SAEA9+C,EAAO++C,GACf/+C,EAAQA,EAAMsC,WACd,IAAMiV,EAAM,IAAI7S,OAAO,uCAAyCq6C,EAAY,OAAQ,MACpF,QAAKxnC,EAAI9O,KAAKzI,KAMlB,UAAY,CACVT,KAAK,YACLu/C,UAFU,SAEA9+C,EAAMg/C,GACd,OAAGh/C,EAAMrC,OAAOqhD,IAMpB,UAAY,CACVz/C,KAAK,WACLu/C,UAFU,SAEA9+C,EAAMi/C,GACd,OAAGj/C,EAAMrC,OAAOshD,IAOpB,SAAY,CACV1/C,KAAK,QACL4H,KAAK,UACL23C,UAHU,SAGA9+C,GAER,IAAMk/C,EAAY,wDAEZC,EAAY,2EAClB,SAAKD,EAAUz2C,KAAKzI,KAAWm/C,EAAU12C,KAAKzI,MAOlD,aAAgB,CACdT,KAAK,QACL4H,KAAK,UACL23C,UAHc,SAGJ9+C,GACR,IAAMqhB,EAAMhJ,IAAI4X,OAAOjwB,GACvB,OAAOqhB,EAAIla,OAIf,SAAY,CACV5H,KAAK,OACL4H,KAAK,UACL23C,UAHU,SAGA9+C,GACR,IAAIuX,EAAM,0BACV,QAAKA,EAAI9O,KAAKzI,KAOlB,WAAc,CACZT,KAAK,OACL4H,KAAK,UACL23C,UAHY,SAGF9+C,GACR,IAAIuX,EAAM,wBACV,QAAKA,EAAI9O,KAAKzI,KAOlB,mBAAsB,CACpBT,KAAK,UACL4H,KAAK,UACL23C,UAHoB,SAGV9+C,GACR,IAAIo3B,EAAS,0BACTgoB,EAAM,sBACV,SAAKhoB,EAAO3uB,KAAKzI,KAAWo/C,EAAI32C,KAAKzI,MAOzC,QAAW,CACTT,KAAK,OACL4H,KAAK,UACL23C,UAHS,SAGC9+C,GACR,IAAIuX,EAAM,uEACV,QAAKA,EAAI9O,KAAKzI,KAMlB,cAAiB,CACfT,KAAK,OACL4H,KAAK,UACL23C,UAHe,SAGL9+C,GACR,IAAIuX,EAAM,iLACV,OAAIA,EAAI9O,KAAKzI,MAQf+vB,EAAW,WACb,IAAI1gB,EAAOqK,MAAM7b,UAAUkD,MAAMhD,KAAK6G,UAAW,GAC7Ck6C,EAAYzvC,EAAK,GACjBoR,EAASpR,EAAKtO,MAAM,GACxB,OAAO89C,EAAaC,GAAWA,UAAUxgD,MAAM2R,KAAMwQ,IAGpD5f,OAAOw+C,YACRr7B,OAAMjD,IAAI89B,EAAah+C,OAAOw+C,YAEhCtvB,EAAS3kB,IAAMyzC,EACA9uB,U,qCC5Lf1X,IAAI0I,KAAI,EAAM1I,IAAIlS,OAAQ,CACxBm5C,QAAS,CAEPrzB,QAAS,SAETszB,KAAM,UAER99B,KAAK,CACH+9B,cAAc,UAEhBC,aAAc,gBACdC,aAAc,GACdC,UAAW,YACXhwB,SAAU,CACRiwB,UAAU,EACV1B,QAAS,WACTF,KAAM,EAAI3lC,IAAIlS,OAAOwpB,SAASquB,QAE9Bn9C,OAAOg/C,SAAWh/C,OAAOg/C,SAAW,IAExCh/C,OAAOi/C,UAAYznC,IAAIlS,OAAOm5C,S,kCCpB9B,IAAIvnB,EAAS,WAAa,IAAI+W,EAAI7+B,KAAS8+B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAI9U,MAAMiV,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACtY,WAAW,CAAC,CAACp3B,KAAK,OAAOwgD,QAAQ,SAAS//C,MAAO8uC,EAAU,OAAEkR,WAAW,WAAWC,YAAY,aAAa,CAAEnR,EAAU,OAAEG,EAAG,gBAAgB,CAACiR,IAAI,YAAYD,YAAY,yBAAyBnR,EAAIqR,MAAM,IACnThR,EAAkB,G,YCDgV,S,YCOlWrjB,EAAY,eACd,EACAiM,EACAoX,GACA,EACA,KACA,KACA,MAIa,OAAArjB,E,yKCff,SAASnL,EAAW7Z,EAAK4Z,GACvB,IAAK5Z,EACH,MAAO,GAET,IAAIs5C,GAAY,EACZC,GAAc,EAQlB,GAPIv5C,EAAI0T,WAAW,MACjB4lC,GAAY,EACZt5C,EAAMA,EAAI4P,OAAO,IACR5P,EAAI0T,WAAW,OACxB6lC,GAAc,EACdv5C,EAAMA,EAAI4P,OAAO,IAEf5P,EAAI0T,WAAW,KACjB1T,EAAMA,EAAI4P,OAAO,QACZ,GAAI5P,EAAI0T,WAAW,OAAS1T,EAAI0T,WAAW,QAAU1T,EAAI0T,WAAW,YAAc1T,EAAI0T,WAAW,YACtG,OAAO1T,EAET,GAAIs5C,EACF,OAAO/nC,IAAIlS,OAAOm6C,QAAUx5C,EACvB,GAAIu5C,EACT,OAAOhoC,IAAIlS,OAAOw5C,UAAY74C,EAE9B,IAAIkrC,EAAOtxB,GAAYrI,IAAIlS,OAAOm5C,QAAQrzB,QAC1C,OAAO+lB,EAAOlrC,EAgBlB,IAAIy5C,EAAc,GAElB,SAASvoC,EAAY1X,GAInB,GAHKigD,EAAY,qBACfA,EAAY,mBAAqB,KAE9BA,EAAY,mBAAmBjgD,GAAM,CACxC,IAAIwG,EAAMjG,OAAO4R,SAAS+tC,KACtBC,EAAS,IAAI/7C,OAAO,OAASpE,EAAM,WAAY,KAC/CogD,EAASD,EAAOx3C,KAAKnC,GACzB,GAAI45C,GAAUA,EAAO/iD,OAAS,EAAG,CAC/B,IAAIof,EAAM4jC,UAAUD,EAAO,IAE3B,OADAH,EAAY,mBAAmBjgD,GAAOyc,EAC/BA,EAEP,MAAO,GAGX,OAAOwjC,EAAY,mBAAmBjgD,GAGxC,SAASsgD,EAAgB95C,GAMvB,OALyB,GAArBA,EAAIY,QAAQ,OAEe,GAApBZ,EAAIY,QAAQ,QADrBZ,EAAMuR,IAAIvR,IAAI6Z,WAAW7Z,EAAI4P,OAAO,KAI/B5P,EAGT,SAAS+R,EAAM/R,GACb,OAAO+5C,IAAQC,SAASh6C,GAG1B,SAAS0W,EAAUiD,EAAQnQ,GACzB,IAAIwrC,EAAiB,CACnBh7B,YAAa,UAGf,OADAxQ,EAAU+H,IAAI0I,IAAI,GAAI+6B,EAAgBxrC,GAC/B6I,IAAGqE,UAAUiD,EAAQnQ,GAE9B,SAASywC,EAAiB/pC,EAAK1G,GAC7B,IAAIwrC,EAAiB,CACnBh7B,YAAa,UAGf,OADAxQ,EAAU+H,IAAI0I,IAAI,GAAI+6B,EAAgBxrC,GAC/B6I,IAAGN,MAAM7B,EAAK1G,GAOvB,SAAS0wC,EAAUl6C,GACjB,IAAIrJ,EACJ,IAAKqJ,GAAe,KAARA,EACV,MAAO,CACLA,IAAK,KACLm6C,SAAU,KACVC,MAAO,KACPC,KAAM,KACNC,KAAM,KACN5gC,KAAM,KACNxI,YAAa,KACbwoC,KAAM,KACNpoC,MAAO,IAIX,GADAtR,EAAMu6C,mBAAmBv6C,GACA,IAArBA,EAAIY,QAAQ,MAAoC,IAAtBZ,EAAIY,QAAQ,MACxC,MAAO,CACLZ,IAAK,KACLm6C,SAAU,KACVC,MAAO,KACPC,KAAM,KACNC,KAAM,KACN5gC,KAAM,KACNxI,YAAa,KACbwoC,KAAM15C,EACNsR,MAAO,IAGX,IAAMkpC,EAAY,kGACZC,EAAUD,EAAUr4C,KAAKnC,GACzB06C,EAAQ,CAAC,MAAO,WAAY,QAAS,OAAQ,OAAQ,OAAQ,cAAe,QAC5EhjD,EAAS,GACf,IAAKf,EAAI,EAAGA,EAAI+jD,EAAM7jD,OAAQF,IAC5Be,EAAOgjD,EAAM/jD,IAAM8jD,EAAQ9jD,GAE7Be,EAAOyiD,SAAWziD,EAAOyiD,UAAaziD,EAAOyiD,SAAW,IACxDziD,EAAOgiB,KAAwB,OAAjBhiB,EAAO0iD,MAAkB,IAAM1iD,EAAO2iD,KAAO,IAAM3iD,EAAOgiB,KAAQ,IAAMhiB,EAAOgiB,KAC7FhiB,EAAO2iD,KAAwB,OAAjB3iD,EAAO0iD,MAAiB,KAAO1iD,EAAO2iD,KAC/C3iD,EAAO4iD,OACV5iD,EAAO4iD,KAA2B,UAApB5iD,EAAOyiD,SAAuB,KAA2B,WAApBziD,EAAOyiD,SAAwB,KAAO,IAE3F,IAAMQ,EAAS,GACfjjD,EAAOwZ,YAAcxZ,EAAOwZ,aAAe,GAC3C,IAAMI,EAAQ5Z,EAAOwZ,YAAY7S,MAAM,KACvC,IAAK1H,EAAI,EAAGA,EAAI2a,EAAMza,OAAQF,IAAK,CACjC,IAAM8jB,EAAOnJ,EAAM3a,GAAGogB,OAClB6jC,EAAKngC,EAAK7Z,QAAQ,KACpBi6C,EAAK,GACL/F,EAAK,GACM,KAATr6B,KACU,IAARmgC,EACF9F,EAAKr6B,GAELogC,EAAKpgC,EAAK7K,OAAOgrC,EAAK,GACtB9F,EAAKr6B,EAAK/Y,QAAQ,IAAMm5C,EAAI,KAEzBF,EAAO7F,GAEqB,kBAAf6F,EAAO7F,GACvB6F,EAAO7F,GAAM,CAAC6F,EAAO7F,GAAK+F,GAE1BF,EAAO7F,GAAM6F,EAAO7F,GAAI39C,KAAK0jD,GAJ7BF,EAAO7F,GAAM+F,GASnB,OADAnjD,EAAO4Z,MAAQqpC,EACRjjD,EAGT,SAASojD,EAAWthD,GAClB,IAAIwG,EAAMjG,OAAO4R,SAAS+tC,KACtBC,EAAS,IAAI/7C,OAAO,OAASpE,EAAM,WAAY,KAC/CogD,EAASD,EAAOx3C,KAAKnC,GACzB,GAAI45C,GAAUA,EAAO/iD,OAAS,EAAG,CAC/B,IAAIof,EAAM4jC,UAAUD,EAAO,IAC3B,OAAO3jC,EAEP,MAAO,GAII,QACb4D,aAEA3I,cACA4oC,kBACApjC,YACA3E,QACAkoC,mBACAC,YACAY,e,gDC3LE7pB,EAAS,WAAa,IAAI+W,EAAI7+B,KAAS8+B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAI9U,MAAMiV,IAAIF,EAAG,OAAQD,EAAI+S,uBAAuB,gBAAiB5S,EAAG,MAAM,CAACtY,WAAW,CAAC,CAACp3B,KAAK,OAAOwgD,QAAQ,SAAS//C,MAAO8uC,EAAIgT,eAAmB,KAAE9B,WAAW,wBAAwBC,YAAY,sBAAsB8B,MAAM,CAAE,sBAAuBjT,EAAIgT,eAAeE,UAAW7iC,MAAM,CAAG+b,OAAQ4T,EAAIgT,eAAe5mB,SAAW,CAAG4T,EAAIna,MAAMstB,UAA2qBnT,EAAIqR,KAApqBlR,EAAGH,EAAIoT,YAAY5kC,MAAM2R,SAAS6f,EAAIqT,GAAG,CAACzH,IAAI,OAAOwF,IAAI,YAAYvzB,MAAM,CAAC,YAAYmiB,EAAIsT,eAAeh1C,GAAG,CAAC,uBAAuB0hC,EAAIuT,oBAAoBC,YAAYxT,EAAIyT,GAAG,CAACzT,EAAI0T,GAAI1T,EAAIoT,YAAY5kC,MAAW,OAAE,SAAS2P,GAAM,MAAO,CAAC3sB,IAAI2sB,EAAK1tB,KAAKoF,GAAG,WAAW,OAAOmqC,EAAI0T,GAAIv1B,EAAa,UAAE,SAAS6qB,GAAO,OAAO7I,EAAG,gBAAgB,CAAC3uC,IAAIw3C,EAAMlrB,SAASD,MAAM,CAAC,kBAAkBmrB,EAAM,YAAYhJ,EAAIsT,cAAc,cAActT,EAAI9U,MAAM,YAAY8U,EAAIoT,YAAYlQ,MAAM5kC,GAAG,CAAC,wBAAwB,SAASq1C,GAAQ3K,EAAM2K,GAAQ,yBAAyB,SAASA,GAAQ3K,EAAM2K,UAAcC,OAAM,OAAS,MAAK,IAAO,YAAY5T,EAAIoT,YAAY5kC,OAAM,GAAM,IAAgB2xB,EAAG,MAAM,CAACgR,YAAY,gBAAgB8B,MAAM,CAAE,gBAAiBjT,EAAIgT,eAAea,OAAQ,CAAC1T,EAAG,KAAK,CAACtY,WAAW,CAAC,CAACp3B,KAAK,OAAOwgD,QAAQ,SAAS//C,MAAO8uC,EAAIgT,eAAuB,SAAE9B,WAAW,6BAA6B,CAAElR,EAAIgT,eAAsB,QAAE7S,EAAG,KAAK,CAACgR,YAAY,OAAOtzB,MAAM,CAAC,MAAQ,SAASvf,GAAG,CAAC,MAAQ,SAASq1C,GAAiC,OAAzBA,EAAOG,kBAAyB9T,EAAI+T,WAAW,UAAY,SAASJ,GAAQA,EAAOG,qBAAsB,CAAC3T,EAAG,UAAU,CAAC9vB,MAAM,CAAG2jC,MAAO,WAAan2B,MAAM,CAAC,KAAO,iBAAiB,GAAGmiB,EAAIqR,KAAMrR,EAAIgT,eAA0B,YAAE7S,EAAG,KAAK,CAACyL,IAAI,WAAWuF,YAAY,WAAWtzB,MAAM,CAAC,MAAQ,MAAMvf,GAAG,CAAC,MAAQ,SAASq1C,GAAQA,EAAOG,mBAAoB,UAAY,SAASH,GAAQA,EAAOG,qBAAsB,CAAC3T,EAAG,UAAU,CAAC9vB,MAAM,CAAG2jC,MAAO,WAAan2B,MAAM,CAAC,KAAO,aAAa,GAAGmiB,EAAIqR,KAAMrR,EAAIgT,eAAwB,UAAE7S,EAAG,KAAK,CAACgR,YAAY,SAAStzB,MAAM,CAAC,MAAQ,MAAMvf,GAAG,CAAC,MAAQ,SAASq1C,GAAiC,OAAzBA,EAAOG,kBAAyB9T,EAAIiU,WAAW,UAAY,SAASN,GAAQA,EAAOG,qBAAsB,CAAC3T,EAAG,UAAU,CAAC9vB,MAAM,CAAG2jC,MAAO,WAAan2B,MAAM,CAAC,KAAO,cAAc,GAAGmiB,EAAIqR,KAAMrR,EAAIoT,YAAY5kC,MAAuB,kBAAE2xB,EAAG,KAAK,CAACgR,YAAY,UAAUtzB,MAAM,CAAC,MAAQ,MAAMvf,GAAG,CAAC,MAAQ,SAASq1C,GAAiC,OAAzBA,EAAOG,kBAAyB9T,EAAIkU,YAAY,UAAY,SAASP,GAAQA,EAAOG,qBAAsB,CAAC3T,EAAG,UAAU,CAAC9vB,MAAM,CAAG2jC,MAAO,WAAan2B,MAAM,CAAC,KAAO,aAAa,GAAGmiB,EAAIqR,OAAQrR,EAAIoT,YAAY5kC,MAAmB,cAAE2xB,EAAG,MAAM,CAACgR,YAAY,gBAAgBtzB,MAAM,CAAC,MAAQmiB,EAAIoT,YAAY5kC,MAAM6b,UAAU,CAAC2V,EAAI6S,GAAG7S,EAAImU,GAAGnU,EAAIoT,YAAY5kC,MAAM6b,YAAY2V,EAAIqR,QAAQ,GAAIrR,EAAI+S,uBAAuB,mBAAoB5S,EAAGH,EAAIoT,YAAY5kC,MAAM2R,SAAS6f,EAAIqT,GAAG,CAACxrB,WAAW,CAAC,CAACp3B,KAAK,OAAOwgD,QAAQ,SAAS//C,MAAO8uC,EAAIgT,eAAmB,KAAE9B,WAAW,wBAAwBtF,IAAI,OAAOwF,IAAI,YAAYvzB,MAAM,CAAC,YAAYmiB,EAAIsT,eAAeE,YAAYxT,EAAIyT,GAAG,CAACzT,EAAI0T,GAAI1T,EAAIoT,YAAY5kC,MAAW,OAAE,SAAS2P,GAAM,MAAO,CAAC3sB,IAAI2sB,EAAK1tB,KAAKoF,GAAG,WAAW,OAAOmqC,EAAI0T,GAAIv1B,EAAa,UAAE,SAAS6qB,GAAO,OAAO7I,EAAG,gBAAgB,CAAC3uC,IAAIw3C,EAAMlrB,SAASD,MAAM,CAAC,kBAAkBmrB,EAAM,YAAYhJ,EAAIsT,cAAc,cAActT,EAAI9U,MAAM,YAAY8U,EAAIoT,YAAYlQ,MAAM5kC,GAAG,CAAC,wBAAwB,SAASq1C,GAAQ3K,EAAM2K,GAAQ,yBAAyB,SAASA,GAAQ3K,EAAM2K,UAAcC,OAAM,OAAS,MAAK,IAAO,YAAY5T,EAAIoT,YAAY5kC,OAAM,GAAM,IAAOwxB,EAAIqR,MACj7GhR,EAAkB,G,YCD6U,S,YCO/VrjB,EAAY,eACd,EACAiM,EACAoX,GACA,EACA,KACA,KACA,MAIa,EAAArjB,E,gCClBX,EAAS,WAAa,IAAIgjB,EAAI7+B,KAAS8+B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAI9U,MAAMiV,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgR,YAAY,qBAAqB,CAAChR,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACH,EAAI6S,GAAG,WAAW7S,EAAI6S,GAAG7S,EAAImU,GAAGnU,EAAIoU,MAAM/pB,YAAY8V,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACH,EAAI6S,GAAG,YAAY7S,EAAI6S,GAAG7S,EAAImU,GAAGnU,EAAIoU,MAAM59C,OAAO2pC,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACH,EAAI6S,GAAG,YAAY7S,EAAI6S,GAAG7S,EAAImU,GAAGnU,EAAIoU,MAAM3jD,SAAS0vC,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACH,EAAI6S,GAAG,YAAY7S,EAAI6S,GAAG7S,EAAImU,GAAGnU,EAAIoU,MAAMC,UAAU,MAAMrU,EAAImU,GAAGnU,EAAIoU,MAAME,iBAChc,EAAkB,G,YCDgV,SCOlW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QCPf,SAASxsB,EAAQC,GACfA,EAAI/K,UAAUu3B,EAAc9jD,KAAM8jD,GAElCxsB,EAAI/K,UAAUw3B,OAAW/jD,KAAM+jD,QAC/BzsB,EAAI/K,UAAUy3B,OAAiBhkD,KAAMgkD,QACrC1sB,EAAI/K,UAAU03B,EAAiBjkD,KAAMikD,GAKjB,qBAAX3iD,QAA0BA,OAAOg2B,KAC1CD,EAAQ/1B,OAAOg2B,KAIF,QACbD,Y,iFCzBE6sB,EAAyB3f,eAAeM,QAAQ,gBAAkBxrB,KAAKC,MAAMirB,eAAeM,QAAQ,iBAAmB,GACvHphB,EAAQ,CACV0gC,SAAUD,EAAuB9lD,OACjCgmD,UAAW,GACXC,cAAe,OACfC,WAAYJ,GAId,SAASK,EAAcC,GACrB,GAAuB,IAAnB/gC,EAAM0gC,UAAkBD,EAAuB9lD,OAAS,EAE1DqlB,EAAM0gC,SAAW,MACZ,CACL,IAAIljC,EAAOujC,EAAMpO,UACO,IAAnB3yB,EAAM0gC,UAAkB1gC,EAAM6gC,WAAW7gC,EAAM6gC,WAAWlmD,OAAS,GAAG6iB,OAASA,GAA4B,IAAnBwC,EAAM0gC,YACjG1gC,EAAM6gC,WAAW5lD,KAAK,CACpBuiB,KAAMA,IAERsjB,eAAeI,QAAQ,eAAgBtrB,KAAK4E,UAAUwF,EAAM6gC,aAC5D7gC,EAAM0gC,aAKZ,SAASM,EAAc73C,GACjBkM,IAAI4L,MAAM9X,GACZ6W,EAAM6gC,WAAa7gC,EAAM6gC,WAAW9iD,MAAM,EAAGoL,EAAQ,GAErD6W,EAAM6gC,WAAWv7C,MAEnBw7B,eAAeI,QAAQ,eAAgBtrB,KAAK4E,UAAUwF,EAAM6gC,aAG9D,SAASI,EAAT,GAA6C,IAAjBnmC,EAAiB,EAAjBA,IAAK8Q,EAAY,EAAZA,GAAIN,EAAQ,EAARA,KACnCtL,EAAM4gC,cAAgB9lC,EACtBkF,EAAM2gC,UAAU,MAAQ/0B,EAAG+mB,SAC3B3yB,EAAM2gC,UAAU,QAAUr1B,EAAKqnB,SAwBjC,SAASuO,EAAoBxP,GAC3BA,EAAOkB,WAAU,SAAChnB,EAAIN,GAEpB,IAAI61B,EAAcnhC,EAAM6gC,WAAWlmD,OACnC,GAAoB,IAAhBwmD,GAAwC,IAAnBnhC,EAAM0gC,SAC7BO,EAAiB,CAAEnmC,IAAK,aAAc8Q,KAAIN,SAC1Cw1B,EAAcx1B,GACdw1B,EAAcl1B,QACT,GAAoB,IAAhBu1B,EACTF,EAAiB,CAAEnmC,IAAK,aAAc8Q,KAAIN,SAC1Cw1B,EAAcl1B,OACT,CAEL,IAAIw1B,EAAcphC,EAAM6gC,WAAW9iD,MAAM,EAAGojD,EAAc,GACtDE,EAAkBvpC,EAAEwpC,cAAcF,GAAa,SAAC7mC,GAAD,OAAQA,EAAGiD,MAAQoO,EAAG+mB,YACrE4O,EAAkB,KAClBF,GAAmB,IACrBE,EAAkBH,EAAYC,IAE5BE,GAAmBA,EAAgB/jC,OAASoO,EAAG+mB,WAAkC,IAAtB/mB,EAAG0mB,KAAKkP,WACrER,EAAcK,GACdJ,EAAiB,CAAEnmC,IAAK,cAAe8Q,KAAIN,WAE3Cw1B,EAAcl1B,GACdq1B,EAAiB,CAAEnmC,IAAK,aAAc8Q,KAAIN,cA9ElDztB,OAAO4jD,QAAUzhC,EAqFF,QACbkhC,yB,yCC/FFhlD,EAAOD,QAAU,s6B,qICiXjB,SAASylD,EAAankB,GACpB,SAAIA,EAAKxoB,KAAOwoB,EAAKljB,OAAShF,IAAI9V,OAAOg+B,EAAKljB,MAAO,UAAYkjB,EAAK3T,UAMxE,SAAS+3B,EAAWrnC,EAAOhd,GACzB,IAAIqiC,EAAQ1yB,KACZrS,OAAO8B,eAAeuQ,KAAM3P,EAAK,CAC/B2jC,IAAK,SAAS7xB,GACZuwB,EAAM/N,MAAM,UAAYt0B,EAAK8R,IAE/BxS,IAAK,WACH,OAAO+iC,EAAMwU,OAAO72C,MAlXX,QAEb03B,OAAQ,CACN4sB,UAAW,CACT34B,QAAS,MAEXlU,IAAK,CACHkU,QAAS,MAEXuG,MAAO,CACLvG,QAAS,MAEX6kB,MAAO,CACL7kB,QAAS,MAEX44B,iBAAkB,CAChB54B,QAAS,MAEX64B,MAAO,CACL74B,QAAS,MAEX+kB,aAAc,CACZ/kB,QAAS,MAEX6qB,YAAa,CACX7qB,QAAS,MAEX8U,UAAW,CACT9U,SAAS,IAGb84B,UAAU,EA8BVznC,MAAO,CAGL0nC,WAAY,CACV79C,KAAMurB,QACNzG,SAAS,GAGXmI,SAAU,CACRjtB,KAAMurB,QACNzG,SAAS,GAGXW,SAAU,CACRzlB,KAAMuV,OACNuP,QAAS,IAGXkN,QAAS,CACPhyB,KAAMuV,OACNuP,QAAS,IAGXg5B,QAAS,CACP99C,KAAMurB,QACNzG,SAAS,GAGXiD,SAAU,CACR/nB,KAAMvJ,OACNquB,QAFQ,WAGN,OAAO,OAIXtM,UAAW,CACTxY,KAAMuS,MACNuS,QAFS,WAGP,MAAO,KAGXi5B,UAAW,CACT/9C,KAAMurB,QACNzG,QAFS,WAGP,OAAO,IAIXe,MAAO,CACL7lB,KAAMuS,MACNuS,QAFK,WAGH,MAAO,KAGXk5B,YAAa,CACXh+C,KAAMurB,QACNzG,SAAS,GAGXm5B,YAAa,CACXj+C,KAAMurB,QACNzG,SAAS,GAGXo5B,YAAa,CACXl+C,KAAMurB,QACNzG,SAAS,GAEX5O,MAAO,CACLlW,KAAMvJ,OACNquB,QAFK,WAGH,OAAO,OASX+wB,YAAa,CACX71C,KAAMvJ,OACNquB,QAFW,WAGT,MAAO,CAELU,MAAO,MAMb24B,YAAa,CACXn+C,KAAMurB,QACNzG,SAAS,GAGXs5B,eAAgB,CACdp+C,KAAMurB,QACNzG,SAAS,IAIbgI,SAAU,CACRlM,OADQ,WAEN,OAAO9X,KAAKygC,aAEdpzB,MAJQ,WAKN,IAAIwxB,EAAM7+B,KAAK8H,IACf,GAAI+2B,IAAQ7+B,KAAKmkB,SAAU,CACzB,IAAI9zB,EAAM,GACV,OAAI2P,KAAK2c,UAELtsB,EADEokD,EAAaz0C,MACTA,KAAK2c,SAAW,KAAO3c,KAAKoN,MAAMmoC,OAASv1C,KAAKoN,MAAMooC,KAAOx1C,KAAKoN,MAAMs/B,QAExE1sC,KAAK2c,SAENkiB,EAAI9V,UAAU14B,IAEhB,OAGXolD,MAnBQ,WAoBN,QAASz1C,KAAK2c,UAEhB5U,YAtBQ,WAuBN,IAAI2tC,EAAU11C,KAAK8H,IAAM9H,KAAK8H,IAAIC,YAAc,KAC5C4tC,EAAc31C,KAAKkI,OAAOC,MAC1Be,EAAKd,IAAI0I,IAAI,GAAI6kC,EAAaD,GAClC,OAAOxsC,IAGXhc,KAhMa,WAiMX,MAAO,IAETqkC,aAnMa,aAiNbjN,QAAS,WAEP,GAAItkB,KAAKmkB,UACP,GAAInkB,KAAKknC,OACP,IAAK,IAAI9/B,KAAKpH,KAAKknC,OACjBwN,EAAW5mD,KAAKkS,KAAMA,KAAKknC,OAAQ9/B,QAIvC,GAAIqtC,EAAaz0C,MAAO,CAEtB,IAAI3P,EAAM2P,KAAK2c,SAAW,IAAM3c,KAAKoN,MAAMmoC,MAC3C,IAAKv1C,KAAK8H,IAAIihB,UAAU14B,GAAM,CAC5B,IAAIgd,EAAQjF,IAAI0I,KAAI,EAAM,GAAI9Q,KAAK8H,IAAIihB,UAAU/oB,KAAK2c,WACtD,GAAI3c,KAAK60C,OAAS70C,KAAK60C,MAAMe,kBAAmB,CAC9C,IAAI14B,EAAYld,KAAK60C,MAAMe,kBAAkBvoC,EAAOrN,MAChDkd,IACF7P,EAAQ6P,GAGZld,KAAK8H,IAAI+hB,KAAK7pB,KAAK8H,IAAIihB,UAAW14B,EAAKgd,IAI7CrN,KAAK4hC,UAAU,UAAW5hC,OAE5BqkB,QA3Oa,WA4OPrkB,KAAKmnC,KAAOnnC,KAAKmnC,IAAI5vC,cACvByI,KAAKmnC,IAAI5vC,aAAa,YAAayI,KAAKyqB,SAASxO,UAE/Cjc,KAAKmkB,UAAYnkB,KAAK2c,UACxB3c,KAAKmnC,IAAI5vC,aAAa,SAAUyI,KAAK2c,UAEvC3c,KAAK4hC,UAAU,UAAW5hC,OAE5B+xB,QApPa,WAqPX/xB,KAAK4hC,UAAU,UAAW5hC,OAG5BupB,cAxPa,WAyPX,IAAKvpB,KAAKmkB,UACJswB,EAAaz0C,MAAO,CAEtB,IAAI3P,EAAM2P,KAAK2c,SAAW,IAAM3c,KAAKoN,MAAMmoC,MAC3Cv1C,KAAK8H,IAAIuqB,QAAQryB,KAAK8H,IAAIihB,UAAW14B,GACjC2P,KAAK60C,OAAS70C,KAAK60C,MAAMgB,mBAC3B71C,KAAK60C,MAAMgB,kBAAkB71C,MAInCA,KAAK4hC,UAAU,iBAAkB5hC,OAEnCokB,UArQa,WAsQPpkB,KAAK81C,aAAe91C,KAAK81C,YAAYtjB,WACvCxyB,KAAK81C,YAAYtjB,SAAW,MAE1BxyB,KAAK81C,aAAe91C,KAAK81C,YAAYC,eACvC/1C,KAAK81C,YAAYC,aAAe,MAElC/1C,KAAK4hC,UAAU,UAAW5hC,OAE5BwkB,QAAS,CAIPod,UAJO,SAIGtyC,EAAM8P,GACd,IAAIke,EAAQ,CAAEjpB,OAAQ2L,KAAM1Q,KAAMA,EAAM8P,KAAMA,GAC9CY,KAAK2kB,MAAMr1B,EAAMguB,IAEnB04B,YARO,SAQKC,EAAe3mD,EAAM8P,GAC/B,IAAIke,EAAQ,CAAEjpB,OAAQ2L,KAAM1Q,KAAMA,EAAM8P,KAAMA,GAC9C82C,EAAaC,SAASroD,KAAKkS,KAAMi2C,EAAe3mD,EAAMguB,IAExD84B,YAZO,SAYKt3B,GAAM,WAChBA,EAAyB,SAAlB1W,IAAIlR,KAAK4nB,GAAmBA,EAAO,CAACA,GAC3CjU,EAAElX,KAAKmrB,GAAM,SAAA1X,GAAC,OAAIgB,IAAI4E,MAAMsH,OAAO,EAAK5E,UAAWtI,OAErDivC,SAhBO,SAgBEv3B,GAAM,WACbA,EAAyB,SAAlB1W,IAAIlR,KAAK4nB,GAAmBA,EAAO,CAACA,GAC3CjU,EAAElX,KAAKmrB,GAAM,SAAA1X,GAAC,OAAIgB,IAAI4E,MAAMm+B,OAAO,EAAKz7B,UAAWtI,OAErDkvC,WApBO,WAoBM,WACXzrC,EAAEynB,UAAUtyB,KAAK0P,WAAW,SAACtI,EAAG5Z,GAC9B4a,IAAI4E,MAAMupC,SAAS,EAAK7mC,UAAWliB,OAGvCg5C,QAzBO,SAyBCyP,GACN,IAAI/N,EAASloC,KAAK8mC,SAAW9mC,KAAKw2C,MAC9BlnD,EAAO44C,EAAOzd,SAASgsB,cAC3B,MAAOvO,KAAY54C,GAAQA,IAAS2mD,GAClC/N,EAASA,EAAOpB,QACZoB,IACF54C,EAAO44C,EAAOzd,SAASgsB,eAG3B,OAAIvO,GAGG,MAETwO,WAvCO,WAwCL,OAAO,IAAIzkC,SAAQ,SAACC,EAASU,GAC3BV,QAGJuuB,UA5CO,WA6CL,+BACKzgC,KAAK0P,WADV,CAEG1P,KAAKg1C,QAA2D,GAAhDh1C,KAAKmkB,SAAW,iBAAmB,UACpDnkB,KAAKm1C,YAAc,2BAA6B,GAChDn1C,KAAKo1C,YAAc,2BAA6B,MAGpDuB,SApDO,SAoDErnD,GACP,IAAIf,EAASsc,EAAE0J,OAAOvU,KAAK+c,OAAO,SAACjuB,GAAD,OAAOA,EAAEQ,MAAQA,KACnD,OAAOf,EAAO,GAAKA,EAAO,GAAK,OAGnC+tB,OAAQ,CAENuI,QAAQ,EAERgd,YAAY,EAEZ+U,YAAY,EAEZC,cAAc,EAEd7zB,KAAK,EACL4E,OAAQ,CACNmhB,QAAQ,EACRjH,QAAS,GAEToH,cAAc,EAEd4N,mBAAmB,EACnBC,iBAAkB,GAClBC,WAAY,IAEd/3B,SAAU,CACR8pB,QAAQ,EACRzkB,QAFQ,gBA4Bd,IAAI4xB,EAAe,CACjBzO,UADiB,4HACPwO,EAAetO,EAAWn3B,GAClCxQ,KAAK8d,UAAUrI,SAAQ,SAAAoyB,GACrB,IAAIv4C,EAAOu4C,EAAMpd,SAASgsB,cAEtBnnD,IAAS2mD,EACXpO,EAAMljB,MAAMt2B,MAAMw5C,EAAO,CAACF,GAAWlvC,OAAO+X,IAE5Ci3B,UAAUp5C,MAAMw5C,EAAO,CAACoO,EAAetO,GAAWlvC,OAAO,CAAC+X,WAIhE2lC,SAZiB,SAYRF,EAAetO,EAAWn3B,GACjC,IAAI03B,EAASloC,KAAK8mC,SAAW9mC,KAAKw2C,MAC9BlnD,EAAO44C,EAAOzd,SAASgsB,cAE3B,MAAOvO,KAAY54C,GAAQA,IAAS2mD,GAClC/N,EAASA,EAAOpB,QAEZoB,IACF54C,EAAO44C,EAAOzd,SAASgsB,eAGvBvO,GACFA,EAAOvjB,MAAMt2B,MAAM65C,EAAQ,CAACP,GAAWlvC,OAAO+X,Q,6GC7ZrC,QACb26B,OAAQ,SAAgB92C,EAAQid,EAAMxb,GAEpC,GAAIsS,IAAI8B,QAAQpU,IACd,IAA8B,IAA1BzB,EAAOoD,QAAQ6Z,GACjB,OAAOjd,EAAOrG,KAAKsjB,OAEhB,CACL,IAAI/iB,EAASsc,EAAEsX,KAAK9tB,GAAQ,SAACiZ,GAC3B,OAAOxX,GAAYA,EAASwX,MAE1B/e,GACF8F,EAAOrG,KAAKsjB,KAKlBilC,SAAU,SAAkBliD,EAAQ6H,GAElC,QAAS7H,EAAOzF,OAAOsN,EAAO,GAAGxO,QAEnCupD,WAAY,SAAoB5iD,EAAQyB,GACtC+U,EAAEynB,UAAUj+B,GAAQ,SAACiZ,EAAI9f,GACvB,GAAIsI,EAAU,CACZ,IAAIvH,EAASuH,EAASwX,EAAI9f,GACtBe,GACF8F,EAAOzF,OAAOpB,EAAG,QAKzB8mB,OAAQ,SAAgBjgB,EAAQid,GAE9B,GAAsB,YAAlBlJ,IAAIlR,KAAKoa,GAAqB,CAChC,IAAIpV,EAAQ7H,EAAOoD,QAAQ6Z,GAC3B,SAAKpV,GAAc8D,KAAKu2C,SAASliD,EAAQ6H,GAGrCA,EAAQ2O,EAAEqsC,UAAU7iD,GAAQ,SAACiZ,EAAI9f,GACnC,OAAO8jB,EAAKhE,EAAI9f,MAElB,SAAK0O,GAAc8D,KAAKu2C,SAASliD,EAAQ6H,O,iJCJ/C,KAkNA,SAASi7C,EAAah1C,GAAtB,WACgB,UAAVA,EAAEjL,KACAkR,IAAI4L,MAAM7R,EAAEqE,QACdxG,KAAKiyC,YAAY5kC,MAAM+pC,MAAQj1C,EAAEqE,MAGvC,eACSye,EAAM9iB,EAAEqE,MASXxG,KAAKiyC,YAAY5kC,MAAM+pC,MAAQhvC,IAAI0I,IAAI,GAAImU,EAAM9iB,EAAEqE,OAPnDxG,KAAK+kB,MAAMp1B,IAAI,iBAAmBwS,EAAEqE,MAC1C,kBACQ,EAAR,+BACQ,EAAR,kBACA,sBAOA,eACSye,EAAM9iB,EAAEqE,MAQXxG,KAAKiyC,YAAY5kC,MAAM+pC,MAAQhvC,IAAI0I,IAAI,GAAImU,EAAM9iB,EAAEqE,OAPnDxG,KAAK+kB,MAAMp1B,IAAI,4BAA8BwS,EAAEqE,MACrD,kBACQ,EAAR,+BACQ,EAAR,kBACA,uBAQA,SAAS6wC,IACP,GAAKr3C,KAAKuoC,OAAO,aAAjB,CAGA+O,EAAaxpD,KAAKkS,MAElBA,KAAK6xC,eAAea,MAAO,EAC3B1yC,KAAK6xC,eAAe0F,SAAU,EAC9Bv3C,KAAK6xC,eAAe2F,aAAc,EAClCx3C,KAAK6xC,eAAe4F,WAAY,EAChC,IAAF,iEACMpP,IACFroC,KAAK6xC,eAAea,KAAOrK,EAAcxjB,OACzC7kB,KAAK6xC,eAAe0F,QAAUlP,EAAcxG,WAC5C7hC,KAAK6xC,eAAe2F,YAAcnP,EAAcuO,WAChD52C,KAAK6xC,eAAe4F,UAAYpP,EAAcwO,aAC1CxO,EAAcrlB,IAChBhjB,KAAK6xC,eAAe5mB,OAAS,OAG7BjrB,KAAK6xC,eAAe5mB,OAAuC,QAA9BjrB,KAAK6xC,eAAe5mB,OAAmBjrB,KAAK6xC,eAAe5mB,OAAS,SAKvG,SAASqsB,IAAT,WAEMt3C,KAAK2oB,MAAM+uB,UACb1pC,EAAEhO,KAAK2oB,MAAM+uB,UAAUC,UAAU,CAC/BC,YAAY,EACZC,SAAU,eACVC,SAAU,GACVC,OAAQ,UACRC,OAAQ,UACRC,YAAa,SACbC,SAAU,CACR/sB,MAAO,GACPD,KAAM,IAERitB,OAAQ,WACN,IAAR,6EAMQ,OALA1F,EAAMvlD,KAAK,OAAQ,CACjB6lB,MAAO,OACP0J,WAAY,EAAtB,kBACUZ,UAAW,IAEN42B,GAET2F,MAAO,WACL,EAAR,wBAEMC,KAAM,WACJ,EAAR,0BAOA,SAASC,IAAT,WAEA,2BAFA,WAGA,GACI,KAAIC,EAAS9gD,QAAQ2P,GAAK,GAWxB,MAAM,EAAZ,2CAVMzZ,OAAO8B,eAAe,EAA5B,GACQ+oD,cAAc,EACdxkB,IAFR,SAEA,GACUh0B,KAAKiyC,YAAY5kC,MAAMjG,GAAKjF,GAE9BxS,IALR,WAMU,OAAOqQ,KAAKiyC,YAAY5kC,MAAMjG,OARtC,IAAK,IAAP,iCAiBA,SAASqxC,IAAT,WAEE,GAAIz4C,KAAK2oB,MAAM2H,MAAQtwB,KAAK2oB,MAAM2H,KAAK7F,SAASzG,SAAU,CAA5D,eAEA,GACMr2B,OAAO8B,eAAe,EAA5B,GACQ+oD,cAAc,EACdxkB,IAFR,SAEA,GACUh0B,KAAK2oB,MAAM2H,KAAKlpB,GAAKjF,GAEvBxS,IALR,WAMU,OAAOqQ,KAAK2oB,MAAM2H,KAAKlpB,OAP7B,IAAK,IAAT,6CAcA,SAASsxC,IAEP,GAAI14C,KAAK2oB,MAAM2H,MAAQtwB,KAAK2oB,MAAM2H,KAAK7F,SAASjG,QAC9C,IAAK,IAAT,sCACMxkB,KAAKoH,GAAKpH,KAAK2oB,MAAM2H,KAAKlpB,GAAG9W,KAAK0P,KAAK2oB,MAAM2H,MAKnD,SAASqoB,IAEP,IAAF,2BACE,IAAK,IAAP,4BACQJ,EAAS9gD,QAAQ2P,GAAK,UACjBpH,KAAKoH,GAKlB,SAASwxC,IAEP,GAAI54C,KAAK2oB,MAAM2H,MAAQtwB,KAAK2oB,MAAM2H,KAAK7F,SAASzG,SAE9C,IAAK,IAAT,8CACahkB,KAAKoH,GAKlB,SAASyxC,IACP,GAAI74C,KAAK2oB,MAAM2H,MAAQtwB,KAAK2oB,MAAM2H,KAAK7F,SAASjG,QAC9C,IAAK,IAAT,sCACMxkB,KAAKoH,GAAK,YACHpH,KAAKoH,GApXlB,QACE9X,KAAM,gBACNshC,cAAc,EACdtO,QAHF,WAII,MAAO,CACLw2B,cAAe94C,KACf6mC,YAAa7mC,OAGjB+nB,OAAQ,CACN+wB,cAAe,CACb98B,QAAS,MAEX24B,UAAW,CACT34B,QAAS,OAGb3O,MAAO,CAEL0rC,eAAgB,CACd7hD,KAAMvJ,OACNquB,QAFN,WAGQ,OAAO,OAIXg9B,SAAU,CACR9hD,KAAMvJ,OACNquB,QAFN,WAGQ,OAAO,OAIXi9B,WAAY,CACV/hD,KAAMvJ,OACNquB,QAFN,WAGQ,OAAO,QAIb9uB,KAxCF,WAyCI,MAAO,CACLgsD,eAAgB,CACd7rC,MAAO,KACP00B,KAAM,KACNmG,OAAQ,KACRjrB,SAAU,IAEZk8B,eAAgB,CACdnsB,MAAM,EACN/B,OAAQ,OACRhc,MAAO,OACPyjC,MAAM,EACN6E,SAAS,EACTC,aAAa,EACbC,WAAW,EACX1F,UAAU,GAEZqH,QAAS,GACTC,UAAW,GACXC,WAAY,KACZtH,WAAW,IAGfhuB,SAAU,CACRiuB,YADJ,WAEM,OAAOjyC,KAAK0kB,MAAMw0B,gBAEpBrH,eAJJ,WAKM,OAAO7xC,KAAK0kB,MAAMy0B,gBAEpBhH,cAPJ,WAQM,OAAOnyC,KAAKuoC,OAAO,cAErBgR,eAVJ,WAWM,IAAN,KAGA,qCAMM,OAJEp3C,EADEq3C,EACE,eAEA,kBAECr3C,IAGXqxB,MAAO,CAEL,wCAAyC,CACvC3xB,QADN,SACA,GACoD,mBAAxC7B,KAAKiyC,YAAY5kC,MAAM4R,SAASmD,MAElC+0B,EAAarpD,KAAKkS,KAAMmC,MAKhCmiB,QAlGF,WAmGItkB,KAAKiyC,YAAY5kC,MAAQrN,KAAK+4C,eAC1B/4C,KAAKiyC,YAAY5kC,MAAMpE,OACzBjJ,KAAKiyC,YAAYlQ,KAAO/hC,KAExBA,KAAKiyC,YAAYlQ,KAAO/hC,KAAKg5C,UAGjCjnB,QA1GF,aA+GE1N,QA/GF,WAoHIgzB,EAAWvpD,KAAKkS,MACpB,mCAMIs4C,EAAiBxqD,KAAKkS,MACtBy4C,EAAoB3qD,KAAKkS,MACzB04C,EAAmB5qD,KAAKkS,OAE1BokB,UA/HF,WAiIIu0B,EAAkB7qD,KAAKkS,MACvB44C,EAAqB9qD,KAAKkS,MAC1B64C,EAAoB/qD,KAAKkS,MACzBA,KAAKiyC,YAAY5kC,MAAQ,MAE3BmX,QAAS,CACP4tB,mBADJ,SACA,GACMpyC,KAAK0kB,MAAMy0B,eAAeluB,OAAS9oB,EAAE/C,MAGvCwyC,uBALJ,SAKA,GACM,OAAO5xC,KAAKu5C,gBAAkBriD,GAAQ8I,KAAKiyC,YAAY5kC,OAGzDwQ,eATJ,WAUM,OAAO7d,KAAK2oB,MAAM2H,MAGpBwiB,QAbJ,WAeM,IAAN,cACA,8BACA,mCACA,sBACM,GAAI9yC,KAAK6d,iBAAiB47B,kBAAmB,CAC3C,IAAR,iFACQ7oD,OAAOia,EAAE4K,QAAQikC,GAAU,SAAUpoC,GACnCqoC,EAAM3rD,KAAKsjB,EAAKoM,YAElB1d,KAAKg5C,SAASlS,QAAQ8S,qBAAqB55C,KAAK6d,iBAAiBg8B,cAAeF,GAElF,GAAIzR,EAAQ,CAMV,IAAR,+CACA,iDACYnrB,EAAM0vB,IACRrkC,IAAI4E,MAAMsH,OAAOyI,EAAM0vB,GAAWxvB,SAAUjd,KAAKiyC,YAAY5kC,SAKnE0lC,SAxCJ,WAyCM/yC,KAAK85C,KAAKn1B,MAAM,oBAElBo1B,SA3CJ,WA4CM,IAAN,gBAIM,OAHKhY,GAAQ/hC,KAAKiyC,YAAY5kC,MAAMpE,SAClC84B,EAAO/hC,MAEF+hC,GAET6Q,QAlDJ,WAmDM,IAAN,wBACA,GACQ1pB,QAASrN,EAAU4O,SAAS3O,YAC5BzmB,GAAIwmB,EAAUoD,SAAS5pB,GACvB/F,KAAMusB,EAAUoD,SAAS3vB,KACzB4jD,SAAUr3B,EAAUoD,SAAS/nB,KAAK+B,KAClCk6C,UAAWt3B,EAAUoD,SAAS/nB,KAAKnH,OAErCqY,IAAIwX,MAAMyH,WAAW,CACnBvE,MAAO,KACPk3B,YAAY,EACZ7wB,QAAS,mBACT3Y,OAAQ,CACN+e,KAAMA,GAERtgB,MAAO,QACPgc,OAAQ,e,wHChPD,SAASgvB,EAAIC,GAC1B,SAASC,EAAWC,EAAQC,GAC1B,OAAQD,GAAUC,EAAeD,IAAY,GAAKC,EAGpD,SAASC,EAAYC,EAAIC,GACvB,IAAIC,EAAKC,EAAKC,EAAKC,EAAKC,EAOxB,OANAF,EAAW,WAALJ,EACNK,EAAW,WAALJ,EACNC,EAAW,WAALF,EACNG,EAAW,WAALF,EACNK,GAAgB,WAALN,IAAyB,WAALC,GAE3BC,EAAMC,EAAsB,WAAVG,EAAuBF,EAAMC,EAC/CH,EAAMC,EACM,WAAVG,EAAuC,WAAVA,EAAuBF,EAAMC,EACxC,WAAVC,EAAuBF,EAAMC,EAC7BC,EAAUF,EAAMC,EAGhC,SAASE,EAAExtB,EAAGC,EAAGwtB,GACf,OAAQztB,EAAIC,GAAOD,EAAIytB,EAGzB,SAASC,EAAE1tB,EAAGC,EAAGwtB,GACf,OAAQztB,EAAIytB,EAAMxtB,GAAKwtB,EAGzB,SAASrhB,EAAEpM,EAAGC,EAAGwtB,GACf,OAAOztB,EAAIC,EAAIwtB,EAGjB,SAASE,EAAE3tB,EAAGC,EAAGwtB,GACf,OAAOxtB,GAAKD,GAAKytB,GAGnB,SAASG,EAAGtuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAGx+B,EAAGqsD,GAG5B,OAFAvuC,EAAI0tC,EAAY1tC,EAAG0tC,EAAYA,EAAYQ,EAAErtC,EAAGre,EAAGC,GAAIi+B,GAAI6tB,IAEpDb,EAAYH,EAAWvtC,EAAG9d,GAAI2e,GAGvC,SAAS2tC,EAAGxuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAGx+B,EAAGqsD,GAG5B,OAFAvuC,EAAI0tC,EAAY1tC,EAAG0tC,EAAYA,EAAYU,EAAEvtC,EAAGre,EAAGC,GAAIi+B,GAAI6tB,IAEpDb,EAAYH,EAAWvtC,EAAG9d,GAAI2e,GAGvC,SAASgsB,EAAG7sB,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAGx+B,EAAGqsD,GAG5B,OAFAvuC,EAAI0tC,EAAY1tC,EAAG0tC,EAAYA,EAAY5gB,EAAEjsB,EAAGre,EAAGC,GAAIi+B,GAAI6tB,IAEpDb,EAAYH,EAAWvtC,EAAG9d,GAAI2e,GAGvC,SAAS4tC,EAAGzuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAGx+B,EAAGqsD,GAG5B,OAFAvuC,EAAI0tC,EAAY1tC,EAAG0tC,EAAYA,EAAYW,EAAExtC,EAAGre,EAAGC,GAAIi+B,GAAI6tB,IAEpDb,EAAYH,EAAWvtC,EAAG9d,GAAI2e,GAGvC,SAAS6tC,EAAmBpB,GAC1B,IAAIqB,EACAC,EAAiBtB,EAASxsD,OAC1B+tD,EAAuBD,EAAiB,EACxCE,GAAwBD,EAAwBA,EAAuB,IAAO,GAC9EE,EAA8C,IAA5BD,EAAuB,GACzCE,EAAanyC,MAAMkyC,EAAiB,GACpCE,EAAgB,EAChBC,EAAa,EAEjB,MAAOA,EAAaN,EAClBD,GAAcO,EAAcA,EAAa,GAAM,EAC/CD,EAAiBC,EAAa,EAAK,EACnCF,EAAWL,GAAcK,EAAWL,GAAerB,EAASt/B,WAAWkhC,IAAeD,EAEtFC,IAQF,OALAP,GAAcO,EAAcA,EAAa,GAAM,EAC/CD,EAAiBC,EAAa,EAAK,EACnCF,EAAWL,GAAcK,EAAWL,GAAe,KAAQM,EAC3DD,EAAWD,EAAiB,GAAKH,GAAkB,EACnDI,EAAWD,EAAiB,GAAKH,IAAmB,GAC7CI,EAGT,SAASG,EAAU3B,GACjB,IAEE4B,EACAC,EAHEC,EAAiB,GACnBC,EAAsB,GAIxB,IAAKF,EAAS,EAAGA,GAAU,EAAGA,IAC5BD,EAAS5B,IAAqB,EAAT6B,EAAe,IACpCE,EAAsB,IAAMH,EAAM3pD,SAAS,IAC3C6pD,GAAkCC,EAAoB11C,OAAO01C,EAAoBzuD,OAAS,EAAG,GAG/F,OAAOwuD,EAGT,IACI90C,EAAGg1C,EAAIC,EAAIC,EAAI5hB,EAAI9tB,EAAGa,EAAGre,EAAGC,EAD5Bi+B,EAAI7jB,QAEJ8yC,EAAM,EACRC,EAAM,GACNC,EAAM,GACNC,EAAM,GACJC,EAAM,EACRC,EAAM,EACNC,EAAM,GACNC,EAAM,GACJC,EAAM,EACRC,EAAM,GACNC,EAAM,GACNC,EAAM,GACJC,EAAM,EACRC,EAAM,GACNC,EAAM,GACNC,EAAM,GAYR,IATAhwB,EAAIguB,EAAmBpB,GAGvBttC,EAAI,WACJa,EAAI,WACJre,EAAI,WACJC,EAAI,UAGC+X,EAAI,EAAGA,EAAIkmB,EAAE5/B,OAAQ0Z,GAAK,GAC7Bg1C,EAAKxvC,EACLyvC,EAAK5uC,EACL6uC,EAAKltD,EACLsrC,EAAKrrC,EACLud,EAAIsuC,EAAGtuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAIm1C,EAAK,YAClCltD,EAAI6rD,EAAG7rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAIo1C,EAAK,YAClCptD,EAAI8rD,EAAG9rD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAIq1C,EAAK,WAClChvC,EAAIytC,EAAGztC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAIs1C,EAAK,YAClC9vC,EAAIsuC,EAAGtuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAIm1C,EAAK,YAClCltD,EAAI6rD,EAAG7rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAIo1C,EAAK,YAClCptD,EAAI8rD,EAAG9rD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAIq1C,EAAK,YAClChvC,EAAIytC,EAAGztC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAIs1C,EAAK,YAClC9vC,EAAIsuC,EAAGtuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAIm1C,EAAK,YAClCltD,EAAI6rD,EAAG7rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAIo1C,EAAK,YAClCptD,EAAI8rD,EAAG9rD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAKq1C,EAAK,YACnChvC,EAAIytC,EAAGztC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,IAAKs1C,EAAK,YACnC9vC,EAAIsuC,EAAGtuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,IAAKm1C,EAAK,YACnCltD,EAAI6rD,EAAG7rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,IAAKo1C,EAAK,YACnCptD,EAAI8rD,EAAG9rD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAKq1C,EAAK,YACnChvC,EAAIytC,EAAGztC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,IAAKs1C,EAAK,YACnC9vC,EAAIwuC,EAAGxuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAIu1C,EAAK,YAClCttD,EAAI+rD,EAAG/rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAIw1C,EAAK,YAClCxtD,EAAIgsD,EAAGhsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAKy1C,EAAK,WACnCpvC,EAAI2tC,EAAG3tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAI01C,EAAK,YAClClwC,EAAIwuC,EAAGxuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAIu1C,EAAK,YAClCttD,EAAI+rD,EAAG/rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,IAAKw1C,EAAK,UACnCxtD,EAAIgsD,EAAGhsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAKy1C,EAAK,YACnCpvC,EAAI2tC,EAAG3tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAI01C,EAAK,YAClClwC,EAAIwuC,EAAGxuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAIu1C,EAAK,WAClCttD,EAAI+rD,EAAG/rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,IAAKw1C,EAAK,YACnCxtD,EAAIgsD,EAAGhsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAIy1C,EAAK,YAClCpvC,EAAI2tC,EAAG3tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAI01C,EAAK,YAClClwC,EAAIwuC,EAAGxuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,IAAKu1C,EAAK,YACnCttD,EAAI+rD,EAAG/rD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAIw1C,EAAK,YAClCxtD,EAAIgsD,EAAGhsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAIy1C,EAAK,YAClCpvC,EAAI2tC,EAAG3tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,IAAK01C,EAAK,YACnClwC,EAAI6sB,EAAG7sB,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAI21C,EAAK,YAClC1tD,EAAIoqC,EAAGpqC,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAI41C,EAAK,YAClC5tD,EAAIqqC,EAAGrqC,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAK61C,EAAK,YACnCxvC,EAAIgsB,EAAGhsB,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,IAAK81C,EAAK,YACnCtwC,EAAI6sB,EAAG7sB,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAI21C,EAAK,YAClC1tD,EAAIoqC,EAAGpqC,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAI41C,EAAK,YAClC5tD,EAAIqqC,EAAGrqC,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAI61C,EAAK,YAClCxvC,EAAIgsB,EAAGhsB,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,IAAK81C,EAAK,YACnCtwC,EAAI6sB,EAAG7sB,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,IAAK21C,EAAK,WACnC1tD,EAAIoqC,EAAGpqC,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAI41C,EAAK,YAClC5tD,EAAIqqC,EAAGrqC,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAI61C,EAAK,YAClCxvC,EAAIgsB,EAAGhsB,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAI81C,EAAK,UAClCtwC,EAAI6sB,EAAG7sB,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAI21C,EAAK,YAClC1tD,EAAIoqC,EAAGpqC,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,IAAK41C,EAAK,YACnC5tD,EAAIqqC,EAAGrqC,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAK61C,EAAK,WACnCxvC,EAAIgsB,EAAGhsB,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAI81C,EAAK,YAClCtwC,EAAIyuC,EAAGzuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAI+1C,EAAK,YAClC9tD,EAAIgsD,EAAGhsD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAIg2C,EAAK,YAClChuD,EAAIisD,EAAGjsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAKi2C,EAAK,YACnC5vC,EAAI4tC,EAAG5tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAIk2C,EAAK,YAClC1wC,EAAIyuC,EAAGzuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,IAAK+1C,EAAK,YACnC9tD,EAAIgsD,EAAGhsD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,GAAIg2C,EAAK,YAClChuD,EAAIisD,EAAGjsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,IAAKi2C,EAAK,YACnC5vC,EAAI4tC,EAAG5tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAIk2C,EAAK,YAClC1wC,EAAIyuC,EAAGzuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAI+1C,EAAK,YAClC9tD,EAAIgsD,EAAGhsD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,IAAKg2C,EAAK,YACnChuD,EAAIisD,EAAGjsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAIi2C,EAAK,YAClC5vC,EAAI4tC,EAAG5tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,IAAKk2C,EAAK,YACnC1wC,EAAIyuC,EAAGzuC,EAAGa,EAAGre,EAAGC,EAAGi+B,EAAElmB,EAAI,GAAI+1C,EAAK,YAClC9tD,EAAIgsD,EAAGhsD,EAAGud,EAAGa,EAAGre,EAAGk+B,EAAElmB,EAAI,IAAKg2C,EAAK,YACnChuD,EAAIisD,EAAGjsD,EAAGC,EAAGud,EAAGa,EAAG6f,EAAElmB,EAAI,GAAIi2C,EAAK,WAClC5vC,EAAI4tC,EAAG5tC,EAAGre,EAAGC,EAAGud,EAAG0gB,EAAElmB,EAAI,GAAIk2C,EAAK,YAClC1wC,EAAI0tC,EAAY1tC,EAAGwvC,GACnB3uC,EAAI6sC,EAAY7sC,EAAG4uC,GACnBjtD,EAAIkrD,EAAYlrD,EAAGktD,GACnBjtD,EAAIirD,EAAYjrD,EAAGqrC,GAIrB,IAAIyH,EAAO4Z,EAAUnvC,GAAKmvC,EAAUtuC,GAAKsuC,EAAU3sD,GAAK2sD,EAAU1sD,GAClE,OAAO8yC,EAAKzvB,gB,qKC1MV6qC,EAAgB,CAClBr2B,GAAI,GACJC,OAAQ,IAEJq2B,EAAkB,YAExB,SAASC,EAAO99B,EAAQrwB,EAAM+Q,GAC5Bk9C,EAAc59B,GAAQrwB,GAAQ+Q,EAGhC,SAASq9C,EAAO/9B,EAAQrwB,GACtB,OAAOiuD,EAAc59B,GAAQrwB,GAEhB,gBAAS62B,EAAWxG,EAAQg+B,GAGzC,OADAh+B,EAASA,GAAU,KACZi+B,EAAmBz3B,EAAWw3B,GAGrC,SAASE,EAAiB1tD,GACxB,OAAOwvB,EAAS,IAAMxvB,EAAGoI,QAAQ,MAAO,KAI1C,SAASqlD,EAAmBztD,EAAGwtD,GAC7B,OAAO,IAAI1rC,SAAQ,SAACC,EAASU,GAGtB8qC,EAAO/9B,EAAQxvB,GAuDlB+hB,EAAQwrC,EAAO/9B,EAAQxvB,IAtDvB2tD,EAAqB3tD,GAClB+gB,MAAK,SAACuC,GACL,GAAKiqC,EAAO/9B,EAAQxvB,GA6ClB+hB,EAAQwrC,EAAO/9B,EAAQxvB,QA7CA,CACvB,IAAIi6B,EAAc3W,EAASxd,QAAQ02C,IAE/B/7C,OAAOmtD,UAAYJ,IAErBvzB,EAAc,QAAUA,EAAc,UAExC,IAAI4zB,EAAYp3B,EAAIunB,QAAQ/jB,GACxBxzB,EAAaqnD,EAAc9tD,GAC/BiY,IAAIpX,QAAQ,CAAC4F,IAAa,SAACoM,GACzBA,EAAIsiC,UAAY7xB,EAASxd,QAAQ2xB,OAAO9E,MACxC9f,EAAI1T,KAAOub,EAAEgM,UAAUgnC,EAAiB1tD,IACxC6S,EAAI6gB,WAAkD,IAAtCpQ,EAASxd,QAAQ2xB,OAAO/D,UACxC7gB,EAAIyiC,UAAYhyB,EAASxd,QAAQ2xB,OAAO6d,WAAa,EACrDziC,EAAIwiC,YAAc/xB,EAASxd,QAAQ2xB,OAAO4d,cAAe,EACzD,IAAIpxC,EAAQ8pD,OACZl7C,EAAIob,QAAUhqB,EACd4O,EAAIkZ,OAAS,GAC2B,QAApCzI,EAASxd,QAAQ2xB,OAAOpE,UAC1BxgB,EAAIkZ,OAAOluB,KAAK4C,OAAOs5B,QAEzBlnB,EAAIkZ,OAAOluB,KAAK,CACd85B,OAAQk2B,EAAUl2B,OAClB56B,KAFc,WAGZ,MAAO,CACL,WAAcumB,EAASxd,QAAQoX,QAC/B,aAAgBoG,EAASxd,QAAQuyB,aACjC,YAAexlB,EAAIwiC,cAGvBxhB,SAAU,CACR+E,UADQ,WAEN,OAAO/oB,KAAKgpB,MAAMZ,eAIxBq1B,EAAO99B,EAAQxvB,EAAI6S,GACnB4jB,EAAI/K,UAAU7Y,EAAI1T,KAAM0T,GACxBkP,EAAQlP,MACP,WACD,IAAI1N,EAAM,CAAE4e,QAASspC,GACrBp1C,IAAIwX,MAAM1L,QAAQ5e,GAAK,GACvBsd,EAAOtd,UAMZgd,OAAM,SAACjP,GACNuP,EAAOvP,SASjB,SAASy6C,EAAqB3tD,GAC5B,OAAO,IAAI8hB,SAAQ,SAACC,EAASU,GAG3BurC,EAAUhuD,GACP+gB,MAAK,SAAAuC,GACJ,IAAI2qC,EAAiBC,EAAsB5qC,EAAWA,EAASvmB,KAAO,IAClEmgB,EAAQ+wC,EAAex2B,OACvB0mB,EAAM8P,EAAe9P,IACzBjhC,EAAM,eAAiBld,EACvBkd,EAAM,aAAN,iBAA+BihC,EAA/B,YACA,IAAIgQ,EAAcl2C,IAAIsX,SAASksB,8BAA8Bv+B,GACzD7G,EAAO,UAAYmC,KAAK4E,UAAU+wC,EAAYjxC,OAC9CkxC,EAAU,IAAIvzC,SAASxE,GACvBjY,EAAS,CACX0H,QAAS,CACP02C,IAAK2R,EAAY3R,IACjBt/B,MAAOkxC,EACP32B,OAAQva,EACRzW,WAAYzG,EACZq4B,aAAc41B,EAAe51B,cAAgB,KAGjDtW,EAAQ3jB,MAET+jB,OAAM,SAACjP,GACN,GAAoB,SAAhB+E,IAAIlR,KAAKmM,GAAgB,CAC3B,IAAIm7C,EAAa,OACbA,EAAWhmD,KAAK6K,EAAG6Q,UACrBtB,EAAO,YAGTA,EAAOvP,SAOjB,SAAS86C,EAAUhuD,GACjB,IAAIsuD,EAAWC,EAAevuD,GAC9B,OAAOiY,IAAIgX,KAAKzvB,IAAI,KAAOgwB,EAAS,UAAY8+B,EAAStuD,GAAK,IAAMsuD,EAASjtC,KAAO,mBAAqB,IAAI/S,MAAQC,UAAW,KAAM,CACpIuR,aAAc,SAKlB,SAASouC,EAAsBpoD,GAC7B,IAAI0oD,EAAMlsD,SAASmsD,yBACfC,EAAMpsD,SAASwE,cAAc,OACjC4nD,EAAIzyC,UAAYnW,EAChB0oD,EAAI5mD,YAAY8mD,GAChB,IAAIvW,EAAauW,EAAIC,cAAc,uBAC/BC,EAAa,CAAC,eAAiBzW,EAAaA,EAAWl8B,UAAY,IAAIwB,OAAS,IAAK,kBACrFoxC,EAAUH,EAAIC,cAAc,oBAC5BG,EAAU,CAAC,WAAat2C,KAAK4E,WAAWyxC,EAAUA,EAAQ5yC,UAAY,IAAIwB,QAAU,IAAK,eACzF88B,EAAemU,EAAIC,cAAc,6BACjCI,EAAsBxU,EAAeA,EAAat+B,UAAUwB,OAAS,GACrEuxC,EAAe,CAAC,qBAAuBD,GAA4C,MAAMtxC,OAAS,IAAK,wBAC3G+wC,EAAM,KACNE,EAAM,KACN,IAAIO,EAAW,IAAIp0C,SAAS+zC,EAAWzmD,KAAK,OACxC+mD,EAAQ,IAAIr0C,SAASi0C,EAAQ3mD,KAAK,OAClCgnD,EAAa,IAAIt0C,SAASm0C,EAAa7mD,KAAK,OAC5CsvB,EAASxf,IAAI0U,0BAA0BsiC,KACvC9Q,EAAM+Q,IACN72B,EAAe82B,IAUnB,OATAF,EAAW,KACXC,EAAQ,KAERN,EAAWnwD,OAAO,EAAGmwD,EAAWrxD,QAChCqxD,EAAa,KACbE,EAAQrwD,OAAO,EAAGqwD,EAAQvxD,QAC1BuxD,EAAU,KACVE,EAAavwD,OAAO,EAAGuwD,EAAazxD,QACpCyxD,EAAe,KACR,CACLv3B,SACA0mB,MACA9lB,gBAIJ,SAASy1B,EAAc9tD,GACrB,IAAIo/B,EAAOmvB,EAAevuD,GAC1B,MAAO,KAAOwvB,EAAS,UAAY4P,EAAKp/B,GAAK,IAAMo/B,EAAK/d,KAAO,OAIjE,SAASktC,EAAez6B,GAClBA,EAAU1Z,WAAW,OACvB0Z,EAAYA,EAAUxd,OAAO,IAE/B,IAAIe,EAAMyc,EAAU/uB,MAAM,KACtBqqD,EAAW/3C,EAAIA,EAAI9Z,OAAS,GAC5B6iB,EAAO/I,EAAI1W,MAAM,EAAG0W,EAAI9Z,QAAQ4K,KAAK,KACrCnI,EAAKqX,EAAI1W,MAAM,EAAG0W,EAAI9Z,OAAS,GAAG4K,KAAK,KAC3C,MAAO,CACLiY,KAAMA,EACNiB,KAAM+tC,EACNpvD,GAAIA,O,6EClMK,QACbk/C,QAAS,CACPrzB,QAAS,IACTszB,KAAM,KAERE,aAAc,YACdE,UAAW,YACXW,QAAS,KACT7+B,KAAK,CACH+9B,cAAc,KAGhBiQ,eAAgB,eAEhB9/B,SAAU,CACR+/B,oBAAoB,GACpB9P,UAAS,EAET5B,KAAM,CAAC,gBAAiB,cAAe,gBAEzC2R,GAAI,CACFrqD,GAAI,MACJ4wB,MAAO,WACP05B,QAAS,aACTC,OAAQ,aACRC,WAAY,iBACZC,WAAY,iBACZC,eAAgB,sBAChBC,aAAc,oBACdC,eAAgB,sBAChBC,aAAc","file":"static/js/mobile-app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"mobile-app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"vant\",\"dsf-vendors\",\"dsf-mobile\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* eslint-disable no-empty */\r\n/* eslint-disable no-redeclare */\r\n/* eslint-disable no-unused-vars */\r\n/** vim: et:ts=4:sw=4:sts=4\r\n * @license RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.\r\n * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE\r\n */\r\n//Not using strict: uneven strict support in browsers, #392, and causes\r\n//problems with requirejs.exec()/transpiler plugins that may not be strict.\r\n/*jslint regexp: true, nomen: true, sloppy: true */\r\n/*global window, navigator, document, importScripts, setTimeout, opera */\r\n\r\nvar requirejs, require, define;\r\n\r\nfunction init(global, setTimeout) {\r\n  var req,\r\n    s,\r\n    head,\r\n    baseElement,\r\n    dataMain,\r\n    src,\r\n    interactiveScript,\r\n    currentlyAddingScript,\r\n    mainScript,\r\n    subPath,\r\n    version = \"2.3.6\",\r\n    commentRegExp = /\\/\\*[\\s\\S]*?\\*\\/|([^:\"'=]|^)\\/\\/.*$/gm,\r\n    cjsRequireRegExp = /[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,\r\n    jsSuffixRegExp = /\\.js$/,\r\n    currDirRegExp = /^\\.\\//,\r\n    op = Object.prototype,\r\n    ostring = op.toString,\r\n    hasOwn = op.hasOwnProperty,\r\n    isBrowser = !!(typeof window !== \"undefined\" && typeof navigator !== \"undefined\" && window.document),\r\n    isWebWorker = !isBrowser && typeof importScripts !== \"undefined\",\r\n    //PS3 indicates loaded and complete, but need to wait for complete\r\n    //specifically. Sequence is 'loading', 'loaded', execution,\r\n    // then 'complete'. The UA check is unfortunate, but not sure how\r\n    //to feature test w/o causing perf issues.\r\n    readyRegExp = isBrowser && navigator.platform === \"PLAYSTATION 3\" ? /^complete$/ : /^(complete|loaded)$/,\r\n    defContextName = \"_\",\r\n    //Oh the tragedy, detecting opera. See the usage of isOpera for reason.\r\n    isOpera = typeof opera !== \"undefined\" && opera.toString() === \"[object Opera]\",\r\n    contexts = {},\r\n    cfg = {},\r\n    globalDefQueue = [],\r\n    useInteractive = false;\r\n\r\n  //Could match something like ')//comment', do not lose the prefix to comment.\r\n  function commentReplace(match, singlePrefix) {\r\n    return singlePrefix || \"\";\r\n  }\r\n\r\n  function isFunction(it) {\r\n    return ostring.call(it) === \"[object Function]\";\r\n  }\r\n\r\n  function isArray(it) {\r\n    return ostring.call(it) === \"[object Array]\";\r\n  }\r\n\r\n  /**\r\n   * Helper function for iterating over an array. If the func returns\r\n   * a true value, it will break out of the loop.\r\n   */\r\n  function each(ary, func) {\r\n    if (ary) {\r\n      var i;\r\n      for (i = 0; i < ary.length; i += 1) {\r\n        if (ary[i] && func(ary[i], i, ary)) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Helper function for iterating over an array backwards. If the func\r\n   * returns a true value, it will break out of the loop.\r\n   */\r\n  function eachReverse(ary, func) {\r\n    if (ary) {\r\n      var i;\r\n      for (i = ary.length - 1; i > -1; i -= 1) {\r\n        if (ary[i] && func(ary[i], i, ary)) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function hasProp(obj, prop) {\r\n    return hasOwn.call(obj, prop);\r\n  }\r\n\r\n  function getOwn(obj, prop) {\r\n    return hasProp(obj, prop) && obj[prop];\r\n  }\r\n\r\n  /**\r\n   * Cycles over properties in an object and calls a function for each\r\n   * property value. If the function returns a truthy value, then the\r\n   * iteration is stopped.\r\n   */\r\n  function eachProp(obj, func) {\r\n    var prop;\r\n    for (prop in obj) {\r\n      if (hasProp(obj, prop)) {\r\n        if (func(obj[prop], prop)) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Simple function to mix in properties from source into target,\r\n   * but only if target does not already have a property of the same name.\r\n   */\r\n  function mixin(target, source, force, deepStringMixin) {\r\n    if (source) {\r\n      eachProp(source, function(value, prop) {\r\n        if (force || !hasProp(target, prop)) {\r\n          if (deepStringMixin && typeof value === \"object\" && value && !isArray(value) && !isFunction(value) && !(value instanceof RegExp)) {\r\n            if (!target[prop]) {\r\n              target[prop] = {};\r\n            }\r\n            mixin(target[prop], value, force, deepStringMixin);\r\n          } else {\r\n            target[prop] = value;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return target;\r\n  }\r\n\r\n  //Similar to Function.prototype.bind, but the 'this' object is specified\r\n  //first, since it is easier to read/figure out what 'this' will be.\r\n  function bind(obj, fn) {\r\n    return function() {\r\n      return fn.apply(obj, arguments);\r\n    };\r\n  }\r\n\r\n  function scripts() {\r\n    return document.getElementsByTagName(\"script\");\r\n  }\r\n\r\n  function defaultOnError(err) {\r\n    throw err;\r\n  }\r\n\r\n  //Allow getting a global that is expressed in\r\n  //dot notation, like 'a.b.c'.\r\n  function getGlobal(value) {\r\n    if (!value) {\r\n      return value;\r\n    }\r\n    var g = global;\r\n    each(value.split(\".\"), function(part) {\r\n      g = g[part];\r\n    });\r\n    return g;\r\n  }\r\n\r\n  /**\r\n   * Constructs an error with a pointer to an URL with more information.\r\n   * @param {String} id the error ID that maps to an ID on a web page.\r\n   * @param {String} message human readable error.\r\n   * @param {Error} [err] the original error, if there is one.\r\n   *\r\n   * @returns {Error}\r\n   */\r\n  function makeError(id, msg, err, requireModules) {\r\n    var e = new Error(msg + \"\\nhttps://requirejs.org/docs/errors.html#\" + id);\r\n    e.requireType = id;\r\n    e.requireModules = requireModules;\r\n    if (err) {\r\n      e.originalError = err;\r\n    }\r\n    return e;\r\n  }\r\n\r\n  if (typeof define !== \"undefined\") {\r\n    //If a define is already in play via another AMD loader,\r\n    //do not overwrite.\r\n    return;\r\n  }\r\n\r\n  if (typeof requirejs !== \"undefined\") {\r\n    if (isFunction(requirejs)) {\r\n      //Do not overwrite an existing requirejs instance.\r\n      return;\r\n    }\r\n    cfg = requirejs;\r\n    requirejs = undefined;\r\n  }\r\n\r\n  //Allow for a require config object\r\n  if (typeof require !== \"undefined\" && !isFunction(require)) {\r\n    //assume it is a config object.\r\n    cfg = require;\r\n    require = undefined;\r\n  }\r\n\r\n  function newContext(contextName) {\r\n    var inCheckLoaded,\r\n      Module,\r\n      context,\r\n      handlers,\r\n      checkLoadedTimeoutId,\r\n      config = {\r\n        //Defaults. Do not set a default for map\r\n        //config to speed up normalize(), which\r\n        //will run faster if there is no default.\r\n        waitSeconds: 7,\r\n        baseUrl: \"./\",\r\n        paths: {},\r\n        bundles: {},\r\n        pkgs: {},\r\n        shim: {},\r\n        config: {}\r\n      },\r\n      registry = {},\r\n      //registry of just enabled modules, to speed\r\n      //cycle breaking code when lots of modules\r\n      //are registered, but not activated.\r\n      enabledRegistry = {},\r\n      undefEvents = {},\r\n      defQueue = [],\r\n      defined = {},\r\n      urlFetched = {},\r\n      bundlesMap = {},\r\n      requireCounter = 1,\r\n      unnormalizedCounter = 1;\r\n\r\n    /**\r\n     * Trims the . and .. from an array of path segments.\r\n     * It will keep a leading path segment if a .. will become\r\n     * the first path segment, to help with module name lookups,\r\n     * which act like paths, but can be remapped. But the end result,\r\n     * all paths that use this function should look normalized.\r\n     * NOTE: this method MODIFIES the input array.\r\n     * @param {Array} ary the array of path segments.\r\n     */\r\n    function trimDots(ary) {\r\n      var i, part;\r\n      for (i = 0; i < ary.length; i++) {\r\n        part = ary[i];\r\n        if (part === \".\") {\r\n          ary.splice(i, 1);\r\n          i -= 1;\r\n        } else if (part === \"..\") {\r\n          // If at the start, or previous value is still ..,\r\n          // keep them so that when converted to a path it may\r\n          // still work when converted to a path, even though\r\n          // as an ID it is less than ideal. In larger point\r\n          // releases, may be better to just kick out an error.\r\n          if (i === 0 || (i === 1 && ary[2] === \"..\") || ary[i - 1] === \"..\") {\r\n            continue;\r\n          } else if (i > 0) {\r\n            ary.splice(i - 1, 2);\r\n            i -= 2;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Given a relative module name, like ./something, normalize it to\r\n     * a real name that can be mapped to a path.\r\n     * @param {String} name the relative name\r\n     * @param {String} baseName a real name that the name arg is relative\r\n     * to.\r\n     * @param {Boolean} applyMap apply the map config to the value. Should\r\n     * only be done if this normalization is for a dependency ID.\r\n     * @returns {String} normalized name\r\n     */\r\n    function normalize(name, baseName, applyMap) {\r\n      var pkgMain,\r\n        mapValue,\r\n        nameParts,\r\n        i,\r\n        j,\r\n        nameSegment,\r\n        lastIndex,\r\n        foundMap,\r\n        foundI,\r\n        foundStarMap,\r\n        starI,\r\n        normalizedBaseParts,\r\n        baseParts = baseName && baseName.split(\"/\"),\r\n        map = config.map,\r\n        starMap = map && map[\"*\"];\r\n\r\n      //Adjust any relative paths.\r\n      if (name) {\r\n        name = name.split(\"/\");\r\n        lastIndex = name.length - 1;\r\n\r\n        // If wanting node ID compatibility, strip .js from end\r\n        // of IDs. Have to do this here, and not in nameToUrl\r\n        // because node allows either .js or non .js to map\r\n        // to same file.\r\n        if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\r\n          name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, \"\");\r\n        }\r\n\r\n        // Starts with a '.' so need the baseName\r\n        if (name[0].charAt(0) === \".\" && baseParts) {\r\n          //Convert baseName to array, and lop off the last part,\r\n          //so that . matches that 'directory' and not name of the baseName's\r\n          //module. For instance, baseName of 'one/two/three', maps to\r\n          //'one/two/three.js', but we want the directory, 'one/two' for\r\n          //this normalization.\r\n          normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\r\n          name = normalizedBaseParts.concat(name);\r\n        }\r\n\r\n        trimDots(name);\r\n        name = name.join(\"/\");\r\n      }\r\n\r\n      //Apply map config if available.\r\n      if (applyMap && map && (baseParts || starMap)) {\r\n        nameParts = name.split(\"/\");\r\n\r\n        outerLoop: for (i = nameParts.length; i > 0; i -= 1) {\r\n          nameSegment = nameParts.slice(0, i).join(\"/\");\r\n\r\n          if (baseParts) {\r\n            //Find the longest baseName segment match in the config.\r\n            //So, do joins on the biggest to smallest lengths of baseParts.\r\n            for (j = baseParts.length; j > 0; j -= 1) {\r\n              mapValue = getOwn(map, baseParts.slice(0, j).join(\"/\"));\r\n\r\n              //baseName segment has config, find if it has one for\r\n              //this name.\r\n              if (mapValue) {\r\n                mapValue = getOwn(mapValue, nameSegment);\r\n                if (mapValue) {\r\n                  //Match, update name to the new value.\r\n                  foundMap = mapValue;\r\n                  foundI = i;\r\n                  break outerLoop;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          //Check for a star map match, but just hold on to it,\r\n          //if there is a shorter segment match later in a matching\r\n          //config, then favor over this star map.\r\n          if (!foundStarMap && starMap && getOwn(starMap, nameSegment)) {\r\n            foundStarMap = getOwn(starMap, nameSegment);\r\n            starI = i;\r\n          }\r\n        }\r\n\r\n        if (!foundMap && foundStarMap) {\r\n          foundMap = foundStarMap;\r\n          foundI = starI;\r\n        }\r\n\r\n        if (foundMap) {\r\n          nameParts.splice(0, foundI, foundMap);\r\n          name = nameParts.join(\"/\");\r\n        }\r\n      }\r\n\r\n      // If the name points to a package's name, use\r\n      // the package main instead.\r\n      pkgMain = getOwn(config.pkgs, name);\r\n\r\n      return pkgMain ? pkgMain : name;\r\n    }\r\n\r\n    function removeScript(name) {\r\n      if (isBrowser) {\r\n        each(scripts(), function(scriptNode) {\r\n          if (scriptNode.getAttribute(\"data-requiremodule\") === name && scriptNode.getAttribute(\"data-requirecontext\") === context.contextName) {\r\n            scriptNode.parentNode.removeChild(scriptNode);\r\n            return true;\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    function hasPathFallback(id) {\r\n      var pathConfig = getOwn(config.paths, id);\r\n      if (pathConfig && isArray(pathConfig) && pathConfig.length > 1) {\r\n        //Pop off the first array value, since it failed, and\r\n        //retry\r\n        pathConfig.shift();\r\n        context.require.undef(id);\r\n\r\n        //Custom require that does not do map translation, since\r\n        //ID is \"absolute\", already mapped/resolved.\r\n        context.makeRequire(null, {\r\n          skipMap: true\r\n        })([id]);\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    //Turns a plugin!resource to [plugin, resource]\r\n    //with the plugin being undefined if the name\r\n    //did not have a plugin prefix.\r\n    function splitPrefix(name) {\r\n      var prefix,\r\n        index = name ? name.indexOf(\"!\") : -1;\r\n      if (index > -1) {\r\n        prefix = name.substring(0, index);\r\n        name = name.substring(index + 1, name.length);\r\n      }\r\n      return [prefix, name];\r\n    }\r\n\r\n    /**\r\n     * Creates a module mapping that includes plugin prefix, module\r\n     * name, and path. If parentModuleMap is provided it will\r\n     * also normalize the name via require.normalize()\r\n     *\r\n     * @param {String} name the module name\r\n     * @param {String} [parentModuleMap] parent module map\r\n     * for the module name, used to resolve relative names.\r\n     * @param {Boolean} isNormalized: is the ID already normalized.\r\n     * This is true if this call is done for a define() module ID.\r\n     * @param {Boolean} applyMap: apply the map config to the ID.\r\n     * Should only be true if this map is for a dependency.\r\n     *\r\n     * @returns {Object}\r\n     */\r\n    function makeModuleMap(name, parentModuleMap, isNormalized, applyMap) {\r\n      var url,\r\n        pluginModule,\r\n        suffix,\r\n        nameParts,\r\n        prefix = null,\r\n        parentName = parentModuleMap ? parentModuleMap.name : null,\r\n        originalName = name,\r\n        isDefine = true,\r\n        normalizedName = \"\";\r\n\r\n      //If no name, then it means it is a require call, generate an\r\n      //internal name.\r\n      if (!name) {\r\n        isDefine = false;\r\n        name = \"_@r\" + (requireCounter += 1);\r\n      }\r\n\r\n      nameParts = splitPrefix(name);\r\n      prefix = nameParts[0];\r\n      name = nameParts[1];\r\n\r\n      if (prefix) {\r\n        prefix = normalize(prefix, parentName, applyMap);\r\n        pluginModule = getOwn(defined, prefix);\r\n      }\r\n\r\n      //Account for relative paths if there is a base name.\r\n      if (name) {\r\n        if (prefix) {\r\n          if (isNormalized) {\r\n            normalizedName = name;\r\n          } else if (pluginModule && pluginModule.normalize) {\r\n            //Plugin is loaded, use its normalize method.\r\n            normalizedName = pluginModule.normalize(name, function(name) {\r\n              return normalize(name, parentName, applyMap);\r\n            });\r\n          } else {\r\n            // If nested plugin references, then do not try to\r\n            // normalize, as it will not normalize correctly. This\r\n            // places a restriction on resourceIds, and the longer\r\n            // term solution is not to normalize until plugins are\r\n            // loaded and all normalizations to allow for async\r\n            // loading of a loader plugin. But for now, fixes the\r\n            // common uses. Details in #1131\r\n            normalizedName = name.indexOf(\"!\") === -1 ? normalize(name, parentName, applyMap) : name;\r\n          }\r\n        } else {\r\n          //A regular module.\r\n          normalizedName = normalize(name, parentName, applyMap);\r\n\r\n          //Normalized name may be a plugin ID due to map config\r\n          //application in normalize. The map config values must\r\n          //already be normalized, so do not need to redo that part.\r\n          nameParts = splitPrefix(normalizedName);\r\n          prefix = nameParts[0];\r\n          normalizedName = nameParts[1];\r\n          isNormalized = true;\r\n\r\n          url = context.nameToUrl(normalizedName);\r\n        }\r\n      }\r\n\r\n      //If the id is a plugin id that cannot be determined if it needs\r\n      //normalization, stamp it with a unique ID so two matching relative\r\n      //ids that may conflict can be separate.\r\n      suffix = prefix && !pluginModule && !isNormalized ? \"_unnormalized\" + (unnormalizedCounter += 1) : \"\";\r\n\r\n      return {\r\n        prefix: prefix,\r\n        name: normalizedName,\r\n        parentMap: parentModuleMap,\r\n        unnormalized: !!suffix,\r\n        url: url,\r\n        originalName: originalName,\r\n        isDefine: isDefine,\r\n        id: (prefix ? prefix + \"!\" + normalizedName : normalizedName) + suffix\r\n      };\r\n    }\r\n\r\n    function getModule(depMap) {\r\n      var id = depMap.id,\r\n        mod = getOwn(registry, id);\r\n\r\n      if (!mod) {\r\n        mod = registry[id] = new context.Module(depMap);\r\n      }\r\n\r\n      return mod;\r\n    }\r\n\r\n    function on(depMap, name, fn) {\r\n      var id = depMap.id,\r\n        mod = getOwn(registry, id);\r\n\r\n      if (hasProp(defined, id) && (!mod || mod.defineEmitComplete)) {\r\n        if (name === \"defined\") {\r\n          fn(defined[id]);\r\n        }\r\n      } else {\r\n        mod = getModule(depMap);\r\n        if (mod.error && name === \"error\") {\r\n          fn(mod.error);\r\n        } else {\r\n          mod.on(name, fn);\r\n        }\r\n      }\r\n    }\r\n\r\n    function onError(err, errback) {\r\n      var ids = err.requireModules,\r\n        notified = false;\r\n\r\n      if (errback) {\r\n        errback(err);\r\n      } else {\r\n        each(ids, function(id) {\r\n          var mod = getOwn(registry, id);\r\n          if (mod) {\r\n            //Set error on module, so it skips timeout checks.\r\n            mod.error = err;\r\n            if (mod.events.error) {\r\n              notified = true;\r\n              mod.emit(\"error\", err);\r\n            }\r\n          }\r\n        });\r\n\r\n        if (!notified) {\r\n          req.onError(err);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Internal method to transfer globalQueue items to this context's\r\n     * defQueue.\r\n     */\r\n    function takeGlobalQueue() {\r\n      //Push all the globalDefQueue items into the context's defQueue\r\n      if (globalDefQueue.length) {\r\n        each(globalDefQueue, function(queueItem) {\r\n          var id = queueItem[0];\r\n          if (typeof id === \"string\") {\r\n            context.defQueueMap[id] = true;\r\n          }\r\n          defQueue.push(queueItem);\r\n        });\r\n        globalDefQueue = [];\r\n      }\r\n    }\r\n\r\n    handlers = {\r\n      require: function(mod) {\r\n        if (mod.require) {\r\n          return mod.require;\r\n        } else {\r\n          return (mod.require = context.makeRequire(mod.map));\r\n        }\r\n      },\r\n      exports: function(mod) {\r\n        mod.usingExports = true;\r\n        if (mod.map.isDefine) {\r\n          if (mod.exports) {\r\n            return (defined[mod.map.id] = mod.exports);\r\n          } else {\r\n            return (mod.exports = defined[mod.map.id] = {});\r\n          }\r\n        }\r\n      },\r\n      module: function(mod) {\r\n        if (mod.module) {\r\n          return mod.module;\r\n        } else {\r\n          return (mod.module = {\r\n            id: mod.map.id,\r\n            uri: mod.map.url,\r\n            config: function() {\r\n              return getOwn(config.config, mod.map.id) || {};\r\n            },\r\n            exports: mod.exports || (mod.exports = {})\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    function cleanRegistry(id) {\r\n      //Clean up machinery used for waiting modules.\r\n      delete registry[id];\r\n      delete enabledRegistry[id];\r\n    }\r\n\r\n    function breakCycle(mod, traced, processed) {\r\n      var id = mod.map.id;\r\n\r\n      if (mod.error) {\r\n        mod.emit(\"error\", mod.error);\r\n      } else {\r\n        traced[id] = true;\r\n        each(mod.depMaps, function(depMap, i) {\r\n          var depId = depMap.id,\r\n            dep = getOwn(registry, depId);\r\n\r\n          //Only force things that have not completed\r\n          //being defined, so still in the registry,\r\n          //and only if it has not been matched up\r\n          //in the module already.\r\n          if (dep && !mod.depMatched[i] && !processed[depId]) {\r\n            if (getOwn(traced, depId)) {\r\n              mod.defineDep(i, defined[depId]);\r\n              mod.check(); //pass false?\r\n            } else {\r\n              breakCycle(dep, traced, processed);\r\n            }\r\n          }\r\n        });\r\n        processed[id] = true;\r\n      }\r\n    }\r\n\r\n    function checkLoaded() {\r\n      var err,\r\n        usingPathFallback,\r\n        waitInterval = config.waitSeconds * 1000,\r\n        //It is possible to disable the wait interval by using waitSeconds of 0.\r\n        expired = waitInterval && context.startTime + waitInterval < new Date().getTime(),\r\n        noLoads = [],\r\n        reqCalls = [],\r\n        stillLoading = false,\r\n        needCycleCheck = true;\r\n\r\n      //Do not bother if this call was a result of a cycle break.\r\n      if (inCheckLoaded) {\r\n        return;\r\n      }\r\n\r\n      inCheckLoaded = true;\r\n\r\n      //Figure out the state of all the modules.\r\n      eachProp(enabledRegistry, function(mod) {\r\n        var map = mod.map,\r\n          modId = map.id;\r\n\r\n        //Skip things that are not enabled or in error state.\r\n        if (!mod.enabled) {\r\n          return;\r\n        }\r\n\r\n        if (!map.isDefine) {\r\n          reqCalls.push(mod);\r\n        }\r\n\r\n        if (!mod.error) {\r\n          //If the module should be executed, and it has not\r\n          //been inited and time is up, remember it.\r\n          if (!mod.inited && expired) {\r\n            if (hasPathFallback(modId)) {\r\n              usingPathFallback = true;\r\n              stillLoading = true;\r\n            } else {\r\n              noLoads.push(modId);\r\n              removeScript(modId);\r\n            }\r\n          } else if (!mod.inited && mod.fetched && map.isDefine) {\r\n            stillLoading = true;\r\n            if (!map.prefix) {\r\n              //No reason to keep looking for unfinished\r\n              //loading. If the only stillLoading is a\r\n              //plugin resource though, keep going,\r\n              //because it may be that a plugin resource\r\n              //is waiting on a non-plugin cycle.\r\n              return (needCycleCheck = false);\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      if (expired && noLoads.length) {\r\n        //If wait time expired, throw error of unloaded modules.\r\n        err = makeError(\"timeout\", \"Load timeout for modules: \" + noLoads, null, noLoads);\r\n        err.contextName = context.contextName;\r\n        return onError(err);\r\n      }\r\n\r\n      //Not expired, check for a cycle.\r\n      if (needCycleCheck) {\r\n        each(reqCalls, function(mod) {\r\n          breakCycle(mod, {}, {});\r\n        });\r\n      }\r\n\r\n      //If still waiting on loads, and the waiting load is something\r\n      //other than a plugin resource, or there are still outstanding\r\n      //scripts, then just try back later.\r\n      if ((!expired || usingPathFallback) && stillLoading) {\r\n        //Something is still waiting to load. Wait for it, but only\r\n        //if a timeout is not already in effect.\r\n        if ((isBrowser || isWebWorker) && !checkLoadedTimeoutId) {\r\n          checkLoadedTimeoutId = setTimeout(function() {\r\n            checkLoadedTimeoutId = 0;\r\n            checkLoaded();\r\n          }, 50);\r\n        }\r\n      }\r\n\r\n      inCheckLoaded = false;\r\n    }\r\n\r\n    Module = function(map) {\r\n      this.events = getOwn(undefEvents, map.id) || {};\r\n      this.map = map;\r\n      this.shim = getOwn(config.shim, map.id);\r\n      this.depExports = [];\r\n      this.depMaps = [];\r\n      this.depMatched = [];\r\n      this.pluginMaps = {};\r\n      this.depCount = 0;\r\n\r\n      /* this.exports this.factory\r\n         this.depMaps = [],\r\n         this.enabled, this.fetched\r\n      */\r\n    };\r\n\r\n    Module.prototype = {\r\n      init: function(depMaps, factory, errback, options) {\r\n        options = options || {};\r\n\r\n        //Do not do more inits if already done. Can happen if there\r\n        //are multiple define calls for the same module. That is not\r\n        //a normal, common case, but it is also not unexpected.\r\n        if (this.inited) {\r\n          return;\r\n        }\r\n\r\n        this.factory = factory;\r\n\r\n        if (errback) {\r\n          //Register for errors on this module.\r\n          this.on(\"error\", errback);\r\n        } else if (this.events.error) {\r\n          //If no errback already, but there are error listeners\r\n          //on this module, set up an errback to pass to the deps.\r\n          errback = bind(this, function(err) {\r\n            this.emit(\"error\", err);\r\n          });\r\n        }\r\n\r\n        //Do a copy of the dependency array, so that\r\n        //source inputs are not modified. For example\r\n        //\"shim\" deps are passed in here directly, and\r\n        //doing a direct modification of the depMaps array\r\n        //would affect that config.\r\n        this.depMaps = depMaps && depMaps.slice(0);\r\n\r\n        this.errback = errback;\r\n\r\n        //Indicate this module has be initialized\r\n        this.inited = true;\r\n\r\n        this.ignore = options.ignore;\r\n\r\n        //Could have option to init this module in enabled mode,\r\n        //or could have been previously marked as enabled. However,\r\n        //the dependencies are not known until init is called. So\r\n        //if enabled previously, now trigger dependencies as enabled.\r\n        if (options.enabled || this.enabled) {\r\n          //Enable this module and dependencies.\r\n          //Will call this.check()\r\n          this.enable();\r\n        } else {\r\n          this.check();\r\n        }\r\n      },\r\n\r\n      defineDep: function(i, depExports) {\r\n        //Because of cycles, defined callback for a given\r\n        //export can be called more than once.\r\n        if (!this.depMatched[i]) {\r\n          this.depMatched[i] = true;\r\n          this.depCount -= 1;\r\n          this.depExports[i] = depExports;\r\n        }\r\n      },\r\n\r\n      fetch: function() {\r\n        if (this.fetched) {\r\n          return;\r\n        }\r\n        this.fetched = true;\r\n\r\n        context.startTime = new Date().getTime();\r\n\r\n        var map = this.map;\r\n\r\n        //If the manager is for a plugin managed resource,\r\n        //ask the plugin to load it now.\r\n        if (this.shim) {\r\n          context.makeRequire(this.map, {\r\n            enableBuildCallback: true\r\n          })(\r\n            this.shim.deps || [],\r\n            bind(this, function() {\r\n              return map.prefix ? this.callPlugin() : this.load();\r\n            })\r\n          );\r\n        } else {\r\n          //Regular dependency.\r\n          return map.prefix ? this.callPlugin() : this.load();\r\n        }\r\n      },\r\n\r\n      load: function() {\r\n        var url = this.map.url;\r\n\r\n        //Regular dependency.\r\n        if (!urlFetched[url]) {\r\n          urlFetched[url] = true;\r\n          context.load(this.map.id, url);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Checks if the module is ready to define itself, and if so,\r\n       * define it.\r\n       */\r\n      check: function() {\r\n        if (!this.enabled || this.enabling) {\r\n          return;\r\n        }\r\n\r\n        var err,\r\n          cjsModule,\r\n          id = this.map.id,\r\n          depExports = this.depExports,\r\n          exports = this.exports,\r\n          factory = this.factory;\r\n\r\n        if (!this.inited) {\r\n          // Only fetch if not already in the defQueue.\r\n          if (!hasProp(context.defQueueMap, id)) {\r\n            this.fetch();\r\n          }\r\n        } else if (this.error) {\r\n          this.emit(\"error\", this.error);\r\n        } else if (!this.defining) {\r\n          //The factory could trigger another require call\r\n          //that would result in checking this module to\r\n          //define itself again. If already in the process\r\n          //of doing that, skip this work.\r\n          this.defining = true;\r\n\r\n          if (this.depCount < 1 && !this.defined) {\r\n            if (isFunction(factory)) {\r\n              //If there is an error listener, favor passing\r\n              //to that instead of throwing an error. However,\r\n              //only do it for define()'d  modules. require\r\n              //errbacks should not be called for failures in\r\n              //their callbacks (#699). However if a global\r\n              //onError is set, use that.\r\n              if ((this.events.error && this.map.isDefine) || req.onError !== defaultOnError) {\r\n                try {\r\n                  exports = context.execCb(id, factory, depExports, exports);\r\n                } catch (e) {\r\n                  err = e;\r\n                }\r\n              } else {\r\n                exports = context.execCb(id, factory, depExports, exports);\r\n              }\r\n\r\n              // Favor return value over exports. If node/cjs in play,\r\n              // then will not have a return value anyway. Favor\r\n              // module.exports assignment over exports object.\r\n              if (this.map.isDefine && exports === undefined) {\r\n                cjsModule = this.module;\r\n                if (cjsModule) {\r\n                  exports = cjsModule.exports;\r\n                } else if (this.usingExports) {\r\n                  //exports already set the defined value.\r\n                  exports = this.exports;\r\n                }\r\n              }\r\n\r\n              if (err) {\r\n                err.requireMap = this.map;\r\n                err.requireModules = this.map.isDefine ? [this.map.id] : null;\r\n                err.requireType = this.map.isDefine ? \"define\" : \"require\";\r\n                return onError((this.error = err));\r\n              }\r\n            } else {\r\n              //Just a literal value\r\n              exports = factory;\r\n            }\r\n\r\n            this.exports = exports;\r\n\r\n            if (this.map.isDefine && !this.ignore) {\r\n              defined[id] = exports;\r\n\r\n              if (req.onResourceLoad) {\r\n                var resLoadMaps = [];\r\n                each(this.depMaps, function(depMap) {\r\n                  resLoadMaps.push(depMap.normalizedMap || depMap);\r\n                });\r\n                req.onResourceLoad(context, this.map, resLoadMaps);\r\n              }\r\n            }\r\n\r\n            //Clean up\r\n            cleanRegistry(id);\r\n\r\n            this.defined = true;\r\n          }\r\n\r\n          //Finished the define stage. Allow calling check again\r\n          //to allow define notifications below in the case of a\r\n          //cycle.\r\n          this.defining = false;\r\n\r\n          if (this.defined && !this.defineEmitted) {\r\n            this.defineEmitted = true;\r\n            this.emit(\"defined\", this.exports);\r\n            this.defineEmitComplete = true;\r\n          }\r\n        }\r\n      },\r\n\r\n      callPlugin: function() {\r\n        var map = this.map,\r\n          id = map.id,\r\n          //Map already normalized the prefix.\r\n          pluginMap = makeModuleMap(map.prefix);\r\n\r\n        //Mark this as a dependency for this plugin, so it\r\n        //can be traced for cycles.\r\n        this.depMaps.push(pluginMap);\r\n\r\n        on(\r\n          pluginMap,\r\n          \"defined\",\r\n          bind(this, function(plugin) {\r\n            var load,\r\n              normalizedMap,\r\n              normalizedMod,\r\n              bundleId = getOwn(bundlesMap, this.map.id),\r\n              name = this.map.name,\r\n              parentName = this.map.parentMap ? this.map.parentMap.name : null,\r\n              localRequire = context.makeRequire(map.parentMap, {\r\n                enableBuildCallback: true\r\n              });\r\n\r\n            //If current map is not normalized, wait for that\r\n            //normalized name to load instead of continuing.\r\n            if (this.map.unnormalized) {\r\n              //Normalize the ID if the plugin allows it.\r\n              if (plugin.normalize) {\r\n                name =\r\n                  plugin.normalize(name, function(name) {\r\n                    return normalize(name, parentName, true);\r\n                  }) || \"\";\r\n              }\r\n\r\n              //prefix and name should already be normalized, no need\r\n              //for applying map config again either.\r\n              normalizedMap = makeModuleMap(map.prefix + \"!\" + name, this.map.parentMap, true);\r\n              on(\r\n                normalizedMap,\r\n                \"defined\",\r\n                bind(this, function(value) {\r\n                  this.map.normalizedMap = normalizedMap;\r\n                  this.init(\r\n                    [],\r\n                    function() {\r\n                      return value;\r\n                    },\r\n                    null, {\r\n                      enabled: true,\r\n                      ignore: true\r\n                    }\r\n                  );\r\n                })\r\n              );\r\n\r\n              normalizedMod = getOwn(registry, normalizedMap.id);\r\n              if (normalizedMod) {\r\n                //Mark this as a dependency for this plugin, so it\r\n                //can be traced for cycles.\r\n                this.depMaps.push(normalizedMap);\r\n\r\n                if (this.events.error) {\r\n                  normalizedMod.on(\r\n                    \"error\",\r\n                    bind(this, function(err) {\r\n                      this.emit(\"error\", err);\r\n                    })\r\n                  );\r\n                }\r\n                normalizedMod.enable();\r\n              }\r\n\r\n              return;\r\n            }\r\n\r\n            //If a paths config, then just load that file instead to\r\n            //resolve the plugin, as it is built into that paths layer.\r\n            if (bundleId) {\r\n              this.map.url = context.nameToUrl(bundleId);\r\n              this.load();\r\n              return;\r\n            }\r\n\r\n            load = bind(this, function(value) {\r\n              this.init(\r\n                [],\r\n                function() {\r\n                  return value;\r\n                },\r\n                null, {\r\n                  enabled: true\r\n                }\r\n              );\r\n            });\r\n\r\n            load.error = bind(this, function(err) {\r\n              this.inited = true;\r\n              this.error = err;\r\n              err.requireModules = [id];\r\n\r\n              //Remove temp unnormalized modules for this module,\r\n              //since they will never be resolved otherwise now.\r\n              eachProp(registry, function(mod) {\r\n                if (mod.map.id.indexOf(id + \"_unnormalized\") === 0) {\r\n                  cleanRegistry(mod.map.id);\r\n                }\r\n              });\r\n\r\n              onError(err);\r\n            });\r\n\r\n            //Allow plugins to load other code without having to know the\r\n            //context or how to 'complete' the load.\r\n            load.fromText = bind(this, function(text, textAlt) {\r\n              /*jslint evil: true */\r\n              var moduleName = map.name,\r\n                moduleMap = makeModuleMap(moduleName),\r\n                hasInteractive = useInteractive;\r\n\r\n              //As of 2.1.0, support just passing the text, to reinforce\r\n              //fromText only being called once per resource. Still\r\n              //support old style of passing moduleName but discard\r\n              //that moduleName in favor of the internal ref.\r\n              if (textAlt) {\r\n                text = textAlt;\r\n              }\r\n\r\n              //Turn off interactive script matching for IE for any define\r\n              //calls in the text, then turn it back on at the end.\r\n              if (hasInteractive) {\r\n                useInteractive = false;\r\n              }\r\n\r\n              //Prime the system by creating a module instance for\r\n              //it.\r\n              getModule(moduleMap);\r\n\r\n              //Transfer any config to this other module.\r\n              if (hasProp(config.config, id)) {\r\n                config.config[moduleName] = config.config[id];\r\n              }\r\n\r\n              try {\r\n                req.exec(text);\r\n              } catch (e) {\r\n                return onError(makeError(\"fromtexteval\", \"fromText eval for \" + id + \" failed: \" + e, e, [id]));\r\n              }\r\n\r\n              if (hasInteractive) {\r\n                useInteractive = true;\r\n              }\r\n\r\n              //Mark this as a dependency for the plugin\r\n              //resource\r\n              this.depMaps.push(moduleMap);\r\n\r\n              //Support anonymous modules.\r\n              context.completeLoad(moduleName);\r\n\r\n              //Bind the value of that module to the value for this\r\n              //resource ID.\r\n              localRequire([moduleName], load);\r\n            });\r\n\r\n            //Use parentName here since the plugin's name is not reliable,\r\n            //could be some weird string with no path that actually wants to\r\n            //reference the parentName's path.\r\n            plugin.load(map.name, localRequire, load, config);\r\n          })\r\n        );\r\n\r\n        context.enable(pluginMap, this);\r\n        this.pluginMaps[pluginMap.id] = pluginMap;\r\n      },\r\n\r\n      enable: function() {\r\n        enabledRegistry[this.map.id] = this;\r\n        this.enabled = true;\r\n\r\n        //Set flag mentioning that the module is enabling,\r\n        //so that immediate calls to the defined callbacks\r\n        //for dependencies do not trigger inadvertent load\r\n        //with the depCount still being zero.\r\n        this.enabling = true;\r\n\r\n        //Enable each dependency\r\n        each(\r\n          this.depMaps,\r\n          bind(this, function(depMap, i) {\r\n            var id, mod, handler;\r\n\r\n            if (typeof depMap === \"string\") {\r\n              //Dependency needs to be converted to a depMap\r\n              //and wired up to this module.\r\n              depMap = makeModuleMap(depMap, this.map.isDefine ? this.map : this.map.parentMap, false, !this.skipMap);\r\n              this.depMaps[i] = depMap;\r\n\r\n              handler = getOwn(handlers, depMap.id);\r\n\r\n              if (handler) {\r\n                this.depExports[i] = handler(this);\r\n                return;\r\n              }\r\n\r\n              this.depCount += 1;\r\n\r\n              on(\r\n                depMap,\r\n                \"defined\",\r\n                bind(this, function(depExports) {\r\n                  if (this.undefed) {\r\n                    return;\r\n                  }\r\n                  this.defineDep(i, depExports);\r\n                  this.check();\r\n                })\r\n              );\r\n\r\n              if (this.errback) {\r\n                on(depMap, \"error\", bind(this, this.errback));\r\n              } else if (this.events.error) {\r\n                // No direct errback on this module, but something\r\n                // else is listening for errors, so be sure to\r\n                // propagate the error correctly.\r\n                on(\r\n                  depMap,\r\n                  \"error\",\r\n                  bind(this, function(err) {\r\n                    this.emit(\"error\", err);\r\n                  })\r\n                );\r\n              }\r\n            }\r\n\r\n            id = depMap.id;\r\n            mod = registry[id];\r\n\r\n            //Skip special modules like 'require', 'exports', 'module'\r\n            //Also, don't call enable if it is already enabled,\r\n            //important in circular dependency cases.\r\n            if (!hasProp(handlers, id) && mod && !mod.enabled) {\r\n              context.enable(depMap, this);\r\n            }\r\n          })\r\n        );\r\n\r\n        //Enable each plugin that is used in\r\n        //a dependency\r\n        eachProp(\r\n          this.pluginMaps,\r\n          bind(this, function(pluginMap) {\r\n            var mod = getOwn(registry, pluginMap.id);\r\n            if (mod && !mod.enabled) {\r\n              context.enable(pluginMap, this);\r\n            }\r\n          })\r\n        );\r\n\r\n        this.enabling = false;\r\n\r\n        this.check();\r\n      },\r\n\r\n      on: function(name, cb) {\r\n        var cbs = this.events[name];\r\n        if (!cbs) {\r\n          cbs = this.events[name] = [];\r\n        }\r\n        cbs.push(cb);\r\n      },\r\n\r\n      emit: function(name, evt) {\r\n        each(this.events[name], function(cb) {\r\n          cb(evt);\r\n        });\r\n        if (name === \"error\") {\r\n          //Now that the error handler was triggered, remove\r\n          //the listeners, since this broken Module instance\r\n          //can stay around for a while in the registry.\r\n          delete this.events[name];\r\n        }\r\n      }\r\n    };\r\n\r\n    function callGetModule(args) {\r\n      //Skip modules already defined.\r\n      if (!hasProp(defined, args[0])) {\r\n        getModule(makeModuleMap(args[0], null, true)).init(args[1], args[2]);\r\n      }\r\n    }\r\n\r\n    function removeListener(node, func, name, ieName) {\r\n      //Favor detachEvent because of IE9\r\n      //issue, see attachEvent/addEventListener comment elsewhere\r\n      //in this file.\r\n      if (node.detachEvent && !isOpera) {\r\n        //Probably IE. If not it will throw an error, which will be\r\n        //useful to know.\r\n        if (ieName) {\r\n          node.detachEvent(ieName, func);\r\n        }\r\n      } else {\r\n        node.removeEventListener(name, func, false);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Given an event from a script node, get the requirejs info from it,\r\n     * and then removes the event listeners on the node.\r\n     * @param {Event} evt\r\n     * @returns {Object}\r\n     */\r\n    function getScriptData(evt) {\r\n      //Using currentTarget instead of target for Firefox 2.0's sake. Not\r\n      //all old browsers will be supported, but this one was easy enough\r\n      //to support and still makes sense.\r\n      var node = evt.currentTarget || evt.srcElement;\r\n\r\n      //Remove the listeners once here.\r\n      removeListener(node, context.onScriptLoad, \"load\", \"onreadystatechange\");\r\n      removeListener(node, context.onScriptError, \"error\");\r\n\r\n      return {\r\n        node: node,\r\n        id: node && node.getAttribute(\"data-requiremodule\")\r\n      };\r\n    }\r\n\r\n    function intakeDefines() {\r\n      var args;\r\n\r\n      //Any defined modules in the global queue, intake them now.\r\n      takeGlobalQueue();\r\n\r\n      //Make sure any remaining defQueue items get properly processed.\r\n      while (defQueue.length) {\r\n        args = defQueue.shift();\r\n        if (args[0] === null) {\r\n          return onError(makeError(\"mismatch\", \"Mismatched anonymous define() module: \" + args[args.length - 1]));\r\n        } else {\r\n          //args are id, deps, factory. Should be normalized by the\r\n          //define() function.\r\n          callGetModule(args);\r\n        }\r\n      }\r\n      context.defQueueMap = {};\r\n    }\r\n\r\n    context = {\r\n      config: config,\r\n      contextName: contextName,\r\n      registry: registry,\r\n      defined: defined,\r\n      urlFetched: urlFetched,\r\n      defQueue: defQueue,\r\n      defQueueMap: {},\r\n      Module: Module,\r\n      makeModuleMap: makeModuleMap,\r\n      nextTick: req.nextTick,\r\n      onError: onError,\r\n\r\n      /**\r\n       * Set a configuration for the context.\r\n       * @param {Object} cfg config object to integrate.\r\n       */\r\n      configure: function(cfg) {\r\n        //Make sure the baseUrl ends in a slash.\r\n        if (cfg.baseUrl) {\r\n          if (cfg.baseUrl.charAt(cfg.baseUrl.length - 1) !== \"/\") {\r\n            cfg.baseUrl += \"/\";\r\n          }\r\n        }\r\n\r\n        // Convert old style urlArgs string to a function.\r\n        if (typeof cfg.urlArgs === \"string\") {\r\n          var urlArgs = cfg.urlArgs;\r\n          cfg.urlArgs = function(id, url) {\r\n            return (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + urlArgs;\r\n          };\r\n        }\r\n\r\n        //Save off the paths since they require special processing,\r\n        //they are additive.\r\n        var shim = config.shim,\r\n          objs = {\r\n            paths: true,\r\n            bundles: true,\r\n            config: true,\r\n            map: true\r\n          };\r\n\r\n        eachProp(cfg, function(value, prop) {\r\n          if (objs[prop]) {\r\n            if (!config[prop]) {\r\n              config[prop] = {};\r\n            }\r\n            mixin(config[prop], value, true, true);\r\n          } else {\r\n            config[prop] = value;\r\n          }\r\n        });\r\n\r\n        //Reverse map the bundles\r\n        if (cfg.bundles) {\r\n          eachProp(cfg.bundles, function(value, prop) {\r\n            each(value, function(v) {\r\n              if (v !== prop) {\r\n                bundlesMap[v] = prop;\r\n              }\r\n            });\r\n          });\r\n        }\r\n\r\n        //Merge shim\r\n        if (cfg.shim) {\r\n          eachProp(cfg.shim, function(value, id) {\r\n            //Normalize the structure\r\n            if (isArray(value)) {\r\n              value = {\r\n                deps: value\r\n              };\r\n            }\r\n            if ((value.exports || value.init) && !value.exportsFn) {\r\n              value.exportsFn = context.makeShimExports(value);\r\n            }\r\n            shim[id] = value;\r\n          });\r\n          config.shim = shim;\r\n        }\r\n\r\n        //Adjust packages if necessary.\r\n        if (cfg.packages) {\r\n          each(cfg.packages, function(pkgObj) {\r\n            var location, name;\r\n\r\n            pkgObj = typeof pkgObj === \"string\" ? { name: pkgObj } : pkgObj;\r\n\r\n            name = pkgObj.name;\r\n            location = pkgObj.location;\r\n            if (location) {\r\n              config.paths[name] = pkgObj.location;\r\n            }\r\n\r\n            //Save pointer to main module ID for pkg name.\r\n            //Remove leading dot in main, so main paths are normalized,\r\n            //and remove any trailing .js, since different package\r\n            //envs have different conventions: some use a module name,\r\n            //some use a file name.\r\n            config.pkgs[name] = pkgObj.name + \"/\" + (pkgObj.main || \"main\").replace(currDirRegExp, \"\").replace(jsSuffixRegExp, \"\");\r\n          });\r\n        }\r\n\r\n        //If there are any \"waiting to execute\" modules in the registry,\r\n        //update the maps for them, since their info, like URLs to load,\r\n        //may have changed.\r\n        eachProp(registry, function(mod, id) {\r\n          //If module already has init called, since it is too\r\n          //late to modify them, and ignore unnormalized ones\r\n          //since they are transient.\r\n          if (!mod.inited && !mod.map.unnormalized) {\r\n            mod.map = makeModuleMap(id, null, true);\r\n          }\r\n        });\r\n\r\n        //If a deps array or a config callback is specified, then call\r\n        //require with those args. This is useful when require is defined as a\r\n        //config object before require.js is loaded.\r\n        if (cfg.deps || cfg.callback) {\r\n          context.require(cfg.deps || [], cfg.callback);\r\n        }\r\n      },\r\n\r\n      makeShimExports: function(value) {\r\n        function fn() {\r\n          var ret;\r\n          if (value.init) {\r\n            ret = value.init.apply(global, arguments);\r\n          }\r\n          return ret || (value.exports && getGlobal(value.exports));\r\n        }\r\n        return fn;\r\n      },\r\n\r\n      makeRequire: function(relMap, options) {\r\n        options = options || {};\r\n\r\n        function localRequire(deps, callback, errback) {\r\n          var id, map, requireMod;\r\n\r\n          if (options.enableBuildCallback && callback && isFunction(callback)) {\r\n            callback.__requireJsBuild = true;\r\n          }\r\n\r\n          if (typeof deps === \"string\") {\r\n            if (isFunction(callback)) {\r\n              //Invalid call\r\n              return onError(makeError(\"requireargs\", \"Invalid require call\"), errback);\r\n            }\r\n\r\n            //If require|exports|module are requested, get the\r\n            //value for them from the special handlers. Caveat:\r\n            //this only works while module is being defined.\r\n            if (relMap && hasProp(handlers, deps)) {\r\n              return handlers[deps](registry[relMap.id]);\r\n            }\r\n\r\n            //Synchronous access to one module. If require.get is\r\n            //available (as in the Node adapter), prefer that.\r\n            if (req.get) {\r\n              return req.get(context, deps, relMap, localRequire);\r\n            }\r\n\r\n            //Normalize module name, if it contains . or ..\r\n            map = makeModuleMap(deps, relMap, false, true);\r\n            id = map.id;\r\n\r\n            if (!hasProp(defined, id)) {\r\n              return onError(makeError(\"notloaded\", 'Module name \"' + id + '\" has not been loaded yet for context: ' + contextName + (relMap ? \"\" : \". Use require([])\")));\r\n            }\r\n            return defined[id];\r\n          }\r\n\r\n          //Grab defines waiting in the global queue.\r\n          intakeDefines();\r\n\r\n          //Mark all the dependencies as needing to be loaded.\r\n          context.nextTick(function() {\r\n            //Some defines could have been added since the\r\n            //require call, collect them.\r\n            intakeDefines();\r\n\r\n            requireMod = getModule(makeModuleMap(null, relMap));\r\n\r\n            //Store if map config should be applied to this require\r\n            //call for dependencies.\r\n            requireMod.skipMap = options.skipMap;\r\n\r\n            requireMod.init(deps, callback, errback, {\r\n              enabled: true\r\n            });\r\n\r\n            checkLoaded();\r\n          });\r\n\r\n          return localRequire;\r\n        }\r\n\r\n        mixin(localRequire, {\r\n          isBrowser: isBrowser,\r\n\r\n          /**\r\n           * Converts a module name + .extension into an URL path.\r\n           * *Requires* the use of a module name. It does not support using\r\n           * plain URLs like nameToUrl.\r\n           */\r\n          toUrl: function(moduleNamePlusExt) {\r\n            var ext,\r\n              index = moduleNamePlusExt.lastIndexOf(\".\"),\r\n              segment = moduleNamePlusExt.split(\"/\")[0],\r\n              isRelative = segment === \".\" || segment === \"..\";\r\n\r\n            //Have a file extension alias, and it is not the\r\n            //dots from a relative path.\r\n            if (index !== -1 && (!isRelative || index > 1)) {\r\n              ext = moduleNamePlusExt.substring(index, moduleNamePlusExt.length);\r\n              moduleNamePlusExt = moduleNamePlusExt.substring(0, index);\r\n            }\r\n\r\n            return context.nameToUrl(normalize(moduleNamePlusExt, relMap && relMap.id, true), ext, true);\r\n          },\r\n\r\n          defined: function(id) {\r\n            return hasProp(defined, makeModuleMap(id, relMap, false, true).id);\r\n          },\r\n\r\n          specified: function(id) {\r\n            id = makeModuleMap(id, relMap, false, true).id;\r\n            return hasProp(defined, id) || hasProp(registry, id);\r\n          }\r\n        });\r\n\r\n        //Only allow undef on top level require calls\r\n        if (!relMap) {\r\n          localRequire.undef = function(id) {\r\n            //Bind any waiting define() calls to this context,\r\n            //fix for #408\r\n            takeGlobalQueue();\r\n\r\n            var map = makeModuleMap(id, relMap, true),\r\n              mod = getOwn(registry, id);\r\n            try {\r\n              mod.undefed = true;\r\n            } catch (ex) {}\r\n            removeScript(id);\r\n\r\n            delete defined[id];\r\n            delete urlFetched[map.url];\r\n            delete undefEvents[id];\r\n\r\n            //Clean queued defines too. Go backwards\r\n            //in array so that the splices do not\r\n            //mess up the iteration.\r\n            eachReverse(defQueue, function(args, i) {\r\n              if (args[0] === id) {\r\n                defQueue.splice(i, 1);\r\n              }\r\n            });\r\n            delete context.defQueueMap[id];\r\n\r\n            if (mod) {\r\n              //Hold on to listeners in case the\r\n              //module will be attempted to be reloaded\r\n              //using a different config.\r\n              if (mod.events.defined) {\r\n                undefEvents[id] = mod.events;\r\n              }\r\n\r\n              cleanRegistry(id);\r\n            }\r\n          };\r\n        }\r\n\r\n        return localRequire;\r\n      },\r\n\r\n      /**\r\n       * Called to enable a module if it is still in the registry\r\n       * awaiting enablement. A second arg, parent, the parent module,\r\n       * is passed in for context, when this method is overridden by\r\n       * the optimizer. Not shown here to keep code compact.\r\n       */\r\n      enable: function(depMap) {\r\n        var mod = getOwn(registry, depMap.id);\r\n        if (mod) {\r\n          getModule(depMap).enable();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Internal method used by environment adapters to complete a load event.\r\n       * A load event could be a script load or just a load pass from a synchronous\r\n       * load call.\r\n       * @param {String} moduleName the name of the module to potentially complete.\r\n       */\r\n      completeLoad: function(moduleName) {\r\n        var found,\r\n          args,\r\n          mod,\r\n          shim = getOwn(config.shim, moduleName) || {},\r\n          shExports = shim.exports;\r\n\r\n        takeGlobalQueue();\r\n\r\n        while (defQueue.length) {\r\n          args = defQueue.shift();\r\n          if (args[0] === null) {\r\n            args[0] = moduleName;\r\n            //If already found an anonymous module and bound it\r\n            //to this name, then this is some other anon module\r\n            //waiting for its completeLoad to fire.\r\n            if (found) {\r\n              break;\r\n            }\r\n            found = true;\r\n          } else if (args[0] === moduleName) {\r\n            //Found matching define call for this script!\r\n            found = true;\r\n          }\r\n\r\n          callGetModule(args);\r\n        }\r\n        context.defQueueMap = {};\r\n\r\n        //Do this after the cycle of callGetModule in case the result\r\n        //of those calls/init calls changes the registry.\r\n        mod = getOwn(registry, moduleName);\r\n\r\n        if (!found && !hasProp(defined, moduleName) && mod && !mod.inited) {\r\n          if (config.enforceDefine && (!shExports || !getGlobal(shExports))) {\r\n            if (hasPathFallback(moduleName)) {\r\n              return;\r\n            } else {\r\n              return onError(makeError(\"nodefine\", \"No define call for \" + moduleName, null, [moduleName]));\r\n            }\r\n          } else {\r\n            //A script that does not call define(), so just simulate\r\n            //the call for it.\r\n            callGetModule([moduleName, shim.deps || [], shim.exportsFn]);\r\n          }\r\n        }\r\n\r\n        checkLoaded();\r\n      },\r\n\r\n      /**\r\n       * Converts a module name to a file path. Supports cases where\r\n       * moduleName may actually be just an URL.\r\n       * Note that it **does not** call normalize on the moduleName,\r\n       * it is assumed to have already been normalized. This is an\r\n       * internal API, not a public one. Use toUrl for the public API.\r\n       */\r\n      nameToUrl: function(moduleName, ext, skipExt) {\r\n        var paths,\r\n          syms,\r\n          i,\r\n          parentModule,\r\n          url,\r\n          parentPath,\r\n          bundleId,\r\n          pkgMain = getOwn(config.pkgs, moduleName);\r\n\r\n        if (pkgMain) {\r\n          moduleName = pkgMain;\r\n        }\r\n\r\n        bundleId = getOwn(bundlesMap, moduleName);\r\n\r\n        if (bundleId) {\r\n          return context.nameToUrl(bundleId, ext, skipExt);\r\n        }\r\n\r\n        //If a colon is in the URL, it indicates a protocol is used and it is just\r\n        //an URL to a file, or if it starts with a slash, contains a query arg (i.e. ?)\r\n        //or ends with .js, then assume the user meant to use an url and not a module id.\r\n        //The slash is important for protocol-less URLs as well as full paths.\r\n        if (req.jsExtRegExp.test(moduleName)) {\r\n          //Just a plain path, not module name lookup, so just return it.\r\n          //Add extension if it is included. This is a bit wonky, only non-.js things pass\r\n          //an extension, this method probably needs to be reworked.\r\n          url = moduleName + (ext || \"\");\r\n        } else {\r\n          //A module that needs to be converted to a path.\r\n          paths = config.paths;\r\n\r\n          syms = moduleName.split(\"/\");\r\n          //For each module name segment, see if there is a path\r\n          //registered for it. Start with most specific name\r\n          //and work up from it.\r\n          for (i = syms.length; i > 0; i -= 1) {\r\n            parentModule = syms.slice(0, i).join(\"/\");\r\n\r\n            parentPath = getOwn(paths, parentModule);\r\n            if (parentPath) {\r\n              //If an array, it means there are a few choices,\r\n              //Choose the one that is desired\r\n              if (isArray(parentPath)) {\r\n                parentPath = parentPath[0];\r\n              }\r\n              syms.splice(0, i, parentPath);\r\n              break;\r\n            }\r\n          }\r\n\r\n          //Join the path parts together, then figure out if baseUrl is needed.\r\n          url = syms.join(\"/\");\r\n          url += ext || (/^data\\:|^blob\\:|\\?/.test(url) || skipExt ? \"\" : \".js\");\r\n          url = (url.charAt(0) === \"/\" || url.match(/^[\\w\\+\\.\\-]+:/) ? \"\" : config.baseUrl) + url;\r\n        }\r\n\r\n        return config.urlArgs && !/^blob\\:/.test(url) ? url + config.urlArgs(moduleName, url) : url;\r\n      },\r\n\r\n      //Delegates to req.load. Broken out as a separate function to\r\n      //allow overriding in the optimizer.\r\n      load: function(id, url) {\r\n        req.load(context, id, url);\r\n      },\r\n\r\n      /**\r\n       * Executes a module callback function. Broken out as a separate function\r\n       * solely to allow the build system to sequence the files in the built\r\n       * layer in the right sequence.\r\n       *\r\n       * @private\r\n       */\r\n      execCb: function(name, callback, args, exports) {\r\n        return callback.apply(exports, args);\r\n      },\r\n\r\n      /**\r\n       * callback for script loads, used to check status of loading.\r\n       *\r\n       * @param {Event} evt the event from the browser for the script\r\n       * that was loaded.\r\n       */\r\n      onScriptLoad: function(evt) {\r\n        //Using currentTarget instead of target for Firefox 2.0's sake. Not\r\n        //all old browsers will be supported, but this one was easy enough\r\n        //to support and still makes sense.\r\n        if (evt.type === \"load\" || readyRegExp.test((evt.currentTarget || evt.srcElement).readyState)) {\r\n          //Reset interactive script so a script node is not held onto for\r\n          //to long.\r\n          interactiveScript = null;\r\n\r\n          //Pull out the name of the module and the context.\r\n          var data = getScriptData(evt);\r\n          context.completeLoad(data.id);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Callback for script errors.\r\n       */\r\n      onScriptError: function(evt) {\r\n        var data = getScriptData(evt);\r\n        if (!hasPathFallback(data.id)) {\r\n          var parents = [];\r\n          eachProp(registry, function(value, key) {\r\n            if (key.indexOf(\"_@r\") !== 0) {\r\n              each(value.depMaps, function(depMap) {\r\n                if (depMap.id === data.id) {\r\n                  parents.push(key);\r\n                  return true;\r\n                }\r\n              });\r\n            }\r\n          });\r\n          return onError(makeError(\"scripterror\", 'Script error for \"' + data.id + (parents.length ? '\", needed by: ' + parents.join(\", \") : '\"'), evt, [data.id]));\r\n        }\r\n      }\r\n    };\r\n\r\n    context.require = context.makeRequire();\r\n    return context;\r\n  }\r\n\r\n  /**\r\n   * Main entry point.\r\n   *\r\n   * If the only argument to require is a string, then the module that\r\n   * is represented by that string is fetched for the appropriate context.\r\n   *\r\n   * If the first argument is an array, then it will be treated as an array\r\n   * of dependency string names to fetch. An optional function callback can\r\n   * be specified to execute when all of those dependencies are available.\r\n   *\r\n   * Make a local req variable to help Caja compliance (it assumes things\r\n   * on a require that are not standardized), and to give a short\r\n   * name for minification/local scope use.\r\n   */\r\n  req = requirejs = function(deps, callback, errback, optional) {\r\n    //Find the right context, use default\r\n    var context,\r\n      config,\r\n      contextName = defContextName;\r\n\r\n    // Determine if have config object in the call.\r\n    if (!isArray(deps) && typeof deps !== \"string\") {\r\n      // deps is a config object\r\n      config = deps;\r\n      if (isArray(callback)) {\r\n        // Adjust args if there are dependencies\r\n        deps = callback;\r\n        callback = errback;\r\n        errback = optional;\r\n      } else {\r\n        deps = [];\r\n      }\r\n    }\r\n\r\n    if (config && config.context) {\r\n      contextName = config.context;\r\n    }\r\n\r\n    context = getOwn(contexts, contextName);\r\n    if (!context) {\r\n      context = contexts[contextName] = req.s.newContext(contextName);\r\n    }\r\n\r\n    if (config) {\r\n      context.configure(config);\r\n    }\r\n\r\n    return context.require(deps, callback, errback);\r\n  };\r\n\r\n  /**\r\n   * Support require.config() to make it easier to cooperate with other\r\n   * AMD loaders on globally agreed names.\r\n   */\r\n  req.config = function(config) {\r\n    return req(config);\r\n  };\r\n\r\n  /**\r\n   * Execute something after the current tick\r\n   * of the event loop. Override for other envs\r\n   * that have a better solution than setTimeout.\r\n   * @param  {Function} fn function to execute later.\r\n   */\r\n  req.nextTick =\r\n    typeof setTimeout !== \"undefined\" ?\r\n      function(fn) {\r\n        setTimeout(fn, 4);\r\n      } :\r\n      function(fn) {\r\n        fn();\r\n      };\r\n\r\n  /**\r\n   * Export require as a global, but only if it does not already exist.\r\n   */\r\n  if (!require) {\r\n    require = req;\r\n  }\r\n\r\n  req.version = version;\r\n\r\n  //Used to filter out dependencies that are already paths.\r\n  req.jsExtRegExp = /^\\/|:|\\?|\\.js$/;\r\n  req.isBrowser = isBrowser;\r\n  s = req.s = {\r\n    contexts: contexts,\r\n    newContext: newContext\r\n  };\r\n\r\n  //Create default context.\r\n  req({});\r\n\r\n  //Exports some context-sensitive methods on global require.\r\n  each([\"toUrl\", \"undef\", \"defined\", \"specified\"], function(prop) {\r\n    //Reference from contexts instead of early binding to default context,\r\n    //so that during builds, the latest instance of the default context\r\n    //with its config gets used.\r\n    req[prop] = function() {\r\n      var ctx = contexts[defContextName];\r\n      return ctx.require[prop].apply(ctx, arguments);\r\n    };\r\n  });\r\n\r\n  if (isBrowser) {\r\n    head = s.head = document.getElementsByTagName(\"head\")[0];\r\n    //If BASE tag is in play, using appendChild is a problem for IE6.\r\n    //When that browser dies, this can be removed. Details in this jQuery bug:\r\n    //http://dev.jquery.com/ticket/2709\r\n    baseElement = document.getElementsByTagName(\"base\")[0];\r\n    if (baseElement) {\r\n      head = s.head = baseElement.parentNode;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Any errors that require explicitly generates will be passed to this\r\n   * function. Intercept/override it if you want custom error handling.\r\n   * @param {Error} err the error object.\r\n   */\r\n  req.onError = defaultOnError;\r\n\r\n  /**\r\n   * Creates the node for the load command. Only used in browser envs.\r\n   */\r\n  req.createNode = function(config, moduleName, url) {\r\n    var node = config.xhtml ? document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"html:script\") : document.createElement(\"script\");\r\n    node.type = config.scriptType || \"text/javascript\";\r\n    node.charset = \"utf-8\";\r\n    node.async = true;\r\n    return node;\r\n  };\r\n\r\n  /**\r\n   * Does the request to load a module for the browser case.\r\n   * Make this a separate function to allow other environments\r\n   * to override it.\r\n   *\r\n   * @param {Object} context the require context to find state.\r\n   * @param {String} moduleName the name of the module.\r\n   * @param {Object} url the URL to the module.\r\n   */\r\n  req.load = function(context, moduleName, url) {\r\n    var config = (context && context.config) || {},\r\n      node;\r\n    if (isBrowser) {\r\n      //In the browser so use a script tag\r\n      node = req.createNode(config, moduleName, url);\r\n\r\n      node.setAttribute(\"data-requirecontext\", context.contextName);\r\n      node.setAttribute(\"data-requiremodule\", moduleName);\r\n\r\n      //Set up load listener. Test attachEvent first because IE9 has\r\n      //a subtle issue in its addEventListener and script onload firings\r\n      //that do not match the behavior of all other browsers with\r\n      //addEventListener support, which fire the onload event for a\r\n      //script right after the script execution. See:\r\n      //https://connect.microsoft.com/IE/feedback/details/648057/script-onload-event-is-not-fired-immediately-after-script-execution\r\n      //UNFORTUNATELY Opera implements attachEvent but does not follow the script\r\n      //script execution mode.\r\n      if (\r\n        node.attachEvent &&\r\n        //Check if node.attachEvent is artificially added by custom script or\r\n        //natively supported by browser\r\n        //read https://github.com/requirejs/requirejs/issues/187\r\n        //if we can NOT find [native code] then it must NOT natively supported.\r\n        //in IE8, node.attachEvent does not have toString()\r\n        //Note the test for \"[native code\" with no closing brace, see:\r\n        //https://github.com/requirejs/requirejs/issues/273\r\n        !(node.attachEvent.toString && node.attachEvent.toString().indexOf(\"[native code\") < 0) &&\r\n        !isOpera\r\n      ) {\r\n        //Probably IE. IE (at least 6-8) do not fire\r\n        //script onload right after executing the script, so\r\n        //we cannot tie the anonymous define call to a name.\r\n        //However, IE reports the script as being in 'interactive'\r\n        //readyState at the time of the define call.\r\n        useInteractive = true;\r\n\r\n        node.attachEvent(\"onreadystatechange\", context.onScriptLoad);\r\n        //It would be great to add an error handler here to catch\r\n        //404s in IE9+. However, onreadystatechange will fire before\r\n        //the error handler, so that does not help. If addEventListener\r\n        //is used, then IE will fire error before load, but we cannot\r\n        //use that pathway given the connect.microsoft.com issue\r\n        //mentioned above about not doing the 'script execute,\r\n        //then fire the script load event listener before execute\r\n        //next script' that other browsers do.\r\n        //Best hope: IE10 fixes the issues,\r\n        //and then destroys all installs of IE 6-9.\r\n        //node.attachEvent('onerror', context.onScriptError);\r\n      } else {\r\n        node.addEventListener(\"load\", context.onScriptLoad, false);\r\n        node.addEventListener(\"error\", context.onScriptError, false);\r\n      }\r\n      node.src = url;\r\n\r\n      //Calling onNodeCreated after all properties on the node have been\r\n      //set, but before it is placed in the DOM.\r\n      if (config.onNodeCreated) {\r\n        config.onNodeCreated(node, config, moduleName, url);\r\n      }\r\n\r\n      //For some cache cases in IE 6-8, the script executes before the end\r\n      //of the appendChild execution, so to tie an anonymous define\r\n      //call to the module name (which is stored on the node), hold on\r\n      //to a reference to this node, but clear after the DOM insertion.\r\n      currentlyAddingScript = node;\r\n      if (baseElement) {\r\n        head.insertBefore(node, baseElement);\r\n      } else {\r\n        head.appendChild(node);\r\n      }\r\n      currentlyAddingScript = null;\r\n\r\n      return node;\r\n    } else if (isWebWorker) {\r\n      try {\r\n        //In a web worker, use importScripts. This is not a very\r\n        //efficient use of importScripts, importScripts will block until\r\n        //its script is downloaded and evaluated. However, if web workers\r\n        //are in play, the expectation is that a build has been done so\r\n        //that only one script needs to be loaded anyway. This may need\r\n        //to be reevaluated if other use cases become common.\r\n\r\n        // Post a task to the event loop to work around a bug in WebKit\r\n        // where the worker gets garbage-collected after calling\r\n        // importScripts(): https://webkit.org/b/153317\r\n        setTimeout(function() {}, 0);\r\n        importScripts(url);\r\n\r\n        //Account for anonymous modules\r\n        context.completeLoad(moduleName);\r\n      } catch (e) {\r\n        context.onError(makeError(\"importscripts\", \"importScripts failed for \" + moduleName + \" at \" + url, e, [moduleName]));\r\n      }\r\n    }\r\n  };\r\n\r\n  function getInteractiveScript() {\r\n    if (interactiveScript && interactiveScript.readyState === \"interactive\") {\r\n      return interactiveScript;\r\n    }\r\n\r\n    eachReverse(scripts(), function(script) {\r\n      if (script.readyState === \"interactive\") {\r\n        return (interactiveScript = script);\r\n      }\r\n    });\r\n    return interactiveScript;\r\n  }\r\n\r\n  //Look for a data-main script attribute, which could also adjust the baseUrl.\r\n  if (isBrowser && !cfg.skipDataMain) {\r\n    //Figure out baseUrl. Get it from the script tag with require.js in it.\r\n    eachReverse(scripts(), function(script) {\r\n      //Set the 'head' where we can append children by\r\n      //using the script's parent.\r\n      if (!head) {\r\n        head = script.parentNode;\r\n      }\r\n\r\n      //Look for a data-main attribute to set main script for the page\r\n      //to load. If it is there, the path to data main becomes the\r\n      //baseUrl, if it is not already set.\r\n      dataMain = script.getAttribute(\"data-main\");\r\n      if (dataMain) {\r\n        //Preserve dataMain in case it is a path (i.e. contains '?')\r\n        mainScript = dataMain;\r\n\r\n        //Set final baseUrl if there is not already an explicit one,\r\n        //but only do so if the data-main value is not a loader plugin\r\n        //module ID.\r\n        if (!cfg.baseUrl && mainScript.indexOf(\"!\") === -1) {\r\n          //Pull off the directory of data-main for use as the\r\n          //baseUrl.\r\n          src = mainScript.split(\"/\");\r\n          mainScript = src.pop();\r\n          subPath = src.length ? src.join(\"/\") + \"/\" : \"./\";\r\n\r\n          cfg.baseUrl = subPath;\r\n        }\r\n\r\n        //Strip off any trailing .js since mainScript is now\r\n        //like a module name.\r\n        mainScript = mainScript.replace(jsSuffixRegExp, \"\");\r\n\r\n        //If mainScript is still a path, fall back to dataMain\r\n        if (req.jsExtRegExp.test(mainScript)) {\r\n          mainScript = dataMain;\r\n        }\r\n\r\n        //Put the data-main script in the files to load.\r\n        cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript];\r\n\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The function that handles definitions of modules. Differs from\r\n   * require() in that a string for the module should be the first argument,\r\n   * and the function to execute after dependencies are loaded should\r\n   * return a value to define the module corresponding to the first argument's\r\n   * name.\r\n   */\r\n  define = function(name, deps, callback) {\r\n    var node, context;\r\n\r\n    //Allow for anonymous modules\r\n    if (typeof name !== \"string\") {\r\n      //Adjust args appropriately\r\n      callback = deps;\r\n      deps = name;\r\n      name = null;\r\n    }\r\n\r\n    //This module may not have dependencies\r\n    if (!isArray(deps)) {\r\n      callback = deps;\r\n      deps = null;\r\n    }\r\n\r\n    //If no name, and callback is a function, then figure out if it a\r\n    //CommonJS thing with dependencies.\r\n    if (!deps && isFunction(callback)) {\r\n      deps = [];\r\n      //Remove comments from the callback string,\r\n      //look for require calls, and pull them into the dependencies,\r\n      //but only if there are function args.\r\n      if (callback.length) {\r\n        callback\r\n          .toString()\r\n          .replace(commentRegExp, commentReplace)\r\n          .replace(cjsRequireRegExp, function(match, dep) {\r\n            deps.push(dep);\r\n          });\r\n\r\n        //May be a CommonJS thing even without require calls, but still\r\n        //could use exports, and module. Avoid doing exports and module\r\n        //work though if it just needs require.\r\n        //REQUIRES the function to expect the CommonJS variables in the\r\n        //order listed below.\r\n        deps = (callback.length === 1 ? [\"require\"] : [\"require\", \"exports\", \"module\"]).concat(deps);\r\n      }\r\n    }\r\n\r\n    //If in IE 6-8 and hit an anonymous define() call, do the interactive\r\n    //work.\r\n    if (useInteractive) {\r\n      node = currentlyAddingScript || getInteractiveScript();\r\n      if (node) {\r\n        if (!name) {\r\n          name = node.getAttribute(\"data-requiremodule\");\r\n        }\r\n        context = contexts[node.getAttribute(\"data-requirecontext\")];\r\n      }\r\n    }\r\n\r\n    //Always save off evaluating the def call until the script onload handler.\r\n    //This allows multiple modules to be in a file without prematurely\r\n    //tracing dependencies, and allows for anonymous module support,\r\n    //where the module name is not known until the script onload event\r\n    //occurs. If no context, use the global queue, and get it processed\r\n    //in the onscript load callback.\r\n    if (context) {\r\n      context.defQueue.push([name, deps, callback]);\r\n      context.defQueueMap[name] = true;\r\n    } else {\r\n      globalDefQueue.push([name, deps, callback]);\r\n    }\r\n  };\r\n\r\n  define.amd = {\r\n    jQuery: true\r\n  };\r\n\r\n  /**\r\n   * Executes the text. Normally just uses eval, but can be modified\r\n   * to use a better, environment-specific call. Only used for transpiling\r\n   * loader plugins, not for plain JS modules.\r\n   * @param {String} text the text to execute/evaluate.\r\n   */\r\n  req.exec = function(text) {\r\n    /*jslint evil: true */\r\n    return eval(text);\r\n  };\r\n\r\n  //Set up with config info.\r\n  req(cfg);\r\n} //(dsf, (typeof setTimeout === 'undefined' ? undefined : setTimeout)));\r\n\r\nlet global = {};\r\ninit(global, setTimeout);\r\n\r\n\r\nexport default {\r\n  require,\r\n  define\r\n};","import api from './api';\r\n\r\n\r\nexport default api;","//注入平台公共接口调用\r\nimport api from \"_platform/dsf/api\";\r\n\r\n\r\nexport default api","// 身份证号合法性验证\n// 支持15位和18位身份证号\n// 支持地址编码、出生日期、校验位验证\n/**\n * 根据〖中华人民共和国国家标准 GB 11643-1999〗中有关公民身份号码的规定，公民身份号码是特征组合码，由十七位数字本体码和一位数字校验码组成。排列顺序从左至右依次为：六位数字地址码，八位数字出生日期码，三位数字顺序码和一位数字校验码。\n * 地址码表示编码对象常住户口所在县(市、旗、区)的行政区划代码。\n * 出生日期码表示编码对象出生的年、月、日，其中年份用四位数字表示，年、月、日之间不用分隔符。\n * 顺序码表示同一地址码所标识的区域范围内，对同年、月、日出生的人员编定的顺序号。顺序码的奇数分给男性，偶数分给女性。\n * 校验码是根据前面十七位数字码，按照ISO 7064:1983.MOD 11-2校验码计算出来的检验码。\n *\n * 出生日期计算方法:\n *    15位的身份证编码首先把出生年扩展为4位，简单的就是增加一个19或18,这样就包含了所有1800-1999年出生的人;\n *    2000年后出生的肯定都是18位的了没有这个烦恼，至于1800年前出生的,那啥那时应该还没身份证号这个东东，⊙﹏⊙b汗...\n * 下面是正则表达式:\n *    出生日期1800-2099  (18|19|20)?\\d{2}(0[1-9]|1[12])(0[1-9]|[12]\\d|3[01])\n *    身份证正则表达式 /^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[12])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i\n * 15位校验规则 6位地址编码+6位出生日期+3位顺序号\n * 18位校验规则 6位地址编码+8位出生日期+3位顺序号+1位校验位\n *\n * 校验位规则:\n *    公式:∑(ai×Wi)(mod 11)……………………………………(1)\n *    公式(1)中：\n *      i----表示号码字符从由至左包括校验码在内的位置序号；\n *      ai----表示第i位置上的号码字符值；\n *      Wi----示第i位置上的加权因子，其数值依据公式Wi=2^(n-1）(mod 11)计算得出。\n *      i 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1\n *      Wi 7 9 10 5 8 4 2 1 6 3 7 9 10 5 8 4 2 1\n */\n// 地址编码\nconst city = {\n  11: '北京',\n  12: '天津',\n  13: '河北',\n  14: '山西',\n  15: '内蒙古',\n  21: '辽宁',\n  22: '吉林',\n  23: '黑龙江',\n  31: '上海',\n  32: '江苏',\n  33: '浙江',\n  34: '安徽',\n  35: '福建',\n  36: '江西',\n  37: '山东',\n  41: '河南',\n  42: '湖北',\n  43: '湖南',\n  44: '广东',\n  45: '广西',\n  46: '海南',\n  50: '重庆',\n  51: '四川',\n  52: '贵州',\n  53: '云南',\n  54: '西藏',\n  61: '陕西',\n  62: '甘肃',\n  63: '青海',\n  64: '宁夏',\n  65: '新疆',\n  71: '台湾',\n  81: '香港',\n  82: '澳门',\n  91: '国外'\n}\n// 身份证正则表达式\nconst regExp = /^\\d{6}(18|19|20)?\\d{2}((0[1-9]|1[12])|(10))(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i\n// 加权因子\nconst factor = [ 7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2 ]\n// 校验位\nconst parity = [ '1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2' ]\n\nlet template = (type = true, msg = '', data = {}) => {\n  return {type, msg, data}\n}\n\n/**\n * 身份证号合法性验证\n * @param code\n * @returns {{isOk: boolean, msg: string}}\n */\nexport default code => {\n  // 校验格式\n  if (!code || !regExp.test(code)) {\n    return template(false, '身份证号格式错误')\n  }\n  // 校验地址编码\n  if (!city[code.substr(0, 2)]) {\n    return template(false, '地址编码错误')\n  }\n  let msg = null;\n  // 校验校验位\n  if (code.length === 18) {\n    // 18位身份证需要验证最后一位校验位\n    let codeArr = code.split('')\n    let [sum, ai, wi] = [0, 0, 0]\n    for (let i = 0; i < 17; i++) {\n      ai = codeArr[i]\n      wi = factor[i]\n      sum += ai * wi\n    }\n    if (parity[sum % 11] !== codeArr[17].toUpperCase()) {\n      msg = '校验位错误';\n    }\n  }\n  // 提取信息\n  let str = []\n  if (code.length === 15) {\n    str = [code.substr(0, 2), '19' + code.substr(6, 6), code.substr(-4, 3)]\n  } else if (code.length === 18) {\n    str = [code.substr(0, 2), code.substr(6, 8), code.substr(-4, 3)]\n  }\n  let obj = {\n    address: {\n      code: str[0],\n      data: city[str[0]]\n    },\n    birthday: {\n      code: str[1],\n      data: new Date(str[1].substr(0, 4) + '/' + str[1].substr(4, 2) + '/' + str[1].substr(6, 2))\n    },\n    sex: {\n      code: str[2],\n      data: !(str[2] % 2) ? '女' : '男'\n    }\n  }\n  if (!msg) {\n    return template(true, '', obj);\n  } else {\n    return template(false, msg, obj);\n  }\n}\n","/* eslint-disable no-unused-vars */\r\n\r\nimport cachePool from './cache';\r\n\r\nexport default class express {\r\n  constructor(data) {\r\n    this.variable = {};\r\n    for (let k in data) {\r\n      this.variable[k] = data[k];\r\n    }\r\n  }\r\n}\r\n\r\nlet reg = /\\@\\[([^@]+)\\]/ig;\r\n// let reg2 = /(\\w+)(\\[\\d+\\])/ig;\r\nfunction findData(key, data) {\r\n  data = data || this.variable;\r\n  if (data[key] != undefined) {\r\n    return data[key];\r\n  } else {\r\n    //根据表达式层层切割查找\r\n    let arr = key.split(\".\");\r\n    let count = arr.length;\r\n    let i = 0;\r\n    let newkey = arr[i];\r\n    if (newkey) {\r\n      while (!data[newkey] && i < count - 1) {\r\n        newkey += \".\" + arr[++i];\r\n      }\r\n    }\r\n    if (data[newkey]) {\r\n      let d = data[newkey];\r\n      let tmp = arr.slice(i + 1);\r\n      for (let i = 0; i < tmp.length; i++) {\r\n        let t = tmp[i];\r\n        if (t.endsWith(\")\") || t.endsWith(\"]\")) {\r\n          eval(\"d=d\" + \".\" + t);\r\n        } else {\r\n          d = d[t];\r\n        }\r\n      }\r\n      return d;\r\n    }\r\n  }\r\n}\r\n\r\nexpress.url = function(key) {\r\n  if (this.vueComponent) {\r\n    let $vm = this.vueComponent.$vm;\r\n    if ($vm && $vm.queryString) {\r\n      let vm = $vm;\r\n      while (vm.queryString[key] === undefined) {\r\n        vm = vm.$parentView;\r\n        if (!vm) {\r\n          return undefined;\r\n        }\r\n      }\r\n      return vm ? vm.queryString[key] : this.vueComponent.$route.query[key];\r\n    } else {\r\n      return this.vueComponent.$route.query[key];\r\n    }\r\n  } else {\r\n    return dsf.url.queryString(key)\r\n  }\r\n}\r\n\r\nexpress.session = function(key) {\r\n  return dsf.cookies.get(key) || \"\";\r\n}\r\n//\r\nexpress.map = function(arr, index, key) {\r\n  let v = arr[index];\r\n  if (v) {\r\n    if (!key) {\r\n      return v;\r\n    } else {\r\n      return v[key] || \"\"\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexpress.isExist = function(key) {\r\n  let arr = [];\r\n  for (let i = 1; i < arguments.length; i++) {\r\n    arr.push(arguments[i]);\r\n  }\r\n  return arr.indexOf(key) >= 0 ? true : false\r\n}\r\nexpress.disabled = function(key) {\r\n  let arr = [];\r\n  for (let i = 1; i < arguments.length; i++) {\r\n    arr.push(arguments[i]);\r\n  }\r\n  return arr.indexOf(key) >= 0 ? false : true;\r\n}\r\n\r\nexpress.filePath = function(data) {\r\n  let fileInfo = JSON.parse(data || '{}');\r\n  if (dsf.type(fileInfo) == \"array\") {\r\n    fileInfo = fileInfo[0];\r\n  } else if (dsf.type(fileInfo) == \"object\") {\r\n    fileInfo = fileInfo;\r\n  }\r\n  return fileInfo.relativePath;\r\n}\r\n\r\nexpress.pri = function(key) {\r\n  if (this.vueComponent) {\r\n    let vm = this.vueComponent.$vm;\r\n    if (vm) {\r\n      return vm.$viewInitData._privilege[key] == \"1\"\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexpress.isView = function() {\r\n  if (this.vueComponent) {\r\n    let qs = this.vueComponent.queryString;\r\n    if (qs) {\r\n      return qs['isView'] == \"1\"\r\n    }\r\n  }\r\n  return false;\r\n}\r\nexpress.now = function() {\r\n  return new Date();\r\n}\r\nexpress.today = function() {\r\n  let d = new Date()\r\n  return new Date(d.getFullYear(), d.getMonth(), d.getDate());\r\n}\r\n\r\nexpress.method = function() {\r\n  if (this.vueComponent) {\r\n    let args = Array.prototype.slice.call(arguments, 0);\r\n    let methodName = args[0];\r\n    let $vm = this.vueComponent.$vm;\r\n    if ($vm && $vm[methodName]) {\r\n      return $vm[methodName].apply($vm, [...args.slice(1)]);\r\n    }\r\n  }\r\n}\r\n\r\nexpress.has = function(expressStr, openTag, closeTag) {\r\n  let mat = expressStr.match(reg);\r\n  if (mat && mat.length > 0) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n//获取属性值\r\nexpress.__getter__ = function(key, data, isFlag) {\r\n  let r = findData(key, data);\r\n  if (isFlag === true) {\r\n    if (dsf.isUnDef(r)) {\r\n      return \"\";\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\n//解析表达式\r\nlet evalMap = cachePool(200);\r\nlet replaceMap = cachePool(200);\r\n\r\nexpress.config = function(key) {\r\n\r\n}\r\n\r\nexpress.eval = function(expressStr, data) {\r\n  if (!expressStr) {\r\n    return null\r\n  }\r\n  // dsf.time(\"执行表达式\"+expressStr)\r\n  let fn = evalMap.get(expressStr);\r\n  if (!fn) {\r\n    let isCodeBlock = false;\r\n    if (expressStr.startsWith(\"<%\") && expressStr.endsWith(\"%>\")) {\r\n      isCodeBlock = true;\r\n      expressStr = expressStr.replace(\"<%\", \"\");\r\n      expressStr = expressStr.replace(\"%>\", \"\");\r\n    }\r\n    let result = parseExpress(expressStr);\r\n    let exp = result.expStr;\r\n    let r = parseInterpolate(exp, \"{{\", \"}}\");\r\n    let str = r.expr;\r\n    _.each(r.pools, (p, k) => {\r\n      let c = addScope(p);\r\n      str = str.replace(k, c);\r\n    });\r\n    let code = [];\r\n    if (isCodeBlock) {\r\n      code = [\r\n        \"\\ttry{\",\r\n        \"\\t\\twith(__local__){\",\r\n        \"\\t\\t\\t\" + (str ? str : \"return null\"),\r\n        \"\\t\\t}\",\r\n        \"\\t}catch(ex){\",\r\n        \"\\t\\tthrow ex;\",\r\n        \"\\t}\",\r\n      ]\r\n    } else {\r\n      str = str ? \"(\" + str + \")\" : \"null\";\r\n      code = [\r\n        \"\\tvar result;\",\r\n        \"\\ttry{\",\r\n        \"\\t\\twith(__local__){\",\r\n        \"\\t\\t\\tresult=\" + str + \";\",\r\n        \"\\t\\t}\",\r\n        \"\\t}catch(ex){\",\r\n        \"\\t\\tthrow ex;\",\r\n        \"\\t}\",\r\n        \"\\treturn result;\"\r\n      ];\r\n    }\r\n\r\n    fn = new Function('__local__', '__isFlag__', code.join(\"\\n\"))\r\n    evalMap.put(expressStr, fn)\r\n  }\r\n  let obj = Object.create(express);\r\n  obj.variable = data || {};\r\n  obj.vueComponent = this._isVue ? this : null;\r\n  let s = fn(obj);\r\n  obj.vueComponent = null;\r\n  obj = null;\r\n  // dsf.timeEnd(\"执行表达式\"+expressStr)\r\n  return s;\r\n}\r\n\r\nexpress.replace = function(expressStr, data, isFlag) {\r\n  // console.time('替换表达式' + expressStr)\r\n  let fn = replaceMap.get(expressStr);\r\n  if (!fn) {\r\n    let result = parseExpress(expressStr);\r\n    if (result && result.has) {\r\n      let exp = result.expStr;\r\n      let r = parseInterpolate(exp, \"{{\", \"}}\", true);\r\n      let str = r.expr;\r\n      _.each(r.pools, (p, k) => {\r\n        let c = addScope(p);\r\n        str = str.replace(k, c);\r\n      })\r\n      str = str ? \"(\" + str + \")\" : '\"\"';\r\n      let code = [\r\n        \"\\tvar result;\",\r\n        \"\\ttry{\",\r\n        \"\\t\\twith(__local__){\",\r\n        \"\\t\\t\\tresult=\" + str + \";\",\r\n        \"\\t\\t}\",\r\n        \"\\t}catch(ex){\",\r\n        \"\\t\\tthrow ex;\",\r\n        \"\\t}\",\r\n        \"\\treturn result;\"\r\n      ];\r\n      fn = new Function('__local__', '__isFlag__', code.join(\"\\n\"))\r\n      replaceMap.put(expressStr, fn);\r\n    } else {\r\n      return expressStr;\r\n    }\r\n  }\r\n  let obj = Object.create(express);\r\n  obj.variable = data || {};\r\n  obj.vueComponent = this._isVue ? this : null;\r\n  let s = fn(obj, (dsf.isUnDef(isFlag)) ? true : isFlag);\r\n  // console.timeEnd('替换表达式' + expressStr)\r\n  obj.vueComponent = null;\r\n  obj = null;\r\n  return s;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nvar rimprovePriority = /[+-\\?]/;\r\nlet rexpr = /\\{\\{([\\s\\S]*)\\}\\}/;\r\nvar rvmKey = /(^|[^\\w\\u00c0-\\uFFFF_])(@|##)(?=[$\\w])/g;\r\nvar ruselessSp = /\\s*(\\.|\\|)\\s*/g;\r\nvar rshortCircuit = /\\|\\|/g;\r\nvar brackets = /\\(([^)]*)\\)/;\r\nvar rpipeline = /\\|(?=\\?\\?)/;\r\nvar rregexp = /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/g;\r\nvar robjectProp = /\\.[\\w\\.\\$]+/g; //对象的属性 el.xxx 中的xxx\r\nvar robjectKey = /(\\{|\\,)\\s*([\\$\\w]+)\\s*:/g; //对象的键名与冒号 {xxx:1,yyy: 2}中的xxx, yyy\r\nvar rfilterName = /\\|(\\w+)/g;\r\nvar rlocalVar = /[~$a-zA-Z_][~$a-zA-Z0-9_\\.]*(\\()?/g;\r\nvar rentities = /&[a-z0-9#]{2,10};/;\r\nvar stringNum = 0;\r\nvar stringPool = {\r\n  map: {}\r\n};\r\nvar skipMap = {\r\n  'if': 1,\r\n  'else': 1,\r\n  'Math': 1,\r\n  'Date': 1,\r\n  'Number': 1,\r\n  'String': 1,\r\n  'Boolean': 1,\r\n  'Object': 1,\r\n  '$event': 1,\r\n  'window': 1,\r\n  '__vmodel__': 1,\r\n  '__local__': 1,\r\n  'JSON': 1,\r\n  'this': 1,\r\n  'true': 1,\r\n  'false': 1,\r\n  'dsf': 1,\r\n  'return': 1,\r\n  '__isFlag__': 1,\r\n  '__getter__': 1\r\n};\r\n\r\nvar $temp = document.createElement(\"div\");\r\n\r\nfunction decode(str) {\r\n  if (rentities.test(str)) {\r\n    $temp.innerHTML = str;\r\n    return $temp.innerText || $temp.textContent;\r\n  }\r\n  return str;\r\n}\r\n\r\nfunction unescapeHTML(html) {\r\n  return String(html).replace(/&quot;/g, '\"').replace(/&#39;/g, '\\'').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&');\r\n}\r\n\r\nvar rfill = /\\?\\?\\d+/g;\r\n\r\nfunction dig(a) {\r\n  var key = '??' + stringNum++;\r\n  stringPool.map[key] = a;\r\n  return key + ' ';\r\n}\r\n\r\nfunction fill(a) {\r\n  var val = stringPool.map[a];\r\n  return val;\r\n}\r\n\r\nfunction clearString(str) {\r\n  var array = readString(str);\r\n  for (var i = 0, n = array.length; i < n; i++) {\r\n    str = str.replace(array[i], dig);\r\n  }\r\n  return str;\r\n}\r\n\r\nfunction readString(str, i, ret) {\r\n  var end = false,\r\n    s = 0,\r\n    i = i || 0;\r\n  ret = ret || [];\r\n  for (var n = str.length; i < n; i++) {\r\n    var c = str.charAt(i);\r\n    if (!end) {\r\n      //判断一个字符串开始必须是\"或者'且前面不能带有\\转义\r\n      if (c === \"'\" && str.charAt(i - 1) !== '\\\\') {\r\n        end = \"'\";\r\n        s = i;\r\n      } else if (c === '\"' && str.charAt(i - 1) !== '\\\\') {\r\n        end = '\"';\r\n        s = i;\r\n      }\r\n    } else {\r\n      if (c === end && str.charAt(i - 1) !== '\\\\') {\r\n        ret.push(str.slice(s, i + 1));\r\n        end = false;\r\n      }\r\n    }\r\n  }\r\n  if (end !== false) {\r\n    return readString(str, s + 1, ret);\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction addScopeForLocal(str, local) {\r\n  let props = str; // str.replace(robjectProp, dig);\r\n  let result = props.replace(rlocalVar, function(el) {\r\n    //表示函数\r\n    if (el.endsWith(\"(\")) {\r\n      return el;\r\n    }\r\n    //表示属性\r\n    else {\r\n      if (!skipMap[el]) {\r\n        return \"__getter__(\" + JSON.stringify(el) + \",variable,__isFlag__)\";\r\n      }\r\n    }\r\n    return el;\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction addScope(expr, local) {\r\n  stringPool.map = {};\r\n  var input = expr.replace(rregexp, function(a, b) {\r\n    return b + dig(a.slice(b.length));\r\n  }); //移除所有正则\r\n  input = clearString(input); //移除所有字符串\r\n  input = input.replace(rshortCircuit, dig) //移除所有短路运算符\r\n    .replace(ruselessSp, '$1') //移除.|两端空白\r\n    .replace(robjectKey, function(_, a, b) {\r\n      //移除所有键名\r\n      return a + dig(b) + ':'; //比如 ms-widget=\"[{is:'ms-address-wrap', $id:'address'}]\"这样极端的情况 \r\n    })\r\n    .replace(rvmKey, '$1__vmodel__.') //转换@与##为__vmodel__.\r\n    .replace(rfilterName, function(a, b) {\r\n      //移除所有过滤器的名字\r\n      return '|' + dig(b);\r\n    });\r\n\r\n  input = input.replace(/(\\)|\\])(\\.([\\w\\.\\$])+)/g, function(a, b, c, d) {\r\n    //处理@[dsfa_rm.state].value这种极端情况的属性,正确的写法应该是@[dsfa_rm.state.value]\r\n    return b + dig(c);\r\n\r\n  });\r\n\r\n  input = addScopeForLocal(input, local); //在本地变量前添加__vmodel__\r\n\r\n  var filters = input.split(rpipeline); //根据管道符切割表达式\r\n  var body = filters.shift().replace(rfill, fill).trim();\r\n  if (/\\?\\?\\d/.test(body)) {\r\n    body = body.replace(rfill, fill);\r\n  }\r\n  return body;\r\n}\r\n\r\nfunction parseInterpolate(dir, openTag, closeTag, isReplace) {\r\n  var rlineSp = /\\n\\r?/g;\r\n  var str = $.trim(dir).replace(rlineSp, '');\r\n  var tokens = [];\r\n  openTag = openTag;\r\n  closeTag = closeTag;\r\n  let exportPools = {};\r\n  let count = 0;\r\n  do {\r\n    //aaa{{@bbb}}ccc\r\n    var index = str.indexOf(openTag);\r\n    index = index === -1 ? str.length : index;\r\n    var value = str.slice(0, index);\r\n    if (/\\S/.test(value)) {\r\n      if (isReplace) {\r\n        tokens.push(JSON.stringify(decode(value)));\r\n      } else {\r\n        tokens.push(decode(value));\r\n      }\r\n    }\r\n    str = str.slice(index + openTag.length);\r\n    if (str) {\r\n      index = str.indexOf(closeTag);\r\n      var value = str.slice(0, index);\r\n      var expr = unescapeHTML(value);\r\n      if (rimprovePriority) {\r\n        let key = \"$$\" + count + \"$$\";\r\n        let v = expr;\r\n        expr = '(' + key + ')';\r\n        exportPools[key] = v;\r\n        count++;\r\n      }\r\n      tokens.push(expr);\r\n      str = str.slice(index + closeTag.length);\r\n    }\r\n  } while (str.length);\r\n  return {\r\n    expr: tokens.join(isReplace ? \"+\" : \"\"),\r\n    pools: exportPools\r\n  }\r\n}\r\n\r\nfunction readExpress(str, i, ret) {\r\n  var open = false;\r\n  var counter = 0,\r\n    s = 0,\r\n    i = i || 0;\r\n  ret = ret || [];\r\n  for (var n = str.length; i < n; i++) {\r\n    var c = str.charAt(i);\r\n    if (!open) {\r\n      //验证表达式开始\r\n      if (c === \"[\" && str.charAt(i - 1) === '@') {\r\n        open = true;\r\n        s = i;\r\n      }\r\n    } else {\r\n      if (c == \"[\") {\r\n        counter++;\r\n      }\r\n      if (c == \"]\") {\r\n        if (counter > 0) {\r\n          counter--;\r\n          continue;\r\n        } else {\r\n          ret.push(str.slice(s - 1, i + 1));\r\n          open = false;\r\n          counter = 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (open !== false) {\r\n    return readExpress(str, s + 1, ret);\r\n  }\r\n  return ret;\r\n}\r\n\r\nlet parseMap = {};\r\n\r\nfunction parseExpress(exp) {\r\n  if (!parseMap[exp]) {\r\n    let mat = readExpress(exp);\r\n    stringPool.map = {};\r\n    for (var i = 0, n = mat.length; i < n; i++) {\r\n      let s = mat[i].slice(2, mat[i].length - 1);\r\n      exp = exp.replace(mat[i], function(a) {\r\n        return \"{{\" + s + \"}}\"\r\n      });\r\n    }\r\n    parseMap[exp] = {\r\n      has: (mat && mat.length > 0),\r\n      expStr: exp\r\n    };\r\n  }\r\n  return parseMap[exp];\r\n}","let flexble = function() {\r\n\r\n  /* 设计图文档宽度 */\r\n  var docWidth = 750;\r\n\r\n  var doc = window.document,\r\n    docEl = doc.documentElement,\r\n    resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';\r\n\r\n  var recalc = (function refreshRem() {\r\n    var clientWidth = docEl.getBoundingClientRect().width;\r\n\r\n    /* 8.55：小于320px不再缩小，11.2：大于420px不再放大，20：大于750 */\r\n    docEl.style.fontSize = Math.max(Math.min(20 * (clientWidth / docWidth), 20), 8.55) * 5 + 'px';\r\n\r\n    return refreshRem;\r\n  })();\r\n\r\n  /* 添加倍屏标识，安卓为1 */\r\n  docEl.setAttribute('data-dpr', window.navigator.appVersion.match(/iphone/gi) ? window.devicePixelRatio : 1);\r\n\r\n  if (/iP(hone|od|ad)/.test(window.navigator.userAgent)) {\r\n    /* 添加IOS标识 */\r\n    doc.documentElement.classList.add('ios');\r\n    /* IOS8以上给html添加hairline样式，以便特殊处理 */\r\n    if (parseInt(window.navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/)[1], 10) >= 8)\r\n      doc.documentElement.classList.add('hairline');\r\n  }\r\n\r\n  if (!doc.addEventListener) return;\r\n  window.addEventListener(resizeEvt, recalc, false);\r\n  doc.addEventListener('DOMContentLoaded', recalc, false);\r\n}\r\n\r\nexport default flexble;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAACZklEQVQ4EbWV30uTURjHnzNfmWvTNJXpFBJDkSHeFHiRIBURhKD/QAO77MYGQSSCIKIoxspuu/Kii+hiikTdFN0VJATZrlV0IGbTuVGrubfn++68Z+/0Xc4Xe+C855znx+d9znnPeV5BJUTX9To2DcoW5D4gXePcx7gtogkhElJf1ImiGU8YWMVdOJvTH75fTZ/nRrHNDO0ks4ZrY41GwVY3Xev2ou1rLjHDhgi/4JfhIB9FYIa2sD76bjV15cnyLm3+yMOsAdZx6wWN7g/U0/Vu32fWDzF8y7QrMKC6Tp+evt5tWfiwZ9rL6kP9tTRyu35LCOo14S5EyuVHnUARj0QQy8OoZJEBZkUYyz+aaW+HhyorEHqyIBYM9gzD28VvqMOHwp5apa/rHD2720y+qjLJHAwGWGAi40F8feuH6rnoptk7fqpwCW70z2ZNBgywwNQkWNnb/ZU0P9xMbi2/S2/H2pTNbrCXPqQbE2vKhON5s8dngIM4p6aEBxqo2lNY/mFON03Heqyo1lvwhYNkBZFxwDz8MIy+2KbHoSa63O7BlG5NrlOCs7KTlZlLx9SSFTBPhXI4+Jmje8/jtLySVLrTDPgsG4KM43xNOze+/1HxWU5w/OUOfd3IUDqTU/pyBg3VQFIcGcdw9+3k1cck/c6W3mO7GMn6BvwiF5OhN19Sdn5KNz/cRFe7vGpeaoDixLKEjAHeR0FxIolUoVCBARaYxlbzTXnE13HqwcK2E7aKmQv5UelGuRBNm6cigtKHKuVUECvLZwSM/1Y2FRhv4S05+0IPMIThZ/9ryqPzT5Q+Hjn+mf4FkakUT7estN4AAAAASUVORK5CYII=\"","// 请求函数封装\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport url from \"./url\";\r\nimport utils from \"./utils\";\r\n\r\nconst Axios = axios.create({\r\n  baseURL: \"\",\r\n  timeout: 20000,\r\n  responseType: \"json\",\r\n  crossDomain: true,\r\n  headers: {\r\n    \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\r\n    Code: \"pc\",\r\n\r\n  },\r\n  withCredentials: true\r\n});\r\n\r\n// const DEFAULT_ERROR = \"网络存在异常\";\r\n\r\nAxios.interceptors.response.use(response => {\r\n  //处理IE9请求json时不能自动转化成对象的问题\r\n  if (response.data == null && response.config.responseType === \"json\" && response.request.responseText != null) {\r\n    try {\r\n      response.data = JSON.parse(response.request.responseText);\r\n    } catch (e) {\r\n      // ignored\r\n    }\r\n  }\r\n  return response;\r\n});\r\n\r\nPromise.prototype.done = function(fn) {\r\n  function responseHanlder(response) {\r\n    if (response.headers) {\r\n      var result = response.data || {};\r\n      //success、state、message这3个属性都存在表示是我们自己应用的程序\r\n      if (utils.isDef(result.success) && utils.isDef(result.state) && utils.isDef(result.message)) {\r\n        // if (result.state == \"20001\" && !result.message) {\r\n        //   result.message = DEFAULT_ERROR;\r\n        // }\r\n        return fn(result);\r\n      } else {\r\n        return fn(result);\r\n      }\r\n    } else {\r\n      var result = response;\r\n      //success、state、message这3个属性都存在表示是我们自己应用的程序\r\n      if (utils.isDef(result.success) && utils.isDef(result.state) && utils.isDef(result.message)) {\r\n        // if (result.state == \"20001\" && !result.message) {\r\n        //   result.message = DEFAULT_ERROR;\r\n        // }\r\n        return fn(result);\r\n      } else {\r\n        return fn(result);\r\n      }\r\n    }\r\n\r\n  }\r\n  let r = this.then(response => {\r\n    return responseHanlder(response);\r\n  });\r\n  return r;\r\n};\r\n\r\nPromise.prototype.error = function(fn) {\r\n  function errorHandler(error) {\r\n    let err = { \"message\": \"\" }\r\n    if (dsf.type(error) == 'string') {\r\n      err = {\r\n        message: error\r\n      }\r\n    } else if (dsf.type(error) == \"error\" || dsf.type(error) == \"object\") {\r\n      err = {\r\n        message: error.message\r\n      }\r\n    } else {\r\n      err = {\r\n        message: \"服务器异常\"\r\n      }\r\n    }\r\n    dsf.error(error);\r\n    fn(err);\r\n  }\r\n  return this.catch(error => {\r\n    errorHandler(error);\r\n  });\r\n};\r\n\r\nPromise.prototype.always = function(fn) {\r\n  this.finally(fn);\r\n};\r\n\r\nfunction getToken() {\r\n  // if (process.env.NODE_ENV === \"production\") {\r\n  //   return dsf.cookies.get('authorization_token') || \"\";\r\n  // } else {\r\n  //   return \"\";\r\n  // }\r\n  return dsf.cookies.get('authorization_token') || \"\";\r\n}\r\n\r\nfunction get(path, params, options, rootPath) {\r\n  if (dsf.type(options) == 'string') {\r\n    rootPath = options;\r\n    options = null;\r\n  }\r\n  path = url.getWebPath(path, rootPath);\r\n  let opts = {\r\n    params: params || {},\r\n    headers: {\r\n      'authorization_token': getToken()\r\n    },\r\n    paramsSerializer: function(params) {\r\n      return qs.stringify(params, {\r\n        arrayFormat: \"repeat\"\r\n      });\r\n    }\r\n  };\r\n  opts.params.t = (new Date()).getTime();\r\n  opts = dsf.mix(opts, options || {});\r\n  let p = Axios.get(path, opts);\r\n  return p;\r\n}\r\n\r\nfunction post(path, params, options, rootPath) {\r\n  if (dsf.type(options) == 'string') {\r\n    rootPath = options;\r\n    options = null;\r\n  }\r\n  path = url.getWebPath(path, rootPath);\r\n  let configContentType = options && options.headers && options.headers[\"Content-Type\"] ? options.headers[\"Content-Type\"] : \"\";\r\n  if (configContentType !== \"multipart/form-data\" && dsf.type(params)=='object') {\r\n    params = qs.stringify(params);\r\n  }\r\n  let opts = {\r\n    headers: {\r\n      'authorization_token': getToken()\r\n    }\r\n  };\r\n  opts = dsf.mix(opts, options || {});\r\n  let p = Axios.post(path, params, opts);\r\n  return p;\r\n}\r\n\r\nfunction all(arr) {\r\n  return axios.all(arr).then(axios.spread((...res) => {\r\n    const list = res.map(item => item.data);\r\n    return list;\r\n  }))\r\n}\r\n\r\nfunction upload(path, file, params, options, rootPath) {\r\n  if (dsf.type(options) == 'string') {\r\n    rootPath = options;\r\n    options = null;\r\n  }\r\n  let opts = {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n      'authorization_token': getToken()\r\n    }\r\n  };\r\n  opts = dsf.mix(opts, options || {});\r\n  var forms = new FormData();\r\n  forms.append(\"file\", file);\r\n  for (let k in params) {\r\n    forms.append(k, params[k]);\r\n  }\r\n  path = url.getWebPath(path, rootPath);\r\n  let p = Axios.post(path, forms, opts);\r\n  return p;\r\n}\r\n\r\nwindow.$$allLoadFiles = {};\r\nwindow.$$allLoadFilesArray = [];\r\n\r\nfunction importFiles(files) {\r\n  let states = [];\r\n  let loadFiles = dsf.type(files) == \"array\" ? files.slice(0) : [files];\r\n  let promise = new Promise(resolve => {\r\n    recursionLoad(() => {\r\n      resolve(states);\r\n    });\r\n  });\r\n\r\n  function recursionLoad(callback) {\r\n    let f = loadFiles.shift();\r\n    if (f) {\r\n      loadFile(f)\r\n        .then(result => {\r\n          states.push(result);\r\n          result = null;\r\n        })\r\n        .catch(result => {\r\n          importFiles.kill(result.src, true);\r\n          states.push(result);\r\n          result = null;\r\n        })\r\n        .finally(() => {\r\n          recursionLoad(callback);\r\n        });\r\n    } else {\r\n      callback && callback();\r\n    }\r\n  }\r\n  return promise;\r\n}\r\n\r\nfunction getFileType(url) {\r\n  if (url != null && url.length > 0) {\r\n    if (url.lastIndexOf(\"?\") > 0) {\r\n      url = url.substr(0, url.lastIndexOf(\"?\"));\r\n    }\r\n    return url.substr(url.lastIndexOf(\".\")).toLowerCase();\r\n  }\r\n}\r\n\r\nfunction loadFile(url) {\r\n  let type = getFileType(url);\r\n  let fileObj = null;\r\n  let promise = new Promise((resolve, reject) => {\r\n    if (!window.$$allLoadFiles[url]) {\r\n      if (type == \".js\") {\r\n        fileObj = document.createElement(\"script\");\r\n        fileObj.src = url;\r\n      } else if (type == \".css\") {\r\n        fileObj = document.createElement(\"link\");\r\n        fileObj.href = url;\r\n        fileObj.type = \"text/css\";\r\n        fileObj.rel = \"stylesheet\";\r\n      }\r\n      if (fileObj) {\r\n        fileObj.__views__ = [];\r\n        fileObj.onload = fileObj.onreadystatechange = function() {\r\n          if (!this.readyState || \"loaded\" === this.readyState || \"complete\" === this.readyState) {\r\n            window.$$allLoadFiles[url].state = \"success\";\r\n            resolve(window.$$allLoadFiles[url]);\r\n            _.each(window.$$allLoadFiles[url].promiseList, p => {\r\n              p.resolve(window.$$allLoadFiles[url]);\r\n            });\r\n          }\r\n        };\r\n        fileObj.onerror = function() {\r\n          window.$$allLoadFiles[url].state = \"error\";\r\n          _.each(window.$$allLoadFiles[url].promiseList, p => {\r\n            p.reject(window.$$allLoadFiles[url]);\r\n          });\r\n        };\r\n        if (!window.$$allLoadFiles[url]) {\r\n          window.$$allLoadFiles[url] = {\r\n            elem: fileObj,\r\n            state: \"pending\",\r\n            type: type,\r\n            src: url,\r\n            promiseList: [{ resolve: resolve, reject: reject }]\r\n          };\r\n          window.$$allLoadFilesArray.push(url);\r\n          document.getElementsByTagName(\"BODY\")[0].appendChild(fileObj);\r\n        }\r\n      }\r\n    } else {\r\n      window.$$allLoadFilesArray.push(url);\r\n      let state = window.$$allLoadFiles[url].state;\r\n      if (state == \"pending\") {\r\n        window.$$allLoadFiles[url].promiseList.push({ resolve: resolve, reject: reject });\r\n      } else if (state == \"success\") {\r\n        resolve(window.$$allLoadFiles[url]);\r\n      } else {\r\n        reject(window.$$allLoadFiles[url]);\r\n      }\r\n    }\r\n  });\r\n  return promise;\r\n}\r\nimportFiles.kill = function(src, mark) {\r\n  dsf.array.remove(window.$$allLoadFilesArray, src);\r\n  let result = _.filter(window.$$allLoadFilesArray, url => url == src);\r\n  if (result.length <= 0 || mark === true) {\r\n    let f = window.$$allLoadFiles[src];\r\n    if (f && f.elem && f.elem.parentNode) {\r\n      f.elem.parentNode.removeChild(f.elem);\r\n    }\r\n    delete window.$$allLoadFiles[src];\r\n  }\r\n};\r\nimportFiles.has = function(src) {\r\n  let result = _.filter(window.$$allLoadFilesArray, url => url == src);\r\n  return result.length > 0;\r\n};\r\n\r\nexport default {\r\n  get,\r\n  post,\r\n  all,\r\n  upload,\r\n  importFiles\r\n};\r\n\r\n// 示例:\r\n// this.dsf.http.get('wfm/getWFDefinition', {\r\n//   sID: '5b2d48d830c44b509d4fa730fa9d0b9b'\r\n// }).done((d) => {\r\n//   _this.dsf.layer.toast('模拟Get请求成功', true)\r\n// }).error((response) => {\r\n//   _this.dsf.layer.toast('模拟Get请求失败', false)\r\n// }).always((res) => {\r\n//   debugger\r\n// })\r\n\r\n// this.dsf.http.post('dsfa/tags/saveOrCancel', {\r\n//   ywlxValue: '00',\r\n//   ywlxText: '课程',\r\n//   ywid: '6ec7aadc7e1c49a7a3ac454d939da5cd'\r\n// }).done((d) => {\r\n//   _this.dsf.layer.toast('模拟Post请求成功', true)\r\n// }).error((response) => {\r\n//   _this.dsf.layer.toast('模拟Post请求失败', false)\r\n// }).always((res) => {\r\n//   debugger\r\n// })","import XEUtils from \"xe-utils\";\r\n\r\nlet hasConsole = true; //typeof console === 'object';\r\nlet getProto = Object.getPrototypeOf;\r\nlet $types = [\r\n  \"Boolean\",\r\n  \"Number\",\r\n  \"String\",\r\n  \"Function\",\r\n  \"Array\",\r\n  \"Date\",\r\n  \"RegExp\",\r\n  \"Object\",\r\n  \"Error\",\r\n  \"Symbol\",\r\n];\r\nlet class2type = {};\r\nlet hasOwn = class2type.hasOwnProperty;\r\nlet fnToString = hasOwn.toString;\r\nlet ObjectFunctionString = fnToString.call(Object);\r\nlet toString = class2type.toString;\r\nlet _console = window.console;\r\n// if (process.env.NODE_ENV === \"production\") {\r\n//   window.console.log = () => {};\r\n//   window.console.info = () => {};\r\n//   window.console.debug = () => {};\r\n// }\r\nlet _setInterval = window.setInterval;\r\n// let _setTimeout=window.setTimeout;\r\nlet _clearInterval = window.clearInterval;\r\nwindow.setInterval = (fn, time) => {\r\n  let timerId = _setInterval(fn, time);\r\n  dsf.warn(\"启动了setInterval\" + timerId);\r\n  return timerId;\r\n};\r\nwindow.clearInterval = (timerId) => {\r\n  dsf.warn(\"关闭了setInterval\" + timerId);\r\n  _clearInterval(timerId);\r\n};\r\n\r\nwindow.consoleOn = () => {\r\n  hasConsole = true;\r\n};\r\n\r\n$types.forEach((elem) => {\r\n  class2type[\"[object \" + elem + \"]\"] = elem.toLowerCase();\r\n});\r\n\r\nlet uuidCharts = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\r\n  \"\"\r\n);\r\n\r\nlet $files = [\r\n  {\r\n    absolutePath: \"\",\r\n    contentType: \"\",\r\n    id: \"\",\r\n    name: \"\",\r\n    originalFileName: \"\",\r\n    relativePath: \"\",\r\n    size: 0,\r\n    suffix: \"\",\r\n    uploadDate: \"\",\r\n  },\r\n];\r\nlet hasOwnProperty = Object.prototype.hasOwnProperty;\r\n\r\nexport default {\r\n  noop: function () {},\r\n  //获取唯一标识\r\n  uuid: function (len, radix) {\r\n    var chars = uuidCharts,\r\n      uuid = [],\r\n      i;\r\n    radix = radix || chars.length;\r\n    len = len || 16;\r\n    if (len) {\r\n      // Compact form\r\n      for (i = 0; i < len; i++) uuid[i] = chars[0 | (Math.random() * radix)];\r\n    } else {\r\n      // rfc4122, version 4 form\r\n      var r;\r\n\r\n      // rfc4122 requires these characters\r\n      uuid[8] = uuid[13] = uuid[18] = uuid[23] = \"\";\r\n      uuid[14] = \"4\";\r\n\r\n      // Fill in random data.  At i==19 set the high bits of clock sequence as\r\n      // per rfc4122, sec. 4.1.5\r\n      for (i = 0; i < 36; i++) {\r\n        if (!uuid[i]) {\r\n          r = 0 | (Math.random() * 16);\r\n          uuid[i] = chars[i == 19 ? (r & 0x3) | 0x8 : r];\r\n        }\r\n      }\r\n    }\r\n\r\n    return uuid.join(\"\");\r\n  },\r\n  UUID: function () {\r\n    return this.uuid();\r\n  },\r\n  //验证是否不为undefind或者null\r\n  isDef: function (obj) {\r\n    return obj !== undefined && obj != null;\r\n  },\r\n  //验证是否为undefind或者null\r\n  isUnDef: function (obj) {\r\n    return obj === undefined || obj === null;\r\n  },\r\n  //获取对象类型\r\n  type: function (obj) {\r\n    if (obj == null) {\r\n      return obj + \"\";\r\n    }\r\n    // Support: Android <=2.3 only (functionish RegExp)\r\n    return typeof obj === \"object\" || typeof obj === \"function\"\r\n      ? class2type[toString.call(obj)] || \"object\"\r\n      : typeof obj;\r\n  },\r\n  hasOwn: function (obj, key) {\r\n    return hasOwnProperty.call(obj, key);\r\n  },\r\n  //是否原生支持的方法\r\n  isNative: function (Ctor) {\r\n    return typeof Ctor === \"function\" && /native code/.test(Ctor.toString());\r\n  },\r\n  kebabCase: function (str, joinChar) {\r\n    let hyphenateRE = /\\B([A-Z])/g;\r\n    return str.replace(hyphenateRE, joinChar + \"$1\").toLowerCase();\r\n  },\r\n  camelCase: function (str, joinChar) {\r\n    var camelizeRE = new RegExp(\"\\\\\" + joinChar + \"(\\\\w)\", \"g\");\r\n    return str.replace(camelizeRE, function (_, c) {\r\n      return c ? c.toUpperCase() : \"\";\r\n    });\r\n  },\r\n  //验证是否是个数字\r\n  isNumber: function (val) {\r\n    if (dsf.isUnDef(val) || val == \"\") {\r\n      return false;\r\n    } else {\r\n      return !isNaN(val);\r\n    }\r\n  },\r\n  pxToRem(size) {\r\n    if (dsf.type(size) == \"string\") {\r\n      if (dsf.isNumber(size) || size.endsWith(\"px\")) {\r\n        return parseFloat(size) / 50 + \"rem\";\r\n      } else {\r\n        return size;\r\n      }\r\n    } else if (dsf.type(size) == \"number\") {\r\n      return size / 50 + \"rem\";\r\n    } else {\r\n      return size;\r\n    }\r\n  },\r\n  escapeFilter(str) {\r\n    if (str == null) return \"\";\r\n    return String(str)\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#39;\");\r\n  },\r\n  unescapeHTML(html) {\r\n    return String(html)\r\n      .replace(/&quot;/g, '\"')\r\n      .replace(/&#39;/g, \"'\")\r\n      .replace(/&lt;/g, \"<\")\r\n      .replace(/&gt;/g, \">\")\r\n      .replace(/&amp;/g, \"&\");\r\n  },\r\n  //验证是否为一个空对象\r\n  isEmptyObject: function (obj) {\r\n    var name;\r\n    for (name in obj) {\r\n      return false;\r\n    }\r\n    return true;\r\n  },\r\n  //验证是否是一个纯粹的对象\r\n  isPlainObject: function (obj) {\r\n    var proto, Ctor;\r\n    if (!obj || toString.call(obj) !== \"[object Object]\") {\r\n      return false;\r\n    }\r\n\r\n    proto = getProto(obj);\r\n    if (!proto) {\r\n      return true;\r\n    }\r\n    Ctor = hasOwn.call(proto, \"constructor\") && proto.constructor;\r\n    return (\r\n      typeof Ctor === \"function\" &&\r\n      fnToString.call(Ctor) === ObjectFunctionString\r\n    );\r\n  },\r\n  //验证类型是否为函数\r\n  isFunction(fn) {\r\n    return this.type(fn) == \"function\";\r\n  },\r\n  //代理console.log\r\n  log: function () {\r\n    if (hasConsole) {\r\n      Function.apply.call(_console.log, _console, arguments);\r\n    }\r\n  },\r\n  //代理console.time\r\n  time: function () {\r\n    if (hasConsole) {\r\n      var method = _console.time;\r\n      Function.apply.call(method, _console, arguments);\r\n    }\r\n  },\r\n  //代理console.timeEnd\r\n  timeEnd: function () {\r\n    if (hasConsole) {\r\n      var method = _console.timeEnd;\r\n      Function.apply.call(method, _console, arguments);\r\n    }\r\n  },\r\n  //代理console.warn\r\n  warn: function () {\r\n    if (hasConsole) {\r\n      var method = console.warn || console.log;\r\n      Function.apply.call(method, console, arguments);\r\n    }\r\n  },\r\n  //代理console.error\r\n  error: function () {\r\n    if (hasConsole) {\r\n      var method = console.error || console.log;\r\n      Function.apply.call(method, console, arguments);\r\n    }\r\n  },\r\n  //类似jQuery.extend方法，可用于浅拷贝，深拷贝\r\n  mix: function () {\r\n    var options,\r\n      name,\r\n      src,\r\n      copy,\r\n      copyIsArray,\r\n      clone,\r\n      target = arguments[0] || {},\r\n      i = 1,\r\n      length = arguments.length,\r\n      deep = false;\r\n\r\n    // Handle a deep copy situation\r\n    if (typeof target === \"boolean\") {\r\n      deep = target;\r\n\r\n      // Skip the boolean and the target\r\n      target = arguments[i] || {};\r\n      i++;\r\n    }\r\n\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (typeof target !== \"object\" && !this.isFunction(target)) {\r\n      target = {};\r\n    }\r\n\r\n    if (i === length) {\r\n      target = this;\r\n      i--;\r\n    }\r\n\r\n    for (; i < length; i++) {\r\n      // Only deal with non-null/undefined values\r\n      if ((options = arguments[i]) != null) {\r\n        // Extend the base object\r\n        for (name in options) {\r\n          copy = options[name];\r\n\r\n          // Prevent Object.prototype pollution\r\n          // Prevent never-ending loop\r\n          if (name === \"__proto__\" || target === copy) {\r\n            continue;\r\n          }\r\n\r\n          // Recurse if we're merging plain objects or arrays\r\n          if (\r\n            deep &&\r\n            copy &&\r\n            (this.isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))\r\n          ) {\r\n            src = target[name];\r\n\r\n            // Ensure proper type for the source value\r\n            if (copyIsArray && !Array.isArray(src)) {\r\n              clone = [];\r\n            } else if (!copyIsArray && !this.isPlainObject(src)) {\r\n              clone = {};\r\n            } else {\r\n              clone = src;\r\n            }\r\n            copyIsArray = false;\r\n\r\n            // Never move original objects, clone them\r\n            target[name] = this.mix(deep, clone, copy);\r\n\r\n            // Don't bring in undefined values\r\n          } else if (copy !== undefined) {\r\n            target[name] = copy;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Return the modified object\r\n    return target;\r\n  },\r\n  //获取元素某个计算后的css属性\r\n  getCss: function (curEle, attr) {\r\n    var val = null,\r\n      reg = null;\r\n    if (\"getComputedStyle\" in window) {\r\n      val = window.getComputedStyle(curEle, null)[attr];\r\n    } else {\r\n      //ie6~8不支持上面属性\r\n      //不兼容\r\n      if (attr === \"opacity\") {\r\n        val = curEle.currentStyle[\"filter\"]; //'alpha(opacity=12,345)'\r\n        reg = /^alphaopacity=(\\d+(?:\\.\\d+)?)opacity=(\\d+(?:\\.\\d+)?)$/i;\r\n        val = reg.test(val) ? reg.exec(val)[1] / 100 : 1;\r\n      } else {\r\n        val = curEle.currentStyle[attr];\r\n      }\r\n    }\r\n    return parseFloat(val);\r\n  },\r\n  getUploadFileInfo(str, index) {\r\n    let files = $files;\r\n    if (str) {\r\n      let result = JSON.parse(str);\r\n      if (this.type(result) == \"array\") {\r\n        files = result;\r\n      } else if (this.type(result) == \"object\") {\r\n        files = [result];\r\n      }\r\n    }\r\n    if (this.isDef(index)) {\r\n      return files[index];\r\n    }\r\n    return files;\r\n  },\r\n  getParse() {\r\n    //获取一个被str的 json或者对象的属性值\r\n    let str = arguments[0];\r\n    if (str) {\r\n      let result = JSON.parse(str);\r\n      if (this.isDef(result)) {\r\n        for (let i = 1; i < arguments.length; i++) {\r\n          result = result[arguments[i]];\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n    return str;\r\n  },\r\n  //获取cookie值\r\n  getCookie: function (cookie_name) {\r\n    var allcookies = document.cookie;\r\n    //索引长度，开始索引的位置\r\n    var cookie_pos = allcookies.indexOf(cookie_name);\r\n    // 如果找到了索引，就代表cookie存在,否则不存在\r\n    if (cookie_pos != -1) {\r\n      //把cookie_pos放在值的开始，只要给值加1即可\r\n      //计算取cookie值得开始索引，加的1为“=”\r\n      cookie_pos = cookie_pos + cookie_name.length + 1;\r\n      //计算取cookie值得结束索引\r\n      var cookie_end = allcookies.indexOf(\";\", cookie_pos);\r\n      if (cookie_end == -1) {\r\n        cookie_end = allcookies.length;\r\n      }\r\n      //得到想要的cookie的值\r\n      var value = unescape(allcookies.substring(cookie_pos, cookie_end));\r\n    }\r\n    return value;\r\n  },\r\n  toPromise: function (fn) {\r\n    return new Promise((resolve, reject) => {\r\n      let next = (mark) => {\r\n        if (mark === false) {\r\n          reject(false);\r\n        } else if (mark instanceof Error) {\r\n          reject(mark);\r\n        } else {\r\n          resolve(true);\r\n        }\r\n      };\r\n      fn(next);\r\n    });\r\n  },\r\n  numberAmountConversion: function (amount) {\r\n    // 汉字的数字\r\n    const cnNums = [\"零\", \"壹\", \"贰\", \"叁\", \"肆\", \"伍\", \"陆\", \"柒\", \"捌\", \"玖\"];\r\n    // 基本单位\r\n    const cnIntRadice = [\"\", \"拾\", \"佰\", \"仟\"];\r\n    // 对应整数部分扩展单位\r\n    const cnIntUnits = [\"\", \"万\", \"亿\", \"兆\"];\r\n    // 对应小数部分单位\r\n    const cnDecUnits = [\"角\", \"分\", \"毫\", \"厘\"];\r\n    // 整数金额时后面跟的字符\r\n    const cnInteger = \"整\";\r\n    // 整型完以后的单位\r\n    const cnIntLast = \"元\";\r\n    // 最大处理的数字\r\n    const maxNum = 9999999999999999.99;\r\n    // 金额整数部分\r\n    let integerNum;\r\n    // 金额小数部分\r\n    let decimalNum;\r\n    // 输出的中文金额字符串\r\n    let chineseStr = \"\";\r\n    // 分离金额后用的数组，预定义\r\n    let parts;\r\n    if (amount === \"\") {\r\n      return \"\";\r\n    }\r\n    amount = parseFloat(amount);\r\n    if (amount >= maxNum) {\r\n      // 超出最大处理数字\r\n      return \"\";\r\n    }\r\n    if (amount === 0) {\r\n      chineseStr = cnNums[0] + cnIntLast + cnInteger;\r\n      return chineseStr;\r\n    }\r\n    // 转换为字符串\r\n    amount = amount.toString();\r\n    if (amount.indexOf(\".\") === -1) {\r\n      integerNum = amount;\r\n      decimalNum = \"\";\r\n    } else {\r\n      parts = amount.split(\".\");\r\n      integerNum = parts[0];\r\n      decimalNum = parts[1].substr(0, 4);\r\n    }\r\n    // 获取整型部分转换\r\n    if (parseInt(integerNum, 10) > 0) {\r\n      let zeroCount = 0;\r\n      const IntLen = integerNum.length;\r\n      for (let i = 0; i < IntLen; i++) {\r\n        const n = integerNum.substr(i, 1);\r\n        const p = IntLen - i - 1;\r\n        const q = p / 4;\r\n        const m = p % 4;\r\n        if (n === \"0\") {\r\n          zeroCount++;\r\n        } else {\r\n          if (zeroCount > 0) {\r\n            chineseStr += cnNums[0];\r\n          }\r\n          // 归零\r\n          zeroCount = 0;\r\n          chineseStr += cnNums[parseInt(n, 10)] + cnIntRadice[m];\r\n        }\r\n        if (m === 0 && zeroCount < 4) {\r\n          chineseStr += cnIntUnits[q];\r\n        }\r\n      }\r\n      chineseStr += cnIntLast;\r\n    }\r\n    // 小数部分\r\n    if (decimalNum !== \"\") {\r\n      const decLen = decimalNum.length;\r\n      for (let i = 0; i < decLen; i++) {\r\n        const n = decimalNum.substr(i, 1);\r\n        if (n !== \"0\") {\r\n          chineseStr += cnNums[Number(n)] + cnDecUnits[i];\r\n        }\r\n      }\r\n    }\r\n    if (chineseStr === \"\") {\r\n      chineseStr += cnNums[0] + cnIntLast + cnInteger;\r\n    } else if (decimalNum === \"\") {\r\n      chineseStr += cnInteger;\r\n    }\r\n    return chineseStr;\r\n  },\r\n};\r\n","function Base64() {\r\n  // private property\r\n  var _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n  // public method for encoding\r\n  this.encode = function (input) {\r\n    if (input == null) return null;\r\n\r\n    var output = \"\";\r\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n    var i = 0;\r\n    input = _utf8_encode(input);\r\n    while (i < input.length) {\r\n      chr1 = input.charCodeAt(i++);\r\n      chr2 = input.charCodeAt(i++);\r\n      chr3 = input.charCodeAt(i++);\r\n      enc1 = chr1 >> 2;\r\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n      enc4 = chr3 & 63;\r\n      if (isNaN(chr2)) {\r\n        enc3 = enc4 = 64;\r\n      } else if (isNaN(chr3)) {\r\n        enc4 = 64;\r\n      }\r\n      output = output + _keyStr.charAt(enc1) + _keyStr.charAt(enc2) + _keyStr.charAt(enc3) + _keyStr.charAt(enc4);\r\n    }\r\n    return output;\r\n  };\r\n\r\n  // public method for decoding\r\n  this.decode = function (input) {\r\n    if (input == null) return null;\r\n    var output = \"\";\r\n    var chr1, chr2, chr3;\r\n    var enc1, enc2, enc3, enc4;\r\n    var i = 0;\r\n    // eslint-disable-next-line no-useless-escape\r\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n    while (i < input.length) {\r\n      enc1 = _keyStr.indexOf(input.charAt(i++));\r\n      enc2 = _keyStr.indexOf(input.charAt(i++));\r\n      enc3 = _keyStr.indexOf(input.charAt(i++));\r\n      enc4 = _keyStr.indexOf(input.charAt(i++));\r\n      chr1 = (enc1 << 2) | (enc2 >> 4);\r\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n      chr3 = ((enc3 & 3) << 6) | enc4;\r\n      output = output + String.fromCharCode(chr1);\r\n      if (enc3 != 64) {\r\n        output = output + String.fromCharCode(chr2);\r\n      }\r\n      if (enc4 != 64) {\r\n        output = output + String.fromCharCode(chr3);\r\n      }\r\n    }\r\n    output = _utf8_decode(output);\r\n    return output;\r\n  };\r\n\r\n  // private method for UTF-8 encoding\r\n  var _utf8_encode = function (string) {\r\n    string = string.replace(/\\r\\n/g, \"\\n\");\r\n    var utftext = \"\";\r\n    for (var n = 0; n < string.length; n++) {\r\n      var c = string.charCodeAt(n);\r\n      if (c < 128) {\r\n        utftext += String.fromCharCode(c);\r\n      } else if (c > 127 && c < 2048) {\r\n        utftext += String.fromCharCode((c >> 6) | 192);\r\n        utftext += String.fromCharCode((c & 63) | 128);\r\n      } else {\r\n        utftext += String.fromCharCode((c >> 12) | 224);\r\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n        utftext += String.fromCharCode((c & 63) | 128);\r\n      }\r\n    }\r\n    return utftext;\r\n  };\r\n\r\n  // private method for UTF-8 decoding\r\n  var _utf8_decode = function (utftext) {\r\n    var string = \"\";\r\n    var i = 0;\r\n    var c = 0,\r\n      // eslint-disable-next-line no-unused-vars\r\n      c1 = 0,\r\n      c2 = 0,\r\n      c3 = 0;\r\n    while (i < utftext.length) {\r\n      c = utftext.charCodeAt(i);\r\n      if (c < 128) {\r\n        string += String.fromCharCode(c);\r\n        i++;\r\n      } else if (c > 191 && c < 224) {\r\n        c2 = utftext.charCodeAt(i + 1);\r\n        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n        i += 2;\r\n      } else {\r\n        c2 = utftext.charCodeAt(i + 1);\r\n        c3 = utftext.charCodeAt(i + 2);\r\n        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n        i += 3;\r\n      }\r\n    }\r\n    return string;\r\n  };\r\n}\r\n\r\nlet b64 = new Base64();\r\nexport default b64;\r\n","\r\nimport Cookies from 'js-cookie';\r\n// Cookies.defaults = {\r\n//   path: '/',\r\n//   secure: true\r\n// };\r\nexport default Cookies;","/* eslint-disable no-unused-vars */\r\nimport utils from \"./utils\";\r\n// import keys from './keys';\r\n\r\nlet pascalCaseRE = /^[A-Z][^\\-]*$/g;\r\n\r\nlet __ctrls__ = {};\r\nlet __designOptions__ = {};\r\nlet __options__ = {};\r\n// let __temp__ = {};\r\nlet hasSymbol = typeof Symbol !== \"undefined\" && utils.isNative(Symbol) && typeof Reflect !== \"undefined\" && utils.isNative(Reflect.ownKeys);\r\nlet componentNameRE = /^(Dsf)(Mobile)?(\\w+)/g\r\n\r\n//注册组件\r\nfunction component(options) {\r\n  if (!options.name) {\r\n    throw \"组件缺少name属性\";\r\n  }\r\n  if (!options.name.startsWith('Dsf') && !options.name.startsWith(\"DSFMobile\")) {\r\n    throw \"组件\" + options.name + \"的name属性PC端组件必须以Dsf开头，移动端组件必须以DsfMobile开发头\"\r\n  }\r\n  if (!options.ctrlCaption) {\r\n    throw options.name + \"组件缺少ctrlCaption属性\";\r\n  }\r\n  componentNameRE.lastIndex = 0;\r\n  let code = componentNameRE.exec(options.name);\r\n  let arr = [];\r\n  if (code && code.length > 0) {\r\n    for (let i = 1; i < code.length; i++) {\r\n      if (code[i]) {\r\n        arr.push(code[i].toLowerCase())\r\n      }\r\n    }\r\n  }\r\n  if (dsf.isUnDef(options.props)) {\r\n    options.props = {};\r\n  }\r\n  let dsfCode = arr.join(\".\")\r\n  options.props[\"ctrlType\"] = {\r\n    type: String,\r\n    default: dsfCode\r\n  };\r\n  let ctrlType = options.ctrlType = dsfCode;\r\n\r\n  if (!__ctrls__[ctrlType]) {\r\n    pascalCaseRE.lastIndex = 0;\r\n    if (!pascalCaseRE.test(options.name)) {\r\n      throw options.name + \"组件name属性请使用PascalCase方式命名\";\r\n    }\r\n    if (!options.props) {\r\n      options.props = {};\r\n    }\r\n    if (!dsf.hasOwn(options.props, \"ctrlName\")) {\r\n      options.props[\"ctrlName\"] = {\r\n        type: String,\r\n        default: options.name\r\n      };\r\n    }\r\n    if (!dsf.hasOwn(options.props, \"ctrlType\")) {\r\n      componentNameRE.lastIndex = 0;\r\n      let code = componentNameRE.exec(options.name);\r\n      let arr = [];\r\n      if (code && code.length > 0) {\r\n        for (let i = 1; i < code.length; i++) {\r\n          if (code[i]) {\r\n            arr.push(code[i].toLowerCase())\r\n          }\r\n        }\r\n      }\r\n      let dsfCode = arr.join(\".\")\r\n      options.props[\"ctrlType\"] = {\r\n        type: String,\r\n        default: dsfCode\r\n      };\r\n      options.ctrlType = dsfCode;\r\n    }\r\n\r\n    let ctrlType = options.ctrlType.toLowerCase();\r\n\r\n    let mixins = $getMinixsAndExtends(options, true, [\"props\", \"design\"]);\r\n    //将attributes数据提出取出来，存放到全局对象中\r\n    let ctrlAttrs = $minixAttributes(options, mixins[\"props\"]);\r\n    options.design = $mergeData(options.design || {}, mixins[\"design\"]);\r\n    __ctrls__[ctrlType] = ctrlAttrs;\r\n    __designOptions__[ctrlType] = options.design;\r\n    __options__[ctrlType] = options;\r\n    return options;\r\n  } else {\r\n    return __ctrls__[ctrlType];\r\n  }\r\n}\r\n\r\n//创建一个组件对象\r\nfunction createComponent(key, attributes) {\r\n  if (dsf.type(key) == \"string\") {\r\n    if (__ctrls__[key]) {\r\n      let attrs = dsf.mix(true, {}, __ctrls__[key], attributes || {});\r\n      if (!attrs.designId) {\r\n        attrs.designId = dsf.uuid();\r\n      }\r\n      return attrs;\r\n    }\r\n  } else if (dsf.type(key) == \"object\") {\r\n    if (!__ctrls__[key.ctrlType]) {\r\n      component(key);\r\n    }\r\n    return createComponent(key.ctrlType, attributes);\r\n  }\r\n}\r\n\r\nfunction getComponentOptions(key) {\r\n  if (__options__[key]) {\r\n    return __options__[key];\r\n  }\r\n}\r\n\r\n//获取组件design节点配置信息\r\nfunction getComponentDesignOptions(key) {\r\n  return __designOptions__[key];\r\n}\r\n\r\n//补全加载布局时候组件属性\r\nfunction fillComponentDefaultProps(props, callback) {\r\n  if (props) {\r\n    let c = dsf.createComponent(props.ctrlType);\r\n    // console.log(props.ctrlType)\r\n    //补丁：修复日期组件之前有$开头的属性，后续做了清理后，以前保存的表单\r\n    for (let k in props) {\r\n      if (k.startsWith(\"$\")) {\r\n        props[k.substr(1)] = props[k];\r\n        delete props[k];\r\n      }\r\n    }\r\n\r\n    dsf.mix(props, dsf.mix(c, props));\r\n    callback && callback(c);\r\n    if (props.slots) {\r\n      _.each(props.slots, slot => {\r\n        let controls = slot.controls;\r\n        _.each(controls, ctrlProps => {\r\n          fillComponentDefaultProps(ctrlProps, callback);\r\n        });\r\n      });\r\n    }\r\n  }\r\n  return props;\r\n}\r\n\r\n//递归组件及子组件\r\nfunction recursionComponentProps(props, callback) {\r\n  if (props) {\r\n    callback && callback(props);\r\n    if (props.slots) {\r\n      _.each(props.slots, slot => {\r\n        let controls = slot.controls;\r\n        _.each(controls, ctrlProps => {\r\n          recursionComponentProps(ctrlProps, callback);\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction resizeDetector() {\r\n  window.removeEventListener(\"resize\", $resizeComponent);\r\n  window.addEventListener(\"resize\", $resizeComponent);\r\n}\r\n\r\nfunction $resizeComponent(event, pageComponent) {\r\n  let page = pageComponent;\r\n  if (!page) {\r\n    page = document.querySelectorAll(\".ds-page\");\r\n  } else {\r\n    page = [page];\r\n  }\r\n  _.each(page, (el) => {\r\n    let component = el._isVue ? el : el.__vue__;\r\n    $resize(component);\r\n  });\r\n}\r\n\r\nfunction $resize(component) {\r\n  if(component){\r\n    if (component.ctrlType && component.resize && !component.$$getComponent) {\r\n      component.resize();\r\n    }\r\n    if (component.$children) {\r\n      _.each(component.$children, (children) => {\r\n        $resize(children);\r\n      });\r\n    }\r\n  }\r\n \r\n}\r\n\r\n//获取混入信息\r\nfunction $getMinixsAndExtends(options, isRoot, nodes) {\r\n  let result = {},\r\n    instance = {};\r\n  let arr = [];\r\n  let extend = options.extends;\r\n  let mixins = options.mixins || [];\r\n  if (dsf.isDef(extend)) {\r\n    arr = arr.push(extend);\r\n  }\r\n  if (mixins && mixins.length) {\r\n    arr = arr.concat(mixins);\r\n  }\r\n  if (isRoot === false) {\r\n    for (let k in nodes) {\r\n      if (options[nodes[k]]) {\r\n        result[nodes[k]] = dsf.mix({}, options[nodes[k]]);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (arr && arr.length) {\r\n    for (let i = 0; i < arr.length; i++) {\r\n      let from = $getMinixsAndExtends(arr[i], false, nodes);\r\n      result = $mergeData(result, from);\r\n    }\r\n  }\r\n  instance = $mergeData(instance, result);\r\n  return instance;\r\n}\r\n\r\n//获取组件attributes函数中的对象\r\nfunction $getAttributes(options, props) {\r\n  let attributes = {},\r\n    mixinsAttributes = {},\r\n    instance = {};\r\n  for (let k in options.props) {\r\n    let attrVal;\r\n    if (dsf.hasOwn(options.props[k], 'default')) {\r\n      let defaultVal = undefined;\r\n      let propDefault = options.props[k].default;\r\n      defaultVal = dsf.isFunction(propDefault) ? propDefault() : propDefault;\r\n      attrVal = defaultVal;\r\n    }\r\n    attributes[k] = attrVal;\r\n  }\r\n  for (let k in props) {\r\n    let attrVal;\r\n    if (dsf.hasOwn(props[k], 'default')) {\r\n      let defaultVal = undefined;\r\n      let propDefault = props[k].default;\r\n      defaultVal = dsf.isFunction(propDefault) ? propDefault() : propDefault;\r\n      attrVal = defaultVal;\r\n    }\r\n    mixinsAttributes[k] = attrVal;\r\n  }\r\n  $mergeData(attributes, mixinsAttributes);\r\n  instance = $mergeData(instance, attributes);\r\n  return instance;\r\n}\r\n\r\n//合并组件属性\r\nfunction $mergeData(to, from) {\r\n  if (!from) {\r\n    return to;\r\n  }\r\n  var key, toVal, fromVal;\r\n  var keys = hasSymbol ? Reflect.ownKeys(from) : Object.keys(from);\r\n\r\n  for (var i = 0; i < keys.length; i++) {\r\n    key = keys[i];\r\n    toVal = to[key];\r\n    fromVal = from[key];\r\n    if (!dsf.hasOwn(to, key)) {\r\n      to[key] = fromVal;\r\n    } else if (toVal !== fromVal && dsf.isPlainObject(toVal) && dsf.isPlainObject(fromVal)) {\r\n      $mergeData(toVal, fromVal);\r\n    }\r\n  }\r\n  return to;\r\n}\r\n\r\n//混入attributes\r\nfunction $minixAttributes(options, mixinsProps) {\r\n  // let key = dsf.kebabCase(options.name, \"-\");\r\n  let ctrlAttrs = $getAttributes(options, mixinsProps);\r\n  ctrlAttrs.ctrlName = options.name;\r\n  ctrlAttrs.ctrlType = options.ctrlType;\r\n  //如果组件存在元数据\r\n  if (ctrlAttrs.metadata) {\r\n    // let arr = options.ctrlType.split(/\\.|-/g)\r\n    ctrlAttrs.metadata.currentControl = { text: options.ctrlCaption, value: options.ctrlType };\r\n    ctrlAttrs.metadata.controls = [ctrlAttrs.metadata.currentControl];\r\n  }\r\n  return ctrlAttrs;\r\n}\r\n\r\n\r\n// //1.0映射与2.0的映射补丁\r\n// let versionMap={\r\n//   'dsf.textbox':'textbox',\r\n//   'dsf.radiobox':'radiobox',\r\n//   'dsf.checkbox':'checkbox'\r\n// }\r\n\r\n\r\n\r\n\r\nexport default {\r\n  component,\r\n  createComponent,\r\n  fillComponentDefaultProps,\r\n  recursionComponentProps,\r\n  getComponentDesignOptions,\r\n  resizeDetector,\r\n  resizeComponent: (page) => {\r\n    $resizeComponent(null, page)\r\n  },\r\n  getComponentOptions\r\n  // getComponentMetadataCreateFn\r\n};","import requireJS from \"./require\";\r\nimport \"./repair\";\r\nimport utils from \"./utils\";\r\nimport url from \"./url\";\r\nimport http from \"./http\";\r\nimport base64 from \"./base64\";\r\nimport md5 from \"./md5\";\r\nimport date from \"./date\";\r\nimport config from \"./config\";\r\nimport flexble from './flexble';\r\nimport component from \"./component\";\r\nimport array from \"./array\";\r\nimport metadata from \"./metadata\";\r\nimport designer from \"./designer\";\r\nimport beautify from \"js-beautify/js/lib/beautifier\";\r\nimport client from './client';\r\nimport layer from './layer';\r\nimport math from './math';\r\nimport express from './express';\r\nimport init from './init';\r\nimport cookies from './cookies';\r\nimport validate from './validate';\r\nimport cachePool from './cache';\r\nimport storage from './storage';\r\nimport idCode from './idCode';\r\nimport transition from './transition';\r\n\r\n// console.log(jsBeautify)\r\nlet global = window || global;\r\n\r\nlet dsf = {\r\n  init,\r\n  ...utils,\r\n  url,\r\n  http,\r\n  base64,\r\n  md5,\r\n  flexble,\r\n  date,\r\n  config,\r\n  ...component,\r\n  array,\r\n  global,\r\n  metadata,\r\n  beautify,\r\n  ...requireJS,\r\n  designer,\r\n  client,\r\n  layer,\r\n  math,\r\n  express,\r\n  validate,\r\n  cachePool,\r\n  storage,\r\n  idCode,\r\n  transition:{\r\n   ...transition \r\n  }\r\n};\r\n\r\nif (cookies) {\r\n  dsf.mix(dsf, {'cookies':cookies})\r\n}\r\n\r\n\r\n//如果window对象存在则表示在客户端运行，否则使用node的global对象作为全局对象\r\nif (global) {\r\n  global.dsf = dsf;\r\n  global._ = global.lodash = _;\r\n  global.$ = global.jquery = $;\r\n}\r\n\r\nexport default dsf;","// import dsf from '../utils';\r\nexport default function(dsf) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [{\r\n      name: \"文本\",\r\n      code: \"text\",\r\n      type: dsf.metadata.getDataType(\"string\"),\r\n      length: 100,\r\n      defaultValue: null,\r\n      //是否为空验证字段\r\n      emptyValidate: true,\r\n      unit: null\r\n    }]\r\n  };\r\n}","export default function (dsf,options) {\r\n  return {\r\n    \"id\": \"\",\r\n    \"name\": \"\",\r\n    \"code\": \"\",\r\n    \"type\": dsf.metadata.mmtype(3),\r\n    \"at\": \"\",\r\n    \"level\": 0,\r\n    \"currentControl\": null,\r\n    \"controls\": [],\r\n    \"validate\": dsf.metadata.validate(),\r\n    \"defaultValue\": null,\r\n    \"valueAttributes\": [\r\n      {\r\n        \"name\": \"大文本\",\r\n        \"code\": \"text\",\r\n        \"type\": dsf.metadata.getDataType(\"object\"),\r\n        \"length\": \"\",\r\n        \"defaultValue\": null,\r\n        \"unit\": null\r\n      }\r\n    ]\r\n  }\r\n}","export default function (dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"超大文本\",\r\n        code: \"img\",\r\n        type: dsf.metadata.getDataType(\"longObject\"),\r\n        length: null,\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n    ],\r\n  };\r\n}","export default function(dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    dataSource: {\r\n      code: null,\r\n      type: \"static\",\r\n      attach: [],\r\n    },\r\n    valueAttributes: [{\r\n        name: \"值\",\r\n        code: \"value\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 100,\r\n        defaultValue: null,\r\n        emptyValidate: true,\r\n        unit: null\r\n      },\r\n      {\r\n        name: \"文本\",\r\n        code: \"text\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 100,\r\n        defaultValue: null,\r\n        unit: null\r\n      },\r\n\r\n    ]\r\n  };\r\n}","export default function (dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    level: 1,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: []\r\n  };\r\n}\r\n","export default function (dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"文件上传\",\r\n        code: \"file\",\r\n        type: dsf.metadata.getDataType(\"object\"),\r\n        length: 500,\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n    ],\r\n  };\r\n}\r\n","export default function (dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"图片上传\",\r\n        code: \"img\",\r\n        type: dsf.metadata.getDataType(\"object\"),\r\n        length: 500,\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n    ],\r\n  };\r\n}\r\n","export default function (dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(2),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    level: 0,\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"\",\r\n        code: \"\",\r\n        type: \"\",\r\n        length: \"\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n    ],\r\n  };\r\n}\r\n","export default function (dsf) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    level: 0,\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"tree节点父标识\",\r\n        code: \"pid\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"50\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"tree节点图标\",\r\n        code: \"icon\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"200\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"tree全局标识\",\r\n        code: \"globalid\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"500\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"tree节点等级\",\r\n        code: \"level\",\r\n        type: dsf.metadata.getDataType(\"number\"),\r\n        length: \"2,0\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"tree节点类型\",\r\n        code: \"type\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"10\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n    ],\r\n  };\r\n}\r\n","export default function(dsf, options) {\r\n  return {\r\n    \"id\": \"\",\r\n    \"name\": \"\",\r\n    \"code\": \"\",\r\n    \"type\": dsf.metadata.mmtype(2),\r\n    \"at\": \"\",\r\n    \"currentControl\": null,\r\n    \"controls\": [],\r\n    \"level\": 0,\r\n    \"dataFormatter\": \"tree\",\r\n    \"validate\": dsf.metadata.validate(),\r\n    \"defaultValue\": null,\r\n    \"valueAttributes\": [{\r\n        \"name\": \"节点名称\",\r\n        \"code\": \"name\",\r\n        \"type\": dsf.metadata.getDataType(\"string\"),\r\n        \"length\": \"50\",\r\n        \"defaultValue\": null,\r\n        \"unit\": null\r\n      }, {\r\n        name: \"tree节点父标识\",\r\n        code: \"pid\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"50\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"tree节点图标\",\r\n        code: \"icon\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"200\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"tree全局标识\",\r\n        code: \"globalid\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"500\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"tree节点等级\",\r\n        code: \"level\",\r\n        type: dsf.metadata.getDataType(\"number\"),\r\n        length: \"2,0\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      }\r\n    ]\r\n  }\r\n}\n","export default function(dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"开始日期\",\r\n        code: \"sdate\",\r\n        type: dsf.metadata.getDataType(\"date\"),\r\n        length: null,\r\n        defaultValue: null,\r\n        unit: null\r\n      }, {\r\n        name: \"结束日期\",\r\n        code: \"edate\",\r\n        type: dsf.metadata.getDataType(\"date\"),\r\n        length: null,\r\n        defaultValue: null,\r\n        unit: null\r\n      }\r\n    ]\r\n  };\r\n}","export default function(dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"日期\",\r\n        code: \"date\",\r\n        type: dsf.metadata.getDataType(\"date\"),\r\n        length: null,\r\n        defaultValue: null,\r\n        unit: null\r\n      }\r\n    ]\r\n  };\r\n}","export default function(dsf,options) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"时间\",\r\n        code: \"time\",\r\n        type: dsf.metadata.getDataType(\"time\"),\r\n        length: length || 50,\r\n        defaultValue: null,\r\n        unit: null\r\n      }\r\n    ]\r\n  };\r\n}","export default function (dsf) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"文本\",\r\n        code: \"text\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"200\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n    ],\r\n  };\r\n}\r\n","\r\nexport default function (dsf, options) {\r\n    return {\r\n        id: \"\",\r\n        name: \"\",\r\n        code: \"\",\r\n        type: dsf.metadata.mmtype(3),\r\n        at: \"\",\r\n        currentControl: null,\r\n        controls: [],\r\n        validate: dsf.metadata.validate(),\r\n        defaultValue: null,\r\n        dataSource: {\r\n            type: \"static\",\r\n            code: \"\",\r\n            attach: [],\r\n        },\r\n        valueAttributes: [\r\n            {\r\n                name: \"文本\",\r\n                code: \"text\",\r\n                type: dsf.metadata.getDataType(\"string\"),\r\n                length: \"200\",\r\n                defaultValue: null,\r\n                unit: null,\r\n            },\r\n            {\r\n                name: \"值\",\r\n                code: \"value\",\r\n                type: dsf.metadata.getDataType(\"string\"),\r\n                length: \"200\",\r\n                defaultValue: null,\r\n                unit: null\r\n            }\r\n        ],\r\n    };\r\n}\r\n\r\n","export default function (dsf) {\r\n    return {\r\n        id: \"\",\r\n        name: \"\",\r\n        code: \"\",\r\n        type: dsf.metadata.mmtype(3),\r\n        at: \"\",\r\n        currentControl: null,\r\n        controls: [],\r\n        validate: dsf.metadata.validate({\r\n            \"pseudocode\": \"dsf_validate(isNotNull(currentValue, 0),\\\"该项必填\\\");\",\r\n            \"java\": \"dsf_validate(isNotNull(currentValue, 0),\\\"该项必填\\\");\",\r\n            \"javascript\": \"dsf_validate(isNotNull(currentValue, 0),\\\"该项必填\\\");\"\r\n        }, {\r\n            \"express\": \"\",\r\n            \"isNumber\": \"0\",\r\n            \"max\": \"\",\r\n            \"min\": \"\",\r\n            \"precision\": \"\",\r\n            \"required\": true,\r\n            \"isNullValue\": 0,\r\n        }, 'base'),\r\n        defaultValue: null,\r\n        valueAttributes: [\r\n            {\r\n                name: \"文本\",\r\n                code: \"text\",\r\n                type: dsf.metadata.getDataType(\"string\"),\r\n                length: \"200\",\r\n                defaultValue: null,\r\n                unit: null,\r\n            },\r\n        ],\r\n    };\r\n}\r\n","export default function(dsf, options){\r\n  return {\r\n    \"id\": \"\",\r\n    \"name\": \"\",\r\n    \"code\": \"\",\r\n    \"type\": dsf.metadata.mmtype(3),\r\n    \"at\": \"\",\r\n    \"currentControl\": null,\r\n    \"controls\": [],\r\n    \"validate\": dsf.metadata.validate(),\r\n    \"defaultValue\": null,\r\n    \"valueAttributes\": [{\r\n      \"name\": \"封面设置\",\r\n      \"code\": \"conver\",\r\n      \"type\": dsf.metadata.getDataType(\"object\"),\r\n      \"length\": 500,\r\n      \"defaultValue\": null,\r\n      \"unit\": null\r\n    }]\r\n  };\r\n}\r\n","export default function () {\r\n  return {\r\n    id: \"\",\r\n    name: \"流程结构\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    level: 0,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"流程id\",\r\n        code: \"wf_id\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"50\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"流程名称\",\r\n        code: \"wf_name\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: \"50\",\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      // {\r\n      //   name: \"流程父id\",\r\n      //   code: \"wf_pid\",\r\n      //   type: dsf.metadata.getDataType(\"string\"),\r\n      //   length: \"50\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n      // {\r\n      //   name: \"流程部门id\",\r\n      //   code: \"wf_deptid\",\r\n      //   type: dsf.metadata.getDataType(\"string\"),\r\n      //   length: \"50\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n      // {\r\n      //   name: \"流程部门名称\",\r\n      //   code: \"wf_deptname\",\r\n      //   type: dsf.metadata.getDataType(\"string\"),\r\n      //   length: \"50\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n      // {\r\n      //   name: \"流程用户id\",\r\n      //   code: \"wf_userid\",\r\n      //   type: dsf.metadata.getDataType(\"string\"),\r\n      //   length: \"50\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n      // {\r\n      //   name: \"流程用户名\",\r\n      //   code: \"wf_username\",\r\n      //   type: dsf.metadata.getDataType(\"string\"),\r\n      //   length: \"50\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n      // {\r\n      //   name: \"流程创建时间\",\r\n      //   code: \"wf_createtime\",\r\n      //   type: dsf.metadata.getDataType(\"date\"),\r\n      //   length: \"\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n      // {\r\n      //   name: \"流程状态 0:未发送,1:流转,2:办结\",\r\n      //   code: \"wf_status\",\r\n      //   type: dsf.metadata.getDataType(\"number\"),\r\n      //   length: \"1\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n      // {\r\n      //   name: \"流程截止时间\",\r\n      //   code: \"wf_deadLine\",\r\n      //   type: dsf.metadata.getDataType(\"date\"),\r\n      //   length: \"\",\r\n      //   defaultValue: null,\r\n      //   unit: null,\r\n      // },\r\n    ],\r\n  };\r\n}\r\n","import textMetaData from \"./textMetaData\";\r\nimport bigTextMetaData from \"./bigTextMetaData\";\r\nimport longTextMetaData from \"./longTextMetaData\";\r\nimport itemsMetaData from \"./itemsMetaData\";\r\nimport subListMetaData from \"./subListMetaData\";\r\nimport fileMetaData from \"./fileMetaData\";\r\nimport photoMetaData from \"./photoMetaData\";\r\nimport systemMetaData from \"./systemMetaData\";\r\nimport treeInfoMetaData from \"./treeInfoMetaData\";\r\nimport navTreeMetaData from \"./navTreeMetaData\";\r\n\r\nimport dateIntervalMetaData from \"./dateIntervalMetaData\";\r\nimport datePickerMetaData from \"./datePickerMetaData\";\r\nimport timePickerMetaData from \"./timePickerMetaData\";\r\nimport examMetaData from \"./examMetaData\";\r\nimport examItemsMetaData from \"./examItemsMetaData\";\r\nimport examSubjectiveMetaData from \"./examSubjectiveMetaData\";\r\nimport customerImgMetaData from \"./customerImgMetaData\";\r\nimport flowInfoMetaData from \"./flowInfoMetaData\";\r\n\r\n\r\ndsf.metadata.add(\"text-meta-data\", textMetaData);\r\ndsf.metadata.add(\"big-text-meta-data\", bigTextMetaData);\r\ndsf.metadata.add(\"long-text-meta-data\", longTextMetaData);\r\n\r\ndsf.metadata.add(\"items-meta-data\", itemsMetaData);\r\ndsf.metadata.add(\"sublist-meta-data\", subListMetaData);\r\ndsf.metadata.add(\"file-meta-data\", fileMetaData);\r\ndsf.metadata.add(\"photo-meta-data\", photoMetaData);\r\n\r\ndsf.metadata.add(\"system-meta-data\", systemMetaData);\r\ndsf.metadata.add(\"tree-info-meta-data\", treeInfoMetaData);\r\ndsf.metadata.add(\"nav-tree-meta-data\", navTreeMetaData);\r\n\r\ndsf.metadata.add(\"date-interval-meta-data\", dateIntervalMetaData);\r\ndsf.metadata.add(\"date-picker-meta-data\", datePickerMetaData);\r\ndsf.metadata.add(\"time-picker-meta-data\", timePickerMetaData);\r\n\r\ndsf.metadata.add(\"exam-meta-data\", examMetaData);\r\ndsf.metadata.add(\"exam-items-meta-data\", examItemsMetaData);\r\ndsf.metadata.add(\"exam-subjective-meta-data\", examSubjectiveMetaData);\r\ndsf.metadata.add(\"customer-img-meta-data\", customerImgMetaData);\r\ndsf.metadata.add(\"flow-info-meta-data\", flowInfoMetaData);","import utils from \"./utils\";\r\n\r\nlet metadataMap = {};\r\n\r\nlet dataType = [\r\n  { text: \"文本\", value: \"string\" },\r\n  { text: \"日期\", value: \"date\" },\r\n  { text: \"数字\", value: \"number\" },\r\n  { text: \"对象\", value: \"object\" },\r\n  { text: \"时间\", value: \"time\" },\r\n  { text: \"大对象\", value: \"longObject\" }\r\n];\r\n\r\nlet mmtype = function(num) {\r\n  let v = {\r\n    \"1\": { value: \"1\", text: \"基础元数据\" },\r\n    \"2\": { value: \"2\", text: \"系统元数据\" },\r\n    \"3\": { value: \"3\", text: \"业务元数据\" }\r\n  };\r\n  return v[num];\r\n};\r\n\r\nlet getDataType = function(type) {\r\n  return _.find(dataType, v => {\r\n    return v.value == type;\r\n  });\r\n};\r\n\r\n\r\n// //  express: \"\",\r\n//       expressName:\"\",\r\n//       isNumber: false,\r\n//       max: \"\",\r\n//       min: \"\",\r\n//       precision: \"\",\r\n//       required: false,\r\n//       errorMsg: {}\r\n\r\nlet validate = function() {\r\n  return null;\r\n};\r\n\r\nfunction add(key, metadata) {\r\n  key = utils.kebabCase(key);\r\n  if (!metadataMap[key]) {\r\n    metadataMap[key] = metadata;\r\n  } else {\r\n    dsf.warn(key + \"元数据已经存在\");\r\n  }\r\n  return metadataMap[key];\r\n}\r\n\r\nfunction get(key, obj) {\r\n  key = utils.kebabCase(key);\r\n  let m = metadataMap[key](dsf);\r\n  m.ckey = key;\r\n  return dsf.mix(m, obj || {});\r\n}\r\n\r\nfunction use(obj) {\r\n  for (let k in obj) {\r\n    add(k, obj[k]);\r\n  }\r\n}\r\n\r\nfunction all() {\r\n  return metadataMap;\r\n}\r\n\r\n\r\nexport default {\r\n  add,\r\n  get,\r\n  all,\r\n  use,\r\n  mmtype,\r\n  dataType,\r\n  getDataType,\r\n  validate\r\n};","import control from \"./control\";\r\nimport schema from 'async-validator';\r\n\r\nexport default {\r\n  mixins: [control],\r\n  provide() {\r\n    return{\r\n      $page:this\r\n    } \r\n  },\r\n  props: {\r\n    isLoaded:{\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    name: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    serial: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    isView: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    context: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          B: \"\",\r\n          M: \"\"\r\n        };\r\n      }\r\n    },\r\n    clientVersion: {\r\n      type: String,\r\n      default: \"2.0\"\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //页头，页脚宽度\r\n    headfootwidth: {\r\n      type: String,\r\n      default: \"same\"\r\n    },\r\n    fit: {\r\n      type: [String,Boolean],\r\n      default: true\r\n    },\r\n    //页头页脚与主干间隙\r\n    topBottom: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //左右两侧与主干间隔\r\n    leftRight: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //左右两侧视图宽度\r\n    viewSplit: {\r\n      type: String,\r\n      default: \"0px,0px\"\r\n    },\r\n    //页面宽度\r\n    pageWidth: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //是否显示页头\r\n    hasHeader: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    //是否显示页脚\r\n    hasFooter: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    //页面权限\r\n    pagePrivilege: {\r\n      type: Array,\r\n      default () {\r\n        return [];\r\n      }\r\n    },\r\n    pageType: {\r\n      type: String,\r\n      default: \"other\"\r\n    },\r\n    xssConfig: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          allow: false\r\n        };\r\n      }\r\n    },\r\n    customCss: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //页脚是否固定\r\n    footFixed:{\r\n      type:Boolean,\r\n      default:true\r\n    },\r\n    needLogin: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n    // mobile:{\r\n    //   type:Boolean,\r\n    //   default:false\r\n    // }\r\n  },\r\n  data() {\r\n    return {\r\n      $serialNum: this.serial,\r\n      postFields: [],\r\n    };\r\n  },\r\n  computed: {\r\n    nameSpace() {\r\n      return this.context.B + \".\" + this.context.M;\r\n    },\r\n    $isLoaded(){\r\n      let isDesign=this.isDesign;\r\n      let isLoaded=this.isLoaded;\r\n      if(isDesign){\r\n        return true;\r\n      }\r\n      else{\r\n        return isLoaded;\r\n      }\r\n    },\r\n  },\r\n  destroyed() {},\r\n  mounted() {},\r\n  created() {\r\n    if (!this.isDesign && this.pageType == 'form') {\r\n      this.$on(\"form.addValidateField\", (evt) => {\r\n        let target = evt.target;\r\n        console.time(\"加入\")\r\n        // this.addValidateFiled(target);\r\n        console.timeEnd(\"加入\")\r\n      });\r\n      this.$on(\"form.removeValidateField\", (evt) => {\r\n        let target = evt.target;\r\n        // this.removeVaildateFiled(target);\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    getSerial() {\r\n      let num = ++this.$data.$serialNum;\r\n      this.$emit(\"update:serial\", num);\r\n      return num;\r\n    },\r\n    formSave() {\r\n      if (this.isDesign) {\r\n        return;\r\n      }\r\n\r\n    }\r\n  },\r\n  design: {\r\n    isMask: false\r\n  }\r\n};","export default {\r\n  //数据源接口\r\n  dbSourceInterface(ns, params) {\r\n    let path = ns;\r\n    if (path.startsWith(\"/\")) {\r\n      path = path.substr(1);\r\n    }\r\n    let url = \"/dbsource/interface/\" + path;\r\n    return this.$http.get(url, params);\r\n  },\r\n  //批量查询数据字典\r\n  //params:{'dicts':[{key:\"任意的唯一标识\",'dictId':数据字典ID},...]}\r\n  getBatchDict(params) {\r\n    params.dicts = JSON.stringify(params.dicts)\r\n    return this.$http.get(\"/dict/data\", params);\r\n  },\r\n  //保存布局\r\n  pageBuild(params) {\r\n    return this.$http.post(\"/meta/build\", params);\r\n  },\r\n  //保存模板\r\n  pageSaveTemplate(params) {\r\n    return this.$http.post(\"/meta/saveTemp\", params)\r\n  },\r\n  //表单数据保存\r\n  formSave(params) {\r\n    return this.$http.post(\"/meta/persistData\", params, null);\r\n  },\r\n  getDesignerButtons(params) {\r\n    return this.$http.get(\"/meta/temp/button\", params, null)\r\n      .done((data) => {\r\n        return data;\r\n      })\r\n  },\r\n  //获取可用组件组\r\n  getComponents(params) {\r\n    let ids = params.join(\",\");\r\n    return this.$http.get(\"/rm/control/list\", { rmIds: ids }, null)\r\n      .then(({ data }) => {\r\n        return data\r\n      })\r\n  },\r\n  //获取指定组中的业务组件集合\r\n  getBusinessComponets(params) {\r\n    let ids = params.join(\",\");\r\n    return this.$http.get(\"/meta/bc/list\", { ids: ids }, null)\r\n      .then(({ data }) => {\r\n        return data\r\n      })\r\n  },\r\n\r\n  //获取元数据树结构\r\n  getMetaDataFieldsTree(params, hasValueAttributes) {\r\n    let tree = [];\r\n    function fn(data) {\r\n      if (data.metadata) {\r\n        let list = _.map(data.metadata, (m, i) => {\r\n          let vas = m.valueAttributes;\r\n          if (hasValueAttributes !== false) {\r\n            if (vas.length > 1) {\r\n              m.children = vas;\r\n              _.each(vas, (v) => {\r\n                v.fieldCaption = m.name + \"(\" + v.name + \")\"\r\n                v.field = m.code + \"_\" + v.code; //m.at.replace(/\\./g, \"_\") + \".\" + m.code + \"_\" + v.code;\r\n                v.id = m.at.replace(/\\./g, \"_\") + \".\" + m.code + \"_\" + v.code;\r\n              })\r\n            } else {\r\n              m.fieldCaption = m.name;\r\n              m.field = m.code; // m.at.replace(/\\./g, \"_\") + \".\" + m.code;\r\n            }\r\n          } else {\r\n            m.fieldCaption = m.name;\r\n            m.field = m.code;\r\n          }\r\n          return m;\r\n        });\r\n        list = list.sort((v1, v2) => {\r\n          return v1.order < v2.order ? -1 : 1;\r\n        });\r\n        data.children = list;\r\n        delete data.metadata;\r\n      }\r\n    }\r\n    return this.$http.get('/rm/list/meta', params)\r\n      .then(({ data }) => {\r\n        let metadatas = data.data;\r\n        for (let i = 0; i < metadatas.length; i++) {\r\n          let data = dsf.mix({}, metadatas[i]);\r\n          fn(data);\r\n          tree.push(data);\r\n        }\r\n        if (params.namespace) {\r\n          tree = _.filter(tree, (v) => {\r\n            return v.ID == params.namespace\r\n          })\r\n        }\r\n        return tree;\r\n      });\r\n  },\r\n   //获取元数据树结构\r\n   getDbSourceFieldsTree(params, hasValueAttributes) {\r\n    let tree = [];\r\n    function fn(data) {\r\n      if (data.metadata) {\r\n        let list = _.map(data.metadata, (m, i) => {\r\n          let vas = m.valueAttributes;\r\n          if (hasValueAttributes !== false) {\r\n            if (vas.length > 1) {\r\n              m.children = vas;\r\n              _.each(vas, (v) => {\r\n                v.fieldCaption = m.name + \"(\" + v.name + \")\"\r\n                v.field = m.code + \"_\" + v.code; //m.at.replace(/\\./g, \"_\") + \".\" + m.code + \"_\" + v.code;\r\n                v.id = m.at.replace(/\\./g, \"_\") + \".\" + m.code + \"_\" + v.code;\r\n              })\r\n            } else {\r\n              m.fieldCaption = m.name;\r\n              m.field = m.code; // m.at.replace(/\\./g, \"_\") + \".\" + m.code;\r\n            }\r\n          } else {\r\n            m.fieldCaption = m.name;\r\n            m.field = m.code;\r\n          }\r\n          return m;\r\n        });\r\n        list = list.sort((v1, v2) => {\r\n          return v1.order < v2.order ? -1 : 1;\r\n        });\r\n        data.children = list;\r\n        delete data.metadata;\r\n      }\r\n    }\r\n    return this.$http.get('/dbsource/rmId', params)\r\n      .then(({ data }) => {\r\n        let metadatas = data.data;\r\n        for (let i = 0; i < metadatas.length; i++) {\r\n          let data = dsf.mix({}, metadatas[i]);\r\n          fn(data);\r\n          tree.push(data);\r\n        }\r\n        if (params.namespace) {\r\n          tree = _.filter(tree, (v) => {\r\n            return v.ID == params.namespace\r\n          })\r\n        }\r\n        return tree;\r\n      });\r\n  },\r\n  //获取系统角色树\r\n  getOuaRulesTree(params) {\r\n    return this.$http.get(\"/oua/getChooseTreeRole\", {})\r\n      .done((res) => {\r\n        return res;\r\n      })\r\n  },\r\n  //获取当前用户所有角色\r\n  getCurrentUserRoles(params) {\r\n    return this.$http.get(\"/oua2/current/user/role\", {})\r\n      .done((res) => {\r\n        return res;\r\n      })\r\n  },\r\n  //登录\r\n  login(params) {\r\n    return this.$http.post('login/login', params).then(({ data }) => {\r\n      return data\r\n    })\r\n  },\r\n  //登出\r\n  loginOut() {\r\n    return this.$http.post('login/loginOut').then(({ data }) => {\r\n      return data\r\n    })\r\n  }\r\n\r\n}","let directives = {\r\n\r\n}\r\n\r\n\r\n\r\nfunction install(Vue) {\r\n  for (let k in directives) {\r\n    Vue.directive(k, directives[k]);\r\n  }\r\n}\r\n\r\nexport default install;\r\n\r\nexport {\r\n  install,\r\n  directives\r\n}","import client from './client';\r\n\r\nexport default {\r\n  pc: {},\r\n  mobile: {},\r\n  openWindow(){\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['openWindow', ...args]);\r\n  },\r\n  openDialog() {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['openDialog', ...args]);\r\n  },\r\n  message() {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['message', ...args]);\r\n  },\r\n  loading() {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['loading', ...args]);\r\n  },\r\n  closeLoading() {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['closeLoading', ...args]);\r\n  },\r\n  alert() {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['alert', ...args]);\r\n  },\r\n  confirm: function() {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['confirm', ...args]);\r\n  },\r\n  prompt: function() {\r\n    let args = Array.prototype.slice.call(arguments);\r\n    return proxyFunction.apply(this, ['prompt', ...args]);\r\n  },\r\n}\r\n\r\nfunction proxyFunction() {\r\n  let args = Array.prototype.slice.call(arguments);\r\n  let key = \"\";\r\n  if (client.PC()) {\r\n    key = 'pc'\r\n  } else if (client.Mobile()) {\r\n    key = 'mobile'\r\n  }\r\n  let fnName = args[0];\r\n  if (key && dsf.layer[key][fnName]) {\r\n    return dsf.layer[key][fnName].apply(this, args.slice(1));\r\n  }\r\n  return null;\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAABzElEQVQ4EbWVv0oDQRDGvw0WAYsQCw1G/FMJqVIIoqWdEUnwLbQLFnaKdlbp9BUsxCSC8Q0UUTCVYCVKclgpIsEUknW+3duQICFnLn4wt3uzc7/d252bU+ghrXVchrK+paSd9EM9aR/EyjSl1Lvv72pU153cCDAqTR6t7x3UKzHULoG3KtB8taHRBDCWBqZWgWTmA5GRQxkoyARNG2CvXWCBJsVdQu1iAdV9oPHcGfu7PzoDpPdkkrU7GcwJvO6C2mAL1TeoHiTxeOTGg7XzWzLBrkDVooNH+KT/+qWBoARwIVyQvK3PggGLI29e/68rJdSJz3ILyRIpmSEuB/WEynKs7546SK+We5654oHOccVZc/r9DqoXrNNPBjNJmBbMlBqWLMuAUyZPHTixAqzfW2OfCupjLHMeSDEjPvXprNYn49Yadd1qaWNa+sYf1EcGWcLkVgxZ9tMg2AM/U6fbbagvzxikbxTUx+DoBK8e062I680cXs7oCK/pDWDpuMgVl01BCY+0BBYn4NyCWaWY3GFFBlmy2Iippyx9rFJhRYawyHRZUTClj1VqUPFZWz4LRPxb2WyDOYtkyPALPcGUwIf/a7Joe5UJQv1MfwDQORF8pgSL/wAAAABJRU5ErkJggg==\"","<template>\r\n  <div v-show=\"loaded\" class=\"full-view\">\r\n    <!-- <div ref=\"pageloader\"></div> -->\r\n    <component :is=\"'PreviewLayout'\" v-if=\"loaded\" class=\"page-head-font-fixed\" />\r\n  </div>\r\n</template>\r\n<script>\r\n// import func from '../../../vue-temp/vue-editor-bridge';\r\n// import template from './template';\r\n// import sysButton from '_platform/dsf/pc/sysButton';\r\n\r\nexport default {\r\n  name: \"DsfPreView\",\r\n  props: {\r\n    mobile: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      layout: {},\r\n      loaded: false,\r\n      templateStr: \"\",\r\n      domTree: null\r\n    };\r\n  },\r\n  created() { },\r\n  mounted() {\r\n    this.loadLayout();\r\n  },\r\n  destroyed() {\r\n    if (this.domTree) {\r\n      this.domTree.$destroy();\r\n    }\r\n  },\r\n  methods: {\r\n    loadLayout() {\r\n      let context = dsf.storage.session.get(\"layoutContent\");// window.localStorage.getItem(\"layoutContent\");\r\n      let dom = $(\"<context>\" + context + \"</context>\");\r\n      let scriptNode = dom.children(\"script[id='layout']\");\r\n      let code = [\"var layout=\" + $.trim(scriptNode.html()) + \";\", \"return layout\"];\r\n      let getData = new Function(code.join(\"\\n\"));\r\n      let layoutData = dsf.fillComponentDefaultProps(getData());\r\n      layoutData[\"module-name\"] = layoutData.context.B + \".\" + layoutData.context.M + \".\" + layoutData.name;\r\n      let result = dsf.designer.convertTemplateAndControlData(layoutData, true);\r\n      let tpl = result.tpl;\r\n      let pageRender = Vue.compile(tpl);\r\n      let options = getViewMixin.call(this, layoutData, result.props, pageRender.render);\r\n      // let DomTree = Vue.extend(options);\r\n      // this.domTree = new DomTree().$mount(this.$refs.pageloader);\r\n      // Vue.component('PreviewLayout',options)\r\n      this.$options.components['PreviewLayout'] = options\r\n      this.loaded = true;\r\n      this.$nextTick(() => {\r\n        //重置页面尺寸\r\n        dsf.resizeComponent();\r\n      })\r\n    }\r\n  }\r\n};\r\n\r\nfunction getViewMixin(layout, props, renderFn) {\r\n  let base = {\r\n    render: renderFn,\r\n    name: \"PreviewLayout\",\r\n    inject: {\r\n      $parentView: {\r\n        default: null\r\n      },\r\n      $frame: {\r\n        default: null\r\n      }\r\n    },\r\n    provide() {\r\n      return {\r\n        $vm: this,\r\n        $parentView: this\r\n      }\r\n    },\r\n    mixins: [],\r\n    data() {\r\n      return {\r\n        context: {\r\n          $$viewInitData: {},\r\n          $$viewData: {},\r\n          $$enum: {}\r\n        },\r\n        $$controls: props,\r\n        isPreView: true,\r\n        frames: {},\r\n        _isLoaded: false,\r\n        loading: false,\r\n        metadataDict: {},\r\n        flows: {}\r\n      };\r\n    },\r\n    props: {\r\n      queryString: {\r\n        type: Object,\r\n        default() {\r\n          return {};\r\n        }\r\n      },\r\n      choiceParams: {\r\n        type: Object,\r\n        default() {\r\n          return null;\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      $page() {\r\n        return this.$refs.page;\r\n      },\r\n      $viewData() {\r\n        return this.context.$$viewData || {};\r\n      },\r\n      $viewInitData() {\r\n        return this.context.$$viewInitData;\r\n      },\r\n      $enum() {\r\n        return this.context.$$enum;\r\n      },\r\n      $dataKey() {\r\n        let params = this.queryString;\r\n        return params ? params.id : \"\";\r\n      },\r\n      $controls() {\r\n        return this._data.$$controls;\r\n      },\r\n      $isLoaded() {\r\n        return this.$data._isLoaded;\r\n      },\r\n      $keepAlive() {\r\n        return false\r\n      }\r\n    },\r\n    created() {\r\n      if (this.$parentView && this.$frame) {\r\n        let name = this.$frame.caption || this.$frame.$attrs.id;\r\n        if (name) {\r\n          this.$parentView.frames[this.$frame.caption].content = this;\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$data._isLoaded = true;\r\n      this.$nextTick(() => {\r\n        window.preViewRef = this.$refs;\r\n        window.__preView = this;\r\n      })\r\n\r\n    },\r\n    beforeDestroy() {\r\n    },\r\n    methods: {\r\n      $clone(obj) {\r\n        return JSON.parse(JSON.stringify(obj));\r\n      },\r\n      $proxyFn() {\r\n        let args = Array.prototype.slice.call(arguments, 1);\r\n        let fnName = arguments[0];\r\n        this[fnName] && this[fnName].apply(this, args);\r\n      },\r\n      $getDefaultValue() {\r\n      },\r\n      $dataFormat(k, params, v) {\r\n        if (params) {\r\n          let filter = Vue.filter(k);\r\n          if (filter) {\r\n            return filter(v, params);\r\n          }\r\n        }\r\n        return v;\r\n      },\r\n      updateControlPropsInTemplate(designId, scope) {\r\n        let key = designId + \"-\" + scope.row.$hash;\r\n        let props = null;\r\n        if (!this.$controls[key]) {\r\n          props = this.$clone(this.$controls[designId])\r\n          this.$set(this.$controls, key, props);\r\n        } else {\r\n          props = this.$controls[key];\r\n        }\r\n        if (scope._self.updateControlPropsInTemplate) {\r\n          props = scope._self.updateControlPropsInTemplate(props, scope);\r\n        }\r\n        if (this.$updateControlPropsInTemplate) {\r\n          props = this.$updateControlPropsInTemplate(props, scope);\r\n        }\r\n        return props;\r\n      },\r\n      $updateControlPropsInTemplate(ctrlProps) {\r\n        return ctrlProps;\r\n      }\r\n    }\r\n  };\r\n  if (layout.pageType == 'form' || layout.pageType == 'question') {\r\n    base.mixins.push(window.$$form)\r\n  }\r\n  return base;\r\n}\r\n</script>\r\n","import * as types from './mutation-types';\r\n\r\nexport default {\r\n}","export default {};","const demo = {\r\n  namespaced: true,\r\n  state: {\r\n    data: \"\"\r\n  },\r\n  mutations: {\r\n    demo() {\r\n      console.log(\"aaaa\");\r\n    }\r\n  },\r\n  actions: {},\r\n  getters: {}\r\n}\r\n\r\nexport default demo","const flow = {\r\n  namespaced: true,\r\n  state: {\r\n    page: {\r\n      width: 0,\r\n      height: 0,\r\n      top: 60,\r\n      left: 250,\r\n      right: 250,\r\n      scale: 1\r\n    },\r\n    svgRoot: {\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      scrollLeft: 0,\r\n      scrollTop: 0,\r\n    },\r\n    lanes: {\r\n      vertical: [],\r\n      horizontal: [],\r\n      height: 30,\r\n      width: 30,\r\n    },\r\n    LaneDirection: {\r\n      \"vertical\": \"vertical\",\r\n      \"horizontal\": \"horizontal\"\r\n    },\r\n    allPoints: {},\r\n    selectedList: []\r\n  },\r\n  mutations: {\r\n    setPage(state, options) {\r\n      state.page = Object.assign(state.page, options);\r\n    },\r\n    setSvgRoot(state, options) {\r\n      state.svgRoot = Object.assign(state.svgRoot, options);\r\n    },\r\n    addLane(state, options) {\r\n      if (options.index > -1) {\r\n        state.lanes[options.direction].splice(options.index, 0, options.lane);\r\n      } else {\r\n        state.lanes[options.direction].push(options.lane);\r\n      }\r\n      this.commit('flow/reloadLanes', options.direction);\r\n    },\r\n    deleteLane(state, checked) {\r\n      const index = state.lanes[checked.direction].indexOf(checked);\r\n      if (index > -1) {\r\n        state.lanes[checked.direction].splice(index, 1);\r\n      }\r\n      this.commit('flow/reloadLanes', checked.direction);\r\n    },\r\n    changeLane(state, lane) {\r\n      state.lanes[lane.direction].forEach((item) => {\r\n        if (item.id === lane.id) {\r\n          item = Object.assign(item, lane);\r\n        }\r\n      });\r\n      this.commit('flow/reloadLanes', lane.direction);\r\n    },\r\n    reloadLanes(state, direction) {\r\n      let before;\r\n      if (direction === state.LaneDirection.vertical) {\r\n        state.lanes[direction].forEach((lane) => {\r\n          lane.left = before ? before.size + before.left : 0;\r\n          before = lane;\r\n        });\r\n      } else {\r\n        state.lanes[direction].forEach((lane) => {\r\n          lane.top = before ? before.size + before.top : 0;\r\n          before = lane;\r\n        });\r\n      }\r\n    },\r\n    setPointsByNode(state, { node, obj } = options) {\r\n      // 一般节点/自动流 暂定横向8个点 纵向3个点 如不够 后面修改\r\n      let points = [];\r\n      if (node.sort === 'task') {\r\n        let nodeWidth, nodeHeight;\r\n        const hide = node.open && !node.open.show;\r\n        nodeWidth = hide ? node.open.width : node.width;\r\n        nodeHeight = hide ? node.open.height : node.height;\r\n        // x轴能放的个数\r\n        const xAll = parseInt((nodeWidth + obj.width) / obj.width);\r\n        // 计算x轴每个之间的间距\r\n        const xPadding = parseInt((nodeWidth + obj.width) % obj.width / (xAll > 2 ? (xAll - 2) : 1));\r\n        // y轴能放的个数\r\n        const yAll = parseInt((nodeHeight + obj.height) / obj.height);\r\n        // 计算y轴每个之间的间距\r\n        const yPadding = parseInt((nodeHeight + obj.height) % obj.height / (yAll > 2 ? (yAll - 2) : 1));\r\n        // 计算横轴的坐标\r\n        for (let i = 0; i < xAll; i++) {\r\n          // 上面坐标\r\n          points.push({\r\n            point: {\r\n              x: (node.point.x + i * xPadding + obj.width * (i - 1 / 2)) * state.page.scale,\r\n              y: (node.point.y - obj.img.width * 1 / 2) * state.page.scale,\r\n            },\r\n            index: i,\r\n            direction: 'top'\r\n          });\r\n          // 下面坐标\r\n          points.push({\r\n            point: {\r\n              x: (node.point.x + i * xPadding + obj.width * (i - 1 / 2)) * state.page.scale,\r\n              y: (node.point.y + nodeHeight - obj.img.width * 1 / 2) * state.page.scale,\r\n            },\r\n            index: i,\r\n            direction: 'bottom'\r\n          });\r\n        }\r\n\r\n        // 计算横轴的坐标 舍弃四个角落的点\r\n        for (let j = 1; j < yAll - 1; j++) {\r\n          // 左边坐标\r\n          points.push({\r\n            point: {\r\n              x: (node.point.x - obj.height * 1 / 2) * state.page.scale,\r\n              y: (node.point.y + yPadding + obj.height * (j - 1 / 2)) * state.page.scale,\r\n            },\r\n            index: j,\r\n            direction: 'left'\r\n          });\r\n          // 右边坐标\r\n          points.push({\r\n            point: {\r\n              x: (node.point.x + nodeWidth - obj.height * 1 / 2) * state.page.scale,\r\n              y: (node.point.y + yPadding + obj.height * (j - 1 / 2)) * state.page.scale,\r\n            },\r\n            index: j,\r\n            direction: 'right'\r\n          });\r\n        }\r\n      }\r\n      // return points;\r\n      state.allPoints[node.id] = points;\r\n    },\r\n    addPoint(state, { id, obj } = options) {\r\n      state.allPoints[id] && state.allPoints[id].push(obj);\r\n    },\r\n    deletePoint(state, { id, index } = options) {\r\n      state.allPoints[id] && state.allPoints[id].splice(index, 1);\r\n    },\r\n    clearPoints(state) {\r\n      state.allPoints = {};\r\n    },\r\n    setSelectedList(state, list) {\r\n      state.selectedList = list;\r\n    },\r\n    addSelected(state, item) {\r\n      state.selectedList.push(item);\r\n    },\r\n    deleteSelected(state, index) {\r\n      index > -1 && state.selectedList.splice(index, 1);\r\n    },\r\n  },\r\n  actions: {},\r\n  getters: {\r\n    lanes: (state, direction) => {\r\n      return state.lanes[direction];\r\n    },\r\n    lanesWidth: (state) => {\r\n      return state.lanes.horizontal.length > 0 ? state.lanes.width : 0;\r\n    },\r\n    lanesHeight: (state) => {\r\n      return state.lanes.vertical.length > 0 ? state.lanes.height : 0;\r\n    },\r\n    getMousePointByCanvas: (state, store) => (mouseEvent) => {\r\n      let x = mouseEvent.x;\r\n      let y = mouseEvent.y;\r\n      let svgRootOffset = store.getSvgOffset;\r\n      x = x - state.page.left - svgRootOffset.left + state.svgRoot.scrollLeft;\r\n      y = y - state.page.top - svgRootOffset.top + state.svgRoot.scrollTop;\r\n      return {\r\n        x: x,\r\n        y: y,\r\n      };\r\n    },\r\n    getSvgOffset: (state) => {\r\n      const left = (state.lanes.horizontal && state.lanes.horizontal.length > 0) ? state.lanes.width : 0;\r\n      const top = (state.lanes.vertical && state.lanes.vertical.length > 0) ? state.lanes.height : 0;\r\n      var svgRootOffset = {\r\n        top: Math.abs(parseFloat(top || 0)),\r\n        left: Math.abs(parseFloat(left || 0)),\r\n      };\r\n      return svgRootOffset;\r\n    },\r\n    getMousePointByPoint: (state, store) => (point) => {\r\n      let x = point.x;\r\n      let y = point.y;\r\n      let svgRootOffset = store.getSvgOffset;\r\n      x = x + state.page.left + svgRootOffset.left - state.svgRoot.scrollLeft;\r\n      y = y + state.page.top + svgRootOffset.top - state.svgRoot.scrollTop;\r\n      return {\r\n        x: x,\r\n        y: y,\r\n      };\r\n    },\r\n    getPoints: (state) => (id) => {\r\n      return state.allPoints[id];\r\n    }\r\n  }\r\n}\r\n\r\nexport default flow","const seatDesign = {\r\n  namespaced: true,\r\n  state: {\r\n    //整个排座窗口的大小\r\n    compelPanelSize: {\r\n      width: null,\r\n      height: null\r\n    },\r\n\r\n    //画布的大小/缩放/位置\r\n    panelSize: {\r\n      width: null,\r\n      height: null,\r\n      scale: 1,\r\n      left: 0,\r\n      top: 0,\r\n    },\r\n\r\n    //新增的座位\r\n    newSeatItem: {\r\n      id: null,\r\n      pageX: null,\r\n      pageY: null\r\n    },\r\n\r\n    //被激活的 seat/group id\r\n    activeId: \"\"  ,\r\n\r\n    //鼠标框选的信息\r\n    regionPosition: {},\r\n\r\n    //seat对应的右侧属性\r\n    seatInfo:{},\r\n\r\n    //新增的group\r\n    newGroupItem:{\r\n      id: null\r\n    },\r\n\r\n    //被激活的group\r\n    activeGroup: {}\r\n  },\r\n  mutations: {\r\n    \"changeCompelPanelSize\"(state, styObj) {\r\n      state.compelPanelSize = styObj\r\n    },\r\n\r\n    \"changePanelSize\"(state, data){\r\n      state.panelSize = data\r\n    },\r\n\r\n    \"addSeat2Panel\"(state, seat){\r\n      state.newSeatItem = seat\r\n    },\r\n\r\n    \"changeActiveId\"(state, id){\r\n      state.activeId = id;\r\n    },\r\n\r\n    \"changeRegionPosition\"(state, region){\r\n      state.regionPosition = region\r\n    },\r\n\r\n    \"changeSeatInfo\"(state, info){\r\n      state.seatInfo = info\r\n    },\r\n\r\n    \"addGroup2Panel\"(state, group){\r\n      state.newGroupItem = group\r\n    }\r\n\r\n  },\r\n  actions: {},\r\n  getters: {}\r\n}\r\n\r\nexport default seatDesign","import demo from \"./demo\";\r\nimport flow from \"./flow\";\r\nimport seatDesign from \"_platform/dsf/store/seatDesign\";\r\n\r\nexport default {\r\n  demo,\r\n  flow,\r\n  seatDesign,\r\n};\r\n","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport mutations from './mutation';\r\nimport actions from './actions';\r\n\r\n//注入平台层vuex模块\r\nimport _platformStoreModules from '_platform/dsf/store';\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {},\r\n  mutations,\r\n  actions,\r\n  modules: {\r\n    ..._platformStoreModules\r\n  }\r\n});","let noopHooks = function(data, next) {\r\n  next();\r\n};\r\n\r\nlet createWatcher = function($vm, key, callback, options) {\r\n  return $vm.$watch(function() {\r\n    try {\r\n      return dsf.express.eval(\"{{\" + key + \"}}\", $vm.$viewData);\r\n    } catch (ex) {\r\n      return undefined;\r\n    }\r\n  }, callback, options);\r\n}\r\n\r\nexport default {\r\n  inheritAttrs: false,\r\n  inject: {\r\n    $parentView: {\r\n      default: null\r\n    },\r\n    $frame: {\r\n      default: null\r\n    },\r\n    $dialog: {\r\n      default: null\r\n    },\r\n    $isMobile: {\r\n      default: false\r\n    }\r\n  },\r\n  provide() {\r\n    return {\r\n      $vm: this,\r\n      $parentView: this,\r\n      $choiceParams: this.choiceParams\r\n    }\r\n  },\r\n  props: {\r\n    nameSpace: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    pageName: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    queryString: {\r\n      type: Object,\r\n      default () {\r\n        return {};\r\n      }\r\n    },\r\n    choiceParams: {\r\n      type: Object,\r\n      default () {\r\n        return null;\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      context: {\r\n        $$viewInitData: {},\r\n        $$viewData: {},\r\n        $$enum: {}\r\n      },\r\n      frames: {},\r\n      _isLoaded: false,\r\n      isLayoutView: true,\r\n      metadataDict: {},\r\n      loading: false,\r\n      flows: {},\r\n      $forceReadOnly: false,\r\n      $formWatchs: [],\r\n      $choice: null,\r\n      $isDestroyed: false,\r\n      $isReady: false\r\n    }\r\n  },\r\n  computed: {\r\n    $page() {\r\n      return this.$refs.page;\r\n    },\r\n    $viewData() {\r\n      return this.context.$$viewData;\r\n    },\r\n    $viewInitData() {\r\n      return this.context.$$viewInitData;\r\n    },\r\n    $enum() {\r\n      return this.context.$$enum;\r\n    },\r\n    $dataKey() {\r\n      let params = this.queryString;\r\n      return params ? params.id : \"\";\r\n    },\r\n    $isLoaded() {\r\n      return this.$data._isLoaded;\r\n    },\r\n    //页面是否被keepAlive,返回page组件的isKeepAlive属性\r\n    $keepAlive() {\r\n      return this.$data.$$keepAlive || false;\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    this.$dialogArgs = null;\r\n    this.$openerVm = null;\r\n    try {\r\n      if (window.opener) {\r\n        if (window.opener.dialogArgs[window.name]) {\r\n          this.$dialogArgs = JSON.parse(window.opener.dialogArgs[window.name]) || null;\r\n        }\r\n        if (window.opener.openerVms[window.name]) {\r\n          this.$openerVm = window.opener.openerVms[window.name] || null;\r\n        }\r\n      } else if (this.$dialog) {\r\n        this.$dialogArgs = this.$dialog.dialogArgs || null;\r\n        this.$openerVm = this.$dialog.openerVm;\r\n      }\r\n    } catch (ex) {\r\n      return null;\r\n    }\r\n  },\r\n  created() {\r\n    this.$data.$forceReadOnly = this.queryString.isview == \"1\";\r\n    if (this.$frame) {\r\n      this.$frame.content = this;\r\n    }\r\n  },\r\n  updated() {\r\n    // console.log(\"更新页面\")\r\n  },\r\n  activated() {},\r\n  deactivated() {},\r\n  mounted() {\r\n    if (this.isMobile) {\r\n      window.setTimeout(() => {\r\n        this.$init();\r\n      }, 300)\r\n    } else {\r\n      this.$init();\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    // console.log(\"销毁\")\r\n    this.$data.$isDestroyed = true;\r\n    this.context.$$viewData = null;\r\n    this.context.$$viewInitData = null;\r\n    this.$data.$choice = null;\r\n    for (let k in this.$frames) {\r\n      this.$delete(this.frames, k);\r\n    }\r\n    if (this.$frame) {\r\n      delete this.$frame.content;\r\n    }\r\n    _.eachRight(this.$data.$formWatchs, (uw, i) => {\r\n      uw();\r\n      this.$data.$formWatchs.splice(i, 1);\r\n    });\r\n    this.$dialogArgs = null;\r\n    this.$openerVm = null;\r\n  },\r\n  methods: {\r\n    //初始化页面\r\n    $init() {\r\n      // let loading = dsf.layer.pc.loading();\r\n      let viewData = null;\r\n      new Promise(resolve => { resolve(); })\r\n        .then(() => {\r\n          if (!this.$data.$isDestroyed) {\r\n            //获取页面初始化数据\r\n            return this.$initData();\r\n          }\r\n        })\r\n        .then(response => {\r\n          if (!this.$data.$isDestroyed) {\r\n            //执行初始化数据完成的钩子函数\r\n            let inited = this.$options.inited || noopHooks;\r\n            return promiseFn(inited).call(this, response ? response.data : {});\r\n          }\r\n        })\r\n        .then(data => {\r\n          if (!this.$data.$isDestroyed) {\r\n            let _this = this;\r\n            _this.context.$$viewInitData = data;\r\n            initEnum.call(this);\r\n            viewData = initControls.call(this);\r\n            //将页面显示出来\r\n            this.$data._isLoaded = true;\r\n            if (_this.$loadData) {\r\n              //如果存在主键参数则加载表单数据\r\n              return _this.$loadData(this.nameSpace);\r\n            }\r\n          }\r\n        })\r\n        .then(response => {\r\n          if (!this.$data.$isDestroyed) {\r\n            //执行查询表单数据完成的钩子\r\n            let dataLoaded = this.$options.dataLoaded || noopHooks;\r\n            return promiseFn(dataLoaded).call(this, response ? response.data : {});\r\n          }\r\n        })\r\n        .then(data => {\r\n          if (!this.$data.$isDestroyed) {\r\n            let _this = this;\r\n            dsf.log(\"开始为表单进行赋值了\");\r\n            if (data) {\r\n              dsf.mix(viewData, data);\r\n            }\r\n            _this.context.$$viewData = viewData;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          if (dsf.type(err) == 'string') {\r\n            dsf.layer.pc.message(err, false);\r\n          } else if (dsf.type(err) == 'object' && err.message) {\r\n            dsf.layer.pc.message(err.message, false);\r\n          } else if (dsf.type(err) == \"error\") {\r\n            // dsf.layer.pc.message('程序出现异常', false);\r\n            dsf.error(err);\r\n          }\r\n        })\r\n        .finally(() => {\r\n          // this.loading=false;\r\n          this.$nextTick(() => {\r\n            //重置页面和下级组件的宽高\r\n            let ready = this.$options.ready;\r\n            ready && ready.call(this);\r\n            this.$data.$isReady = true;\r\n            // 注册二次开发的监听器\r\n            // 监听的表单值\r\n            let formWatch = this.$options.formWatch || {};\r\n\r\n            for (let key in formWatch) {\r\n              let item = formWatch[key];\r\n              let fn, options = {};\r\n              if (dsf.type(item) == 'function') {\r\n                fn = item.bind(this);\r\n              } else if (dsf.type(item) == 'object') {\r\n                if (!item.handler || dsf.type(item.handler) !== 'function') {\r\n                  break;\r\n                }\r\n                fn = item.handler.bind(this);\r\n                if (item.deep) {\r\n                  options.deep = true;\r\n                }\r\n                if (item.immediate) {\r\n                  options.immediate = true;\r\n                }\r\n              } else {\r\n                break;\r\n              }\r\n              let unwatch = createWatcher(this, key, fn, options);\r\n              this.$data.$formWatchs.push(unwatch);\r\n            }\r\n          });\r\n        });\r\n    },\r\n    //调用初始化接口\r\n    $initData() {\r\n      return new Promise((resolve, reject) => {\r\n        let params = dsf.mix({\r\n            pageName: this.pageName,\r\n            namespace: this.nameSpace\r\n          },\r\n          this.queryString\r\n        );\r\n        this.$http.get(\"/meta/init\", params)\r\n          .done(data => {\r\n            resolve(data);\r\n          })\r\n          .error(err => {\r\n            reject({ message: err.message });\r\n          });\r\n      });\r\n    },\r\n    $getDefaultValue(key) {\r\n      if (dsf.isDef(this.$viewInitData[key]) && dsf.isDef(this.$viewInitData[key].defaultValue)) {\r\n        let v = this.$viewInitData[key].defaultValue;\r\n        let type = dsf.type(v)\r\n        if (type == 'object' || type == 'array') {\r\n          v = dsf.mix(true, type == 'object' ? {} : [], v);\r\n        }\r\n        return v;\r\n      }\r\n    },\r\n    $proxyFn() {\r\n      let args = Array.prototype.slice.call(arguments, 1);\r\n      let fnName = arguments[0];\r\n      this[fnName] && this[fnName].apply(this, args);\r\n    },\r\n    $dataFormat(k, params, v) {\r\n      if (params) {\r\n        let filter = Vue.filter(k);\r\n        if (filter) {\r\n          return filter(v, params);\r\n        }\r\n      }\r\n      return v;\r\n    },\r\n    $clone(obj) {\r\n      return JSON.parse(JSON.stringify(obj))\r\n    },\r\n    reset() {\r\n      for (let k in this.$refs) {\r\n        if (this.$refs[k] && this.$refs[k].reset) {\r\n          this.$refs[k].reset();\r\n        }\r\n      }\r\n    },\r\n    reloadData() {\r\n      for (let k in this.$refs) {\r\n        if (this.$refs[k] && this.$refs[k].reloadData) {\r\n          this.$refs[k].reloadData();\r\n        }\r\n      }\r\n    },\r\n    //返回$choice中组件的选中对象\r\n    yes() {\r\n      let result = this.$data.$choice.getReturnValue();\r\n      return result;\r\n    },\r\n    //获取所在作用域的元数据字典\r\n    getScopeMetaDataDict(component) {\r\n      if (dsf.isEmptyObject(this.metadataDict)) {\r\n        return {};\r\n      }\r\n      let metadata = component.metadata;\r\n      if (!metadata || !component.metadata_fullcode) {\r\n        return {};\r\n      }\r\n      let fullCode = component.metadata_fullcode;\r\n      if (this.metadataDict[fullCode]) {\r\n        if (this.metadataDict[fullCode].inSubTable) {\r\n          let result = {};\r\n          _.each(this.metadataDict, (el, i) => {\r\n            if (el.inSubTable === this.metadataDict[fullCode].inSubTable) {\r\n              result[i] = el;\r\n            }\r\n          });\r\n          return result;\r\n        } else {\r\n          let result = {}\r\n          _.each(this.metadataDict, (el, i) => {\r\n            if (dsf.isUnDef(el.inSubTable)) {\r\n              result[i] = el;\r\n            }\r\n          });\r\n          return result;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $isLoaded: {\r\n      handler(nv, ov) {\r\n        if (nv != ov && nv === true) {\r\n          this.$nextTick(() => {\r\n            //调用布局resize\r\n            dsf.resizeComponent(this.$page);\r\n            this.$emit(\"inited\", this);\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n//将方法转换为promise方法\r\nfunction promiseFn(fn) {\r\n  return function() {\r\n    let _array = Array.prototype.slice.call(arguments);\r\n    let self = this;\r\n    return new Promise((resolve, reject) => {\r\n      let next = mark => {\r\n        if (mark === false) {\r\n          reject.apply(null, _array);\r\n        } else {\r\n          resolve.apply(null, _array);\r\n        }\r\n      };\r\n      fn.apply(self, _array.concat([next]));\r\n    });\r\n  };\r\n}\r\n\r\nfunction initEnum() {\r\n  for (let k in this.context.$$viewInitData) {\r\n    let d = this.context.$$viewInitData[k];\r\n    if (d && d.dataSource) {\r\n      this.$set(this.context.$$enum, k, d.dataSource);\r\n    }\r\n  }\r\n}\r\n\r\nfunction initControls() {\r\n  let vd = {};\r\n  let controls = this.$controls;\r\n  let initData = this.$viewInitData;\r\n  for (let k in controls) {\r\n    let ctrl = controls[k];\r\n    //如果isview=1页面只读\r\n    if (ctrl.isFormControl && this.$data.$forceReadOnly) {\r\n      ctrl.readOnly = true;\r\n    }\r\n    if (ctrl.metadata) {\r\n      let key = ctrl.metadata_fullcode;\r\n      if (ctrl.metadata.level == 0) {\r\n        if (initData[key]) {\r\n          //将默认值赋予viewData\r\n          if (dsf.isDef(this.$getDefaultValue(key))) {\r\n            vd[ctrl.metadata_fullcode] = this.$getDefaultValue(key);\r\n          }\r\n        }\r\n      } else if (ctrl.metadata.level == 1 && ctrl.isOneToMany) {\r\n        if (dsf.isDef(this.$getDefaultValue(key))) {\r\n          vd[ctrl.metadata_fullcode] = this.$getDefaultValue(key);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return vd;\r\n}","var map = {\n\t\"./status-2.png\": \"de9c\",\n\t\"./status-3.png\": \"1139\",\n\t\"./status-4.png\": \"aa9e\",\n\t\"./status0.png\": \"4f8f\",\n\t\"./status1.png\": \"8402\",\n\t\"./status2.png\": \"6a5b\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"5fdb\";","/**\r\n * 简易的Storage工具\r\n * @type {Storage}\r\n */\r\n\r\nconst sessionStorage = window.sessionStorage;\r\nconst localStorage = window.localStorage;\r\n\r\nfunction createStorage (storage) {\r\n  return {\r\n    set (key, value) {\r\n      storage.setItem(key, JSON.stringify({\r\n        __dsfStorageValue: value\r\n      }));\r\n    },\r\n    get (key, defaultValue = null) {\r\n      let value = storage.getItem(key);\r\n      if (!value) {\r\n        return defaultValue;\r\n      }\r\n      value = JSON.parse(value);\r\n      if (value && Object.keys(value).indexOf('__dsfStorageValue') > -1) {\r\n        return value.__dsfStorageValue;\r\n      }\r\n      return defaultValue;\r\n    },\r\n    remove (key) {\r\n      storage.removeItem(key);\r\n    },\r\n    clear () {\r\n      storage.clear();\r\n    },\r\n    has (key) {\r\n      let value = storage.getItem(key);\r\n      if (!value) {\r\n        return false;\r\n      }\r\n      value = JSON.parse(value);\r\n      return !!(value && Object.keys(value).indexOf('__dsfStorageValue') > -1);\r\n    },\r\n    length () {\r\n      return storage.length;\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  session: createStorage(sessionStorage),\r\n  local: createStorage(localStorage)\r\n}","module.exports = __webpack_public_path__ + \"static/img/default-header.png\";","\r\n//修复低版本浏览器本身的jsapi功能缺失的缺陷\r\n//增加string的trim函数\r\nif (typeof String.prototype.trim != \"function\") {\r\n  String.prototype.trim=function(){\r\n    let emptyBlockReg = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\r\n    return this.replace(emptyBlockReg,'');\r\n  }\r\n}\r\n//增加string的startsWith\r\nif (typeof String.prototype.startsWith != \"function\") {\r\n  String.prototype.startsWith = function (prefix) {\r\n    return this.slice(0, prefix.length) === prefix;\r\n  };\r\n}\r\n\r\n//增加string的endsWith\r\nif (typeof String.prototype.endsWith != \"function\") {\r\n  String.prototype.endsWith = function (suffix) {\r\n    return this.indexOf(suffix, this.length - suffix.length) !== -1;\r\n  };\r\n}\r\n//兼容低版本浏览器没有forEach\r\nif (typeof Array.prototype.forEach != \"function\") {\r\n  Array.prototype.forEach = function (callback) {\r\n    for (var i = 0; i < this.length; i++) {\r\n      callback(this[i], i);\r\n    }\r\n  };\r\n}\r\n//兼容低版本浏览器没有filter函数\r\nif (typeof Array.prototype.filter != \"function\") {\r\n  Array.prototype.filter = function (callback) {\r\n    var result = [];\r\n    for (var i = 0; i < this.length; i++) {\r\n      var r = callback(this[i]);\r\n      if (r === true) {\r\n        result.push(this[i]);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n}\r\n//兼容低版本浏览器没有classList\r\nif (!(\"classList\" in document.documentElement)) {\r\n  Object.defineProperty(HTMLElement.prototype, \"classList\", {\r\n    get: function () {\r\n      var self = this;\r\n\r\n      function update(fn) {\r\n        return function (value) {\r\n          var classes = self.className.split(/\\s+/g),\r\n            index = classes.indexOf(value);\r\n\r\n          fn(classes, index, value);\r\n          self.className = classes.join(\" \");\r\n        };\r\n      }\r\n\r\n      return {\r\n        add: update(function (classes, index, value) {\r\n          if (!~index) classes.push(value);\r\n        }),\r\n\r\n        remove: update(function (classes, index) {\r\n          if (~index) classes.splice(index, 1);\r\n        }),\r\n\r\n        toggle: update(function (classes, index, value) {\r\n          if (~index) classes.splice(index, 1);\r\n          else classes.push(value);\r\n        }),\r\n\r\n        contains: function (value) {\r\n          return !!~self.className.split(/\\s+/g).indexOf(value);\r\n        },\r\n\r\n        item: function (i) {\r\n          return self.className.split(/\\s+/g)[i] || null;\r\n        }\r\n      };\r\n    }\r\n  });\r\n}\r\n\r\n//兼容元素没有matches函数\r\nif (!Element.prototype.matches) {\r\n  Element.prototype.matches =\r\n    Element.prototype.matchesSelector ||\r\n    Element.prototype.mozMatchesSelector ||\r\n    Element.prototype.msMatchesSelector ||\r\n    Element.prototype.oMatchesSelector ||\r\n    Element.prototype.webkitMatchesSelector ||\r\n    function (s) {\r\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\r\n        i = matches.length;\r\n      // eslint-disable-next-line no-empty\r\n      while (--i >= 0 && matches.item(i) !== this) {}\r\n      return i > -1;\r\n    };\r\n}\r\n\r\n//兼容IE无toBlob\r\nif (!HTMLCanvasElement.prototype.toBlob) {\r\n  Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\r\n    value: function (callback, type, quality) {\r\n      var canvas = this;\r\n      setTimeout(function() {\r\n        var binStr = atob( canvas.toDataURL(type, quality).split(',')[1] );\r\n        var len = binStr.length;\r\n        var arr = new Uint8Array(len);\r\n        for (var i = 0; i < len; i++) {\r\n          arr[i] = binStr.charCodeAt(i);\r\n        }\r\n \r\n        callback(new Blob([arr], { type: type || 'image/png' }));\r\n      });\r\n    }\r\n  });\r\n}","let ua= navigator.userAgent; //取得浏览器的userAgent字符串\r\n\r\nfunction checkBrowser() {\r\n  const isOpera = ua.indexOf(\"Opera\") > -1; //判断是否Opera浏览器\r\n  const isIE = ua.indexOf(\"compatible\") > -1\r\n    && ua.indexOf(\"MSIE\") > -1 && !isOpera; //判断是否IE浏览器\r\n  const isEdge = ua.indexOf(\"Edge\") > -1; //判断是否IE的Edge浏览器\r\n  const isFF = ua.indexOf(\"Firefox\") > -1; //判断是否Firefox浏览器\r\n  const isSafari = ua.indexOf(\"Safari\") > -1\r\n    && ua.indexOf(\"Chrome\") === -1; //判断是否Safari浏览器\r\n  const isChrome = ua.indexOf(\"Chrome\") > -1\r\n    && ua.indexOf(\"Safari\") > -1; //判断Chrome浏览器\r\n\r\n  if (isIE) {\r\n    const reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n    reIE.test(ua);\r\n    const fIEVersion = parseFloat(RegExp[\"$1\"]);\r\n    if (fIEVersion === 7) {\r\n      return \"IE7\";\r\n    } else if (fIEVersion === 8) {\r\n      return \"IE8\";\r\n    } else if (fIEVersion === 9) {\r\n      return \"IE9\";\r\n    } else if (fIEVersion === 10) {\r\n      return \"IE10\";\r\n    } else if (fIEVersion === 11) {\r\n      return \"IE11\";\r\n    } else {\r\n      return \"IE\";\r\n    }\r\n  }\r\n  if (isOpera) {\r\n    return \"Opera\";\r\n  }\r\n  if (isEdge) {\r\n    return \"Edge\";\r\n  }\r\n  if (isFF) {\r\n    return \"FF\";\r\n  }\r\n  if (isSafari) {\r\n    return \"Safari\";\r\n  }\r\n  if (isChrome) {\r\n    return \"Chrome\";\r\n  }\r\n\r\n}\r\n\r\nexport default {\r\n  // 是否是mac设备\r\n  isMac: navigator.platform.match(\"Mac\"),\r\n  // 是什么浏览器\r\n  type: checkBrowser(),\r\n  //是否是ios\r\n  iOS: function() {\r\n    const u = navigator.userAgent;\r\n    if (u.indexOf('Android') > -1 || u.indexOf('Linux') > -1) { //安卓手机\r\n      return false\r\n    } else if (u.indexOf('iPhone') > -1) { //苹果手机\r\n      return true\r\n    } else if (u.indexOf('iPad') > -1) { //iPad\r\n      return false\r\n    } else if (u.indexOf('Windows Phone') > -1) { //winphone手机\r\n      return false\r\n    } else {\r\n      return false\r\n    }\r\n  },\r\n  //是否是pc\r\n  PC: function() {\r\n    const userAgentInfo = navigator.userAgent;\r\n    const Agents = [\"Android\", \"iPhone\",\r\n      \"SymbianOS\", \"Windows Phone\",\r\n      \"iPad\", \"iPod\"\r\n    ];\r\n    let flag = true;\r\n    for (let v = 0; v < Agents.length; v++) {\r\n      if (userAgentInfo.indexOf(Agents[v]) > 0) {\r\n        flag = false;\r\n        break;\r\n      }\r\n    }\r\n    return flag;\r\n  },\r\n  //qq浏览器\r\n  QQ:function(){\r\n    return !!ua.match(/mqqbrowser|qzone|qqbrowser|qbwebviewtype/i)\r\n  },\r\n  //是否是移动端\r\n  Mobile:function(){\r\n    return /android|webos|iphone|ipod|balckberry/i.test(ua);\r\n  },\r\n  //是否是微信打开\r\n  WeiXin:function(){\r\n    return ua.match(/microMessenger/i) === 'micromessenger'\r\n  },\r\n  //是否是安卓\r\n  isAndroid() {\r\n    return ua.indexOf(\"Android\") > -1 && ua.indexOf(\"Linux\") > -1;\r\n  }\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAACs0lEQVQ4EbWVTWhTQRDHZ9PYpFitqW0tSRXb0iApnrQIFgUrFvyMFE9evIigeIn14+IHeFPQXMSTIIIURIREisFvREX8AD9o0nqwVdoXJI0pWiXRpH3O/2X3NY9UEqUO7NvZnZnf27c7O0/QH0TXdReb/LL5uHdL1zj3MW5hNCHEhJy3dMIy4gEDndwFcvr0sQfJaA03in3XKPHzm+Ha4FhIvmoPddW1o321C9sZNgT5BRnDQT4sYIZ6eD50PxldfX74Fo1lUoW+RXqTs5YOtWyhjXXtr9i4k+GacjLBgOqkPw8ORzxXxh4re1n9nqZ1FGjZrAkSaxTchkj5+aF/gSIeC0EsqyHJIgPMEwF8fqmVrq9dQae9u8AqEsSCwYYAjDZ+gwsHhT0tJTX2KtrRuIqOtm6b1RUMsMDEiv04/VIHZZBE/kh2ezpp79INRXAwwALTLsFFTmrC7VhE+5dvorWuNlo8r1pN08HmbprI/qAbn1+Yc1CQnt31Kw2wD3k6m/Q0dtCR1q1UVeGYzUzH2/yU/DVJj1KDpl2yfFixWyW/aWWl0+Wlk96ewqkiXQgbLbDjPs2IZLlVVsxYWJvPKzxVAoqACyN3qD/x2hIrj8FItziuaaHwTaIGB86AKDedo2vaMzocu0oXP9413fq0p3Rp9KE5Vkp9pcGKYytifPe9n9JJZTNqAQZDkxr1DvaRJq/29iX5vY4k3tDZD/2mf6GCOsISxVaEUVAKxVlRSVo6RQcGLptQ2DNTWXqSGqIT768Xult0ybop5AUZ8b88Z+byvmVdNJr+QpHxt5agUgMUpXBHLypesw31FKUPVUrJ7fF3dC85oIZl92CABabKiiBKH6oUBPud1afKBsIRsbJ8BjH+b2XTBOMtvN9zX+gBhjB87n9NeXT+iWxhzS/bX/9MfwMQGze6xLdZMAAAAABJRU5ErkJggg==\"","import utils from \"./utils\";\r\n\r\n/* eslint-disable no-redeclare */\r\n/* eslint-disable no-useless-escape */\r\n\r\nvar formatType = \"standard\";\r\nvar dates = {\r\n  \"zh-CN\": {\r\n    days: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\", \"星期日\"],\r\n    daysShort: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\"],\r\n    daysMin: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\r\n    months: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\r\n    monthsShort: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\r\n    today: \"今日\",\r\n    format: \"yyyy年mm月dd日\",\r\n    weekStart: 1,\r\n    meridiem: []\r\n  }\r\n};\r\n\r\nvar DPGlobal = {\r\n  modes: [{\r\n    clsName: \"days\",\r\n    navFnc: \"Month\",\r\n    navStep: 1\r\n  },\r\n  {\r\n    clsName: \"months\",\r\n    navFnc: \"FullYear\",\r\n    navStep: 1\r\n  },\r\n  {\r\n    clsName: \"years\",\r\n    navFnc: \"FullYear\",\r\n    navStep: 10\r\n  }\r\n  ],\r\n  isLeapYear: function(year) {\r\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n  },\r\n  parseFormat: function(format, type) {\r\n    type = type || formatType;\r\n    var separators = format.replace(this.validParts(type), \",\").split(\",\"),\r\n      parts = format.match(this.validParts(type));\r\n    if (!separators || !separators.length || !parts || parts.length == 0) {\r\n      throw new Error(\"Invalid date format.\");\r\n    }\r\n    return { separators: separators, parts: parts };\r\n  },\r\n  validParts: function(type) {\r\n    if (type == \"standard\") {\r\n      return /hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;\r\n    } else if (type == \"php\") {\r\n      return /[dDjlNwzFmMnStyYaABgGhHis]/g;\r\n    } else {\r\n      throw new Error(\"Invalid format type.\");\r\n    }\r\n  },\r\n  nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g\r\n};\r\n\r\nfunction UTCDate() {\r\n  // 建议加个固定形参 function UTCDate(list){return new Date(Date.UTC.apply(Date, list))}\r\n  return new Date(Date.UTC.apply(Date, arguments));\r\n}\r\n\r\n//分钟转秒\r\nfunction minutesToSeconds(startDate, endDate) {\r\n  startDate = startDate.getTime();\r\n  endDate = endDate.getTime();\r\n  var totalSeconds = parseInt((endDate - startDate) / 1000);\r\n  return totalSeconds;\r\n}\r\n\r\nexport default {\r\n  getDateRange(startDate, endDate, type) {\r\n    let dateSpan = 7;\r\n    if (!startDate) {\r\n      startDate = new Date();\r\n      startDate = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate() + 1, 0, 0, 0);\r\n    }\r\n    if (endDate) {\r\n      dateSpan = Math.abs(startDate - endDate) / (24 * 3600 * 1000) + 1;\r\n    }\r\n    if (type) {\r\n      return [\r\n        new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate() + 1, 0, 0, 0), \r\n        new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate() + dateSpan, 0, 0, 0)\r\n      ];\r\n    } else {\r\n      return [\r\n        new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate() - dateSpan, 0, 0, 0),\r\n        new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate() - 1, 0, 0, 0)\r\n      ];\r\n    }\r\n  },\r\n  //日期字符转日期对象\r\n  parse(date, format, language, type) {\r\n    type = type || formatType;\r\n    language = language || \"zh-CN\";\r\n    if (date instanceof Date) {\r\n      var dateUTC = new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\r\n      dateUTC.setMilliseconds(0);\r\n      return dateUTC;\r\n    } else if (date) {\r\n      if (!format) {\r\n        if (/^\\d{4}\\-\\d{1,2}$/.test(date)) {\r\n          format = DPGlobal.parseFormat(\"yyyy-mm\", type);\r\n        }\r\n        if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\r\n          format = DPGlobal.parseFormat(\"yyyy-mm-dd\", type);\r\n        }\r\n        if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\r\n          format = DPGlobal.parseFormat(\"yyyy-mm-dd hh:ii\", type);\r\n        }\r\n        if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}:\\d{1,2}(\\.\\d{1,3})?$/.test(date)) {\r\n          format = DPGlobal.parseFormat(\"yyyy-mm-dd hh:ii:ss\", type);\r\n        }\r\n        if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\r\n          format = DPGlobal.parseFormat(\"yyyy-mm-dd hh:ii:ss\", type);\r\n        }\r\n      } else {\r\n        format = DPGlobal.parseFormat(format, type);\r\n      }\r\n    }\r\n    var parts = (date && date.match(DPGlobal.nonpunctuation)) || [],\r\n      date = new Date(0, 0, 0, 0, 0, 0, 0),\r\n      parsed = {},\r\n      setters_order = [\"hh\", \"h\", \"ii\", \"i\", \"ss\", \"s\", \"yyyy\", \"yy\", \"M\", \"MM\", \"m\", \"mm\", \"D\", \"DD\", \"d\", \"dd\", \"H\", \"HH\", \"p\", \"P\"],\r\n      setters_map = {\r\n        hh: function(d, v) {\r\n          return d.setHours(v);\r\n        },\r\n        h: function(d, v) {\r\n          return d.setHours(v);\r\n        },\r\n        HH: function(d, v) {\r\n          return d.setHours(v == 12 ? 0 : v);\r\n        },\r\n        H: function(d, v) {\r\n          return d.setHours(v == 12 ? 0 : v);\r\n        },\r\n        ii: function(d, v) {\r\n          return d.setMinutes(v);\r\n        },\r\n        i: function(d, v) {\r\n          return d.setMinutes(v);\r\n        },\r\n        ss: function(d, v) {\r\n          return d.setSeconds(v);\r\n        },\r\n        s: function(d, v) {\r\n          return d.setSeconds(v);\r\n        },\r\n        yyyy: function(d, v) {\r\n          return d.setFullYear(v);\r\n        },\r\n        yy: function(d, v) {\r\n          return d.setFullYear(2000 + v);\r\n        },\r\n        m: function(d, v) {\r\n          v -= 1;\r\n          while (v < 0) v += 12;\r\n          v %= 12;\r\n          d.setUTCMonth(v);\r\n          while (d.getMonth() != v) d.setDate(d.getDate() - 1);\r\n          return d;\r\n        },\r\n        d: function(d, v) {\r\n          return d.setDate(v);\r\n        },\r\n        p: function(d, v) {\r\n          return d.setHours(v == 1 ? d.getHours() + 12 : d.getHours());\r\n        }\r\n      },\r\n      val,\r\n      filtered,\r\n      part;\r\n    setters_map[\"M\"] = setters_map[\"MM\"] = setters_map[\"mm\"] = setters_map[\"m\"];\r\n    setters_map[\"dd\"] = setters_map[\"d\"];\r\n    setters_map[\"P\"] = setters_map[\"p\"];\r\n    for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n      val = parseInt(parts[i], 10);\r\n      part = format.parts[i];\r\n      if (isNaN(val)) {\r\n        switch (part) {\r\n        case \"MM\":\r\n          filtered = $(dates[language].months).filter(function() {\r\n            var m = this.slice(0, parts[i].length),\r\n              p = parts[i].slice(0, m.length);\r\n            return m == p;\r\n          });\r\n          val = $.inArray(filtered[0], dates[language].months) + 1;\r\n          break;\r\n        case \"M\":\r\n          filtered = $(dates[language].monthsShort).filter(function() {\r\n            var m = this.slice(0, parts[i].length),\r\n              p = parts[i].slice(0, m.length);\r\n            return m == p;\r\n          });\r\n          val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\r\n          break;\r\n        case \"p\":\r\n        case \"P\":\r\n          val = $.inArray(parts[i].toLowerCase(), dates[language].meridiem);\r\n          break;\r\n        }\r\n      }\r\n      parsed[part] = val;\r\n    }\r\n    for (var i = 0, s; i < setters_order.length; i++) {\r\n      s = setters_order[i];\r\n      if (s in parsed && !isNaN(parsed[s])) setters_map[s](date, parsed[s]);\r\n    }\r\n    return date;\r\n  },\r\n  //日期对象格式化字符串\r\n  format(date, format, language, type) {\r\n    type = type || formatType;\r\n    language = language || \"zh-CN\";\r\n    if (date == null) {\r\n      return \"\";\r\n    }\r\n    if (typeof date == \"string\") {\r\n      try {\r\n        date = this.parse(date);\r\n      } catch (ex) {\r\n        return \"\";\r\n      }\r\n    } else if (typeof date == \"number\") {\r\n      try {\r\n        date = new Date(date);\r\n        date = this.parse(date);\r\n      } catch (ex) {\r\n        return \"\";\r\n      }\r\n    }\r\n    format = DPGlobal.parseFormat(format, type);\r\n    var val;\r\n    if (type == \"standard\") {\r\n      val = {\r\n        // year\r\n        yy: date.getFullYear().toString().substring(2),\r\n        yyyy: date.getFullYear(),\r\n        // month\r\n        m: date.getMonth() + 1,\r\n        M: dates[language].monthsShort[date.getMonth()],\r\n        MM: dates[language].months[date.getMonth()],\r\n        // day\r\n        d: date.getDate(),\r\n        D: dates[language].daysShort[date.getDay()],\r\n        DD: dates[language].days[date.getDay()],\r\n        p: dates[language].meridiem.length == 2 ? dates[language].meridiem[date.getHours() < 12 ? 0 : 1] : \"\",\r\n        // hour\r\n        h: date.getHours(),\r\n        // minute\r\n        i: date.getMinutes(),\r\n        // second\r\n        s: date.getSeconds()\r\n      };\r\n      val.H = val.h % 12 == 0 ? 12 : val.h % 12;\r\n      val.HH = (val.H < 10 ? \"0\" : \"\") + val.H;\r\n      val.P = val.p.toUpperCase();\r\n      val.hh = (val.h < 10 ? \"0\" : \"\") + val.h;\r\n      val.ii = (val.i < 10 ? \"0\" : \"\") + val.i;\r\n      val.ss = (val.s < 10 ? \"0\" : \"\") + val.s;\r\n      val.dd = (val.d < 10 ? \"0\" : \"\") + val.d;\r\n      val.mm = (val.m < 10 ? \"0\" : \"\") + val.m;\r\n    } else {\r\n      throw new Error(\"Invalid format type.\");\r\n    }\r\n    var date = [];\r\n    var seps = utils.mix([], format.separators);\r\n    for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n      if (seps.length) {\r\n        date.push(seps.shift());\r\n      }\r\n      date.push(val[format.parts[i]]);\r\n    }\r\n    if (seps.length) {\r\n      date.push(seps.shift());\r\n    }\r\n    return date.join(\"\");\r\n  },\r\n  //获取当前指定日期为星期几？周日做特殊处理为7\r\n  getWeekDay(d) {\r\n    var weekday = d.getDay();\r\n    weekday = weekday == 0 ? 7 : weekday;\r\n    return weekday;\r\n  },\r\n  getCalendar(year, month) {\r\n    var currentMonth_firstDay = new Date(year, month, 1);\r\n    var currentMonth_lastDay = new Date(year, month + 1, 0);\r\n    var weekFirst = 1,\r\n      weekLast = 7;\r\n    var weekday = this.getWeekDay(currentMonth_firstDay);\r\n    var offset_before = weekday - weekFirst;\r\n    weekday = this.getWeekDay(currentMonth_lastDay);\r\n    var offset_after = weekLast - weekday;\r\n    var totalDays = currentMonth_lastDay.getDate();\r\n\r\n    totalDays = totalDays + offset_before + offset_after;\r\n    var rows = [];\r\n    var rowsLength = totalDays / 7;\r\n    for (var i = 0; i < rowsLength; i++) {\r\n      var arr = [];\r\n      for (var n = 1; n <= 7; n++) {\r\n        var date = i * 7 + n;\r\n        var d = new Date(year, month, date - offset_before);\r\n        arr.push({\r\n          date: d,\r\n          offset: d.getMonth() != month ? true : false\r\n        });\r\n      }\r\n      rows.push(arr);\r\n    }\r\n    return rows;\r\n  },\r\n  addDate(date, days) {\r\n    if (days == undefined || days == \"\") {\r\n      days = 1;\r\n    }\r\n    date = new Date(date);\r\n    date.setDate(date.getDate() + days);\r\n    return date;\r\n  },\r\n  // 当前日期是这个月的第几周\r\n  getMonthWeek(year, month, day) {\r\n    var date = new Date(year, month, day);\r\n    day = date.getDate();\r\n    // 当月第一天的日期\r\n    var monthFirstDayDate = new Date(year, month, 1);\r\n    // 当月第一天的星期\r\n    var monthFirstDayOfWeek = monthFirstDayDate.getDay();\r\n    if (monthFirstDayOfWeek == 0) {\r\n      monthFirstDayOfWeek = 7;\r\n    }\r\n    // 计算补全第一天第一周相差天数\r\n    day = day + (monthFirstDayOfWeek - 1);\r\n    return Math.ceil(day / 7);\r\n  },\r\n  getMonthWeekDate(year, month, day) {\r\n    // 获取这个星期7天的时间\r\n    var list = this.getCalendar(year, month) || [];\r\n    var monthWeek = this.getMonthWeek(year, month, day) || 0;\r\n    return { week: monthWeek, year: year, month: month, list: list[monthWeek - 1] || [] };\r\n  },\r\n  getBeforDate(year, month, day, dayDiff) {\r\n    // 往前dayDiff天，dayDiff默认为上一周\r\n    dayDiff = dayDiff || 7;\r\n    day = parseInt(day) - parseInt(dayDiff);\r\n    return new Date(year, month, day);\r\n  },\r\n  getAfterDate(year, month, day, dayDiff) {\r\n    // 往后dayDiff天，dayDiff不填则为下一周\r\n    dayDiff = dayDiff || 7;\r\n    day = parseInt(day) + parseInt(dayDiff);\r\n    return new Date(year, month, day);\r\n  },\r\n  diffDays(date1, date2) {\r\n    let dateSpan = date2 - date1;\r\n    dateSpan = Math.abs(dateSpan);\r\n    let iDays = dateSpan / (24 * 3600 * 1000); // Math.floor(dateSpan / (24 * 3600 * 1000));\r\n    return iDays;\r\n  },\r\n  toDay() {\r\n    var d = new Date();\r\n    return Date.parse(this.format(d, \"yyyy-mm-dd\"));\r\n  },\r\n  now() {\r\n    return new Date();\r\n  },\r\n  formatRangeDateTime(sd, ed) {\r\n    var result = \"\";\r\n    if (sd && ed) {\r\n      sd = this.parse(sd);\r\n      ed = this.parse(ed);\r\n      if (sd.getFullYear() == ed.getFullYear() && sd.getMonth() == ed.getMonth() && sd.getDate() == ed.getDate()) {\r\n        result = this.format(sd, \"yyyy-mm-dd\") + \" \" + this.format(sd, \"hh:ii\") + \"-\" + this.format(ed, \"hh:ii\");\r\n      } else {\r\n        result = this.format(sd, \"yyyy-mm-dd hh:ii\") + \"-\" + this.format(ed, \"yyyy-mm-dd hh:ii\");\r\n      }\r\n    }\r\n\r\n    return result;\r\n  },\r\n  //秒转天：时:分：秒s\r\n  secondsToTime(s) {\r\n    let totalSeconds = s;\r\n    if (!totalSeconds || totalSeconds < 0) {\r\n      return {\r\n        days: \"00\",\r\n        hours: \"00\",\r\n        minutes: \"00\",\r\n        seconds: \"00\"\r\n      };\r\n    }\r\n    // 天数\r\n    var days = Math.floor(totalSeconds / (60 * 60 * 24));\r\n    //取模（余数）\r\n    var modulo = totalSeconds % (60 * 60 * 24);\r\n    //小时数\r\n    var hours = Math.floor(modulo / (60 * 60));\r\n    modulo = modulo % (60 * 60);\r\n    //分钟\r\n    var minutes = Math.floor(modulo / 60);\r\n    //秒\r\n    var seconds = Math.ceil(modulo % 60);\r\n    //输出到页面\r\n    days = ((days || 0) + 100).toString().substr(1);\r\n    hours = ((hours || 0) + 100).toString().substr(1);\r\n    minutes = ((minutes || 0) + 100).toString().substr(1);\r\n    seconds = ((seconds || 0) + 100).toString().substr(1);\r\n    return {\r\n      days: days,\r\n      hours: hours,\r\n      minutes: minutes,\r\n      seconds: seconds\r\n    };\r\n  },\r\n  timeDown(date1, date2) {\r\n    let totalSeconds = minutesToSeconds(date1, date2);\r\n    return this.secondsToTime(totalSeconds);\r\n  },\r\n  getUTCDate() {\r\n    // 建议加个固定行参 getUTCDate(list){return UTCDate(list)}\r\n    return UTCDate(arguments);\r\n  },\r\n  /**\r\n   * 返回：上午09:20，昨天12:11，2018年11月2日 等\r\n   * @param date      时间\r\n   * @param accurate  是否精确的\r\n   */\r\n  timeAgo(date, accurate = true) {\r\n    let time = null\r\n    if (dsf.type(date) === 'number') {\r\n      time = date\r\n      date = new Date(time)\r\n    } else if (dsf.type(date) === 'date') {\r\n      time = date.getTime()\r\n    } else {\r\n      dsf.error('timeAgo的参数date必须是毫秒数或者Date类型');\r\n      // throw new Error('timeAgo的参数date必须是毫秒数或者Date类型')\r\n      return '';\r\n    }\r\n    let now = new Date()\r\n    let diff = now.getTime() - time\r\n\r\n    let year = now.getFullYear()\r\n    let month = now.getMonth()\r\n    let day = now.getDate()\r\n    let hours = date.getHours()\r\n\r\n    let today1 = now.getTime() - (new Date(year, month, day, 0, 0, 0)).getTime()\r\n    let today2 = today1 + 86400000\r\n    let today3 = today2 + 86400000\r\n    let thisYear = now.getTime() - (new Date(year, 0, 1, 0, 0, 0)).getTime()\r\n\r\n    if (diff <= today1) {\r\n      if (hours < 6) {\r\n        return this.format(date, '凌晨hh:ii')\r\n      } else if (hours < 12) {\r\n        return this.format(date, '上午hh:ii')\r\n      } else if (hours < 14) {\r\n        return this.format(date, '中午hh:ii')\r\n      } else if (hours < 18) {\r\n        return this.format(date, '下午hh:ii')\r\n      } else {\r\n        return this.format(date, '晚上hh:ii')\r\n      }\r\n    } else if (diff <= today2) {\r\n      return accurate ? this.format(date, '昨天hh:ii') : '昨天'\r\n    } else if (diff <= today3) {\r\n      return accurate ? this.format(date, '前天hh:ii') : '前天'\r\n    } else if (diff <= thisYear) {\r\n      return this.format(date, accurate ? 'm月d日hh:ii' : 'm月d日')\r\n    } else {\r\n      return this.format(date, accurate ? 'yyyy年m月d日hh:ii' : 'yyyy年m月d日')\r\n    }\r\n  },\r\n  /**\r\n   * 计算年龄\r\n   * @param date {Date} 出生时间\r\n   * @param referDate {Date | undefined} 参考时间，默认为当前时间\r\n   * @returns {number}\r\n   */\r\n  getAge(date, referDate) {\r\n    if (dsf.type(date) != 'date') {\r\n      return 0;\r\n    }\r\n    referDate = (dsf.type(referDate) != 'date') ? new Date() : referDate;\r\n    const y = referDate.getFullYear() - date.getFullYear();\r\n    const m = referDate.getMonth() - date.getMonth();\r\n    if (m > 0) {\r\n      return y;\r\n    } else if (m == 0) {\r\n      const d = referDate.getDate() - date.getDate();\r\n      if (d >= 0) {\r\n        return y;\r\n      }\r\n    }\r\n    return y - 1;\r\n  },\r\n};","/*\r\n     https://github.com/rsms/js-lru\r\n     entry             entry             entry             entry        \r\n     ______            ______            ______            ______       \r\n     | head |.newer => |      |.newer => |      |.newer => | tail |      \r\n     |  A   |          |  B   |          |  C   |          |  D   |      \r\n     |______| <= older.|______| <= older.|______| <= older.|______|      \r\n     \r\n     removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added \r\n     */\r\nfunction Cache(maxLength) {\r\n  // 标识当前缓存数组的大小\r\n  this.size = 0;\r\n  // 标识缓存数组能达到的最大长度\r\n  this.limit = maxLength;\r\n  //  head（最不常用的项），tail（最常用的项）全部初始化为undefined\r\n\r\n  this.head = this.tail = void 0;\r\n  this._keymap = {};\r\n}\r\n\r\nCache.prototype = {\r\n  put: function put(key, value) {\r\n    var entry = {\r\n      key: key,\r\n      value: value\r\n    };\r\n    this._keymap[key] = entry;\r\n    if (this.tail) {\r\n      // 如果存在tail（缓存数组的长度不为0），将tail指向新的 entry\r\n      this.tail.newer = entry;\r\n      entry.older = this.tail;\r\n    } else {\r\n      // 如果缓存数组的长度为0，将head指向新的entry\r\n      this.head = entry;\r\n    }\r\n    this.tail = entry;\r\n    // 如果缓存数组达到上限，则先删除 head 指向的缓存对象\r\n    /* istanbul ignore if */\r\n    if (this.size === this.limit) {\r\n      this.shift();\r\n    } else {\r\n      this.size++;\r\n    }\r\n    return value;\r\n  },\r\n  shift: function shift() {\r\n    var entry = this.head;\r\n    if (entry) {\r\n      // 删除 head ，并改变指向\r\n      this.head = this.head.newer;\r\n      // 同步更新 _keymap 里面的属性值\r\n      this.head.older = entry.newer = entry.older = this._keymap[entry.key] = void 0;\r\n      delete this._keymap[entry.key]; //#1029\r\n      // 同步更新 缓存数组的长度\r\n      this.size--;\r\n    }\r\n  },\r\n  get: function get(key) {\r\n    var entry = this._keymap[key];\r\n    // 如果查找不到含有`key`这个属性的缓存对象\r\n    if (entry === void 0) return;\r\n    // 如果查找到的缓存对象已经是 tail (最近使用过的)\r\n    if (entry === this.tail) {\r\n      return entry.value;\r\n    }\r\n    // HEAD--------------TAIL\r\n    //   <.older   .newer>\r\n    //  <--- add direction --\r\n    //   A  B  C  <D>  E\r\n    if (entry.newer) {\r\n      // 处理 newer 指向\r\n      if (entry === this.head) {\r\n        // 如果查找到的缓存对象是 head (最近最少使用过的)\r\n        // 则将 head 指向原 head 的 newer 所指向的缓存对象\r\n        this.head = entry.newer;\r\n      }\r\n      // 将所查找的缓存对象的下一级的 older 指向所查找的缓存对象的older所指向的值\r\n      // 例如：A B C D E\r\n      // 如果查找到的是D，那么将E指向C，不再指向D\r\n      entry.newer.older = entry.older; // C <-- E.\r\n    }\r\n    if (entry.older) {\r\n      // 处理 older 指向\r\n      // 如果查找到的是D，那么C指向E，不再指向D\r\n      entry.older.newer = entry.newer; // C. --> E\r\n    }\r\n    // 处理所查找到的对象的 newer 以及 older 指向\r\n    entry.newer = void 0; // D --x\r\n    // older指向之前使用过的变量，即D指向E\r\n    entry.older = this.tail; // D. --> E\r\n    if (this.tail) {\r\n      // 将E的newer指向D\r\n      this.tail.newer = entry; // E. <-- D\r\n    }\r\n    // 改变 tail 为D\r\n    this.tail = entry;\r\n    return entry.value;\r\n  }\r\n};\r\n\r\n//创建一个LRU缓存池\r\nexport default function cachePool(maxLength) {\r\n  if (maxLength===null||maxLength===undefined) {\r\n    dsf.error(\"请设置缓存大小\");\r\n    return;\r\n  }\r\n  return new Cache(maxLength);\r\n}\r\n","<template>\r\n  <div class=\"ds-component-info\">\r\n    <p><label>控件类型：</label>{{ _info.caption }}</p>\r\n    <p><label>元数据标识：</label>{{ _info.id }}</p>\r\n    <p><label>元数据名称：</label>{{ _info.name }}</p>\r\n    <p><label>元数据类型：</label>{{ _info.typeText }} | {{ _info.typeValue }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"DsfComponentInfo\",\r\n    props: {\r\n      info: {\r\n        type: Object,\r\n        default() {\r\n          return {}\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      _info() {\r\n        let obj = {};\r\n        _.forOwn(this.info, (value, key) => {\r\n          obj[key] = value || \"无\"\r\n        });\r\n        return obj\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","export default function (dsf) {\r\n  return {\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    type: dsf.metadata.mmtype(3),\r\n    at: \"\",\r\n    currentControl: null,\r\n    controls: [],\r\n    validate: dsf.metadata.validate(),\r\n    defaultValue: null,\r\n    valueAttributes: [\r\n      {\r\n        name: \"场景\",\r\n        code: \"type\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 100,\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"场景id\",\r\n        code: \"typeid\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 100,\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"事项\",\r\n        code: \"text\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 1000,\r\n        defaultValue: null,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"事项id\",\r\n        code: \"value\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 1000,\r\n        defaultValue: null,\r\n        emptyValidate: true,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"事项itemid\",\r\n        code: \"itemids\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 1000,\r\n        defaultValue: null,\r\n        emptyValidate: true,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"事项排序\",\r\n        code: \"order\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 1000,\r\n        defaultValue: null,\r\n        emptyValidate: true,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"事项编码\",\r\n        code: \"code\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 1000,\r\n        defaultValue: null,\r\n        emptyValidate: true,\r\n        unit: null,\r\n      },\r\n      {\r\n        name: \"业务办理项编码\",\r\n        code: \"taskHandleItem\",\r\n        type: dsf.metadata.getDataType(\"string\"),\r\n        length: 1000,\r\n        defaultValue: null,\r\n        emptyValidate: true,\r\n        unit: null,\r\n      }\r\n    ]\r\n  }\r\n}\r\n","//此处是个动态注入元数据的demo\r\n\r\nimport oneThingFormSelectMetaData from \"./oneThingFormSelectMetaData\";\r\n\r\ndsf.metadata.add(\"one-thing-form-select-meta-data\", oneThingFormSelectMetaData);\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"padding-top\":\"50px\",\"box-sizing\":\"border-box\"}},[_c('iframe',{staticStyle:{\"width\":\"375px\",\"height\":\"667px\",\"border\":\"1px solid #c0c0c0\",\"margin\":\"auto\",\"display\":\"block\"},attrs:{\"src\":\"/designer.html#/pc/preview?mobile=1\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width:100%;height:100%;padding-top:50px;box-sizing: border-box;\">\r\n    <iframe style=\"width:375px;height:667px;border:1px solid #c0c0c0;margin:auto;display:block;\" src=\"/designer.html#/pc/preview?mobile=1\"></iframe>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'DsfMobilePreView',\r\n  props: {\r\n\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layoutMobilePreView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layoutMobilePreView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./layoutMobilePreView.vue?vue&type=template&id=97eff6d2&\"\nimport script from \"./layoutMobilePreView.vue?vue&type=script&lang=js&\"\nexport * from \"./layoutMobilePreView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import control from \"./control\";\r\n\r\nconst VALUE_CHANGE = \"model-value-mutation\";\r\nconst VALUE_UPDATE_SYNC = \"update:value\";\r\n\r\n/**\r\n * @class FormControl\r\n * @description 表单组件核心类\r\n * @augments Control\r\n * @example\r\n * import formControl from \"./formControl\";\r\n *\r\n * export default {\r\n *    name: \"xxxx\", 组件 name\r\n *    ctrlCaption: \"xxx\", // 组件中文名称\r\n *    mixins: [formControl],\r\n *    ...\r\n * }\r\n */\r\nexport default {\r\n  model: {\r\n    prop: \"value\",\r\n    event: VALUE_CHANGE,\r\n  },\r\n  /**\r\n   * @memberof FormControl\r\n   * @name Props 属性\r\n   * @property {Boolean} [isFormControl = true] 是否是表单组件\r\n   * @property {String} [label = \"\"] 表单项的名称\r\n   * @property {Boolean} [showLabel = true] 是否显示label\r\n   * @property {Boolean} [readOnly = false] 是否只读\r\n   * @property {Boolean} [disabled = false] 是否禁用\r\n   * @property {Boolean} [allowPost = true] 保存时是否提交到后端\r\n   * @property {Boolean} [required = false] 是否有必填标识\r\n   * @property {String|Number|Object|Array|Boolean} [value = null] 值，根据组件内容不同可能有不同类型，文本框为字符串，下拉框为{text:'',value:''}对象\r\n   * @property {String} [dataCapion = \"\"] 提示文本（移动端）\r\n   * @property {String} [dataAudioUrl = \"\"] 提示语音mp3地址（移动端）\r\n   * @property {String} [dataVideoUrl = \"\"] 提示视频mp4地址（移动端）\r\n   * @property {Object} [metadata = null] 元数据\r\n   * @property {String} [readOnlyShowText = text] 只读状态显示内容\r\n   * @property {String} [metadata_fullcode = \"\"] 元数据代码\r\n   * @property {Number} [metaDataLevel = 0] 元数据等级，主表为0子表或者子表组件为1\r\n   * @property {String} [validateRule = \"\"] 验证规则\r\n   * @property {Array} [errors = []] 错误提示\r\n   */\r\n  props: {\r\n    //是否是表单组件\r\n    isFormControl: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //表单项的名称\r\n    label: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    //是否显示label\r\n    showLabel: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //是否只读\r\n    readOnly: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //是否禁用\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //保存时是否提交到后端\r\n    allowPost: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //是否有必填标识\r\n    required: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //值，根据组件内容不同可能有不同类型，文本框为字符串，下拉框为{text:'',value:''}对象\r\n    value: {\r\n      type: [String, Number, Object, Array, Boolean],\r\n      default () {\r\n        return null;\r\n      },\r\n    },\r\n    //提示文本（移动端）\r\n    dataCapion: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    //提示语音mp3地址（移动端）\r\n    dataAudioUrl: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    //提示视频mp4地址（移动端）\r\n    dataVideoUrl: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    //元数据\r\n    metadata: {\r\n      type: Object,\r\n      default () {\r\n        return null;\r\n      },\r\n    },\r\n    //只读状态显示内容\r\n    readOnlyShowText: {\r\n      type: String,\r\n      default: \"text\",\r\n    },\r\n    //元数据代码\r\n    metadata_fullcode: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    //是否简易模式\r\n    simple: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //元数据等级，主表为0子表或者子表组件为1\r\n    metaDataLevel: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    //组件在列表或者子表中简易状态下数据格式化\r\n    formatter: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //验证规则名称\r\n    validateRule: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    //是否需要验证\r\n    isValidate: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //所在栅格布局占比\r\n    colSpan: {\r\n      type: Number,\r\n      default: 24\r\n    },\r\n    labelWidth: {\r\n      type: Number,\r\n      default: 120\r\n    },\r\n    // 是否即时触发审核\r\n    immediatelyAudit: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      errorsCopy: []\r\n    }\r\n  },\r\n  mixins: [control],\r\n  computed: {\r\n    errors: {\r\n      get() {\r\n        if (!this.isValidate) {\r\n          this.errorsCopy = [];\r\n        }\r\n        return this.errorsCopy;\r\n      },\r\n      set(value) {\r\n        if (this.isValidate) {\r\n          this.errorsCopy = value;\r\n        }\r\n      }\r\n    },\r\n    getCss() {\r\n      return [\r\n        this.errors.length > 0 ? 'ds-error' : '',\r\n        ...this.$getClass(),\r\n        this.showLabel ? \"ds-has-label\" : \"\",\r\n        this.required ? \"ds-required\" : \"\",\r\n        this.readOnly ? \"ds-readonly\" : \"\",\r\n      ];\r\n    },\r\n    errorsMsg() {\r\n      return _.map(this.errors, \"message\").join(\",\");\r\n    },\r\n    $labelWidth() {\r\n      if (this.$page) {\r\n        return this.$page.formItemLabelWidth || this.labelWidth;\r\n      }\r\n      return this.labelWidth;\r\n    }\r\n  },\r\n  created() {\r\n    if (!this.isDesign && this.$form) {\r\n      this.$form.addFiled(this);\r\n    }\r\n    if (!this.isDesign && this.$dynamicForm) {\r\n      this.$dynamicForm.addFiled(this);\r\n    }\r\n  },\r\n  mounted() {},\r\n  beforeDestroy() {\r\n    if (!this.isDesign && this.$form) {\r\n      // console.log(\"销毁\"+this.caption)\r\n      this.$form.removeFiled(this);\r\n      // this.$form.$emit(\"form.removeField\", this);\r\n    }\r\n    if (!this.isDesign && this.$dynamicForm) {\r\n      this.$dynamicForm.removeFiled(this);\r\n    }\r\n  },\r\n  /**\r\n   * @memberof FormControl\r\n   * @name Event 事件\r\n   * @property {Function} valueMutation 数据发生变化 [value-mutation]\r\n   * @example\r\n   * <components @value-mutation=\"CallbackFn\" ></components>\r\n   * // 比如 valueMutation 驼峰属性在使用时需要用 小写加 - 声明\r\n   */\r\n  methods: {\r\n    showHelper() {\r\n      this.$openDialog({\r\n        title: \"详细描述\",\r\n        template: `<div v-html=\"params.value\"></div>`,\r\n        width: \"30vw\",\r\n        height: \"50vh\",\r\n        params: {\r\n          value: this.dataCapion\r\n        }\r\n      })\r\n    },\r\n    getLableWidth() {\r\n      return this.labelWidth || 120;\r\n    },\r\n    getLabelWidthStyle() {\r\n      if (this.$labelWidth && this.showLabel) {\r\n        return {\r\n          \"width\": this.$labelWidth + \"px\"\r\n        }\r\n      }\r\n      return {}\r\n    },\r\n    getFormItemBlockMarginLeft() {\r\n      if (this.$labelWidth && this.showLabel) {\r\n        return {\r\n          \"margin-left\": this.$labelWidth + \"px\"\r\n        }\r\n      }\r\n      return {}\r\n    },\r\n    getShowContent() {\r\n      if (dsf.type(this.value) == \"object\") {\r\n        return this.value[this.readOnlyShowText];\r\n      } else if (dsf.type(this.value) == \"array\") {\r\n        return _.map(this.value, this.readOnlyShowText).join(\",\");\r\n      } else {\r\n        return this.value;\r\n      }\r\n    },\r\n    $emitValueChange(v) {\r\n      //让组件既支持v-model绑定值又支持:value.sync绑定\r\n      let listeners = this.$listeners || {};\r\n      //表示v-model绑定\r\n      if (listeners[VALUE_CHANGE]) {\r\n        this.$emit(VALUE_CHANGE, v);\r\n      }\r\n      //表示value.sync绑定\r\n      else if (listeners[VALUE_UPDATE_SYNC]) {\r\n        this.$emit(VALUE_UPDATE_SYNC, v);\r\n      }\r\n    },\r\n    emitFormValidate(v) {\r\n      if (this.$form) {\r\n        this.$form.$emit(\"form.validateField\", { value: v || this.value, target: this });\r\n      }\r\n    },\r\n    emitValueChange(v) {\r\n      this.$emitValueChange(v);\r\n      this.$dispatch(\"value-change\", v);\r\n    }\r\n  },\r\n  design: {\r\n    infoButton: true,\r\n    layout: {\r\n      exclude: [\"value\"]\r\n    },\r\n    metadata: {\r\n      create(root) {\r\n        if (!this.metadata) {\r\n          this.metadata = {};\r\n        }\r\n        return {\r\n          self: this,\r\n          init: null,\r\n          metadata: this.metadata,\r\n        };\r\n      },\r\n    },\r\n  },\r\n};","export default {\r\n  toChinesNum: function(num) {\r\n    var changeNum = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九']; //changeNum[0] = \"零\"\r\n    var unit = [\"\", \"十\", \"百\", \"千\", \"万\"];\r\n    num = parseInt(num);\r\n    var getWan = function(temp) {\r\n      var strArr = temp.toString().split(\"\").reverse();\r\n      var newNum = \"\";\r\n      for (var i = 0; i < strArr.length; i++) {\r\n        newNum = (i == 0 && strArr[i] == 0 ? \"\" : (i > 0 && strArr[i] == 0 && strArr[i - 1] == 0 ? \"\" : changeNum[\r\n          strArr[i]] + (strArr[i] == 0 ? unit[0] : unit[i]))) + newNum;\r\n      }\r\n      return newNum;\r\n    }\r\n    var overWan = Math.floor(num / 10000);\r\n    var noWan = num % 10000;\r\n    if (noWan.toString().length < 4) noWan = \"0\" + noWan;\r\n    return overWan ? getWan(overWan) + \"万\" + getWan(noWan) : getWan(num);\r\n  },\r\n  numToEnglishLetter: function(number) {\r\n    var char = \"\";\r\n    var array = [];\r\n    // Switch ASCII\r\n    var numToStringAction = function(nnum) {\r\n      var num = nnum - 1;\r\n      var a = parseInt(num / 26);\r\n      var b = num % 26;\r\n      array.push(b);\r\n      if (a > 0) {\r\n        numToStringAction(a);\r\n      }\r\n    }\r\n    numToStringAction(number);\r\n    array = array.reverse();\r\n    // Return excel letter: such => C / AA / BBA\r\n    for (var i = 0; i < array.length; i++) {\r\n      char += String.fromCharCode(64 + parseInt(array[i] + 1));\r\n    }\r\n    return char;\r\n  },\r\n  /**\r\n   * 弧度转角度\r\n   */\r\n  r2a: function(r) {\r\n    return 180 / (Math.PI / r);\r\n  },\r\n  /**\r\n   * 角度转弧度\r\n   */\r\n  a2r: function(a) {\r\n    return Math.PI * (a) / 180\r\n  },\r\n  /**\r\n   * 计算两点直线的角度\r\n   */\r\n  getRadina: function(p1, p2, angle) {\r\n    var d = Math.atan((p2.y - p1.y) / (p2.x - p1.x));\r\n    d = d + (angle || 0);\r\n\r\n    //修正第二、三象限中的弧度\r\n    if ((p2.y - p1.y > 0 && p2.x - p1.x < 0) || (p2.y - p1.y < 0 && p2.x - p1.x < 0)) {\r\n      d += Math.PI;\r\n    }\r\n    // 修正第一象限弧度\r\n    else if (p2.y - p1.y < 0 && p2.x - p1.x > 0) {\r\n      d += Math.PI * 2;\r\n    }\r\n    // x轴负方向 180度\r\n    if (p2.x < p1.x && p2.y == p1.y) {\r\n      // console.log(\"x轴负方向\");\r\n      d = Math.PI;\r\n    }\r\n    // y轴负方向 270度\r\n    else if (p2.x == p1.x && p2.y < p1.y) {\r\n      d = 1.5 * Math.PI;\r\n    }\r\n    // console.log(d * 180 / Math.PI)\r\n    return d\r\n  },\r\n  //获取以指定点按中心点旋转一定角度后所在的位置\r\n  getRotatedPiont: function(x, y, xcenter, ycenter, angle) {\r\n    var radian = Math.PI * angle / 180;\r\n    var x2 = (x - xcenter);\r\n    var y2 = (y - ycenter)\r\n    var x1 = x2 * Math.cos(radian) - y2 * Math.sin(radian) + xcenter;\r\n    var y1 = x2 * Math.sin(radian) + y2 * Math.cos(radian) + ycenter;\r\n    return {\r\n      x: x1,\r\n      y: y1\r\n    }\r\n  },\r\n  //计算亮距离\r\n  getDistance: function(p1, p2) {\r\n    if (!p1 || !p2) {\r\n      return 0;\r\n    }\r\n    var x_len = p2.x - p1.x;\r\n    var y_len = p2.y - p1.y;\r\n    var len = Math.sqrt(Math.pow(x_len, 2) + Math.pow(y_len, 2));\r\n    return len;\r\n  },\r\n\r\n  //坐标系转换\r\n  convertLocalCoordinate:function(el, global, scale) {\r\n    el = $(el);\r\n    var offset = el.offset();\r\n    var top = offset.top;\r\n    var left = offset.left;\r\n    var local = {\r\n      x: 0,\r\n      y: 0\r\n    }\r\n    local.x = global.x - left;\r\n    local.y = global.y - top;\r\n    if (!dsf.isDef(scale)) {\r\n      scale = 1;\r\n    }\r\n    local.x /= scale;\r\n    local.y /= scale;\r\n    return local;\r\n  }\r\n}\r\n","import control from \"./control\";\r\n\r\n/**\r\n * @class Layout\r\n * @description 布局组件核心类\r\n * @example\r\n * import lalyout from \"./lalyout\";\r\n *\r\n * export default {\r\n *    name: \"xxxx\", 组件 name\r\n *    ctrlCaption: \"xxx\", // 组件中文名称\r\n *    mixins: [lalyout],\r\n *    ...\r\n * }\r\n */\r\nexport default {\r\n  mixins: [control],\r\n  /**\r\n   * @memberof Layout\r\n   * @name Props 属性\r\n   * @property {Boolean} [isListContent = false] 是否是列表模板中的内容组件\r\n   */\r\n  props:{\r\n    //是否是列表模板中的内容组件\r\n    isListContent:{\r\n      type:Boolean,\r\n      default:false\r\n    }\r\n  },\r\n  design: {\r\n    //设计器是是否在组件上产生遮罩\r\n    isMask: false\r\n  }\r\n};\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAACwklEQVQ4Ea2VS2gTURSGz6QxjZIa07Q+kuAjUKVpfNQHurCIj011EbddSEVxUXATBd3owqUIdiGK6KqCuBA0UbAbH4sqIlTx0UTaYktDk2obGhNrTGmb8fyTO8PMtEFbcuDOPfecc79759y5ZyQqI7Isu9gVEi3AvUeEpriPc4uiSZKUEXZDJxlGPGCgnbvwrFy8+DIdc3Kj+FSSxqdzSujq6pUUcHjpUF0TWtYqWa6yo5MXKCgB4mEAM9TL9siLdGz39aFnNFqY1MfO0332WjrnP0qH65p62Xmc4Uk1SAMDKpP8rnOo29s12qP6/6tv97VQ2N+alEjaq8ItmCleP7IUKOZjI5jLakSwSAGzIYzXX+xOV1lX0E7nRp5egoPBahhjC6/gwkEhp+XEvcxBjqrqee7Q2l2037VFs4MBFpjYcQinX+6gAL23o4MOuBs1AJRgjY86Nhwht82h2cEAiw0hFaw59Qp2eXvrKfIur+WcaedMrfXb6WbwJNmrbPRzJq+fAjDGISs/AvhOzWKTrHQj2E4NjnWKa5+rgRprvLTH6ddscLzPDhumClYAYI/68asR2N21QBs1OzepJjq2plnTVeVLLkGvJ/vVodILlkf9KgzOM+sPck5xi8vL9NwMXep/SEWSDUGSyBjAKVxTvTxP91HOlDu9f2BqjE58vEUjf9J6s6LX2xRWCqmI893frA/6lh+ns31ddGfbaeWAMGMkP0H9v8fobWaQnv74gM9KAZkfqCMsMew4ioJils+/EnQ+fp9mi3OK627iFV34+oAef+8tC0WgYD1RwVkUFLO8yQzQZc4j33mza8ExGKh47IxaUE9R+lClFpLuiU90ZfARDXMq/iVggAWmcoaicPTwlVx0vVAXQ4VjMMpnC4ML2nVieEXLpgbGyoBzV9lCDzBEpKWyv6YSuvTkBVysLfln+hcU+D0UgKnajwAAAABJRU5ErkJggg==\"","/* eslint-disable no-unused-vars */\r\nimport dynamicComponent from '_platform/dsf/output/dynamicComponent'\r\n\r\nlet designPages = {};\r\n\r\nfunction initRouter(router, clientString) {\r\n  //检查动态组件（通过设计器配置的页面），并动态创建路由\r\n  const VueRouterPush = router.push;\r\n  router.push = function push(to) {\r\n    // if (window.$$mobile) {\r\n    //   appendTime(to);\r\n    // }\r\n    return VueRouterPush.call(this, to)\r\n      .catch(err => {\r\n        dsf.warn(err);\r\n      });\r\n  };\r\n  const VueRouterReplace = router.replace;\r\n  router.replace = function replace(to) {\r\n    // if (window.$$mobile) {\r\n    //   appendTime(to);\r\n    // }\r\n    return VueRouterReplace.call(this, to)\r\n      .catch(err => {\r\n        dsf.warn(err);\r\n      });\r\n  };\r\n\r\n  function appendTime(route) {\r\n    if (window.$$mobile) {\r\n      if (!route.query) {\r\n        route.query = {};\r\n      }\r\n      if (route.query._t == undefined) {\r\n        route.query._t = new Date().getTime().toString();\r\n      }\r\n    }\r\n  }\r\n\r\n  if (clientString) {\r\n    router.beforeEach((to, from, next) => {\r\n      let matched = to.matched;\r\n      //当没有匹配到路由或者匹配到*路由时\r\n      let isMatched = matched.length <= 0 || matched[0].path == \"*\";\r\n      let clientPart = \"/\" + clientString + \"/\";\r\n      if (isMatched && to.path.startsWith(clientPart) && !designPages[to.path]) {\r\n        /**\r\n         * 动态路由\r\n         */\r\n        let rmCode = to.path.substr(clientPart.length).replace(/\\//g, '.');\r\n        let rmCodeArr = rmCode.split(\".\");\r\n        let nameSpace = rmCodeArr.slice(0, rmCodeArr.length - 1).join(\".\");\r\n        let pageName = rmCodeArr[rmCodeArr.length - 1];\r\n        dynamicComponent(rmCode, clientString, true).then((result) => {\r\n          router.addRoutes([{\r\n            path: to.path,\r\n            name: result.name,\r\n            component: result,\r\n            meta: {\r\n              needLogin: result.needLogin,\r\n              title: dsf.express.replace(result.pageTitle, dsf.config),\r\n              keepAlive: result.isKeepAlive,\r\n              level: result.pageLevel || 1\r\n            },\r\n            props(router) {\r\n              return {\r\n                \"nameSpace\": nameSpace,\r\n                \"pageName\": pageName,\r\n                \"queryString\": router.query\r\n              }\r\n            }\r\n          }]);\r\n          designPages[to.path] = true;\r\n          next({ path: to.fullPath });\r\n        }).catch((err) => {\r\n          next();\r\n        });\r\n      } else {\r\n        next();\r\n      }\r\n    });\r\n  }\r\n\r\n  router.onError((error) => {\r\n    dsf.layer.message(\"动态路由发生错误\", false)\r\n  })\r\n  //将路由参数外放到window全局对象，使dsf.express表达式获取url参数功能可用\r\n  router.afterEach((to, from) => {\r\n    window.__dsfUrlInfo__ = to;\r\n  });\r\n}\r\n\r\nfunction hotLoad(paths, router, clientString) {\r\n  let routers = {};\r\n  _.each(paths, (el) => {\r\n    routers[el] = false;\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    if (paths.length <= 0) {\r\n      resolve();\r\n    }\r\n    _.each(paths, (e, i) => {\r\n      let clientPart = \"/\" + clientString + \"/\";\r\n      let path = e;\r\n      let rmCode = path.substr(clientPart.length).replace(/\\//g, '.');\r\n      let rmCodeArr = rmCode.split(\".\");\r\n      let nameSpace = rmCodeArr.slice(0, rmCodeArr.length - 1).join(\".\");\r\n      let pageName = rmCodeArr[rmCodeArr.length - 1];\r\n      dynamicComponent(rmCode, clientString, true)\r\n        .then((result) => {\r\n          router.addRoutes([{\r\n            path: path,\r\n            name: result.name,\r\n            component: result,\r\n            meta: {\r\n              needLogin: result.needLogin,\r\n              title: dsf.express.replace(result.pageTitle, dsf.config),\r\n              keepAlive: result.isKeepAlive,\r\n              level: result.pageLevel || 1\r\n            },\r\n            props(router) {\r\n              return {\r\n                \"nameSpace\": nameSpace,\r\n                \"pageName\": pageName,\r\n                \"queryString\": router.query\r\n              }\r\n            }\r\n          }]);\r\n          // console.log(path)\r\n          designPages[path] = true;\r\n        })\r\n        .catch((err) => {})\r\n        .finally(() => {\r\n          // console.log(e);\r\n          routers[e] = true;\r\n          let result = _.filter(routers, (el) => !el);\r\n          result.length <= 0 && resolve();\r\n        })\r\n    })\r\n  })\r\n}\r\n\r\nfunction injectionWebAPI(Vue, api) {\r\n  //注入WEBAPI\r\n  Object.defineProperties(Vue.prototype, {\r\n    $webAPI: {\r\n      get: function() {\r\n        if (!this.$$webapi) {\r\n          this.$$webapi = {};\r\n          for (let k in api) {\r\n            this.$$webapi[k] = api[k].bind(this)\r\n          }\r\n        }\r\n        return this.$$webapi;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction injectionDsf(Vue, dsf) {\r\n  Vue.prototype.dsf = dsf;\r\n}\r\n\r\nfunction injectionHttp(Vue, http) {\r\n  Vue.prototype.$http = http;\r\n}\r\n\r\n\r\nexport default {\r\n  hotLoad,\r\n  initRouter,\r\n  injectionWebAPI,\r\n  injectionDsf,\r\n  injectionHttp\r\n}","/* eslint-disable no-unused-vars */\r\n\r\nlet dbKeyWords = {\r\n  'TRIGGER': 1,\r\n  'WHERE': 1,\r\n  'REVOKE': 1,\r\n  'THEN': 1,\r\n  'CONNECT': 1,\r\n  'GRANT': 1,\r\n  'HAVING': 1,\r\n  'NULL': 1,\r\n  'ALL': 1,\r\n  'INDEX': 1,\r\n  'SMALLINT': 1,\r\n  'RENAME': 1,\r\n  'EXCLUSIVE': 1,\r\n  'BETWEEN': 1,\r\n  'SHARE': 1,\r\n  'MODE': 1,\r\n  'UNION': 1,\r\n  'SET': 1,\r\n  'START': 1,\r\n  'VALUES': 1,\r\n  'VIEW': 1,\r\n  'WITH': 1,\r\n  'CHAR': 1,\r\n  'FROM': 1,\r\n  'SELECT': 1,\r\n  'BY': 1,\r\n  'OR': 1,\r\n  'ELSE': 1,\r\n  'CHECK': 1,\r\n  'VARCHAR2': 1,\r\n  'CREATE': 1,\r\n  'AS': 1,\r\n  'TABLE': 1,\r\n  'LONG': 1,\r\n  'ASC': 1,\r\n  'DESC': 1,\r\n  'CLUSTER': 1,\r\n  'FLOAT': 1,\r\n  'NOT': 1,\r\n  'DELETE': 1,\r\n  'ALTER': 1,\r\n  'IDENTIFIED': 1,\r\n  'INTEGER': 1,\r\n  'SIZE': 1,\r\n  'NOWAIT': 1,\r\n  'ANY': 1,\r\n  'FOR': 1,\r\n  'INTERSECT': 1,\r\n  'SYNONYM': 1,\r\n  'PCTFREE': 1,\r\n  'UPDATE': 1,\r\n  'DEFAULT': 1,\r\n  'UNIQUE': 1,\r\n  'PRIOR': 1,\r\n  'RESOURCE': 1,\r\n  'DATE': 1,\r\n  'RAW': 1,\r\n  'OPTION': 1,\r\n  'OF': 1,\r\n  'DECIMAL': 1,\r\n  'PUBLIC': 1,\r\n  'TO': 1,\r\n  'INSERT': 1,\r\n  'DROP': 1,\r\n  'COMPRESS': 1,\r\n  'LIKE': 1,\r\n  'NOCOMPRESS': 1,\r\n  'IS': 1,\r\n  'ON': 1,\r\n  'EXISTS': 1,\r\n  'DISTINCT': 1,\r\n  'LOCK': 1,\r\n  'AND': 1,\r\n  'GROUP': 1,\r\n  'VARCHAR': 1,\r\n  'IN': 1,\r\n  'INTO': 1,\r\n  'NUMBER': 1,\r\n  'ORDER': 1,\r\n  'MINUS': 1\r\n}\r\n\r\n\r\nfunction getParentControl(el) {\r\n  let target = $(el);\r\n  let slotEl = $(target).closest(\"[slot-name]\");\r\n  let container = null;\r\n\r\n  let mark = false;\r\n  //判断插槽元素是否本身就是一个组件且不是一个被镶嵌在其他组件内部\r\n  if (slotEl.hasClass(\"ds-control\")) {\r\n    let vueComponent = slotEl.get(0).__vue__;\r\n    container = vueComponent;\r\n    // let vueComponent = slotEl.get(0).__vue__;\r\n    // if (vueComponent && vueComponent.$props.designOnlySlot) {\r\n    //   mark = true;\r\n    // }\r\n  } else {\r\n    mark = true;\r\n  }\r\n  if (mark) {\r\n    container = slotEl.parents(\".ds-control\");\r\n    if (container.get(0)) {\r\n      let vueComponent = container.get(0).__vue__;\r\n      container = vueComponent;\r\n    }\r\n  }\r\n  if (container) {\r\n    let layoutContainer = container;\r\n    let layoutParent = layoutContainer.$layoutTree;\r\n    // let ctrlType = layoutContainer.ctrlType;\r\n    while (!layoutParent) {\r\n      layoutContainer = layoutContainer.$parent;\r\n      layoutParent = layoutContainer.$layoutTree;\r\n    }\r\n    if (layoutParent) {\r\n      return layoutParent;\r\n    }\r\n  }\r\n  // //插糟是个普通的html元素\r\n  // else {\r\n  //   mark = true;\r\n  // }\r\n  // if (mark) {\r\n  //   container = slotEl.parents(\".ds-control\");\r\n  //   if(container.get(0)){\r\n  //     let vueComponent = container.get(0).__vue__;\r\n  //     if(vueComponent){\r\n  //       let layoutParent=vueComponent.$layoutParent;\r\n  //       if(layoutParent){\r\n  //         container=layoutParent.$$getComponent()\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // } else {\r\n  //   container = slotEl;\r\n  // }\r\n  // return container;\r\n}\r\n\r\nfunction getComponent(comp, maxComponent) {\r\n  let vueComponent = comp;\r\n  if (vueComponent) {\r\n    //如果组件不是按我们系统规范创建的组件则则继续向上查找\r\n    while (!vueComponent.$props.ctrlName) {\r\n      vueComponent = vueComponent.$parent;\r\n      if (vueComponent.$el == maxComponent.$el) {\r\n        vueComponent = null;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return vueComponent;\r\n}\r\n\r\nfunction createComponent(name, attrs) {\r\n  let comp = dsf.createComponent(name, attrs);\r\n  if (!comp.designId) {\r\n    comp.designId = dsf.uuid();\r\n  }\r\n  return comp;\r\n}\r\n\r\nfunction createMobileComponent(name, attrs) {\r\n  let arr = name.split(\".\");\r\n  // let key = \"mobile-\";\r\n  if (arr[1] != 'mobile') {\r\n    arr.splice(1, 0, \"mobile\");\r\n    name = arr.join(\".\")\r\n  }\r\n  // if (attrs.ctrlType) {\r\n  //   if (attrs.ctrlType.indexOf(key) != 0) {\r\n  //     attrs.ctrlType = key + attrs.ctrlType;\r\n  //   }\r\n  // }\r\n  let comp = dsf.createComponent(name, attrs);\r\n  if (!comp.designId) {\r\n    comp.designId = dsf.uuid();\r\n  }\r\n  return comp;\r\n}\r\n\r\n//获取触发事件的组件\r\nfunction getComponentByTarget(target) {\r\n  target = $(target);\r\n  target = target.closest(\".designer-ctrl-proxy\");\r\n  let component = target.get(0).__vue__;\r\n  if (component) {\r\n    component = component.$$getComponent ? component.$$getComponent() : component;\r\n    return component;\r\n  }\r\n  return null;\r\n}\r\n\r\n//是否允许拖放\r\nfunction isAllowDrop(target, maxComponent) {\r\n  let curr = null,\r\n    count = 0,\r\n    allow = true;\r\n  if (!target) {\r\n    return false;\r\n  }\r\n  if (target.jquery) {\r\n    curr = target.length > 0 ? target.get(0) : null;\r\n  } else {\r\n    curr = target;\r\n  }\r\n  if (!curr) {\r\n    return false;\r\n  }\r\n  do {\r\n    if (curr == maxComponent.$el) {\r\n      break;\r\n    }\r\n    if (curr.__vue__) {\r\n      let vueComponent = getComponent(curr.__vue__, maxComponent);\r\n      if (vueComponent && !vueComponent.$props.isDesign) {\r\n        allow = false;\r\n        break;\r\n      } else {\r\n        break;\r\n      }\r\n    } else {\r\n      curr = curr.parentNode;\r\n    }\r\n    count++;\r\n  } while (count < 100);\r\n  return allow;\r\n}\r\n\r\n//将组件转化为json\r\nfunction controlToJson(ctrl) {\r\n  return JSON.stringify(ctrl);\r\n}\r\n\r\n//向下传播设计器事件\r\nfunction broadcast(sourceComponent, eventName, evt, params, excludeComponent) {\r\n  sourceComponent.$children.forEach(child => {\r\n    if (child.$options.design && child.$options.design[eventName]) {\r\n      if (excludeComponent != child) {\r\n        child.$options.design[eventName].call(child, evt, params);\r\n      }\r\n    }\r\n    broadcast(child, eventName, evt, params, excludeComponent);\r\n  });\r\n}\r\n\r\n//保存布局是被排除的属性\r\nlet layoutExclude = [\"layoutRoot\", \"layoutParent\", \"isDesign\", '$vm', 'local'];\r\n\r\nfunction getLayoutInfo(page, isPreView) {\r\n  let arrs = [],\r\n    root = null;\r\n  recursionLayoutTree(page, null, null, (component, parent, slotName) => {\r\n    let parentProps = arrs[arrs.length - 1];\r\n    let designOptions = component.$options ? component.$options.design : null;\r\n    if (designOptions) {\r\n      let layoutNode = designOptions.layout || {};\r\n      layoutNode.before && layoutNode.before.call(component);\r\n    }\r\n    let props = dsf.mix(true, {}, component.$props);\r\n    if (component.$attrs[\"slot-name\"]) {\r\n      props[\"slot-name\"] = component.$attrs[\"slot-name\"];\r\n    }\r\n    let excludeProps = [...layoutExclude];\r\n    if (component.$options && component.$options.design) {\r\n      let layout = component.$options.design.layout;\r\n      if (layout) {\r\n        let exclude = layout.exclude || [];\r\n        excludeProps = excludeProps.concat(exclude);\r\n      }\r\n    }\r\n    if (component.isFormControl) {\r\n      if (component.$parent.$parent && component.$parent.$parent.span) {\r\n        //查找组件父亲，如果在dsfcol组件内则记录下组件占多少栅格，改属性可用于自动布局\r\n        props.colSpan = component.$parent.$parent.span || 24;\r\n      } else {\r\n        props.colSpan = 24;\r\n      }\r\n    }\r\n    _.each(excludeProps, exc => {\r\n      if (isPreView) {\r\n        if (!exc.startsWith(\"#\")) {\r\n          delete props[exc];\r\n        }\r\n      } else {\r\n        delete props[exc];\r\n      }\r\n    });\r\n\r\n    arrs.push(props);\r\n    if (!parentProps) {\r\n      root = props;\r\n    }\r\n    let slots = props.slots;\r\n    _.each(slots, slot => {\r\n      slot.controls = [];\r\n    });\r\n    if (parentProps) {\r\n      let slot = _.find(parentProps.slots, s => s.name == slotName);\r\n      if (slot) {\r\n        slot.controls.push(props);\r\n      }\r\n    }\r\n  }, () => {\r\n    arrs.pop();\r\n  });\r\n  return root;\r\n}\r\n\r\n//递归组件\r\nfunction recursionLayoutTree(component, parent, slotName, callback, callbackAfter) {\r\n  if (component) {\r\n    while (!component.$$getComponent) {\r\n      component = component.$parent;\r\n    }\r\n    if (!component) {\r\n      return;\r\n    }\r\n    component = component.$$getComponent();\r\n    let isContinue;\r\n    if (callback) {\r\n      isContinue = callback(component, parent, slotName);\r\n    }\r\n    if (isContinue !== false) {\r\n      let designMethods = component.$options.design;\r\n      let layoutNode = designMethods.layout;\r\n      let isdeep = dsf.isFunction(layoutNode.isDeep) ? layoutNode.isDeep.call(component) : layoutNode.isDeep;\r\n      if (isdeep !== false) {\r\n        _.each(component.slots || [], slot => {\r\n          _.each(slot.controls || [], control => {\r\n            let desid = control.designId;\r\n            let target = $(\"[des-id='\" + desid + \"']\");\r\n            if (target.length) {\r\n              let child = target.get(0).__vue__;\r\n              recursionLayoutTree(child, component, slot.name, callback, callbackAfter);\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n    callbackAfter && callbackAfter(component, parent, slotName);\r\n  }\r\n}\r\n\r\n//保存布局时验证\r\nfunction saveLayoutValidate(page) {\r\n  let errors = [];\r\n  recursionLayoutTree(page, null, null, (el, parent, slotName) => {\r\n    if (el.isFormControl) {\r\n      let layout = el.$options.design ? el.$options.design.layout : {};\r\n      let nameValidate = true;\r\n      if (dsf.hasOwn(layout, \"nameValidate\") && layout.nameValidate === false) {\r\n        nameValidate = false;\r\n      }\r\n      if (nameValidate) {\r\n        //验证表单组件的标识不能等于自己组件的名字开头，避免提交时数据库生成无意义的字段和表\r\n        _.each(validateCaption(el), (error) => {\r\n          errors.push(error);\r\n        });\r\n      }\r\n      // 编号控件必须设置编号规则\r\n      if (el.ctrlName == \"DsfNumeration\" && !el.rule) {\r\n        errors.push(\"请为\" + el.caption + \"设置编号规则\");\r\n      }\r\n    }\r\n  });\r\n  if (errors.length) {\r\n    dsf.layer.pc.message(errors[0], false);\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction validateCaption(el) {\r\n  let errors = [];\r\n  let name = el.$props.ctrlType.split(\".\")[1];\r\n  if (el.$props.caption.startsWith(name)) {\r\n    errors.push(el.$props.caption + \"组件标识是无意义的，请修改\");\r\n  }\r\n  if (dbKeyWords[el.$props.caption.toUpperCase()] === 1) {\r\n    errors.push(el.$props.caption + \"为特殊关键字不可使用\");\r\n  }\r\n  return errors\r\n}\r\n\r\n//获取extjs路径\r\nfunction getExtPath(b, m, pn, isMobile, isTpl) {\r\n  let tplOrViews = isTpl ? 'tpl' : 'views';\r\n  let folder = [b, m].join(\".\");\r\n  let clientDirs = isMobile ? dsf.url.getWebPath(\"~/mobile/\" + tplOrViews) : dsf.url.getWebPath(\"~/pc/\" + tplOrViews);\r\n  let extPath = `${clientDirs}/${folder}/${pn}.ext.js?t=${new Date().getTime()}`;\r\n  return extPath;\r\n}\r\n\r\n//获取layout文件路径\r\nfunction getLayoutPath(b, m, pn, isMobile, isTpl) {\r\n  let tplOrViews = isTpl ? 'temp' : 'views';\r\n  let folder = [b, m].join(\".\");\r\n  let clientDirs = isMobile ? dsf.url.getWebPath(\"~/mobile/\" + tplOrViews) : dsf.url.getWebPath(\"~/pc/\" + tplOrViews);\r\n  let htmlPath = `${clientDirs}/${folder}/${pn}.layout.html?t=${new Date().getTime()}`;\r\n  return htmlPath;\r\n}\r\n\r\n//创建页面元数据\r\nfunction createViewMetaData(page, callback) {\r\n  let md = {\r\n    accessRole: [],\r\n    isForm: page.pageType == \"form\" ? true : false,\r\n    pageState: page.pageType,\r\n    xssConfig: page.xssConfig,\r\n    init: { privilege: [] },\r\n    query: {},\r\n    browseScope: {},\r\n    metadata: {},\r\n    isMobile: false\r\n  };\r\n  let result = createComponentMetaData(page, page, callback);\r\n  let orderNum = 0;\r\n  _.each(result, item => {\r\n    if (item.schema) {\r\n      let scheam = item.schema;\r\n      let list = dsf.type(scheam) != \"array\" ? [scheam] : scheam;\r\n      _.each(list, el => {\r\n        if (el.metadata) {\r\n          md.metadata[el.key] = dsf.mix({}, el.metadata);\r\n          md.metadata[el.key].order = ++orderNum;\r\n          md.metadata[el.key].ref = el.self;\r\n        }\r\n        if (el.query) {\r\n          md.query = el.query;\r\n        }\r\n        if (el.browseScope) {\r\n          md.browseScope = el.browseScope;\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return md;\r\n}\r\n\r\n\r\n//创建组建元数据\r\nfunction createComponentMetaData(component, root, callback) {\r\n  let arr = [];\r\n  recursionLayoutTree(component, null, null, el => {\r\n    let designOptions = el.$options.design || {};\r\n    let metadataNode = designOptions.metadata || {};\r\n    let result = metadataNode.create && metadataNode.create.call(el, root);\r\n    result && arr.push({\r\n      component: el,\r\n      schema: result\r\n    });\r\n    let isDeep = dsf.isDef(metadataNode.isDeep) ? metadataNode.isDeep : true;\r\n    if (!isDeep) {\r\n      return false;\r\n    }\r\n  });\r\n  let ns_arr = [root.context.B, root.context.M];\r\n  let key = ns_arr.join(\"_\").replace(/\\./g, \"_\");\r\n  for (let i = 0; i < arr.length; i++) {\r\n    let com = arr[i].component;\r\n    let result = arr[i].schema;\r\n    //如果当前组件是子表\r\n    if (com.isOneToMany) {\r\n      let subMetaDataKey = \"\";\r\n      //先查看子表内部是否存在不同的元数据\r\n      let existFromMeta = [],\r\n        sourceKey = [];\r\n      _.each(result, (el) => {\r\n        if (el.metadata) {\r\n          if (el.metadata.isFromMetaData || el.metadata.isuser) {\r\n            existFromMeta.push(el.metadata);\r\n            let key = getMetaDataPrefixById(el.metadata.id)\r\n            dsf.array.ensure(sourceKey, key);\r\n          }\r\n        }\r\n      });\r\n      if (sourceKey.length > 1) {\r\n        throw '子表中不能存在2组不同源的元数据'\r\n      }\r\n      //循环子表生成的元数据结构（类型为数组，包含子表中的子组件。且子表本身元数据对象排在数组第一个）\r\n      _.each(result, (el, i) => {\r\n        let ctrl = el.self;\r\n        let currMetaDataKey = \"\"\r\n        if (i == 0) {\r\n          let code = \"\",\r\n            id = \"\",\r\n            at = \"\",\r\n            name = \"\",\r\n            fullCode = \"\"\r\n          //如果子表中存在不同源的元数据，强制以已有元数据为主（强制同源）\r\n          if (existFromMeta.length > 0) {\r\n            let code_arr = existFromMeta[0].at.split(\".\");\r\n            code = code_arr[code_arr.length - 1];\r\n            id = code_arr.join(\".\");\r\n            at = code_arr.join(\".\");\r\n            name = ctrl.label;\r\n            fullCode = code_arr.join(\"_\");\r\n            currMetaDataKey = subMetaDataKey = code_arr.join(\"_\");\r\n          } else {\r\n            code = ctrl.caption;\r\n            id = ns_arr.join(\".\") + \".\" + ctrl.caption;\r\n            at = ns_arr.join(\".\");\r\n            name = ctrl.metadata.name || ctrl.label;\r\n            fullCode = key + \"_\" + ctrl.caption;\r\n            currMetaDataKey = subMetaDataKey = key + \"_\" + ctrl.caption;\r\n          }\r\n          checkMetadataControlValue(el.metadata);\r\n\r\n          el.metadata.code = code\r\n          el.metadata.id = id;\r\n          el.metadata.at = at;\r\n          el.metadata.name = name\r\n          el.metadata.cname = ctrl.caption;\r\n          ctrl.metadata_fullcode = fullCode;\r\n        } else {\r\n          if (el.metadata) {\r\n            checkMetadataControlValue(el.metadata);\r\n            el.metadata.inSubTable = subMetaDataKey;\r\n            el.metadata.code = ctrl.caption;\r\n            el.metadata.cname = ctrl.caption;\r\n            el.metadata.id = subMetaDataKey.replace(/\\_/g, \".\") + \".\" + ctrl.caption;\r\n            el.metadata.at = subMetaDataKey.replace(/\\_/g, \".\");\r\n            el.metadata.name = ctrl.metadata.name || ctrl.label;\r\n            ctrl.metadata_fullcode = subMetaDataKey + \".\" + ctrl.caption;\r\n            el.metadata.pinyin = ctrl.pinyin === true ? true : false;\r\n            currMetaDataKey = subMetaDataKey + \".\" + ctrl.caption;\r\n          }\r\n        }\r\n        el.metadata.level = 1;\r\n        el.key = currMetaDataKey;\r\n      });\r\n    } else {\r\n      //表单组件、树组件元数据处理\r\n      result = dsf.type(result) == 'array' ? result : [result];\r\n      _.each(result, (el) => {\r\n        let ctrl = el.self;\r\n        if (el.metadata) {\r\n          //表单组件元数据处理\r\n          if (ctrl.isFormControl) {\r\n            checkMetadataControlValue(el.metadata);\r\n            /*isFromMetaData表示是由左侧元数据组拖动拖来的\r\n            isuser表示是在表单保存时产生不同源时用户选择的\r\n            以上两者元数据的key不会重新计算*/\r\n            if (!el.metadata.isFromMetaData && !el.metadata.isuser) {\r\n              el.metadata.cname = ctrl.caption;\r\n              el.metadata.code = ctrl.caption;\r\n              el.metadata.id = ns_arr.join(\".\") + \".\" + ctrl.caption;\r\n              el.metadata.at = ns_arr.join(\".\");\r\n              el.metadata.name = ctrl.metadata.name || ctrl.label;\r\n              el.metadata.level = 0;\r\n              ctrl.metadata_fullcode = key + \".\" + ctrl.caption;\r\n              el.metadata.pinyin = ctrl.pinyin === true ? true : false;\r\n              el.key = key + \".\" + ctrl.caption;\r\n            } else {\r\n              let code_arr = el.metadata.id.split(\".\");\r\n              let fullCode = code_arr.slice(0, code_arr.length - 1).join(\"_\") + \".\" + code_arr[code_arr.length - 1];\r\n              ctrl.metadata_fullcode = fullCode;\r\n              el.metadata.ctrlCaption = ctrl.caption;\r\n              el.metadata.level = 0;\r\n              el.metadata.pinyin = ctrl.pinyin === true ? true : false;\r\n              el.key = fullCode;\r\n            }\r\n          }\r\n          //树组件元数据处理\r\n          else if (el.metadata.ckey == \"nav-tree-meta-data\") {\r\n            let caption = ctrl.caption;\r\n            // el.ref = ctrl;\r\n            el.metadata.cname = caption;\r\n            el.metadata.code = caption;\r\n            el.metadata.name = ctrl.metadata.name || ctrl.label;\r\n            el.metadata.level = 0;\r\n            if (ctrl.async && ctrl.asyncDataSource * 1 == 2 && ctrl.asyncChooseMetaData.code && ctrl.asyncChooseMetaData.code.id) {\r\n              el.metadata.id = ctrl.asyncChooseMetaData.code.at + '.' + caption;\r\n              el.metadata.at = ctrl.asyncChooseMetaData.code.at;\r\n              key = ctrl.asyncChooseMetaData.code.at.split('.').join('_');\r\n            } else {\r\n              let _k = key;\r\n              el.metadata.id = _k.replace(/\\_/g, '.') + \".\" + caption;\r\n              el.metadata.at = _k.replace(/\\_/g, '.');\r\n            }\r\n            key += \".\" + caption;\r\n            ctrl.metadata_fullcode = key;\r\n            el.key = key;\r\n          } else {\r\n            checkMetadataControlValue(el.metadata);\r\n            //其他可能带有元数据的组件\r\n            el.metadata.cname = ctrl.caption;\r\n            el.metadata.code = ctrl.caption;\r\n            el.metadata.id = ns_arr.join(\".\") + \".\" + ctrl.caption;\r\n            el.metadata.at = ns_arr.join(\".\");\r\n            el.metadata.name = ctrl.metadata.name || ctrl.label;\r\n            el.metadata.level = 0;\r\n            el.key = key + \".\" + ctrl.caption;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n  return arr;\r\n}\r\n// let innerControls = ['DsfCol', 'DsfTableRow', 'DsfTableCell'];\r\n\r\n\r\n//转化vue模板\r\nfunction convertTemplateAndControlData(layout, isPreView, options) {\r\n  layout = dsf.mix(true, {}, layout);\r\n  let defaultOptions = {\r\n    before: null,\r\n    after: null\r\n  };\r\n  dsf.mix(defaultOptions, options);\r\n  let parentNodes = [];\r\n  /**\r\n   * node：当前布局组建的props\r\n   * parent：夫组件的props\r\n   * slot：当前组件所在的插槽信息\r\n   * isRepeat：是否在一个表格循环内\r\n   * prefix：循环表格组件的caption前缀（暂时无用）\r\n   * textProxy：遇到表单组件时是否显示一个<span>代理组件的输出（数据列表中使用，避免列表加载数据时每行都要实例化组件）\r\n   */\r\n  function createElement(node, parent, slot, slotScope, scopeDataKey, unique, isRepeat, prefix, textProxy) {\r\n    let arr = [],\r\n      props = {};\r\n\r\n    defaultOptions.before && defaultOptions.before(node, parentNodes, slot, slotScope, scopeDataKey);\r\n    if (node) {\r\n      parentNodes.push(node);\r\n    }\r\n    let isFormControl = node.isFormControl;\r\n    let metadataFullCode = node.metadata_fullcode;\r\n    let modelExpress = \"$viewData\";\r\n    let s = []\r\n    if (slotScope) {\r\n      s.push(slotScope);\r\n    }\r\n    if (scopeDataKey) {\r\n      s.push(scopeDataKey)\r\n    }\r\n    if (s.length) {\r\n      modelExpress = s.join(\".\")\r\n    }\r\n    // let modelExpress = (isRepeat) ? (slotScope ? slotScope + (scopeDataKey ? \".\" + scopeDataKey : \"\") : \"\") : \"$viewData\"\r\n    let attachAttrs = {};\r\n    if (isFormControl && metadataFullCode) {\r\n      attachAttrs['v-model'] = modelExpress + \"['\" + metadataFullCode + \"']\";\r\n      //如果是枚举型组件增加items属性的绑定\r\n      if (node.metadata.ckey == \"items-meta-data\" && !isPreView) {\r\n        attachAttrs[\":items\"] = \"$enum['\" + metadataFullCode + \"']\";\r\n      }\r\n    }\r\n    if (node.treeProxy) {\r\n      _.each(node.slots, (s, i) => {\r\n        if (s.controls.length > 0) {\r\n          _.each(s.controls, (c, ii) => {\r\n            let child = createElement(c, parent, { slotName: s.name, slotIndex: i, $index: ii }, slotScope, scopeDataKey, unique, isRepeat, prefix, textProxy);\r\n            arr.push(...child.tpl);\r\n            dsf.mix(props, child.props);\r\n          });\r\n        }\r\n      });\r\n    }\r\n    //特殊判断HTML组件，将html组建内容直接显示到模板 \r\n    else if (node.ctrlName == 'DsfHtml' && !isPreView) {\r\n      if (node.html) {\r\n        arr.push(dsf.unescapeHTML(node.html));\r\n      }\r\n    } else {\r\n      let ref = \"\";\r\n      if (!isRepeat) {\r\n        attachAttrs['v-bind.sync'] = \"$controls['\" + node.designId + \"']\";\r\n        if (node.caption) {\r\n          ref = \"'\" + node.caption + \"'\"\r\n        }\r\n        attachAttrs[':local'] = modelExpress\r\n      } else {\r\n        // attachAttrs['v-bind'] = \"updateControlPropsInTemplate('\" + node.designId + \"',scope)\";\r\n        attachAttrs['v-bind'] = `$controls['${node.designId}-'+${modelExpress}.${unique||'$hash'}]`;\r\n        attachAttrs[':local'] = modelExpress;\r\n        attachAttrs[':design-id'] = \"'\" + node.designId + \"'\";\r\n        // attachAttrs[\":inSubTemplate\"] = \"true\";\r\n      }\r\n\r\n      attachAttrs[\":key\"] = \"'\" + node.designId + \"'\";\r\n\r\n      if (ref) {\r\n        attachAttrs[':ref'] = ref;\r\n        attachAttrs[':ctrl-id'] = ref;\r\n      }\r\n      if (node.isView) {\r\n        // attachAttrs[\":is-loaded\"] = \"isLoaded\";\r\n        attachAttrs[\"v-if\"] = \"$isLoaded\";\r\n        // attachAttrs[\"v-else\"] = \"\";\r\n        attachAttrs['v-loading.fullscreen'] = \"loading\";\r\n      }\r\n      let attrMap = getVuePropsAndEventMap(attachAttrs);\r\n      let customAttrs = !isPreView ? getVuePropsAndEventMap(node.development['attrs'] || {}) : {};\r\n      let mergeAttrs = { ...attrMap, ...customAttrs };\r\n      let attrsArr = _.map(mergeAttrs, (attr) => {\r\n        let name = attr.prefix + attr.propName + attr.modifier;\r\n        return name + \"=\" + attr.value;\r\n      });\r\n      //注入自定义事件\r\n      // let eventMap = !isPreView ? getVuePropsAndEventMap(node.development['events']) : {};\r\n      // let eventArr = _.map(eventMap, (attr) => {\r\n      //   let name = (attr.prefix || \"@\") + attr.propName + attr.modifier;\r\n      //   return name + \"=\" + attr.value;\r\n      // });\r\n      let _textProxy = node.isFormControl && textProxy;\r\n      if (_textProxy) {\r\n        arr.push(`<template v-if=\"!${modelExpress+'.$editing'}\">`);\r\n        let exp = `${modelExpress+ \"['\" + metadataFullCode + \"']\"}`;\r\n        arr.push(`<span :title=\"$dataFormat('proxyTitle','${node.formatter}',${exp})\" v-html=\"$dataFormat('proxy','${node.formatter}',${exp})\"></span>`);\r\n        arr.push(\"</template>\")\r\n        arr.push(\"<template v-else>\")\r\n      }\r\n      arr.push(\"<\" + node.ctrlName + \" \" + attrsArr.join(\" \") + \">\");\r\n      _.each(node.slots, (s, i) => {\r\n        if (s.controls.length > 0) {\r\n          let templateMark = true;\r\n          if (s.name == \"default\" && !s.scope) {\r\n            templateMark = false;\r\n          }\r\n          if (templateMark) {\r\n            arr.push(\"<template v-slot:\" + s.name + (s.scope ? \"=\" + JSON.stringify(s.scope) : \"\") + \">\")\r\n          }\r\n          let repeat = s.repeat === true ? true : false;\r\n          if (isRepeat) {\r\n            repeat = true;\r\n          }\r\n          let prefix = s.repeat === true ? node.caption : \"\";\r\n          let dataKey = s.dataKey || scopeDataKey;\r\n          let scopeName = s.scope || slotScope;\r\n          let textProxy = s.textProxy; //dsf.isDef(s.textProxy)?s.textProxy:_textProxy\r\n          let unique = s.unique || unique;\r\n          _.each(s.controls, (c, ii) => {\r\n            let child = createElement(c, node, { slotName: s.name, slotIndex: i, $index: ii }, scopeName, dataKey, unique, repeat, prefix, textProxy);\r\n            arr.push(...child.tpl);\r\n            dsf.mix(props, child.props);\r\n          });\r\n          if (templateMark) {\r\n            arr.push(\"</template>\");\r\n          }\r\n        }\r\n      });\r\n      arr.push(\"</\" + node.ctrlName + \">\");\r\n      if (textProxy) {\r\n        arr.push(\"</template>\")\r\n      }\r\n      props[node.designId] = node;\r\n    }\r\n    //如果是移动端页面外层增肌一个div,确保过场动画\r\n    // if (node.isView) {\r\n    //   arr.splice(0, 0, '<div v-if=\"!isLoaded\"></div>');\r\n    // }\r\n    defaultOptions.after && defaultOptions.after(node, parentNodes, slot, slotScope, scopeDataKey)\r\n    parentNodes.pop();\r\n    return {\r\n      props: props,\r\n      tpl: arr\r\n    };\r\n  }\r\n  let result = createElement(layout, null)\r\n  return {\r\n    props: result.props,\r\n    tpl: result.tpl.join(\"\\n\")\r\n  }\r\n}\r\n\r\nfunction getVuePropsAndEventMap(props) {\r\n  let attrMap = {};\r\n  _.each(props, (s, i) => {\r\n    // let attr = attachAttrs[i];\r\n    var propExpressArray = i.split(\".\");\r\n    let rexpVueProp = /(:|v-bind:?|v-on:?|@)?([^\\.:]*)(\\..+)?/g;\r\n    let propName = \"\",\r\n      prefix = \"\",\r\n      modifier = \"\";\r\n    let group = rexpVueProp.exec(i)\r\n    if (group && group.length > 1) {\r\n      propName = group[2];\r\n      prefix = group[1];\r\n      modifier = group[3];\r\n    }\r\n    if (dsf.type(s) != \"string\" && (propExpressArray[0].startsWith(\":\") || propExpressArray[0].startsWith(\"v-bind:\"))) {\r\n      s = \"\" + s;\r\n    }\r\n    let attr = {\r\n      propName: (propName || \"\"),\r\n      prefix: (prefix || \"\"),\r\n      modifier: (modifier || \"\"),\r\n      value: JSON.stringify(s)\r\n    }\r\n    attrMap[propName || prefix] = attr;\r\n  });\r\n  return attrMap;\r\n}\r\n\r\n//编译scss\r\nfunction compileCss(scssStr, nameSpace) {\r\n  return new Promise((resolve, reject) => {\r\n    var sass = new Sass();\r\n    var scss = [\r\n      \".ds-page\" + (nameSpace ? '[module-name=\"' + nameSpace + '\"]' : \"\") + \"{\",\r\n      scssStr,\r\n      \"}\",\r\n    ];\r\n    var files = dsf.config.designer.scss || [];\r\n    sass.preloadFiles(dsf.config.designer.scssDir + \"pc/scss\", \"\", files, () => {\r\n      let scssFiles = _.map(files, (file) => `@import \"${file}\";`);\r\n      scss = [...scssFiles, ...scss];\r\n      sass.compile(scss.join(\"\\n\"), function(result) {\r\n        if (result.status == 0) {\r\n          let cssStr = dsf.beautify.css(result.text, {\r\n            indent_size: \"2\",\r\n            indent_char: \" \",\r\n          });\r\n          resolve(cssStr);\r\n        } else {\r\n          let errorMsg = \"编译错误:\" + result.message;\r\n          dsf.error(errorMsg);\r\n          reject(errorMsg);\r\n        }\r\n      });\r\n\r\n    });\r\n  });\r\n}\r\n\r\nfunction getMetaDataPrefixById(id) {\r\n  let arr = id.split(\".\");\r\n  arr = arr.slice(0, arr.length - 1);\r\n  return arr.join(\"_\");\r\n}\r\n\r\n//修复元数据中controls,currentControl中的值没有dsf.开头\r\nfunction checkMetadataControlValue(metadata) {\r\n  if (metadata.currentControl && metadata.currentControl.value) {\r\n    if (!metadata.currentControl.value.startsWith('dsf.')) {\r\n      metadata.currentControl.value = \"dsf.\" + metadata.currentControl.value;\r\n    }\r\n  }\r\n  _.each(metadata.controls, (ctrl) => {\r\n    if (!ctrl.value.startsWith('dsf.')) {\r\n      ctrl.value = \"dsf.\" + ctrl.value;\r\n    }\r\n  })\r\n}\r\n\r\n// function closestPage(this){\r\n\r\n// }\r\n\r\nvar skipMap = {\r\n  'Math': 1,\r\n  'Date': 1,\r\n  'Number': 1,\r\n  'String': 1,\r\n  'Boolean': 1,\r\n  'Object': 1,\r\n  '$event': 1,\r\n  'window': 1,\r\n  '__vmodel__': 1,\r\n  '__local__': 1,\r\n  'scope': 1,\r\n  '_self': 1,\r\n  'JSON': 1,\r\n  'this': 1,\r\n  'true': 1,\r\n  'false': 1,\r\n  'dsf': 1\r\n};\r\nlet stringNum = 0;\r\nlet stringPool = {\r\n  map: {}\r\n};\r\nlet rlocalVar = /[$a-zA-Z_][$a-zA-Z0-9_]*\\(?/g;\r\nvar rvmKey = /(^|[^\\w\\u00c0-\\uFFFF_])(@|##)(?=[$\\w])/g;\r\nvar robjectProp = /\\.[\\w\\.\\$]+/g; //对象的属性 el.xxx 中的xxx\r\nvar rregexp = /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/g;\r\nvar rshortCircuit = /\\|\\|/g;\r\nvar ruselessSp = /\\s*(\\.|\\|)\\s*/g;\r\nvar rpipeline = /\\|(?=\\?\\?)/;\r\nvar rfill = /\\?\\?\\d+/g;\r\nvar rfilterName = /\\|(\\w+)/g;\r\nvar robjectKey = /(\\{|\\,)\\s*([\\$\\w]+)\\s*:/g; //对象的键名与冒号 {xxx:1,yyy: 2}中的xxx, yyy\r\n\r\nfunction addScope(expr) {\r\n  stringPool.map = {};\r\n  var input = expr.replace(rregexp, function(a, b) {\r\n    return b + dig(a.slice(b.length));\r\n  }); //移除所有正则\r\n  input = clearString(input); //移除所有字符串\r\n\r\n  input = input.replace(rshortCircuit, dig) //移除所有短路运算符\r\n    .replace(ruselessSp, '$1') //移除.|两端空白\r\n    .replace(robjectKey, function(_, a, b) {\r\n      //移除所有键名\r\n      return a + dig(b) + ':'; //比如 ms-widget=\"[{is:'ms-address-wrap', $id:'address'}]\"这样极端的情况 \r\n    })\r\n    .replace(rvmKey, '$1__vmodel__.') //转换@与##为__vmodel__.\r\n    .replace(rfilterName, function(a, b) {\r\n      //移除所有过滤器的名字\r\n      return '|' + dig(b);\r\n    });\r\n\r\n  input = addScopeForLocal(input); //在本地变量前添加__vmodel__\r\n  var filters = input.split(rpipeline); //根据管道符切割表达式\r\n  var body = filters.shift().replace(rfill, fill).trim();\r\n  if (/\\?\\?\\d/.test(body)) {\r\n    body = body.replace(rfill, fill);\r\n  }\r\n  return body;\r\n\r\n}\r\n\r\nfunction addScopeForLocal(str) {\r\n  let props = str.replace(robjectProp, dig);\r\n  let result = props.replace(rlocalVar, function(el /*, a, c, d*/ ) {\r\n    if (!skipMap[el]) {\r\n      let isFunction = false;\r\n      if (el.endsWith(\"(\")) {\r\n        isFunction = true;\r\n      }\r\n      if (isFunction) {\r\n        let fnName = el.replace(\"(\", \"\");\r\n        return \"$proxyFn('\" + fnName + \"',\";\r\n      }\r\n    }\r\n    return el;\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction dig(a) {\r\n  var key = '??' + stringNum++;\r\n  stringPool.map[key] = a;\r\n  return key + ' ';\r\n}\r\n\r\nfunction fill(a) {\r\n  var val = stringPool.map[a];\r\n  return val;\r\n}\r\n\r\nfunction clearString(str) {\r\n  var array = readString(str);\r\n  for (var i = 0, n = array.length; i < n; i++) {\r\n    str = str.replace(array[i], dig);\r\n  }\r\n  return str;\r\n}\r\n\r\nfunction readString(str, i, ret) {\r\n  var end = false,\r\n    s = 0,\r\n    i = i || 0;\r\n  ret = ret || [];\r\n  for (var n = str.length; i < n; i++) {\r\n    var c = str.charAt(i);\r\n    if (!end) {\r\n      if (c === \"'\") {\r\n        end = \"'\";\r\n        s = i;\r\n      } else if (c === '\"') {\r\n        end = '\"';\r\n        s = i;\r\n      }\r\n    } else {\r\n      if (c === end) {\r\n        ret.push(str.slice(s, i + 1));\r\n        end = false;\r\n      }\r\n    }\r\n  }\r\n  if (end !== false) {\r\n    return readString(str, s + 1, ret);\r\n  }\r\n  return ret;\r\n}\r\n\r\nexport default {\r\n  getParentControl,\r\n  // getBuildSlotTemplate,\r\n  isAllowDrop,\r\n  controlToJson,\r\n  broadcast,\r\n  getLayoutInfo,\r\n  getComponent,\r\n  recursionLayoutTree,\r\n  createViewMetaData,\r\n  createComponentMetaData,\r\n  getComponentByTarget,\r\n  createComponent,\r\n  createMobileComponent,\r\n  convertTemplateAndControlData,\r\n  saveLayoutValidate,\r\n  compileCss,\r\n  validateCaption,\r\n  getExtPath,\r\n  getLayoutPath\r\n};","/**\r\n * 全局过滤器\r\n * 文档：<a href=\"https://cn.vuejs.org/v2/guide/filters.html\">文档</a>\r\n */\r\n\r\nlet r_allow = /\\^/g;\r\n\r\nlet filters = {\r\n  'proxy': function(v) {\r\n    if (v) {\r\n      let args = Array.prototype.slice.call(arguments, 0);\r\n      if (args[1]) {\r\n        let arr = args[1].split(\"^\");\r\n        if (filters[arr[0]]) {\r\n          return filters[arr[0]].apply(this, [v, ...arr.slice(1)]);\r\n        } else {\r\n          return v;\r\n        }\r\n      } else {\r\n        return v;\r\n      }\r\n    } else {\r\n      return \"\"\r\n    }\r\n  },\r\n  'proxyTitle': function(v) {\r\n    if (v) {\r\n      let args = Array.prototype.slice.call(arguments, 0);\r\n      if (args[1]) {\r\n        let arr = args[1].split(\"^\");\r\n        if (filters[arr[0]]) {\r\n          if (arr[0].startsWith('html')) {\r\n            return \"\"\r\n          }\r\n          let format = filters[arr[0]].apply(this, [v, ...arr.slice(1)]);\r\n          return format;\r\n        } else {\r\n          return v;\r\n        }\r\n      } else {\r\n        return v;\r\n      }\r\n    } else {\r\n      return \"\"\r\n    }\r\n  },\r\n  'htmlImage': function(v) {\r\n    return v;\r\n  },\r\n  'dateTime': function(v, format = 'yyyy-mm-dd hh:ii', language, type) {\r\n    if (v) {\r\n      return dsf.date.format(v, format, language, type)\r\n    }\r\n    return '';\r\n  },\r\n  'timeAgo': function(date, accurate = true) {\r\n    if (date) {\r\n      return dsf.date.timeAgo(date, accurate)\r\n    }\r\n    return '';\r\n  },\r\n  'emptyFilter': function(v, text = '') {\r\n    if (typeof v === 'function' ||\r\n      dsf.type(v) === 'date') return v;\r\n\r\n    if (dsf.isUnDef(v) ||\r\n      isNaN(v) ||\r\n      v.length === 0 ||\r\n      dsf.isEmptyObject(v)) {\r\n      return text;\r\n    }\r\n    return v;\r\n  },\r\n  'textValue': function(v, textOrValue) {\r\n    if (v) {\r\n      if (dsf.type(v) == \"object\") {\r\n        return v[textOrValue]\r\n      } else if (dsf.type(v) == \"array\") {\r\n        return _.map(v, textOrValue).join(\",\")\r\n      }\r\n      return v;\r\n    } else {\r\n      return \"\"\r\n    }\r\n  },\r\n  //分割后端传递的^号连接的字符串\r\n  'splitArrow': function(v, char) {\r\n    return v.replace(r_allow, char);\r\n  },\r\n  // 处理图片\r\n  'multipleFiles':  function(v, textOrValue) {\r\n    if (v) {\r\n      if (dsf.type(v) == \"string\") {\r\n        return _.map(JSON.parse(v), textOrValue).join(\",\")\r\n      } else if (dsf.type(v) == \"array\") {\r\n        return _.map(v, textOrValue).join(\",\")\r\n      }\r\n      return v;\r\n    } else {\r\n      return \"\"\r\n    }\r\n  },\r\n};\r\n\r\n\r\nfunction install(Vue) {\r\n  for (let k in filters) {\r\n    Vue.filter(k, filters[k]);\r\n  }\r\n}\r\n\r\nexport default install;\r\n\r\nexport {\r\n  install,\r\n  filters\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAACW0lEQVQ4Ea2VPU8bQRCGZ42JiUiCQFBg06TEtJFSuTAStaGh5C/AiSJKGkSTKAUy/AVKGuz8AFy4ipTWtDRgCqRE+UDYgXB5390d+25jS4h4pNu53Zl5bj9m54wMkTiOp2Gq+KcInfeubehTPHU+xphvfjylTKqHDoATUJHc3b3pNhpTvxsNuW215P7qyrpm5uZkfGlJnpTLkiuXv0s2+xGGKj7QsQ6+SYEBLWC81j05eXVdrcr9+XnS95/3zMKCTEaR5JaXv8C4CviFOvXAFhrHn6/39ws3h4dqf5B+urEhk1tbF2LMa4VnGOmXX3sMlPGcCGPxWvMssWAMRFx+cqbjpZJMrK8zbqDQRh8VxpKBfsQxgy9M46DOvq6tTemeMuDFwQHN0q3X5NfuLn178mxnR3KVVfRj+bG5KbfNprVxz2eOj3mgLznjCk9fofQYm59H67afAIJU+lCOGO/rrGSQhV4ly4YplZTO0ZFkFxf9rKSn6eNm6ry5GvomhazcyooFF5mnoejyFaRa/QZtEW2eVeRW5DX5NUg14QSEMgxKP8/Ka1aEsY/uI49tLMFtXtNBkj6ovkd4oH0LjnN2lt02wae8+6GEUC4/uS3D4J7VIrjOgpIUJn/ysHRPwz2nT3iJPOuTBbNKMblV/lxe4jW2XYWqLQ2Pxfk6Kxm24rGccgi37y2u4/uf29sab68rL0qYp+rAmRKqt47jz/f2WOne4QA/KJg1uIlSmaoXCnmIthUuilg+SwB3XG6gh1kX0IysbPbAnJWFj7rQE0wBfPS/Jod2LT7wXz/TvzrhOFjF2mTpAAAAAElFTkSuQmCC\"","import utils from './utils';\r\nlet validatorMap = {\r\n  'isNull': {\r\n    name:\"是否为空\",\r\n    validator(value) {\r\n      let v = value;\r\n      if (dsf.type(v) == 'string') {\r\n        v = v.trim();\r\n      }\r\n      if (v === '' || v == \"[]\"|| v == \"{}\") {\r\n        return true;\r\n      } else if (dsf.type(v) == 'object' && dsf.isEmptyObject(v)) {\r\n        return true;\r\n      } else if (dsf.type(v) == 'array' && v.length == 0) {\r\n        return true;\r\n      } else if (dsf.isUnDef(v)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  //验证是否是一个数字\r\n  \"isNumber\": {\r\n    name:\"是否是一个数字\",\r\n    validator(value, precision) {\r\n      let reg = null;\r\n      if (precision && precision > 0) {\r\n        reg = new RegExp(\"^-?([0-9]\\\\d*|0(?!\\\\.0+$))(\\\\.\\\\d{1,\" + precision + \"})?$\", 'ig');\r\n      } else {\r\n        reg = new RegExp(\"^[+-]?(\\\\d|[1-9]\\\\d+)(\\\\.\\\\d+)?$\", 'ig');\r\n      }\r\n      if (!reg.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  //验证数字是否超出\r\n  \"isNumberOver\": {\r\n    name:\"是否超出指定数字\",\r\n    validator(value, ceil) {\r\n      value = parseFloat(value);\r\n      ceil = parseFloat(ceil);\r\n      if (value > ceil) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  //验证数字是否小于\r\n  \"isNumberUnder\":{\r\n    name:\"是否小于指定数字\",\r\n    validator(value, floor) {\r\n      value = parseFloat(value);\r\n      floor = parseFloat(floor);\r\n      if (value < floor) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  //验证数字精度\r\n  \"precision\":{\r\n    name:\"数字精度\",\r\n    validator(value, precision) {\r\n      value = value.toString();\r\n      const reg = new RegExp(\"^-?([0-9]\\\\d*|0(?!\\\\.0+$))(\\\\.\\\\d{1,\" + precision + \"})?$\", 'ig');\r\n      if (!reg.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  \"maxLength\":{\r\n    name:\"字符串超出指定长度\",\r\n    validator(value,maxlength){\r\n      if(value.length>maxlength){\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  \"minLength\":{\r\n    name:\"字符小于指定长度\",\r\n    validator(value,minLength){\r\n      if(value.length<minLength){\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  //身份证号码\r\n  'isIDCard': {\r\n    name:\"身份证号码\",\r\n    type:\"express\",\r\n    validator(value) {\r\n      //身份证正则表达式(15位)\r\n      const isIDCard1 = /^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$/;\r\n      //身份证正则表达式(18位)\r\n      const isIDCard2 = /^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$/;\r\n      if (!isIDCard1.test(value) && !isIDCard2.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  //身份证号码(强校验)\r\n  'isIDCardFull': {\r\n    name:\"身份证号码\",\r\n    type:\"express\",\r\n    validator(value) {\r\n      const res = dsf.idCode(value);\r\n      return res.type;\r\n    }\r\n  },\r\n  //是否是手机\r\n  'isMobile': {\r\n    name:\"手机号码\",\r\n    type:\"express\",\r\n    validator(value) {\r\n      var reg = /^1(3|4|5|7|8|9|6)\\d{9}$/;\r\n      if (!reg.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  //是否是座机\r\n  \"isTelPhone\": {\r\n    name:\"座机号码\",\r\n    type:\"express\",\r\n    validator(value) {\r\n      var reg = /^(0\\d{2,3}-)?\\d{7,8}$/;\r\n      if (!reg.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  //是否是手机或座机\r\n  \"isMobileOrTelPhone\": {\r\n    name:\"手机/座机号码\",\r\n    type:\"express\",\r\n    validator(value) {\r\n      var mobile = /^1(3|4|5|7|8|9|6)\\d{9}$/;\r\n      var tel = /^(0\\d{2}-)?\\d{7,8}$/;\r\n      if (!mobile.test(value) && !tel.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  //电子邮箱\r\n  'isEmail': {\r\n    name:\"电子邮箱\",\r\n    type:\"express\",\r\n    validator(value) {\r\n      var reg = /\\w+((-w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+/;\r\n      if (!reg.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  \"isPlateNumber\": {\r\n    name:\"车牌号码\",\r\n    type:\"express\",\r\n    validator(value) {\r\n      var reg = /^(([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z](([0-9]{5}[DF])|([DF]([A-HJ-NP-Z0-9])[0-9]{4})))|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳使领]))$/;\r\n      if (reg.test(value)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\nlet validate = function() {\r\n  let args = Array.prototype.slice.call(arguments, 0);\r\n  let validator = args[0];\r\n  let params = args.slice(1);\r\n  return validatorMap[validator].validator.apply(this, params);\r\n}\r\n\r\nif(window.$$validate){\r\n  utils.mix(validatorMap,window.$$validate)\r\n}\r\nvalidate.map = validatorMap;\r\nexport default validate;","dsf.mix(true, dsf.config, {\r\n  webRoot: {\r\n    //默认请求路径根\r\n    default: \"/dsfa/\",\r\n    //dsfa4.0\r\n    dsfa: '/dsfa/'\r\n  },\r\n  file:{\r\n    preViewServer:\"/dsfa/\"\r\n  },\r\n  defaultTheme: \"darkred-theme\",\r\n  defaultTitle: \"\",\r\n  assetsDir: \"./static/\",\r\n  designer: {\r\n    gotoIcon: true,\r\n    scssDir: \"/static/\",\r\n    scss: [...dsf.config.designer.scss]\r\n  }\r\n}, (window.$$config ? window.$$config : {}));\r\n\r\nwindow.$$webRoot = dsf.config.webRoot;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}],staticClass:\"full-view\"},[(_vm.loaded)?_c('PreviewLayout',{tag:\"component\",staticClass:\"page-head-font-fixed\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layoutPreView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layoutPreView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./layoutPreView.vue?vue&type=template&id=5731ad65&\"\nimport script from \"./layoutPreView.vue?vue&type=script&lang=js&\"\nexport * from \"./layoutPreView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import qs from \"qs\";\r\nimport XEUtils from 'xe-utils';\r\n\r\nfunction getWebPath(url, rootPath) {\r\n  if (!url) {\r\n    return \"\";\r\n  }\r\n  let isHtmlDir = false;\r\n  let isAssetsDir = false;\r\n  if (url.startsWith(\"~\")) {\r\n    isHtmlDir = true;\r\n    url = url.substr(1);\r\n  } else if (url.startsWith(\"$\")) {\r\n    isAssetsDir = true;\r\n    url = url.substr(1);\r\n  }\r\n  if (url.startsWith(\"/\")) {\r\n    url = url.substr(1);\r\n  } else if (url.startsWith(\"./\") || url.startsWith(\"../\") || url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\r\n    return url;\r\n  }\r\n  if (isHtmlDir) {\r\n    return dsf.config.htmlDir + url;\r\n  } else if (isAssetsDir) {\r\n    return dsf.config.assetsDir + url;\r\n  } else {\r\n    let root = rootPath || dsf.config.webRoot.default;\r\n    return root + url;\r\n  }\r\n}\r\n\r\n// function getAssetsDir(url) {\r\n//   if (!url) {\r\n//     return \"\";\r\n//   }\r\n//   if (url.indexOf(\"/\") == 0) {\r\n//     url = url.substr(1);\r\n//   } else if (url.startsWith(\".\") || url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\r\n//     return url;\r\n//   }\r\n//   return (dsf.config.assetsDir || \"./static/\") + url;\r\n// }\r\n\r\nvar globalCache = {};\r\n\r\nfunction queryString(key) {\r\n  if (!globalCache[\"url_queryString\"]) {\r\n    globalCache[\"url_queryString\"] = {};\r\n  }\r\n  if (!globalCache[\"url_queryString\"][key]) {\r\n    var url = window.location.hash;\r\n    var oRegex = new RegExp(\"[?&]\" + key + \"=([^&]+)\", \"i\");\r\n    var oMatch = oRegex.exec(url);\r\n    if (oMatch && oMatch.length > 1) {\r\n      var val = decodeURI(oMatch[1]);\r\n      globalCache[\"url_queryString\"][key] = val;\r\n      return val;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n  return globalCache[\"url_queryString\"][key];\r\n}\r\n\r\nfunction getAbsolutePath(url) {\r\n  if (url.indexOf(\"~/\") == 0) {\r\n    url = dsf.url.getWebPath(url.substr(1));\r\n  } else if (url.indexOf(\"/\") == 0) {\r\n    url = dsf.url.getWebPath(url.substr(1));\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction parse(url){\r\n  return XEUtils.parseUrl(url)\r\n}\r\n\r\nfunction stringify(params, options) {\r\n  let defaultOptions = {\r\n    arrayFormat: \"repeat\"\r\n  };\r\n  options = dsf.mix({}, defaultOptions, options);\r\n  return qs.stringify(params, options);\r\n}\r\nfunction queryStringParse(str, options) {\r\n  let defaultOptions = {\r\n    arrayFormat: \"repeat\"\r\n  };\r\n  options = dsf.mix({}, defaultOptions, options);\r\n  return qs.parse(str, options);\r\n}\r\n\r\n/**\r\n * 解析url\r\n * @param url\r\n */\r\nfunction analyzing(url) {\r\n  let i;\r\n  if (!url || url === '') {\r\n    return {\r\n      url: null,\r\n      protocol: null,\r\n      slash: null,\r\n      host: null,\r\n      port: null,\r\n      path: null,\r\n      queryString: null,\r\n      hash: null,\r\n      query: {}\r\n    };\r\n  }\r\n  url = decodeURIComponent(url);\r\n  if (url.indexOf('#') === 0 || url.indexOf('/#') === 0) {\r\n    return {\r\n      url: null,\r\n      protocol: null,\r\n      slash: null,\r\n      host: null,\r\n      port: null,\r\n      path: null,\r\n      queryString: null,\r\n      hash: url,\r\n      query: {}\r\n    };\r\n  }\r\n  const parse_url = /^(?:([A-Za-z]+):)?(\\/{0,3})([0-9.\\-A-Za-z]+)(?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$/;\r\n  const _result = parse_url.exec(url);\r\n  const names = ['url', 'protocol', 'slash', 'host', 'port', 'path', 'queryString', 'hash'];\r\n  const result = {};\r\n  for (i = 0; i < names.length; i++) {\r\n    result[names[i]] = _result[i];\r\n  }\r\n  result.protocol = result.protocol && (result.protocol + ':');\r\n  result.path = result.slash !== '//' ? ('/' + result.host + '/' + result.path) : '/' + result.path;\r\n  result.host = result.slash !== '//' ? null : result.host;\r\n  if (!result.port) {\r\n    result.port = result.protocol === 'http:' ? '80' : result.protocol === 'https:' ? 8080 : '';\r\n  }\r\n  const _query = {};\r\n  result.queryString = result.queryString || '';\r\n  const query = result.queryString.split('&');\r\n  for (i = 0; i < query.length; i++) {\r\n    const item = query[i].trim();\r\n    let _i = item.indexOf('='),\r\n      _v = '',\r\n      _k = '';\r\n    if (item !== '') {\r\n      if (_i === -1) {\r\n        _k = item;\r\n      } else {\r\n        _v = item.substr(_i + 1);\r\n        _k = item.replace('=' + _v, '');\r\n      }\r\n      if (!_query[_k]) {\r\n        _query[_k] = _v;\r\n      } else if (typeof _query[_k] === 'string') {\r\n        _query[_k] = [_query[_k], _v];\r\n      } else {\r\n        _query[_k] = _query[_k].push(_v);\r\n      }\r\n    }\r\n  }\r\n  result.query = _query;\r\n  return result;\r\n}\r\n\r\nfunction hashString(key) {\r\n  var url = window.location.hash;\r\n  var oRegex = new RegExp('[#&]' + key + '=([^&]+)', 'i');\r\n  var oMatch = oRegex.exec(url);\r\n  if (oMatch && oMatch.length > 1) {\r\n    var val = decodeURI(oMatch[1]);\r\n    return val;\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport default {\r\n  getWebPath,\r\n  // getAssetsDir,\r\n  queryString,\r\n  getAbsolutePath,\r\n  stringify,\r\n  parse,\r\n  queryStringParse,\r\n  analyzing,\r\n  hashString\r\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$getComponetRenderType('design-proxy'))?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.__desContext__.show),expression:\"__desContext__.show\"}],staticClass:\"designer-ctrl-proxy\",class:{ 'ds-control-selected': _vm.__desContext__.selected },style:({ height: _vm.__desContext__.height })},[(!_vm.$data.$isReload)?_c(_vm.__context__.props.ctrlName,_vm._b({ref:\"ctrl\",tag:\"component\",attrs:{\"is-design\":_vm.__hasDesign__},on:{\"design-height-change\":_vm.designHeightChange},scopedSlots:_vm._u([_vm._l((_vm.__context__.props.slots),function(slot){return {key:slot.name,fn:function(){return _vm._l((slot.controls),function(child){return _c('DsfLayoutTree',{key:child.designId,attrs:{\"component-props\":child,\"is-design\":_vm.__hasDesign__,\"parent-prop\":_vm._self,\"root-prop\":_vm.__context__.root},on:{\"update:componentProps\":function($event){child=$event},\"update:component-props\":function($event){child=$event}}})})},proxy:true}})],null,true)},'component',_vm.__context__.props,false,true)):_vm._e(),_c('div',{staticClass:\"designer-btns\",class:{ 'designer-mask': _vm.__desContext__.mask }},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.__desContext__.selected),expression:\"__desContext__.selected\"}]},[(_vm.__desContext__.hasInfo)?_c('li',{staticClass:\"info\",attrs:{\"title\":\"元数据详情\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$detail()},\"mousedown\":function($event){$event.stopPropagation();}}},[_c('DsfIcon',{style:({ color: '#1E9FFF' }),attrs:{\"name\":\"fangdajing\"}})],1):_vm._e(),(_vm.__desContext__.hasDragDrop)?_c('li',{ref:\"dragdrap\",staticClass:\"dragdrop\",attrs:{\"title\":\"拖动\"},on:{\"click\":function($event){$event.stopPropagation();},\"mousedown\":function($event){$event.stopPropagation();}}},[_c('DsfIcon',{style:({ color: '#FFB800' }),attrs:{\"name\":\"yidong\"}})],1):_vm._e(),(_vm.__desContext__.hasRemove)?_c('li',{staticClass:\"remove\",attrs:{\"title\":\"移除\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$remove()},\"mousedown\":function($event){$event.stopPropagation();}}},[_c('DsfIcon',{style:({ color: '#FF0000' }),attrs:{\"name\":\"shanchu\"}})],1):_vm._e(),(_vm.__context__.props.isQuestionControl)?_c('li',{staticClass:\"setting\",attrs:{\"title\":\"设置\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$setting()},\"mousedown\":function($event){$event.stopPropagation();}}},[_c('DsfIcon',{style:({ color: '#1E9FFF' }),attrs:{\"name\":\"shezhi\"}})],1):_vm._e()]),(_vm.__context__.props.isFormControl)?_c('div',{staticClass:\"designer-code\",attrs:{\"title\":_vm.__context__.props.caption}},[_vm._v(_vm._s(_vm.__context__.props.caption))]):_vm._e()])],1):(_vm.$getComponetRenderType('design-no-proxy'))?_c(_vm.__context__.props.ctrlName,_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.__desContext__.show),expression:\"__desContext__.show\"}],ref:\"ctrl\",tag:\"component\",attrs:{\"is-design\":_vm.__hasDesign__},scopedSlots:_vm._u([_vm._l((_vm.__context__.props.slots),function(slot){return {key:slot.name,fn:function(){return _vm._l((slot.controls),function(child){return _c('DsfLayoutTree',{key:child.designId,attrs:{\"component-props\":child,\"is-design\":_vm.__hasDesign__,\"parent-prop\":_vm._self,\"root-prop\":_vm.__context__.root},on:{\"update:componentProps\":function($event){child=$event},\"update:component-props\":function($event){child=$event}}})})},proxy:true}})],null,true)},'component',_vm.__context__.props,false,true)):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layoutTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layoutTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./layoutTree.vue?vue&type=template&id=5fbd4308&\"\nimport script from \"./layoutTree.vue?vue&type=script&lang=js&\"\nexport * from \"./layoutTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ds-component-info\"},[_c('p',[_c('label',[_vm._v(\"控件类型：\")]),_vm._v(_vm._s(_vm._info.caption))]),_c('p',[_c('label',[_vm._v(\"元数据标识：\")]),_vm._v(_vm._s(_vm._info.id))]),_c('p',[_c('label',[_vm._v(\"元数据名称：\")]),_vm._v(_vm._s(_vm._info.name))]),_c('p',[_c('label',[_vm._v(\"元数据类型：\")]),_vm._v(_vm._s(_vm._info.typeText)+\" | \"+_vm._s(_vm._info.typeValue))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./componentInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./componentInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./componentInfo.vue?vue&type=template&id=7da38532&scoped=true&\"\nimport script from \"./componentInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./componentInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7da38532\",\n  null\n  \n)\n\nexport default component.exports","import DsfLayoutTree from \"./layoutTree\";\r\n// import DsfLayoutTreeFn from \"./layoutTreeFn\";\r\n// import DsfLayoutView from \"./layoutView\";\r\nimport DsfPreView from './layoutPreView.vue'\r\nimport DsfMobilePreView from './layoutMobilePreView.vue'\r\nimport DsfComponentInfo from './componentInfo.vue'\r\n\r\n// import DsfTextFunctional from './textFunctional.vue'\r\n\r\n\r\n\r\nfunction install(Vue) {\r\n  Vue.component(DsfLayoutTree.name, DsfLayoutTree);\r\n  // Vue.component(DsfLayoutView.name, DsfLayoutView);\r\n  Vue.component(DsfPreView.name, DsfPreView);\r\n  Vue.component(DsfMobilePreView.name, DsfMobilePreView);\r\n  Vue.component(DsfComponentInfo.name, DsfComponentInfo);\r\n  // Vue.component(DsfLayoutTreeFn.name, DsfLayoutTreeFn);\r\n  // Vue.component(DsfTextFunctional.name, DsfTextFunctional);\r\n}\r\n\r\nif (typeof window !== \"undefined\" && window.Vue) {\r\n  install(window.Vue);\r\n}\r\n\r\nexport { install, DsfLayoutTree, DsfPreView, DsfMobilePreView, DsfComponentInfo };\r\nexport default {\r\n  install\r\n};","\r\n//设置路由过渡效果\r\nlet localSessionRouteChain = sessionStorage.getItem('$$routeChain') ? JSON.parse(sessionStorage.getItem('$$routeChain')) : []\r\nlet state = {\r\n  addCount: localSessionRouteChain.length,\r\n  routerMap: {},\r\n  pageDirection: 'fade',\r\n  routeChain: localSessionRouteChain\r\n}\r\nwindow.$$state = state;\r\n\r\nfunction addRouteChain(route) {\r\n  if (state.addCount === 0 && localSessionRouteChain.length > 0) {\r\n    // 排除刷新的时候\r\n    state.addCount = 1\r\n  } else {\r\n    let path = route.fullPath;\r\n    if ((state.addCount !== 0 && state.routeChain[state.routeChain.length - 1].path !== path) || state.addCount === 0) {\r\n      state.routeChain.push({\r\n        path: path\r\n      })\r\n      sessionStorage.setItem('$$routeChain', JSON.stringify(state.routeChain))\r\n      state.addCount++\r\n    }\r\n  }\r\n}\r\n\r\nfunction popRouteChain(index) {\r\n  if (dsf.isDef(index)) {\r\n    state.routeChain = state.routeChain.slice(0, index + 1);\r\n  } else {\r\n    state.routeChain.pop();\r\n  }\r\n  sessionStorage.setItem('$$routeChain', JSON.stringify(state.routeChain))\r\n}\r\n\r\nfunction setPageDirection({ dir, to, from }) {\r\n  state.pageDirection = dir\r\n  state.routerMap['to'] = to.fullPath\r\n  state.routerMap['from'] = from.fullPath\r\n}\r\n\r\nfunction setRouterMap() {\r\n  let dir = state.pageDirection\r\n  let to = state.routerMap.to.replace(/\\//g, '_')\r\n  let from = state.routerMap.from.replace(/\\//g, '_')\r\n  try {\r\n    if (dir === 'slide-left') {\r\n      // 进入\r\n      state.routerMap[from] = document.getElementById(from).scrollTop\r\n    } else if (dir === 'slide-right') {\r\n      // 返回\r\n      if (this.keepAlive === true && this.$route.meta.keepAlive !== false) {\r\n        document.getElementById(to).scrollTop = state.routerMap[to]\r\n      }\r\n    } else {\r\n      //\r\n    }\r\n  } catch (error) {\r\n    // throw error;\r\n  }\r\n}\r\n\r\nfunction initRouteTransition(router) {\r\n  router.afterEach((to, from) => {\r\n    // 定义一个可以记录路由路径变化的数据，这里用sessionStorage,或者在window.routeChain等变量\r\n    let routeLength = state.routeChain.length\r\n    if (routeLength === 0 || state.addCount === 0) {\r\n      setPageDirection({ dir: 'slide-left', to, from })\r\n      addRouteChain(from)\r\n      addRouteChain(to)\r\n    } else if (routeLength === 1) {\r\n      setPageDirection({ dir: 'slide-left', to, from })\r\n      addRouteChain(to)\r\n    } else {\r\n      // let lastBeforeRoute = state.routeChain[routeLength - 2];\r\n      let beforePaths = state.routeChain.slice(0, routeLength - 1);\r\n      let beforePathIndex = _.findLastIndex(beforePaths, (el) => el.path == to.fullPath);\r\n      let lastBeforeRoute = null;\r\n      if (beforePathIndex >= 0) {\r\n        lastBeforeRoute = beforePaths[beforePathIndex];\r\n      }\r\n      if (lastBeforeRoute && lastBeforeRoute.path === to.fullPath && to.meta.slideLeft !== true) {\r\n        popRouteChain(beforePathIndex);\r\n        setPageDirection({ dir: 'slide-right', to, from })\r\n      } else {\r\n        addRouteChain(to)\r\n        setPageDirection({ dir: 'slide-left', to, from })\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n\r\nexport default {\r\n  initRouteTransition\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAACEklEQVQ4EbWVzWrCQBDHJ6FQK9bixYO9ifTgTakWFZ/BvoqnPkNPvoQPUPsKolIoerG9KN70oAdJ/EhB0M5/2Q0bTYKl7cBkZndmf/uR7MSgADkcDgkO1aRm2aZk6oztJ2sLahjGUvZ7jOFpcYOBETb1/X7/NJlMblhpPp/TdrsVqdFolJLJJKXTaahlmuYzBxo8wZdIkA8PmKG33P/CsPtOp0O2beu5J348HqdKpYIJ3jn4yPCpSnLBgLK+9Xq928FgoOJn2VwuR6VSacrgBwUXYLn9drfbvfeDYmA+n6fdbkfD4ZD6/f7JhMgpl8tYeRXHYsqMOrbvB0W8WCzS5WWEYrFrKhQKcojXYCwY3FtHxOTVJvCicKZB4jiOG9psNq5/7IABFphYcY1nugl7UavVymWs12vXP3bAAAtMBT7O8bR1mO57kmSDwfAEOIvvNEx0mO77jZGsLFacUh+/XyL6zj0K5EpWSn0V6AsUfZX6JIEDOADwDNc0TLA927aELhaLsFSSrNkFZ33y3b+zLCtwALbXbDYD43oAdYTlA+AW3/XH0Wikxz1+JpOharUq+trtNo3HY09cb6A4sbziKAC2UFCCBNCrq6hQNYFfLhhggWnyvV6i9KFK/VbAAEswJazBM72jkPgJtu84W6Hw/QRjweBYA/H/LZtqBVw8/r7Qa/C//zUpOCxKH5ua1B//TL8BNdcm14IAu7AAAAAASUVORK5CYII=\"","/**\r\n * @class Control\r\n * @description 所有的组件都应该基于核心基础类开发\r\n * @example \r\n * import control from \"./control\";\r\n * \r\n * export default {\r\n *    name: \"xxxx\", 组件 name\r\n *    ctrlCaption: \"xxx\", // 组件中文名称\r\n *    mixins: [control],\r\n *    ...\r\n * }\r\n */\r\nexport default {\r\n  // inheritAttrs:false,\r\n  inject: {\r\n    $designer: {\r\n      default: null\r\n    },\r\n    $vm: {\r\n      default: null\r\n    },\r\n    $page: {\r\n      default: null\r\n    },\r\n    $form: {\r\n      default: null\r\n    },\r\n    $templateControl: {\r\n      default: null\r\n    },\r\n    $list: {\r\n      default: null\r\n    },\r\n    $dynamicForm: {\r\n      default: null\r\n    },\r\n    $layoutTree: {\r\n      default: null\r\n    },\r\n    $isMobile: {\r\n      default: false\r\n    }\r\n  },\r\n  comments: true,\r\n  /**\r\n   * @memberof Control\r\n   * @name Props 属性\r\n   * @property {Boolean} [isDesign = false] 是否是设计模式\r\n   * @property {Object} [layoutRoot = null] 布局树的根组件，也就是page组件\r\n   * @property {Object} [layoutParent = null] 布局树的父组件\r\n   * @property {String} [designId = \"\"] 设计模式产生的id\r\n   * @property {String} [caption = \"\"] 组件唯一名称\r\n   * @property {Boolean} [visible = true] 组件是否可见\r\n   * @property {Object} [metadata = null] 组件元数据\r\n   * @property {Array} [classList = []] 组件样式列表\r\n   * @property {Array} [classList = []] 组件样式列表\r\n   * @property {Boolean} [noPadding = false] 是否不需要间距\r\n   * @property {Array} [slots = []] 组件插槽\r\n   * @property {Boolean} [isMergeHttp = false] 是否合并请求\r\n   * @property {Boolean} [tbNoPadding = false] 是否取消上下边距\r\n   * @property {Boolean} [lrNoPadding = false] 是否取消左右边距\r\n   * @property {Object} [local = null] \r\n   * @property {Boolean} [inSubTemplate = false] 是否在子表或者列表模板中\r\n   * @property {ControlDevelopment} [development = {events: {},attrs: {}}] 二次开发配置\r\n   * @property {Boolean} [designProxy = false] 设计器可否对他进行编辑\r\n   * @property {Boolean} [designOnlySlot = false] 设计模式下当前组件仅仅起到一个插槽的作用，不会将子组件存放到该组件下\r\n   */\r\n  /**\r\n   * @namespace ControlDevelopment\r\n   * @description 二次开发配置\r\n   * @property {Object} [events = {}] 事件\r\n   * @property {Object} [attrs = {}] 属性\r\n   */\r\n  props: {\r\n\r\n    //是否由业务组件创建\r\n    isBusiness: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //是否是设计模式\r\n    isDesign: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //设计模式产生的id\r\n    designId: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //组件唯一名称\r\n    caption: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    //组件是否可见\r\n    visible: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    //组件元数据\r\n    metadata: {\r\n      type: Object,\r\n      default () {\r\n        return null;\r\n      }\r\n    },\r\n    //组件样式列表\r\n    classList: {\r\n      type: Array,\r\n      default () {\r\n        return [];\r\n      }\r\n    },\r\n    noPadding: {\r\n      type: Boolean,\r\n      default () {\r\n        return false;\r\n      }\r\n    },\r\n    //组件插槽\r\n    slots: {\r\n      type: Array,\r\n      default () {\r\n        return [];\r\n      }\r\n    },\r\n    isMergeHttp: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //取消上下边距\r\n    tbNoPadding: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //取消左右边距\r\n    lrNoPadding: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    local: {\r\n      type: Object,\r\n      default () {\r\n        return null\r\n      }\r\n    },\r\n    //是否在子表或者列表模板中\r\n    // inSubTemplate: {\r\n    //   type: Boolean,\r\n    //   default: false\r\n    // },\r\n    //二次开发配置\r\n    development: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          // events: {},\r\n          attrs: {}\r\n        }\r\n      }\r\n    },\r\n    /* ==================设计状态下,相关配置属性 ==================*/\r\n    //设计器可否对他进行编辑\r\n    designProxy: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //设计模式下当前组件仅仅起到一个插槽的作用，不会将子组件存放到该组件下\r\n    designOnlySlot: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n    /* ==================设计状态下,相关配置属性 ================== */\r\n  },\r\n  computed: {\r\n    getCss() {\r\n      return this.$getClass();\r\n    },\r\n    props() {\r\n      let _vm = this.$vm;\r\n      if (_vm && !this.isDesign) {\r\n        let key = \"\";\r\n        if (this.designId) {\r\n          if (isListRepeat(this)) {\r\n            key = this.designId + \"-\" + (this.local.$hash || this.local._id || this.local.$index);\r\n          } else {\r\n            key = this.designId;\r\n          }\r\n          return _vm.$controls[key];\r\n        }\r\n        return null;\r\n      }\r\n    },\r\n    isDes() {\r\n      return !!this.designId;\r\n    },\r\n    queryString() {\r\n      let vmQuery = this.$vm ? this.$vm.queryString : null;\r\n      let routerQuery = this.$route.query;\r\n      let qs = dsf.mix({}, routerQuery, vmQuery);\r\n      return qs;\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  beforeCreate() {},\r\n  /**\r\n   * @memberof Control \r\n   * @name LifeCycle 组件生命周期方法\r\n   * @description 所有组件都有以上的周期监听方法\r\n   * @example \r\n   * // 如果是驼峰命名的 使用时用全小写加-连接\r\n   * beforeDestroy -> before-destroy \r\n   * @property {Function} created 创建开始触发\r\n   * @property {Function} mounted 渲染创建完成\r\n   * @property {Function} updated 数据更新\r\n   * @property {Function} beforeDestroy 组件销毁前[before-destroy]\r\n   * @property {Function} destroy 组件销毁后\r\n   */\r\n  created: function() {\r\n    // 设计模式下,代理所有组件的props,使props可以通过组件自生改变\r\n    if (this.isDesign) {\r\n      if (this.$props) {\r\n        for (let k in this.$props) {\r\n          propsProxy.call(this, this.$props, k);\r\n        }\r\n      }\r\n    } else {\r\n      if (isListRepeat(this)) {\r\n        //如果组件是子表中，克隆一份配置的数据到$controls;\r\n        let key = this.designId + \"-\" + this.local.$hash;\r\n        if (!this.$vm.$controls[key]) {\r\n          let props = dsf.mix(true, {}, this.$vm.$controls[this.designId]);\r\n          if (this.$list && this.$list.updateSubControls) {\r\n            let ctrlProps = this.$list.updateSubControls(props, this);\r\n            if (ctrlProps) {\r\n              props = ctrlProps;\r\n            }\r\n          }\r\n          this.$vm.$set(this.$vm.$controls, key, props);\r\n        }\r\n      }\r\n    }\r\n    this.$dispatch(\"created\", this);\r\n  },\r\n  mounted() {\r\n    if (this.$el && this.$el.setAttribute) {\r\n      this.$el.setAttribute(\"ctrl_type\", this.$options.ctrlType);\r\n    }\r\n    if (this.isDesign && this.designId) {\r\n      this.$el.setAttribute(\"des-id\", this.designId);\r\n    }\r\n    this.$dispatch(\"mounted\", this);\r\n  },\r\n  updated() {\r\n    this.$dispatch(\"updated\", this);\r\n    // console.log(this.$options.name + \"更新\")\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.isDesign) {\r\n      if (isListRepeat(this)) {\r\n        //如果组件是子表中，克隆一份配置的数据到$controls;\r\n        let key = this.designId + \"-\" + this.local.$hash\r\n        this.$vm.$delete(this.$vm.$controls, key);\r\n        if (this.$list && this.$list.removeSubControls) {\r\n          this.$list.removeSubControls(this)\r\n        }\r\n      }\r\n    }\r\n    this.$dispatch(\"before-destroy\", this);\r\n  },\r\n  destroyed() {\r\n    if (this.viewContext && this.viewContext.viewData) {\r\n      this.viewContext.viewData = null;\r\n    }\r\n    if (this.viewContext && this.viewContext.viewInitData) {\r\n      this.viewContext.viewInitData = null;\r\n    }\r\n    this.$dispatch(\"destroy\", this);\r\n  },\r\n  methods: {\r\n    //构建元数据\r\n    // createMetaData() {},\r\n    //事件触发\r\n    $dispatch(name, args) {\r\n      let event = { target: this, name: name, args: args };\r\n      this.$emit(name, event);\r\n    },\r\n    $dispatchTo(componentName, name, args) {\r\n      let event = { target: this, name: name, args: args };\r\n      eventTrigger.dispatch.call(this, componentName, name, event);\r\n    },\r\n    removeClass(keys) {\r\n      keys = dsf.type(keys) == \"array\" ? keys : [keys];\r\n      _.each(keys, k => dsf.array.remove(this.classList, k));\r\n    },\r\n    addClass(keys) {\r\n      keys = dsf.type(keys) == \"array\" ? keys : [keys];\r\n      _.each(keys, k => dsf.array.ensure(this.classList, k));\r\n    },\r\n    clearClass() {\r\n      _.eachRight(this.classList, (k, i) => {\r\n        dsf.array.removeAt(this.classList, i);\r\n      });\r\n    },\r\n    closest(componentName) {\r\n      var parent = this.$parent || this.$root;\r\n      var name = parent.$options._componentTag;\r\n      while (parent && (!name || name !== componentName)) {\r\n        parent = parent.$parent;\r\n        if (parent) {\r\n          name = parent.$options._componentTag;\r\n        }\r\n      }\r\n      if (parent) {\r\n        return parent;\r\n      }\r\n      return null;\r\n    },\r\n    postBefore() {\r\n      return new Promise((resolve, reject) => {\r\n        resolve()\r\n      });\r\n    },\r\n    $getClass() {\r\n      return [\r\n        ...this.classList,\r\n        !this.visible ? (this.isDesign ? 'ds-design-hide' : 'ds-hide') : \"\",\r\n        this.tbNoPadding ? 'ds-top-bottom-no-padding' : '',\r\n        this.lrNoPadding ? 'ds-left-right-no-padding' : ''\r\n      ];\r\n    },\r\n    $getSlot(name) {\r\n      let result = _.filter(this.slots, (s) => s.name == name);\r\n      return result[0] ? result[0] : null;\r\n    }\r\n  },\r\n  design: {\r\n    //设计器是是否在组件上产生遮罩\r\n    isMask: true,\r\n    //设计器是是否在组件左上角是否有查看按钮\r\n    infoButton: false,\r\n    //设计器是否在组件左上角显示设置按钮\r\n    dragButton: true,\r\n    //设计器是是否在组件左上角是否有移除按钮\r\n    removeButton: true,\r\n    //组件加载到设计器上时组件高度默认在父容器铺满\r\n    fit: false,\r\n    layout: {\r\n      isDeep: true,\r\n      exclude: [],\r\n      //保存布局时不做命名验证\r\n      nameValidate: true,\r\n      //创建布局时可以将作用域数据传入\r\n      accpetContextData: false,\r\n      attachAttributes: {},\r\n      attachSlot: []\r\n    },\r\n    metadata: {\r\n      isDeep: true,\r\n      created() {}\r\n    },\r\n\r\n  }\r\n};\r\n\r\nfunction isListRepeat(ctrl) {\r\n  if (ctrl.$vm && ctrl.local && dsf.hasOwn(ctrl.local, '$hash') && ctrl.designId) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction propsProxy(props, key) {\r\n  let _this = this;\r\n  Object.defineProperty(this, key, {\r\n    set: function(v) {\r\n      _this.$emit(\"update:\" + key, v);\r\n    },\r\n    get: function() {\r\n      return _this.$props[key];\r\n    }\r\n  });\r\n}\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nlet eventTrigger = {\r\n  broadcast(componentName, eventName, params) {\r\n    this.$children.forEach(child => {\r\n      var name = child.$options._componentTag;\r\n\r\n      if (name === componentName) {\r\n        child.$emit.apply(child, [eventName].concat(params));\r\n      } else {\r\n        broadcast.apply(child, [componentName, eventName].concat([params]));\r\n      }\r\n    });\r\n  },\r\n  dispatch(componentName, eventName, params) {\r\n    var parent = this.$parent || this.$root;\r\n    var name = parent.$options._componentTag;\r\n\r\n    while (parent && (!name || name !== componentName)) {\r\n      parent = parent.$parent;\r\n\r\n      if (parent) {\r\n        name = parent.$options._componentTag;\r\n      }\r\n    }\r\n    if (parent) {\r\n      parent.$emit.apply(parent, [eventName].concat(params));\r\n    }\r\n  }\r\n};","export default {\r\n  ensure: function ensure(target, item, callback) {\r\n    //只有当前数组不存在此元素时只添加它\r\n    if (dsf.isUnDef(callback)) {\r\n      if (target.indexOf(item) === -1) {\r\n        return target.push(item);\r\n      }\r\n    } else {\r\n      let result = _.find(target, (el) => {\r\n        return callback && callback(el);\r\n      });\r\n      if (result) {\r\n        target.push(item);\r\n      }\r\n    }\r\n\r\n  },\r\n  removeAt: function removeAt(target, index) {\r\n    //移除数组中指定位置的元素，返回布尔表示成功与否\r\n    return !!target.splice(index, 1).length;\r\n  },\r\n  removeWith: function removeWith(target, callback) {\r\n    _.eachRight(target, (el, i) => {\r\n      if (callback) {\r\n        let result = callback(el, i);\r\n        if (result) {\r\n          target.splice(i, 1);\r\n        }\r\n      }\r\n    })\r\n  },\r\n  remove: function remove(target, item) {\r\n    //移除数组中第一个匹配传参的那个元素，返回布尔表示成功与否\r\n    if (dsf.type(item) != 'function') {\r\n      var index = target.indexOf(item);\r\n      if (~index) return this.removeAt(target, index);\r\n      return false;\r\n    } else {\r\n      var index = _.findIndex(target, (el, i) => {\r\n        return item(el, i);\r\n      });\r\n      if (~index) return this.removeAt(target, index);\r\n      return false;\r\n    }\r\n  }\r\n};","\r\n<template>\r\n  <!--设计器状态 start-->\r\n  <div v-if=\"$getComponetRenderType('design-proxy')\" v-show=\"__desContext__.show\" :class=\"{ 'ds-control-selected': __desContext__.selected }\" :style=\"{ height: __desContext__.height }\" class=\"designer-ctrl-proxy\">\r\n    <component :is=\"__context__.props.ctrlName\" v-if=\"!$data.$isReload\" ref=\"ctrl\" :is-design=\"__hasDesign__\" v-bind.sync=\"__context__.props\" @design-height-change=\"designHeightChange\">\r\n      <template v-for=\"slot in __context__.props.slots\" v-slot:[slot.name]>\r\n        <DsfLayoutTree v-for=\"child in slot.controls\" :key=\"child.designId\" :component-props.sync=\"child\" :is-design=\"__hasDesign__\" :parent-prop=\"_self\" :root-prop=\"__context__.root\"></DsfLayoutTree>\r\n      </template>\r\n    </component>\r\n    <!--组件设计模式左上角按钮-->\r\n    <div :class=\"{ 'designer-mask': __desContext__.mask }\" class=\"designer-btns\">\r\n      <ul v-show=\"__desContext__.selected\">\r\n        <li v-if=\"__desContext__.hasInfo\" class=\"info\" title=\"元数据详情\" @click.stop=\"$detail()\" @mousedown.stop>\r\n          <DsfIcon :style=\"{ color: '#1E9FFF' }\" name=\"fangdajing\" />\r\n        </li>\r\n        <li v-if=\"__desContext__.hasDragDrop\" ref=\"dragdrap\" class=\"dragdrop\" title=\"拖动\" @click.stop @mousedown.stop>\r\n          <DsfIcon :style=\"{ color: '#FFB800' }\" name=\"yidong\" />\r\n        </li>\r\n        <li v-if=\"__desContext__.hasRemove\" class=\"remove\" title=\"移除\" @click.stop=\"$remove()\" @mousedown.stop>\r\n          <DsfIcon :style=\"{ color: '#FF0000' }\" name=\"shanchu\" />\r\n        </li>\r\n        <li v-if=\"__context__.props.isQuestionControl\" class=\"setting\" title=\"设置\" @click.stop=\"$setting()\" @mousedown.stop>\r\n          <DsfIcon :style=\"{ color: '#1E9FFF' }\" name=\"shezhi\" />\r\n        </li>\r\n      </ul>\r\n      <div v-if=\"__context__.props.isFormControl\" :title=\"__context__.props.caption\" class=\"designer-code\">{{ __context__.props.caption }}</div>\r\n    </div>\r\n  </div>\r\n  <!--设计器状态内置组件，比如table中必须是tr不能用代理的div绘制-->\r\n  <component :is=\"__context__.props.ctrlName\" v-else-if=\"$getComponetRenderType('design-no-proxy')\" v-show=\"__desContext__.show\" ref=\"ctrl\" :is-design=\"__hasDesign__\" v-bind.sync=\"__context__.props\">\r\n    <template v-for=\"slot in __context__.props.slots\" v-slot:[slot.name]>\r\n      <DsfLayoutTree v-for=\"child in slot.controls\" :key=\"child.designId\" :component-props.sync=\"child\" :is-design=\"__hasDesign__\" :parent-prop=\"_self\" :root-prop=\"__context__.root\"></DsfLayoutTree>\r\n    </template>\r\n  </component>\r\n  <!--设计器状态 end-->\r\n</template>\r\n<script>\r\nlet dicts = {};\r\n/* eslint-disable vue/prop-name-casing */\r\nexport default {\r\n  name: \"DsfLayoutTree\",\r\n  inheritAttrs: false,\r\n  provide() {\r\n    return {\r\n      $layoutParent: this,\r\n      $layoutTree: this\r\n    }\r\n  },\r\n  inject: {\r\n    $layoutParent: {\r\n      default: null\r\n    },\r\n    $designer: {\r\n      default: null\r\n    },\r\n  },\r\n  props: {\r\n    //组件属性\r\n    componentProps: {\r\n      type: Object,\r\n      default() {\r\n        return null;\r\n      }\r\n    },\r\n    //根组件\r\n    rootProp: {\r\n      type: Object,\r\n      default() {\r\n        return null;\r\n      }\r\n    },\r\n    //父组件\r\n    parentProp: {\r\n      type: Object,\r\n      default() {\r\n        return null;\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      $layoutContext: {\r\n        props: null,\r\n        root: null,\r\n        parent: null,\r\n        controls: {}\r\n      },\r\n      $designContext: {\r\n        show: true,\r\n        height: \"auto\",\r\n        width: \"auto\",\r\n        mask: false,\r\n        hasInfo: false,\r\n        hasDragDrop: true,\r\n        hasRemove: true,\r\n        selected: false\r\n      },\r\n      $events: {},\r\n      $clientId: \"\",\r\n      $scopeData: null,\r\n      $isReload: false\r\n    };\r\n  },\r\n  computed: {\r\n    __context__() {\r\n      return this.$data.$layoutContext;\r\n    },\r\n    __desContext__() {\r\n      return this.$data.$designContext;\r\n    },\r\n    __hasDesign__() {\r\n      return this.$attrs[\"is-design\"];\r\n    },\r\n    __nodeSwitch__() {\r\n      let v = \"\";\r\n      // let isFormControl = this.__context__.props.isFormControl;\r\n      // let metadata_fullcode = this.__context__.props.metadata_fullcode;\r\n      let isDesignProxy = this.__context__.props.designProxy;\r\n      if (isDesignProxy) {\r\n        v = \"design-proxy\";\r\n      } else {\r\n        v = \"design-no-proxy\";\r\n      }\r\n      return v;\r\n    }\r\n  },\r\n  watch: {\r\n    //监听枚举类型的元数据中选项数据变化\r\n    \"__context__.props.metadata.dataSource\": {\r\n      handler(v) {\r\n        if (this.__context__.props.metadata.ckey == \"items-meta-data\") {\r\n          //枚举类型数据源请求\r\n          setEnumItems.call(this, v);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.__context__.props = this.componentProps;\r\n    if (this.__context__.props.isView) {\r\n      this.__context__.root = this;\r\n    } else {\r\n      this.__context__.root = this.rootProp;\r\n    }\r\n  },\r\n  updated() {\r\n    // if (this.$refs.ctrl) {\r\n    // dsf.warn(this.__context__.props.ctrlName + \"被更新\")\r\n    // }\r\n  },\r\n  mounted() {\r\n    // this.$refs.ctrl.$on('height.change', (evt) => {\r\n    //   this.__desContext__.height = evt.args;\r\n    // });\r\n    // dsf.time(++count)\r\n    designInit.call(this);\r\n    let treeProxy = this.$refs.ctrl.$options.treeProxy;\r\n    // if (treeProxy !== false) {\r\n    //   createPropsProxy.call(this);\r\n    //   createComputedProxy.call(this);\r\n    //   createMethodsProxy.call(this);\r\n    // }\r\n    createPropsProxy.call(this);\r\n    createComputedProxy.call(this);\r\n    createMethodsProxy.call(this);\r\n  },\r\n  destroyed() {\r\n    // console.log(\"销毁组件\" + this.__context__.props.ctrlName)\r\n    destroyPropsProxy.call(this);\r\n    destroyComputedProxy.call(this);\r\n    destroyMethodsProxy.call(this);\r\n    this.__context__.props = null;\r\n  },\r\n  methods: {\r\n    designHeightChange(v) {\r\n      this.$data.$designContext.height = v.args;\r\n      // this.__desContext__.height = v;\r\n    },\r\n    $getComponetRenderType(type) {\r\n      return this.__nodeSwitch__ == type && this.__context__.props;\r\n    },\r\n    //获取真实组件\r\n    $$getComponent() {\r\n      return this.$refs.ctrl;\r\n    },\r\n    //移除组件\r\n    $remove() {\r\n      //移除组件\r\n      let target = $(this.$el);\r\n      let slotEl = $(target).closest(\"[slot-name]\");\r\n      let parent = dsf.designer.getParentControl(target);\r\n      let slotName = slotEl.attr(\"slot-name\");\r\n      if (this.$$getComponent().isQuestionControl) {\r\n        let nextEles = $(this.$$getComponent().$el).parent().nextAll().find('.ds-question-item'), nexts = [];\r\n        window._.forEach(nextEles, function (item) {\r\n          nexts.push(item.__vue__)\r\n        });\r\n        this.rootProp.$parent.setNextQuestionIndex(this.$$getComponent().questionIndex, nexts)\r\n      }\r\n      if (parent) {\r\n        // parent = parent.get(0).__vue__;\r\n        // //此处需要有一个判断，组件的根元素直接是elementui的情况\r\n        // while (!parent.slots) {\r\n        //   parent = parent.$parent;\r\n        // }\r\n        let slots = !parent.slots ? parent.$$getComponent().slots : (parent.slots || []);\r\n        let slotIndex = _.findIndex(slots, s => s.name == slotName);\r\n        if (slots[slotIndex]) {\r\n          dsf.array.remove(slots[slotIndex].controls, this.__context__.props);\r\n        }\r\n      }\r\n    },\r\n    //设置组件\r\n    $setting() {\r\n      this.$bus.$emit(`questionSetting`);\r\n    },\r\n    $getRoot() {\r\n      let root = this.rootProp;\r\n      if (!root && this.__context__.props.isView) {\r\n        root = this;\r\n      }\r\n      return root;\r\n    },\r\n    $detail() {\r\n      const component = this.$$getComponent();\r\n      const info = {\r\n        caption: component.$options.ctrlCaption,\r\n        id: component.metadata.id,\r\n        name: component.metadata.name,\r\n        typeText: component.metadata.type.text,\r\n        typeValue: component.metadata.type.value,\r\n      };\r\n      dsf.layer.openDialog({\r\n        title: \"信息\",\r\n        fullscreen: false,\r\n        content: \"DsfComponentInfo\",\r\n        params: {\r\n          info: info,\r\n        },\r\n        width: \"350px\",\r\n        height: \"150px\"\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n//枚举类型数据源请求\r\nfunction setEnumItems(v) {\r\n  if (v.type == 'static') {\r\n    if (dsf.isDef(v.code)) {\r\n      this.__context__.props.items = v.code;\r\n    }\r\n  }\r\n  else if (v.type == \"dict\") {\r\n    if (!dicts[v.code]) {\r\n\r\n      this.$http.get(\"/dict/getList/\" + v.code)\r\n        .done((result) => {\r\n          this.__context__.props.items = result.data;\r\n          dicts[v.code] = result.data;\r\n        }).catch(() => { })\r\n    }\r\n    else {\r\n      this.__context__.props.items = dsf.mix([], dicts[v.code]);\r\n    }\r\n\r\n  }\r\n  else if (v.type == \"db\") {\r\n    if (!dicts[v.code]) {\r\n      this.$http.get(\"/meta/tree/dbSource?rmId=\" + v.code)\r\n        .done((result) => {\r\n          this.__context__.props.items = result.data;\r\n          dicts[v.code] = result.data;\r\n        }).catch(() => { })\r\n    }\r\n    else {\r\n      this.__context__.props.items = dsf.mix([], dicts[v.code]);\r\n    }\r\n  }\r\n}\r\n\r\nfunction designInit() {\r\n  if (!this.$attrs[\"is-design\"]) {\r\n    return;\r\n  }\r\n  initDragDrop.call(this);\r\n  // let config = this.__context__.props. || { markObserver: false, allowAddChild: false };\r\n  this.__desContext__.mask = true;\r\n  this.__desContext__.hasInfo = false;\r\n  this.__desContext__.hasDragDrop = true;\r\n  this.__desContext__.hasRemove = true;\r\n  let designOptions = dsf.getComponentDesignOptions(this.__context__.props.ctrlType);\r\n  if (designOptions) {\r\n    this.__desContext__.mask = designOptions.isMask;\r\n    this.__desContext__.hasInfo = designOptions.infoButton;\r\n    this.__desContext__.hasDragDrop = designOptions.dragButton;\r\n    this.__desContext__.hasRemove = designOptions.removeButton;\r\n    if (designOptions.fit) {\r\n      this.__desContext__.height = \"100%\";\r\n    }\r\n    else {\r\n      this.__desContext__.height = this.__desContext__.height != \"auto\" ? this.__desContext__.height : \"auto\";\r\n    }\r\n  }\r\n}\r\n\r\nfunction initDragDrop() {\r\n  //附加工具箱拖动\r\n  if (this.$refs.dragdrap) {\r\n    $(this.$refs.dragdrap).draggable({\r\n      addClasses: false,\r\n      appendTo: \".ds-designer\",\r\n      distance: 10,\r\n      revert: \"invalid\",\r\n      cursor: \"default\",\r\n      containment: \"window\",\r\n      cursorAt: {\r\n        left: -20,\r\n        top: -20\r\n      },\r\n      helper: () => {\r\n        let proxy = $(\"<div class='ds-tool-item proxy'>\" + this.__context__.props.caption + \"</div>\");\r\n        proxy.data(\"data\", {\r\n          state: \"move\",\r\n          attributes: this.__context__.props,\r\n          component: this\r\n        });\r\n        return proxy;\r\n      },\r\n      start: () => {\r\n        this.__desContext__.show = false;\r\n      },\r\n      stop: () => {\r\n        this.__desContext__.show = true;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n//代理属性\r\nfunction createPropsProxy() {\r\n  // 代理组件属性\r\n  let propsKey = Object.keys(this.$props);\r\n  for (let k in this.__context__.props) {\r\n    if (propsKey.indexOf(k) < 0) {\r\n      Object.defineProperty(this, k, {\r\n        configurable: true,\r\n        set(v) {\r\n          this.__context__.props[k] = v;\r\n        },\r\n        get() {\r\n          return this.__context__.props[k];\r\n        }\r\n      });\r\n    } else {\r\n      throw this.$refs.ctrl.ctrlName + '包含了与代理组件一样的属性\"' + k + '\"';\r\n    }\r\n  }\r\n}\r\n//代理计算属性\r\nfunction createComputedProxy() {\r\n  //代理计算属性\r\n  if (this.$refs.ctrl && this.$refs.ctrl.$options.computed) {\r\n    //代理计算属性\r\n    for (let k in this.$refs.ctrl.$options.computed) {\r\n      Object.defineProperty(this, k, {\r\n        configurable: true,\r\n        set(v) {\r\n          this.$refs.ctrl[k] = v;\r\n        },\r\n        get() {\r\n          return this.$refs.ctrl[k];\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n//代理组件api\r\nfunction createMethodsProxy() {\r\n  //代理方法\r\n  if (this.$refs.ctrl && this.$refs.ctrl.$options.methods) {\r\n    for (let k in this.$refs.ctrl.$options.methods) {\r\n      this[k] = this.$refs.ctrl[k].bind(this.$refs.ctrl);\r\n    }\r\n  }\r\n}\r\n\r\nfunction destroyPropsProxy() {\r\n  // 代理组件属性\r\n  let propsKey = Object.keys(this.$props);\r\n  for (let k in this.__context__.props) {\r\n    if (propsKey.indexOf(k) < 0) {\r\n      delete this[k];\r\n    }\r\n  }\r\n}\r\n\r\nfunction destroyComputedProxy() {\r\n  //代理计算属性\r\n  if (this.$refs.ctrl && this.$refs.ctrl.$options.computed) {\r\n    //代理计算属性\r\n    for (let k in this.$refs.ctrl.$options.computed) {\r\n      delete this[k];\r\n    }\r\n  }\r\n}\r\n\r\nfunction destroyMethodsProxy() {\r\n  if (this.$refs.ctrl && this.$refs.ctrl.$options.methods) {\r\n    for (let k in this.$refs.ctrl.$options.methods) {\r\n      this[k] = null;\r\n      delete this[k];\r\n    }\r\n  }\r\n}\r\n\r\n//是否是表格结构的数据\r\nfunction isChildScope(scope) {\r\n  if (dsf.isDef(scope.row) || dsf.isDef(scope.$index) || dsf.isDef(scope.column)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n</script>\r\n","export default function MD5(sMessage) {\r\n  function RotateLeft(lValue, iShiftBits) {\r\n    return (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));\r\n  }\r\n\r\n  function AddUnsigned(lX, lY) {\r\n    var lX4, lY4, lX8, lY8, lResult;\r\n    lX8 = lX & 0x80000000;\r\n    lY8 = lY & 0x80000000;\r\n    lX4 = lX & 0x40000000;\r\n    lY4 = lY & 0x40000000;\r\n    lResult = (lX & 0x3fffffff) + (lY & 0x3fffffff);\r\n\r\n    if (lX4 & lY4) return lResult ^ 0x80000000 ^ lX8 ^ lY8;\r\n    if (lX4 | lY4) {\r\n      if (lResult & 0x40000000) return lResult ^ 0xc0000000 ^ lX8 ^ lY8;\r\n      else return lResult ^ 0x40000000 ^ lX8 ^ lY8;\r\n    } else return lResult ^ lX8 ^ lY8;\r\n  }\r\n\r\n  function F(x, y, z) {\r\n    return (x & y) | (~x & z);\r\n  }\r\n\r\n  function G(x, y, z) {\r\n    return (x & z) | (y & ~z);\r\n  }\r\n\r\n  function H(x, y, z) {\r\n    return x ^ y ^ z;\r\n  }\r\n\r\n  function I(x, y, z) {\r\n    return y ^ (x | ~z);\r\n  }\r\n\r\n  function FF(a, b, c, d, x, s, ac) {\r\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));\r\n\r\n    return AddUnsigned(RotateLeft(a, s), b);\r\n  }\r\n\r\n  function GG(a, b, c, d, x, s, ac) {\r\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));\r\n\r\n    return AddUnsigned(RotateLeft(a, s), b);\r\n  }\r\n\r\n  function HH(a, b, c, d, x, s, ac) {\r\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));\r\n\r\n    return AddUnsigned(RotateLeft(a, s), b);\r\n  }\r\n\r\n  function II(a, b, c, d, x, s, ac) {\r\n    a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));\r\n\r\n    return AddUnsigned(RotateLeft(a, s), b);\r\n  }\r\n\r\n  function ConvertToWordArray(sMessage) {\r\n    var lWordCount;\r\n    var lMessageLength = sMessage.length;\r\n    var lNumberOfWords_temp1 = lMessageLength + 8;\r\n    var lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;\r\n    var lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;\r\n    var lWordArray = Array(lNumberOfWords - 1);\r\n    var lBytePosition = 0;\r\n    var lByteCount = 0;\r\n\r\n    while (lByteCount < lMessageLength) {\r\n      lWordCount = (lByteCount - (lByteCount % 4)) / 4;\r\n      lBytePosition = (lByteCount % 4) * 8;\r\n      lWordArray[lWordCount] = lWordArray[lWordCount] | (sMessage.charCodeAt(lByteCount) << lBytePosition);\r\n\r\n      lByteCount++;\r\n    }\r\n\r\n    lWordCount = (lByteCount - (lByteCount % 4)) / 4;\r\n    lBytePosition = (lByteCount % 4) * 8;\r\n    lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);\r\n    lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\r\n    lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\r\n    return lWordArray;\r\n  }\r\n\r\n  function WordToHex(lValue) {\r\n    var WordToHexValue = \"\",\r\n      WordToHexValue_temp = \"\",\r\n      lByte,\r\n      lCount;\r\n\r\n    for (lCount = 0; lCount <= 3; lCount++) {\r\n      lByte = (lValue >>> (lCount * 8)) & 255;\r\n      WordToHexValue_temp = \"0\" + lByte.toString(16);\r\n      WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);\r\n    }\r\n\r\n    return WordToHexValue;\r\n  }\r\n\r\n  var x = Array();\r\n  var k, AA, BB, CC, DD, a, b, c, d;\r\n  var S11 = 7,\r\n    S12 = 12,\r\n    S13 = 17,\r\n    S14 = 22;\r\n  var S21 = 5,\r\n    S22 = 9,\r\n    S23 = 14,\r\n    S24 = 20;\r\n  var S31 = 4,\r\n    S32 = 11,\r\n    S33 = 16,\r\n    S34 = 23;\r\n  var S41 = 6,\r\n    S42 = 10,\r\n    S43 = 15,\r\n    S44 = 21;\r\n\r\n  // Steps 1 and 2. Append padding bits and length and convert to words\r\n  x = ConvertToWordArray(sMessage);\r\n\r\n  // Step 3. Initialise\r\n  a = 0x67452301;\r\n  b = 0xefcdab89;\r\n  c = 0x98badcfe;\r\n  d = 0x10325476;\r\n\r\n  // Step 4. Process the message in 16-word blocks\r\n  for (k = 0; k < x.length; k += 16) {\r\n    AA = a;\r\n    BB = b;\r\n    CC = c;\r\n    DD = d;\r\n    a = FF(a, b, c, d, x[k + 0], S11, 0xd76aa478);\r\n    d = FF(d, a, b, c, x[k + 1], S12, 0xe8c7b756);\r\n    c = FF(c, d, a, b, x[k + 2], S13, 0x242070db);\r\n    b = FF(b, c, d, a, x[k + 3], S14, 0xc1bdceee);\r\n    a = FF(a, b, c, d, x[k + 4], S11, 0xf57c0faf);\r\n    d = FF(d, a, b, c, x[k + 5], S12, 0x4787c62a);\r\n    c = FF(c, d, a, b, x[k + 6], S13, 0xa8304613);\r\n    b = FF(b, c, d, a, x[k + 7], S14, 0xfd469501);\r\n    a = FF(a, b, c, d, x[k + 8], S11, 0x698098d8);\r\n    d = FF(d, a, b, c, x[k + 9], S12, 0x8b44f7af);\r\n    c = FF(c, d, a, b, x[k + 10], S13, 0xffff5bb1);\r\n    b = FF(b, c, d, a, x[k + 11], S14, 0x895cd7be);\r\n    a = FF(a, b, c, d, x[k + 12], S11, 0x6b901122);\r\n    d = FF(d, a, b, c, x[k + 13], S12, 0xfd987193);\r\n    c = FF(c, d, a, b, x[k + 14], S13, 0xa679438e);\r\n    b = FF(b, c, d, a, x[k + 15], S14, 0x49b40821);\r\n    a = GG(a, b, c, d, x[k + 1], S21, 0xf61e2562);\r\n    d = GG(d, a, b, c, x[k + 6], S22, 0xc040b340);\r\n    c = GG(c, d, a, b, x[k + 11], S23, 0x265e5a51);\r\n    b = GG(b, c, d, a, x[k + 0], S24, 0xe9b6c7aa);\r\n    a = GG(a, b, c, d, x[k + 5], S21, 0xd62f105d);\r\n    d = GG(d, a, b, c, x[k + 10], S22, 0x2441453);\r\n    c = GG(c, d, a, b, x[k + 15], S23, 0xd8a1e681);\r\n    b = GG(b, c, d, a, x[k + 4], S24, 0xe7d3fbc8);\r\n    a = GG(a, b, c, d, x[k + 9], S21, 0x21e1cde6);\r\n    d = GG(d, a, b, c, x[k + 14], S22, 0xc33707d6);\r\n    c = GG(c, d, a, b, x[k + 3], S23, 0xf4d50d87);\r\n    b = GG(b, c, d, a, x[k + 8], S24, 0x455a14ed);\r\n    a = GG(a, b, c, d, x[k + 13], S21, 0xa9e3e905);\r\n    d = GG(d, a, b, c, x[k + 2], S22, 0xfcefa3f8);\r\n    c = GG(c, d, a, b, x[k + 7], S23, 0x676f02d9);\r\n    b = GG(b, c, d, a, x[k + 12], S24, 0x8d2a4c8a);\r\n    a = HH(a, b, c, d, x[k + 5], S31, 0xfffa3942);\r\n    d = HH(d, a, b, c, x[k + 8], S32, 0x8771f681);\r\n    c = HH(c, d, a, b, x[k + 11], S33, 0x6d9d6122);\r\n    b = HH(b, c, d, a, x[k + 14], S34, 0xfde5380c);\r\n    a = HH(a, b, c, d, x[k + 1], S31, 0xa4beea44);\r\n    d = HH(d, a, b, c, x[k + 4], S32, 0x4bdecfa9);\r\n    c = HH(c, d, a, b, x[k + 7], S33, 0xf6bb4b60);\r\n    b = HH(b, c, d, a, x[k + 10], S34, 0xbebfbc70);\r\n    a = HH(a, b, c, d, x[k + 13], S31, 0x289b7ec6);\r\n    d = HH(d, a, b, c, x[k + 0], S32, 0xeaa127fa);\r\n    c = HH(c, d, a, b, x[k + 3], S33, 0xd4ef3085);\r\n    b = HH(b, c, d, a, x[k + 6], S34, 0x4881d05);\r\n    a = HH(a, b, c, d, x[k + 9], S31, 0xd9d4d039);\r\n    d = HH(d, a, b, c, x[k + 12], S32, 0xe6db99e5);\r\n    c = HH(c, d, a, b, x[k + 15], S33, 0x1fa27cf8);\r\n    b = HH(b, c, d, a, x[k + 2], S34, 0xc4ac5665);\r\n    a = II(a, b, c, d, x[k + 0], S41, 0xf4292244);\r\n    d = II(d, a, b, c, x[k + 7], S42, 0x432aff97);\r\n    c = II(c, d, a, b, x[k + 14], S43, 0xab9423a7);\r\n    b = II(b, c, d, a, x[k + 5], S44, 0xfc93a039);\r\n    a = II(a, b, c, d, x[k + 12], S41, 0x655b59c3);\r\n    d = II(d, a, b, c, x[k + 3], S42, 0x8f0ccc92);\r\n    c = II(c, d, a, b, x[k + 10], S43, 0xffeff47d);\r\n    b = II(b, c, d, a, x[k + 1], S44, 0x85845dd1);\r\n    a = II(a, b, c, d, x[k + 8], S41, 0x6fa87e4f);\r\n    d = II(d, a, b, c, x[k + 15], S42, 0xfe2ce6e0);\r\n    c = II(c, d, a, b, x[k + 6], S43, 0xa3014314);\r\n    b = II(b, c, d, a, x[k + 13], S44, 0x4e0811a1);\r\n    a = II(a, b, c, d, x[k + 4], S41, 0xf7537e82);\r\n    d = II(d, a, b, c, x[k + 11], S42, 0xbd3af235);\r\n    c = II(c, d, a, b, x[k + 2], S43, 0x2ad7d2bb);\r\n    b = II(b, c, d, a, x[k + 9], S44, 0xeb86d391);\r\n    a = AddUnsigned(a, AA);\r\n    b = AddUnsigned(b, BB);\r\n    c = AddUnsigned(c, CC);\r\n    d = AddUnsigned(d, DD);\r\n  }\r\n\r\n  // Step 5. Output the 128 bit digest\r\n  var temp = WordToHex(a) + WordToHex(b) + WordToHex(c) + WordToHex(d);\r\n  return temp.toLowerCase();\r\n}\r\n","//创建动态路由\r\n\r\nimport layoutViewMixins from \"_platform/dsf/mixins/layoutView\";\r\n// import form from '_platform/dsf/mixins/form';\r\n\r\nlet __componetMap = {\r\n  pc: {},\r\n  mobile: {}\r\n};\r\nconst NOT_FOUND_EXTJS = \"EXTJS未能找到\"\r\n\r\nfunction setMap(client, name, options) {\r\n  __componetMap[client][name] = options;\r\n}\r\n\r\nfunction getMap(client, name) {\r\n  return __componetMap[client][name];\r\n}\r\nexport default function(namespace, client, isRouter) {\r\n  // let cname = getComponentName(namespace);\r\n  client = client || 'pc';\r\n  return getRemoteComponent(namespace, isRouter);\r\n\r\n\r\n  function getComponentName(ns) {\r\n    return client + \"-\" + ns.replace(/\\./g, \"-\");\r\n  }\r\n\r\n  //动态创建组件\r\n  function getRemoteComponent(ns,isRouter) {\r\n    return new Promise((resolve, reject) => {\r\n      //加载组件的js、css文件\r\n      // let _this = this;\r\n      if (!getMap(client, ns)) {\r\n        getComponentTemplate(ns)\r\n          .then((response) => {\r\n            if (!getMap(client, ns)) {\r\n              let templateStr = response.context.tpl;\r\n              // templateStr = \"<div>\"+templateStr+\"</div>\"\r\n              if (window.$$mobile && isRouter) {\r\n                //因为page组件存在isLoaded需要在初始化请求完毕后才会被设置为true导致移动端页面过场动画收到影响，所以增加一个div\r\n                templateStr = \"<div>\" + templateStr + \"</div>\";\r\n              }\r\n              let compileFn = Vue.compile(templateStr);\r\n              let moduleName = getModuleName(ns);\r\n              dsf.require([moduleName], (ext) => {\r\n                ext.pageTitle = response.context.layout.title;\r\n                ext.name = _.camelCase(getComponentName(ns));\r\n                ext.needLogin = response.context.layout.needLogin === false ? false : true;\r\n                ext.pageLevel = response.context.layout.pageLevel || 1;\r\n                ext.isKeepAlive = response.context.layout.isKeepAlive || false;\r\n                let mixin = layoutViewMixins;\r\n                ext.extends = mixin;\r\n                ext.mixins = [];\r\n                if (response.context.layout.pageType == 'form') {\r\n                  ext.mixins.push(window.$$form);\r\n                }\r\n                ext.mixins.push({\r\n                  render: compileFn.render,\r\n                  data() {\r\n                    return {\r\n                      \"$$controls\": response.context.props(),\r\n                      \"metadataDict\": response.context.metadataDict,\r\n                      \"$$keepAlive\": ext.isKeepAlive\r\n                    }\r\n                  },\r\n                  computed: {\r\n                    $controls() {\r\n                      return this._data.$$controls;\r\n                    }\r\n                  }\r\n                });\r\n                setMap(client, ns, ext);\r\n                Vue.component(ext.name, ext);\r\n                resolve(ext);\r\n              }, () => {\r\n                let msg = { message: NOT_FOUND_EXTJS };\r\n                dsf.layer.message(msg, false);\r\n                reject(msg);\r\n              });\r\n            } else {\r\n              resolve(getMap(client, ns));\r\n            }\r\n          })\r\n          .catch((ex) => {\r\n            reject(ex)\r\n          })\r\n      } else {\r\n        resolve(getMap(client, ns));\r\n      }\r\n    });\r\n  }\r\n\r\n  //获取\r\n  function getComponentTemplate(ns) {\r\n    return new Promise((resolve, reject) => {\r\n      // let viewinfo = splitNameSpace(ns)\r\n      // let cacheKey = viewinfo.path + \"/\" + viewinfo.file;\r\n      getLayout(ns)\r\n        .then(response => {\r\n          let layoutAndStyle = getLayoutAndStyleData(response ? response.data : {});\r\n          let props = layoutAndStyle.layout;\r\n          let css = layoutAndStyle.css;\r\n          props[\"module-name\"] = ns;\r\n          props['customCss'] = `<style>${css}</style>`;\r\n          let tplAndProps = dsf.designer.convertTemplateAndControlData(props);\r\n          let code = \"return \" + JSON.stringify(tplAndProps.props);\r\n          let propsFn = new Function(code);\r\n          let result = {\r\n            context: {\r\n              tpl: tplAndProps.tpl,\r\n              props: propsFn,\r\n              layout: props,\r\n              moduleName: ns,\r\n              metadataDict: layoutAndStyle.metadataDict || {}\r\n            },\r\n          }\r\n          resolve(result);\r\n        })\r\n        .catch((ex) => {\r\n          if (dsf.type(ex) == \"error\") {\r\n            let r_notfound = /404/g;\r\n            if (r_notfound.test(ex.message)) {\r\n              reject(\"404\");\r\n            }\r\n          } else {\r\n            reject(ex)\r\n          }\r\n        })\r\n    });\r\n  }\r\n\r\n  //获取页面布局tree结构数据\r\n  function getLayout(ns) {\r\n    let viewinfo = splitNameSpace(ns)\r\n    return dsf.http.get(\"./\" + client + \"/views/\" + viewinfo.ns + \"/\" + viewinfo.file + \".layout.html?t=\" + (new Date()).getTime(), null, {\r\n      responseType: \"text\"\r\n    });\r\n  }\r\n\r\n  //获取布局数据\r\n  function getLayoutAndStyleData(context) {\r\n    let dom = document.createDocumentFragment();\r\n    let div = document.createElement(\"div\");\r\n    div.innerHTML = context;\r\n    dom.appendChild(div);\r\n    let layoutNode = div.querySelector(\"script[id='layout']\");\r\n    let layoutCode = [\"var layout=\" + (layoutNode ? layoutNode.innerHTML : \"\").trim() + \";\", \"return layout;\"];\r\n    let cssNode = div.querySelector(\"script[id='css']\");\r\n    let cssCode = [\"var css=\" + JSON.stringify((cssNode ? cssNode.innerHTML : \"\").trim()) + \";\", \"return css;\"];\r\n    let metadataNode = div.querySelector(\"script[id='metadatedict']\");\r\n    let metadataNodeContent = metadataNode ? metadataNode.innerHTML.trim() : \"\";\r\n    let metadataCode = [\"var metadatadict=\" + (metadataNodeContent ? metadataNodeContent : \"{}\").trim() + \";\", \"return metadatadict;\"];\r\n    dom = null;\r\n    div = null;\r\n    let layoutFn = new Function(layoutCode.join(\"\\n\"));\r\n    let cssFn = new Function(cssCode.join(\"\\n\"));\r\n    let metadataFn = new Function(metadataCode.join(\"\\n\"));\r\n    let layout = dsf.fillComponentDefaultProps(layoutFn());\r\n    let css = cssFn();\r\n    let metadataDict = metadataFn();\r\n    layoutFn = null;\r\n    cssFn = null;\r\n\r\n    layoutCode.splice(0, layoutCode.length);\r\n    layoutCode = null;\r\n    cssCode.splice(0, cssCode.length);\r\n    cssCode = null;\r\n    metadataCode.splice(0, metadataCode.length);\r\n    metadataCode = null;\r\n    return {\r\n      layout,\r\n      css,\r\n      metadataDict\r\n    };\r\n  }\r\n\r\n  function getModuleName(ns) {\r\n    let info = splitNameSpace(ns);\r\n    return \"./\" + client + \"/views/\" + info.ns + \"/\" + info.file + \".ext\";\r\n  }\r\n\r\n  //切割nameSpace\r\n  function splitNameSpace(nameSpace) {\r\n    if (nameSpace.startsWith(\".\")) {\r\n      nameSpace = nameSpace.substr(1);\r\n    }\r\n    let arr = nameSpace.split(\".\");\r\n    let fileName = arr[arr.length - 1];\r\n    let path = arr.slice(0, arr.length).join(\".\");\r\n    let ns = arr.slice(0, arr.length - 1).join(\".\");\r\n    return {\r\n      path: path,\r\n      file: fileName,\r\n      ns: ns\r\n    };\r\n  }\r\n\r\n}","export default {\r\n  webRoot: {\r\n    default: \"/\",\r\n    dsfa: '/'\r\n  },\r\n  defaultTheme: \"red-theme\",\r\n  assetsDir: \"./static/\",\r\n  htmlDir: \"./\",\r\n  file:{\r\n    preViewServer:\"/\"\r\n  },\r\n  //登陆成功后跳转页面\r\n  loginSuccessTo: \"./index.html\",\r\n  //设计器scss编译文件\r\n  designer: {\r\n    defaultControlGroup:[],\r\n    gotoIcon:false,\r\n    //设计器编辑页面自定义样式时的基础样式变量\r\n    scss: [\"variable.scss\", \"themes.scss\", \"mixins.scss\"],\r\n  },\r\n  kw: {\r\n    id: \"_id\",\r\n    order: \"ds_order\",\r\n    deleted: \"ds_deleted\",\r\n    unitid: \"ds_unit_id\",\r\n    createtime: \"ds_create_time\",\r\n    updatetime: \"ds_update_time\",\r\n    updateusername: \"ds_update_user_name\",\r\n    updateuserid: \"ds_update_user_id\",\r\n    createusername: \"ds_create_user_name\",\r\n    createuserid: \"ds_create_user_id\",\r\n  },\r\n};"],"sourceRoot":""}