/*! Build time : Sat Aug 22 2020 19:39:07 GMT+0800 (GMT+08:00) */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dsf-pc"],{"0158":function(e,t,n){"use strict";(function(e){n("4160"),n("ac1f"),n("1276"),n("159b");var a=n("7ef1"),i=n("1f4a");t["a"]=dsf.component({ctrlCaption:"办理事项",mixins:[a["a"]],name:"DsfOneThingFormSelect",components:{FormSelectItem:i["a"]},props:{marginTop:{type:Boolean,default:!1},marginBottom:{type:Boolean,default:!1},value:{type:Object,required:!1},metadata:{type:Object,default:function(){return dsf.metadata.get("one-thing-form-select-meta-data")}}},data:function(){return{activeIndex:0,showBt:!1,scene:{typeid:"",type:""},matter:[]}},computed:{},watch:{value:function(){this.init()}},created:function(){this.init()},mounted:function(){if(!this.isDesign){var t=e(".ds-page-home-main");this.isHome=!!t.length,this.$win=this.isHome?t.eq(0):e("html, body"),document.body.appendChild(this.$el),this.isHome?this.$win.get(0).addEventListener("scroll",this.onScroll):window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onScroll)}},destroyed:function(){this.isHome?this.$win.get(0).removeEventListener("scroll",this.onScroll):window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onScroll)},methods:{init:function(){if(this.value){var e=this.value,t=e.type,n=e.typeid,a=e.text,i=e.itemids,s=e.value,l=e.code,o=e.taskHandleItem;a=a.split(","),i=i.split(","),s=s.split(","),l=l.split(","),o=o.split(",");var r=[{text:"基本信息",itemId:"基本信息",value:"基本信息"}];s.forEach((function(e,t){r.push({text:a[t],itemId:i[t],value:e,code:l[t],taskHandleItem:o[t]})})),this.scene={typeid:n,type:t},this.matter=r}else this.$emit("change",{type:"",typeid:"",text:"",itemids:"",value:""})},openDialog:function(){var e=this;this.$openDialog({title:"并联办事信息",width:"935px",content:"DsfOneThingSceneSelect",params:{metaData:this.value},btns:[{text:"确定",handler:function(t){var n=t.yes();if(null===n)return dsf.layer.message("请选择场景事项",!1),!1;e.emitValueChange(n)}},{text:"取消"}]})},scrollTo:function(t){var n=this;if("基本信息"!==t){var a=e('.ds-section[item-id="'.concat(t,'"]'));if(a.get(0)){var i=this.isHome?a.offset().top+this.$win.scrollTop()-this.$win.offset().top:a.offset().top;this.$win.animate({scrollTop:i},200,(function(){n.onScroll()}))}}else this.$win.animate({scrollTop:0},200,(function(){n.onScroll()}))},onScroll:function(){var t=this,n=this.$win.scrollTop(),a=this.$win.height()-85,i=this.$win.offset().top,s=0;this.matter.forEach((function(l,o){var r=l.itemId,c=e('.ds-section[item-id="'.concat(r,'"]'));if(c.get(0)){var u=c.height(),d=t.isHome?c.offset().top+n-i:c.offset().top;d+u>n&&d<n+a&&s<o&&(s=o)}})),this.activeIndex=s}}})}).call(this,n("1157"))},"02a6":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return R}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isDesign||e.sPID&&e.sCurLinkID?n("div",{staticClass:"ds-control ds-form-item ds-textbox",class:e.getCss},[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e._e():[n("el-input",{attrs:{placeholder:e.placeholder,type:"text",disabled:e.disabled},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),n("div",{staticClass:"dis-btns"},[n("i",{staticClass:"iconfont icon-cloud-upload",attrs:{title:"上传附件"},on:{click:e.upload}}),n("el-popover",{attrs:{placement:"right",width:"360",trigger:"click"},model:{value:e.showOptions,callback:function(t){e.showOptions=t},expression:"showOptions"}},[n("ul",{staticClass:"temp-list"},e._l(e.options,(function(t,a){return n("li",{key:a,staticClass:"item",attrs:{title:t.key_word},on:{click:function(n){return e.setValue(t)}}},[e._v(" "+e._s(t.key_word)+" ")])})),0),n("i",{staticClass:"iconfont icon-detail temp-icon",attrs:{slot:"reference",title:"一键模板"},slot:"reference"})])],1),n("DsfUploadFile",{ref:"uploadFile",attrs:{"hide-btns":!0},on:{"value-change":e.getValue}})]],2)]):e._e()},i=[],s=n("7ef1"),l=dsf.component({name:"DsfDisposeIdea",mixins:[s["a"]],ctrlCaption:"处理意见",props:{caption:{type:String,default:function(){return""}},label:{type:String,default:function(){return""}},placeholder:{type:String,default:function(){return"请输入"}},showLabel:{type:Boolean,default:function(){return!0}},disabled:{type:Boolean,default:function(){return!1}},visible:{type:Boolean,default:function(){return!0}},tbNoPadding:{type:Boolean,default:function(){return!1}},metadata:{type:Object,default:function(){return{id:"",name:"处理意见",type:{value:3,text:"业务元数据"},valueAttributes:[{name:"文本",code:"text",type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]}}}},data:function(){return{showOptions:!1,sPID:this.$route.query.sPID,sCurLinkID:this.$route.query.sCurLinkID,options:[],multipleFiles:[],isSave:!0,inputValue:""}},mounted:function(){!this.isDesign&&this.sPID&&this.sCurLinkID&&this.initOptions(),this.$vm&&this.$vm.flows&&(this.$vm.flows.disposeIdea=this)},updated:function(){},destroyed:function(){},methods:{initOptions:function(){var e=this;this.$http.get("wfr/getOpinionKeyWord",{},$$webRoot.dsfa).then((function(t){t.data.success&&(e.options=t.data.data)}))},setValue:function(e){this.inputValue=e.key_word,this.showOptions=!1},upload:function(){this.$refs.uploadFile.openSelectFile()},getValue:function(e){this.multipleFiles=JSON.parse(e.args)},setDoSave:function(e){this.isSave=e},postBefore:function(e){var t=this;if(this.isSave&&(this.sPID||this.sCurLinkID)){var n={sPID:this.sPID,sCurLinkID:this.sCurLinkID,sOpinion:{Content:this.inputValue,Attachments:this.multipleFiles||[]}};n.sOpinion=JSON.stringify(n.sOpinion),this.$http.get("wfr/opinion",n).then((function(e){e.data.success?next():dsf.layer.message(e.data.message||(t.label||"处理意见")+"异常",!1)})).catch((function(e){dsf.layer.message((t.label||"处理意见")+"异常",!1)}))}else;}}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null),u=c.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isDesign?n("div",{staticClass:"ds-control ds-form-item ds-design-hide ds-textbox",class:e.getCss},[[e.showLabel?n("label",{staticClass:"ds-form-label"},[e._v(" 流程信息 ")]):e._e(),n("div",{staticClass:"ds-form-block"},[n("el-input",{attrs:{type:"text",disabled:!0},model:{value:e.chooseFlow.name,callback:function(t){e.$set(e.chooseFlow,"name",t)},expression:"chooseFlow.name"}})],1)]],2):e._e()},f=[],h=n("e780"),p=h["a"],m=Object(r["a"])(p,d,f,!1,null,null,null),g=m.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isDesign||e.sPID&&e.sCurLinkID?a("div",{staticClass:"ds-control ds-form-item ds-flowprocess",class:{hideYj:e.hideYj,hideNode:e.hideNode}},[a("div",{staticClass:"head"},[e._m(0),a("div",{staticClass:"set"},[a("el-checkbox",{attrs:{label:"隐藏异常环节"},model:{value:e.hideNode,callback:function(t){e.hideNode=t},expression:"hideNode"}}),a("el-checkbox",{attrs:{label:"隐藏无意见环节"},model:{value:e.hideYj,callback:function(t){e.hideYj=t},expression:"hideYj"}})],1)]),a("div",{staticClass:"content",attrs:{handler:"content"}},e._l(e.data,(function(t,i){return a("div",{key:i,staticClass:"item",class:{unusual:"-4"==t.STATUS,noyj:!t.opinionatts||t.opinionatts&&!t.opinionatts.Content&&!t.opinionatts.Attachments}},[a("div",{staticClass:"fl-box"},[a("span",[e._v(e._s(t.reachtime||"无数据"))]),a("img",{staticClass:"tx",attrs:{src:n("3507")}}),a("img",{staticClass:"icon",attrs:{src:n("5fdb")("./status"+e.getStatus(t.STATUS)+".png")}})]),a("div",{staticClass:"fr-box"},[a("div",{staticClass:"des"},[a("span",[e._v("处理环节："+e._s(t.nodename||"无数据"))]),a("span",[e._v("处理人："+e._s(t.rusername||"无数据"))]),a("span",[e._v("签收时间："+e._s(t.receivetime||"无数据"))])]),a("div",{staticClass:"yj"},[e._v(" 处理意见："+e._s(t.opinionatts&&t.opinionatts.Content||"无数据")+" ")]),t.opinionatts&&t.opinionatts.Attachments&&t.opinionatts.Attachments.length>0?a("div",{staticClass:"ds_uploadFile"},[a("table",{staticClass:"layui-table fileContainer",attrs:{width:"100%"}},[a("tbody",e._l(t.opinionatts.Attachments,(function(t,n){return a("tr",{key:n,staticClass:"item"},[a("td",{staticClass:"textLeft"},[a("div",{staticClass:"fileName",class:e.diffIcon(t.suffix||t.type)},[a("b",{staticClass:"icon midIcon"}),a("span",[e._v(e._s(t.originalFileName))])])]),a("td",{staticClass:"blank fontpostion",attrs:{width:"100"}},[e._v(e._s(e.computeFileSize(t.size)))]),a("td",{staticClass:"operate fontpostion",attrs:{width:"100"}},[a("span",{staticClass:"previewBtn iconfont",attrs:{title:"预览"},on:{click:function(n){return e.view(t)}}},[e._v("")]),a("span",{staticClass:"downLoad iconfont downLoadBtn"},[a("i",{staticClass:"iconfont",attrs:{title:"下载"},on:{click:function(n){return e.downLoadFile(t)}}},[e._v("")])])])])})),0)])]):e._e()])])})),0)]):e._e()},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("label",{staticClass:"ds-font-3",attrs:{handler:"title"}},[e._v("办理情况")])])}],y=n("5a47"),x=y["a"],_=Object(r["a"])(x,v,b,!1,null,null,null),w=_.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"choose-send-line"},e._l(e.lines,(function(t,a){return n("div",{key:a},[n("el-radio",{attrs:{label:t},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v(e._s(t.Name))])],1)})),0)},S=[],k={name:"ChooseSendNode",props:{lines:{type:Array,default:function(){return[]}}},data:function(){return{checked:null}},created:function(){},mounted:function(){},methods:{yes:function(){return this.checked},validate:function(){return!!this.checked||(dsf.layer.message("请选择要发送的环节",!1),!1)}}},D=k,$=Object(r["a"])(D,C,S,!1,null,"28ca096f",null),O=$.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"choose-content"},[n("div",{staticClass:"fl-box ds_tree_box"},[n("div",{staticClass:"dsf-tree-search"},[n("el-input",{attrs:{placeholder:"输入名称"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[n("i",{staticClass:"iconfont el-input__icon icon-Magnifier",attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-collapse",{model:{value:e.actives,callback:function(t){e.actives=t},expression:"actives"}},e._l(e.linesData,(function(t,a){return n("el-collapse-item",{key:a,attrs:{title:t.Name,name:a}},[n("SelectTree",{attrs:{"tree-data":t.Receivers.Dept,select:t.selectDepts,"form-search-key":e.searchKey,checked:t.checked,multi:!0},on:{"update:select":function(n){return e.$set(t,"selectDepts",n)}}})],1)})),1)],1),n("div",{staticClass:"fl-box"},[n("div",{staticClass:"top"},[n("span",[e._v("共"+e._s(e.count)+"人")]),n("a",{staticClass:"ds-button",on:{click:function(t){return e.deleteAll()}}},[e._v("清空")])]),n("el-collapse",{model:{value:e.isActives,callback:function(t){e.isActives=t},expression:"isActives"}},e._l(e.linesData,(function(t,a){return n("el-collapse-item",{key:a,attrs:{title:e.getTitle(t),name:a}},[t&&t.selectDepts.length>0?n("el-table",{staticClass:"table",attrs:{data:t.selectDepts,"show-header":!1}},[n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.parentName)+" ")]}}],null,!0)}),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.Name)+" ")]}}],null,!0)}),n("el-table-column",{staticClass:"operation",attrs:{label:"操作",width:"100",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[n("i",{staticClass:"iconfont icon-shang",on:{click:function(n){return e.move(a.$index,t.selectDepts,"up")}}}),n("i",{staticClass:"iconfont icon-xia",on:{click:function(n){return e.move(a.$index,t.selectDepts,"down")}}}),n("i",{staticClass:"iconfont icon-guanbi1",on:{click:function(n){return e.deleteRow(a.$index,t)}}})]}}],null,!0)})],1):e._e()],1)})),1)],1)])},T=[],N=(n("99af"),n("4160"),n("a15b"),n("a434"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showSearch?n("div",{staticClass:"dsf-tree-search"},[n("el-input",{attrs:{placeholder:"输入名称"},on:{input:e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[n("i",{staticClass:"iconfont el-input__icon icon-Magnifier",attrs:{slot:"suffix"},slot:"suffix"})])],1):e._e(),n("div",{staticClass:"dsf-select-tree",style:{height:e.showSearch?"340px":"100%"}},[n("el-tree",{ref:"treeForm",attrs:{data:e.treeData,props:e.defaultProps,"node-key":"id","show-checkbox":"","default-expand-all":!0,"default-checked-keys":e.checked,"check-strictly":!e.multi,"check-on-click-node":!0,"expand-on-click-node":!1,"filter-node-method":e.filterData},on:{"check-change":e.selectTree},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,i=t.data;return n("div",{staticClass:"custom-tree-node"},[void 0!==i[e.defaultProps.children]?[n("i",{staticClass:"iconfont",class:[a.expanded?"icon-dakai":"icon-wenjianjia"]}),n("span",{domProps:{innerHTML:e._s(i[e.defaultProps.label])}})]:[n("i",{staticClass:"iconfont icon-shiyongwendang"}),n("span",{domProps:{innerHTML:e._s(i[e.defaultProps.label])}})]],2)}}])})],1)])}),B=[],F=(n("4de4"),n("c975"),{name:"SelectTree",props:{treeData:{type:Array,default:function(){return[]}},select:{type:[Object,Array],default:function(){return{}}},checked:{type:Array,default:function(){return[]}},showSearch:{type:Boolean,default:function(){return!1}},multi:{type:Boolean,default:function(){return!1}},formSearchKey:{type:String,default:function(){return""}}},data:function(){return{searchKey:"",defaultProps:{children:"children",label:"label"}}},watch:{formSearchKey:function(e){this.showSearch||this.$refs.treeForm.filter(e)},checked:function(e){this.$refs.treeForm.setCheckedKeys(e)}},created:function(){},mounted:function(){},methods:{selectTree:function(e,t,n){1!=t||this.multi||this.$refs.treeForm.setCheckedNodes([e]);var a=this.$refs.treeForm.getCheckedNodes();a=a.filter((function(e){return!e.disabled})),this.$emit("update:select",this.multi?a:a[0])},filterData:function(e,t){return!e||-1!==t.label.indexOf(e)},search:function(){this.$refs.treeForm.filter(this.searchKey)}}}),j=F,L=(n("ffdf"),Object(r["a"])(j,N,B,!1,null,"bb9003e8",null)),E=L.exports,V={name:"ChooseSendTree",components:{SelectTree:E},props:{lines:{type:Array,default:function(){return[]}}},data:function(){return{linesData:[],actives:[],isActives:[],searchKey:"",param:[]}},computed:{count:function(){var e=0;return this.linesData.forEach((function(t,n){e+=t.selectDepts.length})),e}},created:function(){this.initData()},mounted:function(){},methods:{yes:function(){return this.param.join(";")},validate:function(){var e=[];return this.linesData.forEach((function(t){if(t.selectDepts&&t.selectDepts.length>0){var n=t.LineID+":";t.selectDepts.forEach((function(e,t){n+=(t>0?",":"")+e.ID})),e.push(n)}})),0==e.length?(dsf.layer.message("请选择办理人",!1),!1):(this.param=e,!0)},initData:function(){var e=this,t=dsf.mix(!0,[],this.lines);t.forEach((function(t,n){e.actives.push(n),e.isActives.push(n),t.selectDepts=[],t.checked=[],t.Receivers.Dept=e.getTreeData(t.Receivers.Dept)})),this.linesData=t},getTreeData:function(e){e.selectDepts=[],e.checked=[];var t=this.format(e);return[t]},format:function(e,t){var n=this;e.label=e.Name,e.id=e.ID,e.disabled=1!==e.Type,t&&(e.parentName=t.Name,e.parentID=t.ID);var a={};return e.ChildDepts&&0===e.ChildDepts.length?(a.Name=e.Name,a.ID=e.ID,e.children=e.Objs,e.children.forEach((function(e){n.format(e,a)}))):e.ChildDepts&&(a.Name=e.Name,a.ID=e.ID,e.children=e.ChildDepts,e.children.forEach((function(e){n.format(e,a)}))),e},getTitle:function(e){return"".concat(e.Name,"(").concat(e.selectDepts.length,")")},deleteAll:function(){this.linesData.forEach((function(e,t){e.selectDepts=[],e.checked=[]}))},deleteRow:function(e,t){t.selectDepts.splice(e,1),t.checked=[],t.selectDepts.forEach((function(e){t.checked.push(e.id)}))},move:function(e,t,n){if(!(0===e&&"up"===n||e===t.length-1&&"down"===n)){var a="up"===n?e-1:e+1,i=t[a];t.splice(a,1),t.splice(e,0,i)}}}},P=V,H=(n("e679"),Object(r["a"])(P,I,T,!1,null,"0575b4ba",null)),R=H.exports},"08ad":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return D})),n.d(t,"c",(function(){return F})),n.d(t,"a",(function(){return V}));var a,i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-navtree ds-tree ds-no-padding"},[n("DsfPanel",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.label)+" ")]},proxy:!0},{key:"default",fn:function(){return[e.openSearchBox?n("el-input",{attrs:{placeholder:"查询（多个关键词空格隔开）"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}):e._e(),n("el-tree",{ref:"tree",staticClass:"filter-tree ds-tree-select-tree-box",class:{openSearchBox:e.openSearchBox},attrs:{"empty-text":e.loading?"数据加载中...":"暂无数据",props:e.defaultProps,"default-expanded-keys":e.expandedKeys,lazy:e.async&&!e.isDesign,load:e.lazyLoad,data:e.data,"highlight-current":!0,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"node-key":"_id"},on:{"current-change":e.loadIframe},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,i=t.data;return n("div",{staticClass:"custom-tree-node"},[void 0!==i[e.defaultProps.children]&&e.showIcon?[n("i",{staticClass:"iconfont",class:[a.expanded?"icon-dakai":"icon-wenjianjia"]}),n("span",{domProps:{innerHTML:e._s(i[e.defaultProps.label])}})]:[e.showIcon?n("i",{staticClass:"iconfont icon-shiyongwendang"}):e._e(),n("span",{domProps:{innerHTML:e._s(i[e.defaultProps.label])}})]],2)}}])})]},proxy:!0}])})],1)},l=[],o=n("523c"),r=o["a"],c=n("2877"),u=Object(c["a"])(r,s,l,!1,null,null,null),d=u.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item",class:e.getCss},[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(e._s(e.inputValue.pid))])]):n("el-input",{attrs:{type:"text"},on:{change:e.inputChangeHandler,blur:e.inputBlurHandler},model:{value:e.inputValue.pid,callback:function(t){e.$set(e.inputValue,"pid",t)},expression:"inputValue.pid"}})],1)])},h=[],p=n("7ef1"),m=dsf.component({name:"DsfTreeInfo",mixins:[p["a"]],ctrlCaption:"树信息",props:{caption:{type:String,default:"treeinfo"},label:{type:String,default:"树信息"},pidExpress:{type:String,default:""},iconExpress:{type:String,default:""},iconMap:{type:Array,default:function(){return[]}},showLabel:{type:Boolean,default:!0},value:{type:[String,Object],default:function(){return{pid:"",icon:""}}},visible:{type:Boolean,default:!1},metadata:{type:Object,default:function(){return dsf.metadata.get("tree-info-meta-data")}}},data:function(){return{}},computed:{inputValue:{get:function(){return this.value},set:function(e){void 0!=e&&("string"==typeof e?this.value.pid=e:this.value={pid:e.pid,icon:e.icon}),this.emitValueChange(this.value)}}},created:function(){this.pidExpress&&(this.value.pid=this.pidExpress.getValueString(",")),this.iconExpress&&(this.value.icon=this.iconExpress.getValueString(","))},methods:{inputChangeHandler:function(){this.$dispatch("change"),this.emitValueChange(this.value)},inputBlurHandler:function(){this.$dispatch("blur"),this.emitValueChange(this.value)}},design:{layout:{nameValidate:!1}}}),g=m,v=Object(c["a"])(g,f,h,!1,null,null,null),b=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-tree-selector"},[n("el-row",[n("el-col",{attrs:{span:e.showRightBox?15:24}},[n("div",{staticClass:"head"},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[n("i",{staticClass:"iconfont icon-Magnifier",attrs:{slot:"suffix"},slot:"suffix"})])],1),n("div",{ref:"treeBox",staticClass:"content"},[1!=e.slots.length||e.showTab?e.slots.length>1||1==e.slots.length&&e.showTab?n("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.slots,(function(t,a){return n("el-tab-pane",{key:t.name,ref:t.name,refInFor:!0,attrs:{label:t.title,name:t.title,lazy:!e.isDesign}},[n("DsfTree",{attrs:{"tab-index":a,"show-check-box":1==e.slots.length&&"tree"===e.typeStyle?"0":t.showCheckBox,types:t.types,"choose-one-node":t.chooseOneNode,"default-open-series":t.defaultOpenSeries,"meta-data-type":t.metaDataType,"choose-meta-data":t.chooseMetaData,"sql-url":t.sqlUrl,async:t.async,"show-type":t.showType,"show-sub-dept":t.showSubDept,"show-level":t.showLevel,"is-design":e.isDesign}})],1)})),1):e._e():n("DsfTree",{attrs:{"tab-index":"0","show-check-box":"tree"===e.typeStyle?"0":e.slots[0].showCheckBox,types:e.slots[0].types,"choose-one-node":e.slots[0].chooseOneNode,"default-open-series":e.slots[0].defaultOpenSeries,"meta-data-type":e.slots[0].metaDataType,"choose-meta-data":e.slots[0].chooseMetaData,"sql-url":e.slots[0].sqlUrl,async:e.slots[0].async,"show-type":e.slots[0].showType,"show-sub-dept":e.slots[0].showSubDept,"show-level":e.slots[0].showLevel,"is-design":e.isDesign}})],1)]),e.showRightBox?n("el-col",{attrs:{span:9}},[n("div",{staticClass:"head el-row"},[1!=e.slots.length||"tree"!==e.typeStyle?n("el-col",{staticClass:"ellipsis",attrs:{span:12}},[e._v(" 已选择 "),n("b",{staticClass:"chooseNum",domProps:{textContent:e._s(e.selectedData.length)}})]):e._e(),n("el-col",{staticClass:"ellipsis",attrs:{span:1==e.slots.length&&"tree"===e.typeStyle?24:12}},[n("span",{on:{click:e.resetSelect}},[n("i",{staticClass:"el-icon-refresh-right"}),e._v("重置 ")])])],1),n("div",{staticClass:"content"},[e.slots.length>1||"list"===e.typeStyle?n("ul",{staticClass:"list",class:{canSort:e.getSort()}},e._l(e.selectedData,(function(t,a){return n("li",{key:t._id},[e._v(" "+e._s(a+1)+". "+e._s(t._name)+" "),n("span",[e.getSort()?n("i",{staticClass:"el-icon-top",attrs:{title:"上移"},on:{click:function(t){return e.up(a)}}}):e._e(),e.getSort()?n("i",{staticClass:"el-icon-bottom",attrs:{title:"下移"},on:{click:function(t){return e.down(a)}}}):e._e(),n("i",{staticClass:"el-icon-close",attrs:{title:"删除"},on:{click:function(n){return e.deleted(t)}}})])])})),0):n("el-tree",{ref:"tree",attrs:{props:e.rightTree.props,data:e.rightTree.data,"render-content":e.renderRightTreeContent,"default-expand-all":!0,"node-key":"_id"}})],1)]):e._e()],1)],1)},x=[],_=(n("99af"),n("4de4"),n("c740"),n("caad"),n("4e82"),n("a434"),n("a9e3"),n("dfde")),w=n("1328"),C=dsf.component({name:"DsfTreeSelector",ctrlCaption:"树选择器",mixins:[_["a"],w["a"]],props:{slots:{type:Array,default:function(){return[]}},showCheckbox:{type:Boolean,default:!1,desc:"节点是否可被选择"},sort:{type:Boolean,default:!1,desc:"是否可排序"},typeStyle:{type:String,default:"list",desc:"展现样式，list列表式、tree树结构"},maxLength:{type:Number,default:0},showTab:{type:Boolean,default:!0,desc:"只有一组数据的时候是否呈现标签样式"},showRightBox:{type:Boolean,default:!0,desc:"是否选中右侧区域"}},data:function(){return{filterText:"",treesObj:[],treeSelected:[],selectedData:[],activeName:"",rightTree:{data:[],props:{children:"children",label:"_name",key:"_id"},keysOfNode:{}},isCheckNode:!1}},watch:{filterText:function(e){for(var t in this.treesObj)this.treesObj[t].filter(e)}},created:function(){if(this.$choiceParams&&this.$choiceParams.slots.length>0)for(var e in this.slots.length=this.$choiceParams.slots.length,this.$choiceParams.slots)this.slots[e]=this.$choiceParams.slots[e];this.renderSlots(),this.$on("setSelectedData",this.setSelectedData),this.$on("setTreeObj",this.setTreeObj)},methods:{getSort:function(){return this.$choiceParams?this.$choiceParams.sort:this.sort},getMaxLength:function(){return this.$choiceParams?this.$choiceParams.maxLength:this.maxLength},renderSlots:function(){for(var e in this.activeName="",this.treesObj=[],this.treeSelected=[],this.selectedData=[],this.slots)0==e&&(this.activeName=this.slots[0].title),this.treeSelected.push([])},setTreeObj:function(e){var t=e.target;this.treesObj.push(t.$refs.tree),t.filterText=this.filterText},setSelectedData:function(e){if(1!=this.slots.length||"tree"!==this.typeStyle){e&&(this.treeSelected[e.args.tabIndex]=e.args.data);var t=[];for(var n in this.treeSelected)t=t.concat(this.treeSelected[n]);for(var a=[],i=0;i<t.length;i++){var s=t[i]._id;a.includes(s)?(t.splice(i,1),i--):a.push(s)}this.selectedData=t}else this.setRightTree(e)},deleted:function(e){dsf.array.remove(this.treeSelected[e.tabIndex],e),dsf.array.remove(this.selectedData,e);var t=this.slots;for(var n in this.treesObj)this.treesObj[n].setChecked(e._id,!1,t[n].chooseOneNode),this.treeSelected[n]=this.treesObj[n].getCheckedNodes();this.setSelectedData()},up:function(e){if(e>0){var t=this.selectedData[e],n=e;dsf.array.remove(this.selectedData,t),this.selectedData.splice(n-1,0,t)}},down:function(e){if(this.selectedData.length-1>e){var t=this.selectedData[e],n=e;dsf.array.remove(this.selectedData,t),this.selectedData.splice(n+1,0,t)}},resetSelect:function(){for(var e in this.selectedData=[],this.treesObj)this.treeSelected[e]=[],this.treesObj[e].setCheckedKeys([])},getReturnValue:function(){var e=[];if(1*this.getMaxLength()>0&&this.selectedData.length>1*this.getMaxLength())return dsf.layer.message("已超出选择数量上限【"+this.getMaxLength()+"】",!1),!1;for(var t in this.selectedData){var n={};this.isCheckNode&&(n={value:this.selectedData[t]._id,text:this.selectedData[t]._name}),e.push(dsf.mix(n,this.selectedData[t]))}return e},renderRightTreeContent:function(e,t){var n=this,a=t.node,i=t.data;t.store;return e("span",{class:"custom-tree-node"},[e("span",[a.label]),e("span",{style:"margin-left:16px"},[e("i",{class:"el-icon-close",attrs:{title:"删除"},on:{click:function(){return n.removeNode(a,i)}}})])])},removeNode:function(e,t){var n=e.parent,a=n.data.children||n.data,i=a.findIndex((function(e){return e._id===t._id}));a.splice(i,1)},setRightTree:function(e){var t=e.args,n=dsf.mix([],t.data),a=[];for(var i in n){var s=dsf.mix({},n[i]);"0"==this.slots[0].chooseOneNode&&(s["children"]=[]),a.push(s)}this.rightTreeData(a)},rightTreeData:function(e){for(var t in e){var n=e[t]["_id"],a=this.treesObj[0].getNode(n),i=this.$refs.tree.getNode(n);if(i)"1"==this.slots[0].chooseOneNode&&this.$refs.tree.updateKeyChildren(n,a.data.children||[]);else if(a&&a.parent&&void 0!==a.parent.key){var s=this.$refs.tree.getNode(a.parent.key);if(s)s.data.children.push(e[t]);else{var l=dsf.mix({},a.parent.data);l.children=[e[t]],this.rightTreeData([l])}}else this.rightTree.data=this.rightTree.data.concat(e)}}},design:{isMask:!0,fit:!0}}),S=C,k=Object(c["a"])(S,y,x,!1,null,null,null),D=k.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-tree"},[n("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{"empty-text":e.loading?"数据加载中...":"暂无数据",props:e.defaultProps,"default-expand-all":!!e.isDesign,"check-on-click-node":!0,lazy:e._async&&!e.isDesign,load:e.lazyLoad,data:e.data,"default-expanded-keys":e.expandedKeys,"highlight-current":"0"==e.showCheckBox,"filter-node-method":e.filterNode,"show-checkbox":"0"!=e.showCheckBox,"check-strictly":"0"==e.chooseOneNode,"expand-on-click-node":!1,"node-key":"_id"},on:{check:e.check,"node-click":e.nodeClick}})],1)},O=[],I=(n("c975"),n("ac1f"),n("1276"),n("498a"),n("ade3")),T=dsf.component({name:"DsfTree",ctrlCaption:"树",mixins:[_["a"]],props:{tabIndex:{type:[Number,String],default:0,desc:"区分是哪一个tab"},showCheckBox:{type:String,default:"0",desc:"是否启用复选框 1启用/0不启用"},types:{type:String,default:"",desc:"选择条件"},chooseOneNode:{type:String,default:"1",desc:"父子是否关联 '0'不关联/'1'"},defaultOpenSeries:{type:String,default:"1",desc:"展开层级"},metaDataType:{type:String,default:"0",desc:"数据类型 '0'接口/1元数据组/2本部门/3本单位/4组织架构"},chooseMetaData:{type:Object,default:function(){return{}},desc:"数据类型 选择元数据组后的数据"},sqlUrl:{type:String,default:"",desc:"数据类型 选择除元数据组后的实际接口地址"},async:{type:String,default:"0",desc:"是否启用异步加载 '0'不启用/'1'"},showType:{type:String,default:"dept",desc:"人员部门选择的 显示类型 user、dept"},showSubDept:{type:String,default:"0",desc:"组织架构是否异步加载 1:异步加载、2：非异步加载"},showLevel:{type:String,default:"0",desc:"组织架构显示层级 (0为子机构，不填则显示全部)"},isDesign:{type:Boolean,default:!0}},data:function(){return{filterText:"",defaultProps:{children:"children",label:"_name",key:"_id",disabled:this.setNodeDisable},data:[],loading:!1,resolve:null,sqlUrls:[{user:"oua/getUserByCurDept",dept:"oua/getUserByCurDept"},{user:"oua/getUserByCurUnit",dept:"oua/getDeptByCurUnit"},{user:"oua/getUserByOrg",dept:"oua/getDeptByOrg"}],_sqlUrl:this.sqlUrls,_async:!1,params:{},asyncSql:"",expandedKeys:[]}},computed:{keywords:function(){var e=this.filterText.trim();return""===e?[]:e.split(" ")}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this._async="1"===this.async,this.setRequestConfig()},methods:{setRequestConfig:function(){var e=1*this.metaDataType;if(this.params={},e>1&&(this._sqlUrl=this.sqlUrls[e-2][this.showType],this._async=!1),4==e)this.asyncSql="oua/getUserByOrg","1"==this.showSubDept&&"user"==this.showType?(this._async=!0,this.asyncSql="oua/getUserByDept",this.params={sExplanLevel:this.showLevel}):"dept"==this.showType&&(this.params={sExplanLevel:this.showLevel});else if(0==e)this._sqlUrl=this.$replace(this.sqlUrl);else if(1==e){var t=this.chooseMetaData||{};"meta"===t.type?(this._sqlUrl="meta/tree/byName",this.params={name:t.code.id,namespace:this.$vm?this.$vm.nameSpace:"",pageName:this.$vm?this.$vm.pageName:"",order:"[]"}):"ds"===t.type&&(this._sqlUrl="meta/tree/dbSource",this.params={rmId:t.code})}this.loadData()},loadData:function(){var e=this;if(this.isDesign){var t,n,a,i,s,l,o,r,c,u,d,f=this.defaultProps.key,h=this.defaultProps.label,p=this.defaultProps.children,m=[(i={},Object(I["a"])(i,f,1),Object(I["a"])(i,h,"一级 1"),Object(I["a"])(i,p,[(a={},Object(I["a"])(a,f,4),Object(I["a"])(a,h,"二级 1-1"),Object(I["a"])(a,p,[(t={},Object(I["a"])(t,f,9),Object(I["a"])(t,h,"三级 1-1-1"),Object(I["a"])(t,"icon","el-icon-info"),t),(n={},Object(I["a"])(n,f,10),Object(I["a"])(n,h,"三级 1-1-2"),Object(I["a"])(n,"icon","el-icon-info"),n)]),a)]),i),(o={},Object(I["a"])(o,f,2),Object(I["a"])(o,h,"一级 2"),Object(I["a"])(o,p,[(s={},Object(I["a"])(s,f,5),Object(I["a"])(s,h,"二级 2-1"),s),(l={},Object(I["a"])(l,f,6),Object(I["a"])(l,h,"二级 2-2"),l)]),o),(u={},Object(I["a"])(u,f,3),Object(I["a"])(u,h,"一级 3"),Object(I["a"])(u,p,[(r={},Object(I["a"])(r,f,7),Object(I["a"])(r,h,"二级 3-1"),r),(c={},Object(I["a"])(c,f,8),Object(I["a"])(c,h,"二级 3-2"),c)]),u)];if(this.openWebroot&&this.webrootName)m=[(d={},Object(I["a"])(d,f,0),Object(I["a"])(d,h,this.webrootName),Object(I["a"])(d,p,m),d)];this.data=m;for(var g=0;g<this.data.length;g++)this.initExpand(this.data[g]);this.$nextTick((function(){e.$dispatchTo("DsfTreeSelector","setTreeObj",e),e.$dispatchTo("DsfCheckNode","setTreeObj",e)}))}else this._async||this.initLoadData()},initExpand:function(e,t){var n=this.defaultProps.key,a=(this.defaultProps.label,this.defaultProps.children);if((this._async?this.defaultOpenSeries>1:this.defaultOpenSeries>0)?1*t<1*this.defaultOpenSeries&&this.expandedKeys.push(e[n]):this.expandedKeys.push(e[n]),e[a]&&e[a].length>0){t=1*t+1;for(var i=0;i<e[a].length;i++)this.initExpand(e[a][i],t)}},setNodeDisable:function(e,t){return e["_isDisabled"]=!1,!(!this.types||this.$eval(this.types,e))&&(e["_isDisabled"]=!0,!0)},initLoadData:function(e){var t=this;t.loading=!0,dsf.mix(this.params,this.queryString);var n=dsf.layer.loading();t.$http.get(t._sqlUrl,this.params).done((function(n){if(n.success){var a=n.data,i={},s=[];Array.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var o=a[l];i[o[t.defaultProps.key]]=o,i[o.treeinfo_pid]?(i[o.treeinfo_pid]["children"]||(i[o.treeinfo_pid]["children"]=[]),i[o.treeinfo_pid]["children"].push(o)):s.push(o),0==l&&(t.expandedKeys=[]),t.initExpand(o,0)}if(t.data=s,t._async=!1,e)return e(s)}else dsf.layer.message(n.message,!1)})).error((function(e){dsf.layer.message(e.error.message,!1)})).always((function(){t.loading=!1,t.$refs.tree.filter(t.filterText),t.$dispatchTo("DsfTreeSelector","setTreeObj",t),t.$dispatchTo("DsfCheckNode","setTreeObj",t),dsf.layer.closeLoading(n)}))},asyncLoadData:function(e,t){var n=this,a={deptID:e.data._id};dsf.mix(a,this.queryString),n.$http.get(n.asyncSql,a).done((function(e){if(e.success){var a=e.data,i={},s=[];Array.isArray(a)||(a=a.children);for(var l=0;l<a.length;l++){var o=a[l];i[o[n.defaultProps.key]]=o,i[o.treeinfo_pid]?(i[o.treeinfo_pid]["children"]||(i[o.treeinfo_pid]["children"]=[]),i[o.treeinfo_pid]["children"].push(o)):s.push(o)}if(t)return t(s)}else dsf.layer.message(e.message,!1)})).error((function(e){dsf.layer.message(e.error.message,!1)}))},lazyLoad:function(e,t){this.resolve=t,0===e.level?this.initLoadData(t):e.data.children?this.asyncLoadData(e,t):t([])},filterNode:function(e,t,n){if(!this.keywords.length)return!0;if(n.parent){if(n.parent.visible&&n.parent.filterText===e)return n.filterText=e,!0}else n.filterText=null;for(var a=0;a<this.keywords.length;a++)if(-1===t[this.defaultProps.label].indexOf(this.keywords[a]))return n.filterText=e,!1;return n.filterText=e,!0},check:function(e,t){for(var n=t.checkedNodes,a=0;a<n.length;a++)n[a].tabIndex=this.tabIndex,this.types&&!this.$eval(this.types,n[a])&&(this.$refs.tree.setChecked(n[a]._id,!1,!1),n.splice(a,1),a--);this.$dispatchTo("DsfTreeSelector","setSelectedData",{data:n,tabIndex:this.tabIndex}),this.$dispatchTo("DsfCheckNode","setSelectedData",{data:n,tabIndex:this.tabIndex})},nodeClick:function(e,t){1*this.chooseOneNode&&e._isDisabled&&(e._checked=!e._checked,0==this.$refs.tree.getCheckedNodes().length&&(e._checked=!0),this.$refs.tree.setChecked(t.key,e._checked,!0),this.check({},{checkedNodes:this.$refs.tree.getCheckedNodes()}),this.nodeClickAfter(e,e._checked))},nodeClickAfter:function(e,t){if(e.children&&e.children.length>0)for(var n in e.children)e.children[n]._checked=t,this.nodeClickAfter(e.children[n],t)}},design:{isMask:!1,fit:!0}}),N=T,B=Object(c["a"])(N,$,O,!1,null,null,null),F=B.exports,j=dsf.component({name:"DsfCheckNode",mixins:[D],ctrlCaption:"部门人员选择页面",created:function(){this.isCheckNode=!0}}),L=j,E=Object(c["a"])(L,a,i,!1,null,null,null),V=E.exports},"0dc4":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return q})),n.d(t,"g",(function(){return J})),n.d(t,"h",(function(){return Q}));var a,i,s,l,o,r,c,u,d,f,h,p,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-label-box",class:e.getCss,on:{dblclick:e.beginEdit}},[e.isDesign?[e.editting?n("div",{ref:"contenteditable",staticClass:"contenteditable",staticStyle:{display:"block"},attrs:{contenteditable:""},domProps:{textContent:e._s(e.value)},on:{blur:e.endEdit}}):n("label",{staticClass:"ds_label ds_font_5",domProps:{textContent:e._s(e.value||"无内容")}})]:n("label",{staticClass:"ds_label ds_font_5",domProps:{textContent:e._s(e.value)}})],2)},g=[],v=(n("a9e3"),n("4795"),n("b686")),b=dsf.component({name:"DsfLabel",mixins:[v["a"]],inheritAttrs:!1,ctrlCaption:"文本",props:{value:{type:[String,Number],default:"文本标签"},textAlign:{type:String,default:""},fontFamily:{type:String,default:""}},data:function(){return{editting:!1,$required:!1}},computed:{getCss:function(){var e=this.$getClass();return e.push(this.textAlign,"ds_font_"+this.fontFamily,this.$required?"ds_required":""),e}},methods:{beginEdit:function(){var e=this;this.isDesign&&(this.editting=!0,setTimeout((function(){e.$refs.contenteditable.focus()}),0))},endEdit:function(e){this.isDesign&&(this.editting=!1,this.value=e.target.innerHTML)}}}),y=b,x=n("2877"),_=Object(x["a"])(y,m,g,!1,null,null,null),w=_.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-label-box",class:e.getCss,on:{dblclick:e.beginEdit}},[e.isDesign?e.editting?n("div",{ref:"contenteditable",staticClass:"contenteditable",class:e.getLabelCss,staticStyle:{display:"block"},attrs:{contenteditable:""},on:{blur:e.endEdit}},[e._v(" "+e._s(e.value)+" ")]):n("label",{staticClass:"ds_label"},[n("span",{class:e.getLabelCss},[e._v(e._s(e.value||"无内容"))]),n("div",{style:{left:e.paddingLeft}},[e._t("default")],2)]):n("label",{staticClass:"ds_label"},[n("span",{class:e.getLabelCss},[e._v(e._s(e.value))]),n("div",{style:{left:e.paddingLeft}},[e._t("default")],2)]),e.editting||2!==e.fontType?e._e():n("div",{staticClass:"font_4 exam-remark",attrs:{contenteditable:!1}}),e._t("helper")],2)},S=[],k=dsf.component({name:"DsfTitle",mixins:[v["a"]],inheritAttrs:!1,ctrlCaption:"标题",props:{value:{type:[String,Number],default:"标题"},fontType:{type:Number,default:1},showColorLump:{type:Boolean,default:!1},showUnderline:{type:Boolean,default:!1},showWeight:{type:Boolean,default:!1},textAlign:{type:String,default:""},fontFamily:{type:String,default:""},paddingLeft:{type:String,default:"0px"}},data:function(){return{editting:!1,$required:!1}},computed:{getCss:function(){var e=this.$getClass();return e.push(this.textAlign,this.showColorLump?"ds-showColorLump":"","ds_font_"+this.fontFamily,this.$required?"ds_required":""),e},getLabelCss:function(){return["ds-font"+this.fontType,this.showUnderline?"underline":"",this.showWeight?"title":""]}},methods:{beginEdit:function(){var e=this;this.editting=!0,this.$refs.contenteditable&&setTimeout((function(){e.$refs.contenteditable.focus()}),0)},endEdit:function(e){this.isDesign&&(this.editting=!1,this.value=e.target.innerHTML)}}}),D=k,$=Object(x["a"])(D,C,S,!1,null,null,null),O=$.exports,I=dsf.component({name:"DsfTitle1",mixins:[O],ctrlCaption:"标题1",props:{value:{type:[String,Number],default:"标题1"},fontType:{type:Number,default:1}}}),T=I,N=Object(x["a"])(T,a,i,!1,null,null,null),B=N.exports,F=dsf.component({name:"DsfTitle2",mixins:[O],ctrlCaption:"标题2",props:{value:{type:[String,Number],default:"标题2"},fontType:{type:Number,default:2}}}),j=F,L=Object(x["a"])(j,s,l,!1,null,null,null),E=L.exports,V=dsf.component({name:"DsfTitle3",mixins:[O],ctrlCaption:"标题3",props:{value:{type:[String,Number],default:"标题3"},fontType:{type:Number,default:3}}}),P=V,H=Object(x["a"])(P,o,r,!1,null,null,null),R=H.exports,A=dsf.component({name:"DsfTitle4",mixins:[O],ctrlCaption:"标题4",props:{value:{type:[String,Number],default:"标题4"},fontType:{type:Number,default:4}}}),z=A,M=Object(x["a"])(z,c,u,!1,null,null,null),q=M.exports,W=dsf.component({name:"DsfTitle5",mixins:[O],ctrlCaption:"标题5",props:{value:{type:[String,Number],default:"标题5"},fontType:{type:Number,default:5}}}),U=W,K=Object(x["a"])(U,d,f,!1,null,null,null),J=K.exports,Y=dsf.component({name:"DsfTitle6",mixins:[O],ctrlCaption:"标题6",props:{value:{type:[String,Number],default:"标题6"},fontType:{type:Number,default:6}}}),X=Y,G=Object(x["a"])(X,h,p,!1,null,null,null),Q=G.exports},"0f16":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-super-search"},[e.showFitler?n("div",{staticClass:"ds-super-search-row el-row"},[e._m(0)]):e._e(),e._l(e.layout,(function(t,a){return n("div",{key:a,staticClass:"ds-super-search-row el-row",style:{padding:"2.5px 0px"}},e._l(t,(function(t){return n("div",{key:t.id,staticClass:"ds-super-search-item",class:["el-col-"+t.layout,"tile"==t.showModel?"tile":""],attrs:{"item-key":t.id}},[n("label",{staticClass:"ds-super-search-item-text"},[e._v(e._s(t.label)+":")]),n("div",{staticClass:"ds-super-search-item-block",class:{open:t.isExtend}},["enum"==t.type?["tile"==t.showModel?n("div",{staticClass:"ds-super-search-item-option"},[n("div",{staticClass:"ds-super-search-item-option-box"},[n("el-checkbox-group",{model:{value:t.values,callback:function(n){e.$set(t,"values",n)},expression:"item.values"}},e._l(e.optionsMap[t.optionKey]||[],(function(a){return n("el-checkbox",{key:a.value,attrs:{label:a.value},on:{change:function(n){return e.checkboxChange(n,t,a)}}},[e._v(e._s(a.text))])})),1)],1)]):"select"==t.showModel?n("div",[n("el-select",{staticClass:"indiction-select",staticStyle:{width:"100%","line-height":"40px"},attrs:{"collapse-tags":"",filterable:"",multiple:"",placeholder:"请选择"},model:{value:t.values,callback:function(n){e.$set(t,"values",n)},expression:"item.values"}},e._l(e.optionsMap[t.optionKey]||[],(function(e){return n("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1):e._e()]:e._e(),"text"==t.type?[n("el-input",{on:{change:function(n){return e.textChange(t)}},model:{value:t.values,callback:function(n){e.$set(t,"values",n)},expression:"item.values"}})]:e._e(),"datetime"==t.type?[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(n){return e.dateChange(t)}},model:{value:t.values,callback:function(n){e.$set(t,"values",n)},expression:"item.values"}})]:e._e()],2),"tile"==t.showModel?n("div",{staticClass:"ds-super-search-item-buttons"},[t.isMore?[t.isExtend?n("dsf-button",{staticStyle:{"min-width":"auto"},attrs:{type:"auxiliary",size:"small",icon:"shuangjiantoushang"},on:{click:function(n){return e.extend(t,!1)}}},[e._v(" 收起 ")]):n("dsf-button",{staticStyle:{"min-width":"auto"},attrs:{type:"auxiliary",size:"small",icon:"shuangjiantouxia"},on:{click:function(n){return e.extend(t,!0)}}},[e._v(" 更多 ")])]:e._e()],2):e._e()])})),0)}))],2)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-super-search-item el-col-24"},[n("label",{staticClass:"ds-super-search-item-text"},[e._v("筛选:")])])}],s=n("509d"),l=s["a"],o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null);t["a"]=r.exports},"110e":function(e,t,n){"use strict";(function(e){n("d81d"),n("ac1f"),n("1276"),n("96cf");var a=n("1da1");n("2ef0");t["a"]={system_form_save:function(e){var t=e._self.$form;if(t){var n={isRefresh:!0===e.params[0],savedClose:!1!==e.params[2],successMsg:e.params[3]||"保存成功",errorMsg:e.params[4]||"保存失败"};t.formSave(n)}},system_open_window:function(e){var t=e.params[0];t&&e._self.$openWindow(t)},system_close_window:function(e){if(e._self.$vm){var t=e._self.dialog;t?t.dialogVisible=!1:window.opener&&window.close()}},system_datagrid_batch_delete:function(t){var n=t.owner.multipleSelection;0!==n.length?dsf.layer.confirm("是否要删除选中的"+n.length+"条数据？").then((function(n){var a=t.data;if(a){var i=t.params,s=i[0]||"_id",l="true"===i[1],o=e.map(t.owner.multipleSelection,(function(e){return e[s]})),r={namespace:t.owner.$vm.nameSpace,pageName:t.owner.$vm.pageName,isTree:l,data:JSON.stringify(o)};t._self.$http.post("/meta/list/delete",r).then((function(e){e.data;dsf.layer.message("删除成功",!0),t.owner.clearSelect(),t.owner.$nextTick((function(){t.owner.loadData()}))})).catch((function(e){dsf.layer.message("删除失败",!1)}))}})).catch((function(e){throw e})):dsf.layer.message("请选择至少一条数据",!1)},system_datagrid_delete:function(e){dsf.layer.confirm("是否要删除该数据").then((function(t){var n=e.data;if(n){var a=e.params,i=a[0]||"_id",s="true"===a[1],l=[n[i]],o={namespace:e.owner.$vm.nameSpace,pageName:e.owner.$vm.pageName,isTree:s,data:JSON.stringify(l)};e._self.$http.post("/meta/list/delete",o).then((function(t){t.data;dsf.layer.message("删除成功",!0),e.owner&&(e.owner.toggleSelect(e.data,!1),e.owner.$nextTick((function(){e.owner.loadData()})))})).catch((function(e){dsf.layer.message("删除失败",!1)}))}})).catch((function(e){throw e}))},system_subtable_insert:function(e,t){var n={};e.owner.value.push(n),e.owner.$nextTick((function(){e.owner.editBegin(e.owner.value[e.owner.value.length-1])})),t.stopPropagation()},system_subtable_clear:function(e){dsf.layer.confirm("是否要清空当前所有行？").then((function(){e.owner.clearRows()})).catch((function(){}))},system_subtable_datachoice:function(e){var t=e.params[2]?e.params[2].split("/"):["1000px","70vh"];e._self.$openDialog({title:e.params[1]||"数据选择",width:t[0],height:t[1],params:{path:e.params[0]},btns:[{text:"确定",handler:function(t){var n=t.yes();if(!1===n)return!1;e.owner.$dispatch("handleTreeInfo",n)}},{text:"取消"}]})},system_qi_save:function(e){var t=e._self.$form;t&&t.formSave()},system_flow_send:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e._self&&e._self.$vm&&e._self.$vm.flows&&e._self.$vm.flows.disposeIdea&&(a=e._self.$vm.flows.disposeIdea,a.setDoSave(!1)),i=e._self.$form,!i){n.next=9;break}return s={isSilent:!0,isRefresh:!1,savedClose:!1,successMsg:"",errorMsg:""},n.next=6,i.formSave(s);case 6:l=n.sent,l&&t.$refs.wfinfo&&t.$refs.wfinfo.flowSend(l),a&&a.setDoSave(!0);case 9:case"end":return n.stop()}}),n)})))()},system_flow_sendBack:function(e){this.$refs.wfinfo&&this.$refs.wfinfo.getSendBackLink(e.params)}}}).call(this,n("2ef0"))},1807:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-no-padding el-col",class:e.getCss,style:e.getStyle,attrs:{"slot-name":"default"}},[e._t("default")],2)},i=[],s=(n("99af"),n("b0c0"),n("a9e3"),n("2909")),l=n("821f"),o=dsf.component({name:"DsfCol",ctrlCaption:"栅格列",mixins:[l["a"]],props:{span:{type:Number,default:24},xs:{type:Number,default:null},sm:{type:Number,default:null},md:{type:Number,default:null},xl:{type:Number,default:void 0},lg:{type:Number,default:null},offset:{type:Number,default:null},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},height:{type:[String,Number],default:"auto"}},computed:{getSpanNum:function(){var e=this.span,t=this.xs,n=this.sm,a=this.md,i=this.xl,s=this.lg,l=this.offset,o=[this.span?"el-col-"+e:"",this.xs?"el-col-xs-"+t:"",this.sm?"el-col-sm-"+n:"",this.md?"el-col-md-"+a:"",this.xl?"el-col-xl-"+i:"",this.lg?"el-col-lg-"+s:"",this.offset?"el-col-offset-"+l:""];return o},gutter:function(){var e=this.parentRow;return e?e.gutter:0},parentRow:function(){var e=this.$parent,t=0;while(e&&"DsfRow"!=e.$options.name)if(e=e.$parent,t++,t>10)return void(e=null);return e},getCss:function(){return[].concat(Object(s["a"])(this.$getClass()),Object(s["a"])(this.getSpanNum))},getStyle:function(){var e=/(px|em|rem|vh|vw|%)$/g,t=this.height;"number"==dsf.type(this.height)&&(t=this.height+"px"),"auto"==t||e.test(t)||(t=this.height+"px",e.lastIndex=0);var n={height:t,"padding-left":this.gutter/2+"px","padding-right":this.gutter/2+"px"};return this.isDesign||this.parentRow.minHeight&&(n["min-height"]=this.parentRow.minHeight+"px"),n}},created:function(){this.isDesign||this.$vm&&this.$local&&this.$parent.cols.push(this)},mounted:function(){}}),r=o,c=n("2877"),u=Object(c["a"])(r,a,i,!1,null,null,null);t["a"]=u.exports},"1bb0":function(e,t,n){"use strict";n("4160"),n("c975"),n("b680"),n("acd8"),n("e25e"),n("ac1f"),n("1276"),n("159b");var a=!1,i=!1;function s(e,t,n,s,l){r(e,n,s);var o=!1,c=0,u=0,d=[0,0],f=[0,0];function h(e,t){var n=e.getAttribute("c-index").split(",");return"0"===n[1]?t>e.offsetWidth-5?"right":void 0:e.nextElementSibling&&t>e.offsetWidth-5?"right":t<5?"left":void 0}function p(){var a=JSON.parse(JSON.stringify(n[s])),i=e.offsetWidth,o=parseInt(t.style.left)-u,r=parseFloat(a[d[0]].width)*i/100+o,c=parseFloat(a[d[1]].width)*i/100-o;a[d[0]]={width:(100*r/i).toFixed(3)+"%"},a[d[1]]={width:(100*c/i).toFixed(3)+"%"},l&&l(a)}n.mousemoveW=function(n){var i=n||window.event;if("TD"===i.target.tagName||"TH"===i.target.tagName||i.target.parentElement.parentElement.parentElement===e){var s=i.offsetX;if(a=h(i.target,s),a&&(i.cancelBubble=!0,i.stopPropagation()),a?("left"===a?o||(u=i.target.offsetLeft,t.style.left=u+"px"):o||(u=i.target.offsetLeft+i.target.offsetWidth,t.style.left=u+"px"),"col-resize"!==document.body.style.cursor&&(document.body.style.cursor="col-resize")):o||"col-resize"!==document.body.style.cursor||(document.body.style.cursor=""),o){var l=i.screenX-c;l>f[1]&&(l=f[1]),l<f[0]&&(l=f[0]),t.style.left=u+l+"px"}}},n.mousedownW=function(l){var r=l||window.event;if("TD"===r.target.tagName||"TH"===r.target.tagName||r.target.parentElement.parentElement.parentElement===e){var u=r.offsetX;if(a=h(r.target,u),a&&(r.cancelBubble=!0,r.stopPropagation()),!i&&a){if(c=r.screenX,o=!0,t.style.visibility="visible",document.body.style.cursor="col-resize","left"===a)d[1]=+r.target.getAttribute("c-index").split(",")[1],d[0]=d[1]-1;else{var p=+r.target.getAttribute("colspan")||1;d[0]=+r.target.getAttribute("c-index").split(",")[1]+p-1,d[1]=d[0]+1}var m=JSON.parse(JSON.stringify(n[s])),g=e.offsetWidth;f[0]=50-parseFloat(m[d[0]].width)*g/100,f[1]=parseFloat(m[d[1]].width)*g/100-50}}},n.mouseupW=function(e){var n=e||window.event;o&&(n.cancelBubble=!0,n.stopPropagation(),t.style.visibility="hidden",document.body.style.cursor="",o=!1,p())}}function l(e,t,n,s,l){var o=!1,r=0,c=0,u=null,d=0;function f(e,t){var n=e.getAttribute("c-index");if(n&&""!==n){var a=e.getAttribute("c-index").split(",")[0];return"0"===a?t>e.offsetHeight-5?"bottom":void 0:t>e.offsetHeight-5?"bottom":t<5?"top":void 0}}function h(){var e=parseInt(t.style.top)-c,n=+u.children[0].getAttribute("c-index").split(",")[0];l&&l(n,u.offsetHeight+e+"px")}n.mousemoveH=function(n){var a=n||window.event;if("TD"!==a.target.tagName&&"TH"!==a.target.tagName||a.target.parentElement.parentElement.parentElement===e){var s=a.offsetY;if(i=f(a.target,s),i&&(a.cancelBubble=!0,a.stopPropagation()),i?("top"===i?o||(c=a.target.parentElement.offsetTop,t.style.top=c+"px"):o||(c=a.target.parentElement.offsetTop+a.target.parentElement.offsetHeight,t.style.top=c+"px"),"row-resize"!==document.body.style.cursor&&(document.body.style.cursor="row-resize")):o||"row-resize"!==document.body.style.cursor||(document.body.style.cursor=""),o){var l=a.screenY-r;l<d&&(l=d),t.style.top=c+l+"px"}}},n.mousedownH=function(n){var s=n||window.event;if("TD"===s.target.tagName||"TH"===s.target.tagName||s.target.parentElement.parentElement.parentElement===e){var l=s.offsetY;i=f(s.target,l),i&&(s.cancelBubble=!0,s.stopPropagation()),i&&!a&&(r=s.screenY,o=!0,t.style.visibility="visible",document.body.style.cursor="row-resize",u="top"===i?s.target.parentElement.previousElementSibling:s.target.parentElement,d=57-u.offsetHeight)}},n.mouseupH=function(e){var n=e||window.event;o&&(n.cancelBubble=!0,n.stopPropagation(),t.style.visibility="hidden",document.body.style.cursor="",o=!1,h())}}function o(e,t){var n=document.createElement("div");return n.style.position="absolute",n.style.display="block",n.style.visibility="hidden",n.style.top="0",n.style.left="0",n.style.zIndex="10000","x"===t?(n.style.height="100%",n.style.width="1px",n.style.borderLeft="1px dashed #000"):(n.style.width="100%",n.style.height="1px",n.style.borderTop="1px dashed #000"),n.innerHTML="<span></span>","relative"!==e.style.position&&"absolute"!==e.style.position&&"fixed"!==e.style.position&&(e.style.position="relative"),e.appendChild(n),n}function r(e,t,n){var a=e.offsetWidth,i=JSON.parse(JSON.stringify(t[n])),s=0,l=0,o=[];if(t.__col_number=i.length,i.forEach((function(e,t){var n=e.width;if(0===n||n&&""!==n&&"auto"!==n)if("string"===typeof n&&n.indexOf("%")>0)if(isNaN(parseFloat(n)))s++,o[t]=null;else{var i=parseFloat(n);l+=i,o[t]={width:i.toFixed(3)+"%"}}else if("string"===typeof n&&n.indexOf("px")>0)if(isNaN(parseFloat(n)))s++,o[t]=null;else{var r=100*parseFloat(n)/a;l+=r,o[t]={width:r.toFixed(3)+"%"}}else if(isNaN(parseFloat(n)))s++,o[t]=null;else{var c=parseFloat(n);l+=c,o[t]={width:c.toFixed(3)+"%"}}else s++,o[t]=null})),l>100)for(var r=0;r<a.length;r++)o[r]?o[r]={width:(parseFloat(o[r].width)/l).toFixed(3)+"%"}:o[r]={width:0};else if(s>0)for(var c=((100-l)/s).toFixed(3)+"%",u=0;u<i.length;u++)o[u]||(o[u]={width:c});t.$emit("update:"+n,o)}function c(e,t,n,a){var i=e.offsetWidth,s=JSON.parse(JSON.stringify(t[n])),l=[],o=t.__col_number;t.__col_number=s.length;var r=o/s.length,c=100/s.length;s.forEach((function(e,t){var n=e.width;if(0===n||n&&""!==n&&"auto"!==n)if("string"===typeof n&&n.indexOf("%")>0){var a=parseFloat(n)*r;l[t]={width:a.toFixed(3)+"%"}}else if("string"===typeof n&&n.indexOf("px")>0){var s=100*parseFloat(n)*r/i;l[t]={width:s.toFixed(3)+"%"}}else{var o=parseFloat(n)*r;l[t]={width:o.toFixed(3)+"%"}}else l[t]={width:c.toFixed(3)+"%"}})),a&&a(l)}t["a"]={resize:{inserted:function(e,t,n){var a=t.value,i=t.modifiers,r=n.context;r.isDesign&&((i.x||!i.x&&!i.y)&&(s(e,o(e,"x"),r,a.colList,a.onChangeCol),e.addEventListener("mousemove",r.mousemoveW),e.addEventListener("mousedown",r.mousedownW),e.addEventListener("mouseup",r.mouseupW),e.addEventListener("mouseleave",r.mouseupW)),(i.y||!i.x&&!i.y)&&(l(e,o(e,"y"),r,a.rowList,a.onChangeRow),document.body.addEventListener("mousemove",r.mousemoveH),e.addEventListener("mousedown",r.mousedownH),document.body.addEventListener("mouseup",r.mouseupH)))},update:function(e,t,n){var a=t.value,i=t.modifiers,s=n.context;s.isDesign&&(i.x||!i.x&&!i.y)&&s.__col_number!==s[a.colList].length&&c(e,s,a.colList,a.onChangeCol)},unbind:function(e,t,n){var a=t.modifiers,i=n.context;i.isDesign&&((a.x||!a.x&&!a.y)&&(e.removeEventListener("mousemove",i.mousemoveW),e.removeEventListener("mousedown",i.mousedownW),e.removeEventListener("mouseup",i.mouseupW),e.removeEventListener("mouseleave",i.mouseupW)),(a.y||!a.x&&!a.y)&&(document.body.removeEventListener("mousemove",i.mousemoveH),e.removeEventListener("mousedown",i.mousedownH),document.body.removeEventListener("mouseup",i.mouseupH)))}}}},"1cf3":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return v}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-navtab",class:{"ds-no-padding":!e.showPadding},style:{height:e.isDesign?"100%":e.tabHeight}},[n("el-tabs",{attrs:{"tab-position":e.tabPosition,type:"customer-tab-pad"==e.tabStyle?"":e.tabStyle,closable:e.enableDelete},on:{"tab-click":e.tabClick,"tab-remove":e.tabRemove},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._t("default"),e._l(e.slots.filter((function(t){return e.isHide(t)})),(function(t){return n("el-tab-pane",{key:t.name,attrs:{disabled:e.isdisable(t),label:t.title,name:t.name,"slot-name":t.name,lazy:e.isLazy(t)}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(t.title)+" "),null!==t.badge?n("span",{staticClass:"el-badge",domProps:{innerHTML:e._s(t.badge)}}):e._e()]),e._t(t.name)],2)}))],2)],1)},i=[],s=n("3304"),l=dsf.component({name:"DsfNavTab",ctrlCaption:"选项卡",mixins:[s["a"]],props:{}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null),u=c.exports,d=function(e,t){var n=t._c;return n("el-tab-pane",{key:t.props.name,attrs:{disable:t.disable,label:t.props.title,name:t.props.name,"slot-name":t.props.name}},[t._t("content")],2)},f=[],h=(n("a9e3"),n("821f")),p={name:"DsfTabItem",ctrlCaption:"选项卡页签",mixins:[h["a"]],props:{title:{type:String,default:"",desc:"显示名称"},name:{type:String,default:"",desc:"标识"},disable:{type:Boolean,default:!1,desc:"是否禁用"},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},badge:{type:[String,Number],default:"",desc:"角标"}}},m=p,g=Object(r["a"])(m,d,f,!0,null,null,null),v=g.exports},"1f30":function(e,t,n){"use strict";(function(e,a){n("99af"),n("4de4"),n("7db0"),n("c740"),n("c975"),n("a15b"),n("d81d"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("ac1f"),n("38cf"),n("5319"),n("1276"),n("4795"),n("96cf");var i=n("1da1"),s=n("2909"),l=n("dfde"),o=n("1328"),r=n("d4c3"),c=n("0f16"),u="table-column";function d(){if(this.isDesign&&0==this.columns.length)for(var e=4,t=0;t<e;t++)this.addColumn({label:"列".concat(t),level:0})}t["a"]=dsf.component({name:"DsfDataGrid",ctrlCaption:"数据列表",mixins:[l["a"],o["a"]],components:{DsfSuperSearch:c["a"]},provide:function(){return{$list:this}},props:{buttons:{type:Array,default:function(){return[]}},rowButtons:{type:Array,default:function(){return[]}},pagerCount:{type:Number,default:5},pageSize:{type:Number,default:15},columns:{type:Array,default:function(){return[]}},fit:{type:Boolean,default:!0},showHead:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},limits:{type:Array,default:function(){return[15,20,30,40,50,100]}},label:{type:String,default:"数据列表"},templateData:{type:Array,default:function(){return[{}]}},showPagination:{type:Boolean,default:!0},pagerLayout:{type:String,default:"total,prev,pager,next,jumper,sizes"},searchPlaceholder:{type:String,default:"请输入检索关键字"},data:{type:Array,default:function(){return[]}},indexColumn:{type:Object,default:function(){return{show:!0,width:60}}},operateColumn:{type:Object,default:function(){return{show:!0,width:100}}},checkboxColumn:{type:Object,default:function(){return{show:!0}}},showType:{type:Array,default:function(){return["list"]}},searchInfo:{type:Array,default:function(){return[]}},slots:{type:Array,default:function(){return[{name:"default",scope:"scope",controls:[]}]}},browseScope:{type:Object,default:function(){return{scope:"2",unit:[]}}},mountedRequestData:{type:Boolean,default:!0},tableTextProxy:{type:Boolean,default:!0},defaultOrder:{type:Array,default:function(){return[]}},customerOrder:{type:Array,default:function(){return[]}},superSearchInfo:{type:Array,default:function(){return[]}},superSearchDefaultRowsNumber:{type:Number,default:2},superSearchButtonTrigger:{type:Boolean,default:function(){return!1}},showSuperSearchFilter:{type:Boolean,default:!0}},data:function(){return{currentPage:1,pageCount:0,isReDrawHander:!1,searchStr:"",removeTable:!1,loading:!1,pSize:this.pageSize,isLoadDataMark:!1,multipleSelection:[],superSearchHeight:0,superValue:null}},computed:{contentWrapHeight:function(){return this.fit?"calc(100% - "+this.tableMarginTop+"px - 42px)":"auto"},tableMarginTop:function(){return this.superSearchHeight>0?this.superSearchHeight+5:0},tableHeight:function(){var e=this.fit;return e?"100%":"auto"},panelHeight:function(){var e=this.fit;return this.isDesign||e?"100%":"auto"},getCss:function(){return[this.$getClass(),this.fit?"fit":"",this.showPagination?"has-pagination":""]},checkedNumber:function(){return this.$refs.table?this.$refs.table.selection.length:0}},created:function(){d.call(this),this.refreshHeader()},mounted:function(){var t=this;if(!this.isDesign){var n=e.find(this.limits,(function(e){return e==t.pageSize}));n?this.mountedRequestData&&this.loadData():(this.$emit("update:pageSize",this.limits[0]),this.mountedRequestData&&this.$nextTick((function(){t.loadData()})))}},updated:function(){this.doLayout()},beforeDestroy:function(){},destroyed:function(){},methods:{reset:function(){this.$refs.table&&this.$refs.table.clearSelection(),this.currentPage=1,this.pageCount=0},indexMethod:function(e){return(this.currentPage-1)*this.pageSize+e+1},getLastColumns:function(e){var t=[];return this.deep((function(e){e.children&&e.children.length?(e.columnId="",e.isLast=!1):(e.isLast=!0,t.push(e))}),e),t},deep:function(t,n){var a=function n(a,i){var s=0;e.each(a,(function(e,a){t&&t(e,a,s,i),n(e.children,i+1),s++}))},i=n||this.columns;i="array"!==dsf.type(i)?[i]:i,a(i,0)},search:function(){this.isDesign||this.reloadData(1)},headerDragend:function(){this.doLayout()},resize:function(){this.doLayout()},pageSizeChange:function(e){this.$emit("update:pageSize",e)},pageIndexChange:function(e){this.currentPage=e,this.loadData()},refreshHeader:function(){var t=this,n=this.getLastColumns(),a={};e.each(n,(function(n,i){var s="".concat(u,"-").concat(i),l=e.find(t.slots,(function(e){return e.name==s}));if(l)l.name=s;else{var o=l={name:s,controls:[dsf.designer.createComponent(r["a"],{"slot-name":"default"})]};t.slots.push(o),l=o}n.columnId=s,l.scope="scope",l.repeat=!0,l.textProxy=t.tableTextProxy,l.dataKey="row",a[l.name]=1})),e.eachRight(this.slots,(function(e){0==e.name.indexOf(u+"-")&&(a[e.name]||dsf.array.remove(t.slots,e))}))},addColumn:function(e,t,n){var a={label:"",columnId:"",level:0,isLast:!1,hide:!1,headerAlign:"center",align:"center",resizable:!1,width:"auto",children:[]},i=dsf.mix({},a,e);return n?dsf.isUnDef(t)?(n.children.push(i),i.level=n.level+1):n.children.splice(t,0,i):dsf.isUnDef(t)?this.columns.push(i):this.columns.splice(t,0,i),i},doLayout:function(){this.$refs.table&&this.$refs.table.doLayout()},getRowKey:function(e){return e._id},getQueryInfo:function(){var t=[],n={searchValue:this.searchStr.split(/\s+/g).join(" ")};if(this.searchInfo&&e.each(this.searchInfo,(function(e){"1"==e.type&&(n[e.code]=e.valueExpress)})),this.superValue&&e.each(this.superValue,(function(e,t){n[t]=e})),this.defaultOrder){var a=e.map(this.customerOrder,(function(e){return e.sortType?{code:e.field,sort:e.sortType}:void 0}));a=e.filter(a,(function(e){return e}));var i=e.map(this.defaultOrder,(function(t){var n=e.findIndex(a,(function(e){return e.code==e.field}));if(n<0)return{code:t.field,sort:t.sortType}}));t=[].concat(Object(s["a"])(a),Object(s["a"])(i))}return{order:t,query:n}},loadData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,i,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$vm&&(e.loading=!0,n=[],a=e.getQueryInfo(),i={pageNum:e.currentPage,pageSize:e.showPagination?e.pageSize:100,query:JSON.stringify(a.query),order:JSON.stringify(a.order),namespace:e.$vm.nameSpace,pageName:e.$vm.pageName},l={pageNum:e.currentPage,pageSize:e.showPagination?e.pageSize:100,query:a.query,namespace:e.$vm.nameSpace,pageName:e.$vm.pageName},o="/meta/list/data",dsf.mix(i,e.queryString),e.$http.get(o,i).done((function(t){if(2e4!=t.state)throw t;n=t.data;var a="/meta/list/count";return dsf.mix(l,e.queryString),e.$http.get(a,i)})).done((function(t){var a;e.pageCount=t.data.count,e.data.splice(0,e.data.length),(a=e.data).push.apply(a,Object(s["a"])(n))})).error((function(e){if("string"==dsf.type(e)||e.message){var t=e.message||e;dsf.layer.message(t,!1)}})).always((function(){window.setTimeout((function(){e.doLayout(),e.loading=!1}))})));case 1:case"end":return t.stop()}}),t)})))()},refreshData:function(){this.loadData()},reloadData:function(e){e&&this.currentPage!=e?this.currentPage=e:this.loadData()},updateControlPropsInTemplate:function(e,t){return!this.isDesign&&t&&e.isFormControl&&(e.simple=!0,e.readOnly=!0),e},getCurrentMetaData:function(){var e=this,t=[];dsf.designer.recursionLayoutTree(this,null,null,(function(n){if(n!=e){var a=n.$options.design||{},i=a.metadata||{},s=i.create&&i.create.call(n,root);if(s&&s.metadata){t.push(s);var l=!dsf.isDef(i.isDeep)||i.isDeep;if(!l)return!1}}}))},getSelectedRows:function(){return this.$refs.table?this.$refs.table.selection:[]},handleSelectionChange:function(e){this.multipleSelection=e},toggleSelect:function(e,t){if(this.$refs.table&&e)if(t){for(var n=0;n<this.data.length;n++)if(v._id==e||v._id==e._id){this.$refs.table.toggleRowSelection(this.data[n],!0);break}}else for(var a=0;a<this.multipleSelection.length;a++)if(v._id==e||v._id==e._id){this.$refs.table.toggleRowSelection(this.multipleSelection[a],!1);break}},clearSelect:function(){this.$refs.table&&this.$refs.table.clearSelection()},rowDblClickHandler:function(t,n,i){var s=i.currentTarget,l=a(s).find("td:last div[ctrl_type='dsf.buttonbar']");if(l.length>0){var o=l.get(0).__vue__,r=e.filter(o.buttons,(function(e){return e.isDblClick}));r.length>0&&o.triggerButtonClick(r[0])}},getColumnSort:function(t){if(this.customerOrder){var n=e.filter(this.customerOrder,(function(e){if(t.columnId==e.column)return!0}));if(n.length>0)return"custom"}return!1},getHeaderClass:function(t){t.row;var n=t.column,a=(t.rowIndex,t.columnIndex,[]);if(n.columnKey){var i=e.filter(this.customerOrder,(function(e){return e.column==n.columnKey}));if(i.length>0){var s=i[0];if(s.sortType){var l=s.sortType+"ending";n.order=l,a.push(l)}else n.order=null}}return a.join(" ")},tableSort:function(t){var n=t.column,a=(t.prop,t.order),i=e.filter(this.customerOrder,(function(e){return e.column==n.columnKey}));if(i.length>0){var s=i[0],l=a?a.replace("ending",""):null;s.sortType=l,this.loadData()}},getReturnValue:function(){return this.getSelectedRows()}},watch:{columns:{handler:function(){var e=this;this.refreshHeader(),this.isReDrawHander=!0,this.$nextTick((function(){e.isReDrawHander=!1}))},deep:!0},tableTextProxy:function(e){var t=this;this.isDesign&&(this.refreshHeader(),this.isReDrawHander=!0,this.$nextTick((function(){t.isReDrawHander=!1})))},value:{handler:function(e){for(var t=0;t<e.length;t++)!("$editing"in e[t])&&this.$set(e[t],"$editing",!1),!("$hash"in e[t])&&this.$set(e[t],"$hash",dsf.uuid()),"$order"in e[t]?this.$set(e[t],"$order",t):e[t]["$order"]=t,e[t].$index=t}},currentPage:function(e){this.loadData()},pageSize:function(e){this.loadData()}},design:{isMask:!1,fit:!0,layout:{exclude:["value"]},metadata:{isDeep:!1,create:function(t){var n,a,i=this,s=[];dsf.designer.recursionLayoutTree(this,null,null,(function(e){if(e!=i){var n=e.$options.design||{},a=n.metadata||{},l=a.create&&a.create.call(e,t);if(l&&l.metadata){s.push(l);var o=!dsf.isDef(a.isDeep)||a.isDeep;if(!o)return!1}}}));for(var l={},o=[],r=[],c=0;c<this.searchInfo.length;c++){var u=this.searchInfo[c],d=null;"0"==u.type?(d={code:u.code,operator:u.operation,valueKey:"searchValue"},o.push(d)):(d={code:u.code,operator:u.operation,valueKey:u.code},r.push(d),u.metadata_fullcode=d.code)}var f={logic:"or",items:[]};(n=f.items).push.apply(n,o);var h={logic:"and",items:[]};(a=h.items).push.apply(a,r);var p={logic:"and",items:[]};p.items.push(f),p.items.push(h);var m={logic:"and",items:[]};e.each(this.superSearchInfo,(function(t){var n=null,a="",i=null;if("enum"==t.searchType){var s,l=[];if((null===t||void 0===t||null===(s=t.children)||void 0===s?void 0:s.length)>0?(l=e.map(t.children,(function(e){return 1==e.join})),l=l.slice(0,1)):l=[t],1==l.length){n=l[0].field,a=l[0].operator,i=l[0].field,"in"!=a&&"eq"!=a||(a="in");var o={code:n,operator:"in"==a||"eq"==a?"in":a,valueKey:n};m.items.push(o)}}else if("text"==t.searchType)n=t.code,a=t.operator,i=t.code,m.items.push({code:n,operator:a,valueKey:i});else if("datetime"==t.searchType){var r,c=[];(null===t||void 0===t||null===(r=t.children)||void 0===r?void 0:r.length)>0?(c=e.map(t.children,(function(e){return 1==e.join})),c=c.slice(0,1)):c=[t],1==c.length&&m.items.push({code:c[0].field,operator:c[0].operator,valueKey:c[0].field})}})),p.items.push(m),l=p;var g={query:l,browseScope:this.browseScope,_self:this};return[g].concat(s)}}}})}).call(this,n("2ef0"),n("1157"))},"1f4a":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.items.length?n("el-dropdown",{attrs:{"hide-on-click":!1,placement:"bottom"},on:{"visible-change":function(t){e.showDropdown=t},command:e.handleCommand}},[n("div",{staticClass:"ds-form-select-item",class:{showDropdown:e.showDropdown}},[n("span",[e._v(e._s(e.value.text))]),n("div",{staticClass:"close-bt"},[n("i",{staticClass:"iconfont icon-icon2",on:{click:function(t){return e.$emit("close")}}})])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.items,(function(t,a){return n("el-dropdown-item",{key:a,attrs:{command:a}},[e._v(e._s(t))])})),1)],1):n("div",{staticClass:"ds-form-select-item"},[n("span",[e._v(e._s(e.value.text))]),n("div",{staticClass:"close-bt"},[n("i",{staticClass:"iconfont icon-icon2",on:{click:function(t){return e.$emit("close")}}})])])},i=[],s={name:"FormSelectItem",props:{value:{type:Object,default:function(){return{}}},items:{type:Array,default:function(){return[]}}},data:function(){return{showDropdown:!1}},methods:{handleCommand:function(e){var t=this.items[+e];console.log(t)}}},l=s,o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,"7a336e05",null);t["a"]=r.exports},2307:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{class:e.getCss,style:{height:e.height},attrs:{"slot-name":e.slots[0].name,"r-index":e.rowIndex}},[e._t(e.slots[0].name)],2)},i=[],s=(n("99af"),n("a9e3"),n("2909")),l=n("dfde"),o=n("d014"),r=dsf.component({name:"DsfTableRow",ctrlCaption:"表格布局单元行",mixins:[l["a"]],components:{DsfTableCell:o["a"]},props:{slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},height:{type:String,default:"57px"},rowIndex:{type:Number,default:0}},data:function(){return{tableCells:[]}},computed:{getCss:function(){return[].concat(Object(s["a"])(this.$getClass()),[this.showBorder?"":"ds-no-border",this.noPadding?"ds-no-padding":""])}},created:function(){this.isDesign||this.$vm&&this.$local&&this.$parent.tableRows.push(this)},beforeDestroy:function(){this.isDesign||dsf.array.remove(this.$parent.tableRows,this)},methods:{}}),c=r,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);t["a"]=d.exports},"2b10":function(e,t,n){"use strict";(function(e,a){n("99af"),n("7db0"),n("c740"),n("4160"),n("d81d"),n("a434"),n("a9e3"),n("b680"),n("e25e"),n("ac1f"),n("5319"),n("1276"),n("159b");var i=n("2909"),s=n("dfde"),l=n("1bb0"),o=n("2307"),r=n("d014");function c(){var e=g();return this.slots[0].controls.push(e),e}function u(e){var t=m();return e.slots[0].controls.push(t),t}function d(e){dsf.isUnDef(e)||e<0?this.columnsInfo.push({width:""}):this.columnsInfo.splice(e,0,{width:""})}function f(e){dsf.array.removeAt(this.columnsInfo,e)}function h(e,t){var n=[];if(t&&e.get(0)!=t.get(0)){if(!e.attr("c-index")||!t.attr("c-index"))return;for(var a=e.attr("c-index").split(","),i=Number(a[0]),s=Number(a[1]),l=t.attr("c-index").split(","),o=Number(l[0]),r=Number(l[1]),c=Math.min(s,r),u=Math.max(s,r),d=Math.min(i,o),f=Math.max(i,o),h=[],p=d;p<=f;p++)for(var m=p,g=c;g<=u;g++){var v=g,b=this.matrix[m][v];b&&h.push(b)}c=99999,u=0,d=99999,f=0;for(var y=0;y<h.length;y++){var x=h[y].rowIndex,_=h[y].cellIndex,C=this.matrix[x][_];C.isSpan&&(C=this.matrix[C.rowIndex][C.cellIndex]),d=Math.min(d,C.rowIndex),f=Math.max(f,C.rowIndex+C.rowspan-1),c=Math.min(c,C.cellIndex),u=Math.max(u,C.cellIndex+C.colspan-1)}for(var S=d;S<=f;S++)for(var k=S,D=c;D<=u;D++){var $=D,O=this.matrix[k][$];O.isSpan&&(O=this.matrix[O.rowIndex][O.cellIndex]),O&&dsf.array.ensure(n,O)}}else{if(!e.attr("c-index"))return;var I=e.attr("c-index").split(","),T=Number(I[0]),N=Number(I[1]),B=w.call(this,T,N);B&&dsf.array.ensure(n,B)}return n}function p(){var t=this.rangeWrap.selected,n=9999,a=0,i=9999,s=0;return e.each(t,(function(e){var t=e.rowIndex,l=e.cellIndex;n>t&&(n=t),a<t+e.rowspan-1&&(a=t+e.rowspan-1),i>l&&(i=l),s<l+e.colspan-1&&(s=l+e.colspan-1)})),{maxRowIndex:a,minRowIndex:n,maxCellIndex:s,minCellIndex:i}}function m(){return dsf.designer.createComponent(r["a"])}function g(){return dsf.designer.createComponent(o["a"])}function v(){var t=this.rangeWrap.selected,n=p.call(this),a=t[0].rowIndex,i=t[0].cellIndex,s=this.getCells(this.rows[a]),l=e.find(s,(function(e){return e.cellIndex===i}));$.call(this,l,n.maxRowIndex-n.minRowIndex+1,n.maxCellIndex-n.minCellIndex+1)}function b(){var e=y.call(this);O.call(this,e)}function y(){for(var e=this.rangeWrap.selected,t=[],n=0;n<e.length;n++){var a=e[n];(a.rowspan>1||a.colspan>1)&&t.push(a)}return t}function x(){var t=[],n=this.getRows();if(n&&n.length){var a={};e.each(n,(function(){t.push([])}));for(var i=0;i<n.length;i++)for(var s=n[i],l=this.getCells(s),o=0,r=0;r<l.length;r++){var c=l[r];c.rowIndex=i,c.cellIndex=r;var u=c.rowspan||1,d=c.colspan||1;while(void 0!==t[i][o])o++;for(var f=i;f<i+u;f++)for(var h=o;h<o+d;h++)f===i&&h===o?(t[f][h]=c,c.rowIndex=i,c.cellIndex=h,a[c.rowIndex+","+c.cellIndex]=c):t[f][h]={isSpan:!0,rowIndex:i,cellIndex:o}}this.allCells=a}this.matrix=t;var p=this.matrix[0]?this.matrix[0].length:0;return e.eachRight(this.columnsInfo,(function(e,t){t>p-1&&dsf.array.remove(e)})),t}function _(e){for(var t in this.allCells)if(this.allCells[t]===e){var n=t.split(",");return{rowIndex:Number(n[0]),cellIndex:Number(n[1])}}return null}function w(e,t){return this.allCells[e+","+t]}function C(e){for(var t=0;t<e.length;t++){for(var n=e[t],a=[],i=0;i<n.length;i++){var s=n[i];s&&!s.isSpan&&a.push(s)}this.rows[t].slots[0].controls=a}x.call(this)}function S(e){if(this.isDesign&&e){for(var t=Number.MAX_VALUE,n=Number.MAX_VALUE,i=Number.MIN_VALUE,s=Number.MIN_VALUE,l=0;l<e.length;l++){var o=e[l].rowIndex,r=e[l].cellIndex,c=a(this.$el).find("td[c-index='"+o+","+r+"']");if(c=D.call(this,c),c){var u=c.eq(0).position(),d=c.parent().position().top,f=u.left;t=Math.min(t,d),n=Math.min(n,f),i=Math.max(i,f+c.outerWidth()),s=Math.max(s,d+c.outerHeight())}}var h=i-n,p=s-t;this.rangeWrap.width=h-4,this.rangeWrap.height=p-4,this.rangeWrap.left=n-2,this.rangeWrap.top=t-2,this.rangeWrap.selected=e}}function k(){this.rangeWrap.show=!1,this.rangeWrap.width=0,this.rangeWrap.height=0,this.rangeWrap.left=-10,this.rangeWrap.top=-10,this.rangeWrap.selected=[]}function D(e){for(var t=0;t<e.length;t++){var n=e.eq(t),a=n.closest("table");if(this.$refs.table===a.get(0))return n}return null}function $(e,t,n){t=t||1,n=n||1;for(var a=_.call(this,e),i=x.call(this),s=a.rowIndex;s<a.rowIndex+t;s++)for(var l=a.cellIndex;l<a.cellIndex+n;l++)s===a.rowIndex&&l===a.cellIndex?(i[s].splice(l,1,e),e.rowspan=t,e.colspan=n):i[s].splice(l,1,{isSpan:!0,rowIndex:e.rowIndex,cellIndex:e.cellIndex});C.call(this,i)}function O(t){var n=this;x.call(this),e.each(t,(function(e){for(var t=e.rowIndex;t<e.rowIndex+e.rowspan;t++)for(var a=e.cellIndex;a<e.cellIndex+e.colspan;a++){var i=n.matrix[t][a];i.isSpan&&(n.matrix[t][a]=m())}e.rowspan=1,e.colspan=1})),C.call(this,this.matrix)}function I(){x.call(this);for(var t=[],n=p.call(this),a=n.minRowIndex,i=this.matrix[a],s=g(),l=0;l<i.length;l++){var o=i[l];if(o.isSpan&&(o=this.matrix[o.rowIndex][o.cellIndex]),o.rowspan>1&&a>o.rowIndex)dsf.array.ensure(t,o);else{var r=m();s.slots[0].controls.push(r)}}e.each(t,(function(e){e.rowspan++})),this.rows.splice(a,0,s),x.call(this)}function T(){x.call(this);for(var t=[],n=p.call(this),a=n.maxRowIndex,i=this.matrix[a],s=g(),l=0;l<i.length;l++){var o=i[l];if(o.isSpan&&(o=this.matrix[o.rowIndex][o.cellIndex]),o.rowspan>1&&a<o.rowIndex+o.rowspan-1)dsf.array.ensure(t,o);else{var r=m();s.slots[0].controls.push(r)}}e.each(t,(function(e){e.rowspan++})),this.rows.splice(a+1,0,s),x.call(this)}function N(){x.call(this);for(var t=[],n=p.call(this),a=n.minCellIndex,i=0;i<this.rows.length;i++){var s=this.rows[i],l=this.matrix[i],o=l[a];if(o.isSpan&&(o=this.matrix[o.rowIndex][o.cellIndex]),o.colspan>1&&a>o.cellIndex)dsf.array.ensure(t,o);else{var r=m();s.slots[0].controls.splice(a,0,r)}}e.each(t,(function(e){e.colspan++})),d.call(this,a),x.call(this)}function B(){x.call(this);for(var t=[],n=p.call(this),a=n.minCellIndex,i=0;i<this.rows.length;i++){var s=this.rows[i],l=this.matrix[i],o=l[a];if(o.isSpan&&(o=this.matrix[o.rowIndex][o.cellIndex]),o.colspan>1&&a<o.cellIndex+o.colspan-1)dsf.array.ensure(t,o);else{var r=m();s.slots[0].controls.splice(a+1,0,r)}}e.each(t,(function(e){e.colspan++})),d.call(this,a+1),x.call(this)}function F(){var t=this;x.call(this);for(var n=p.call(this),a=n.maxRowIndex;a>=n.minRowIndex;a--){var i=this.matrix[a],s=i.length-1,l=function(){var n=i[s];if(n.isSpan&&(n=t.matrix[n.rowIndex][n.cellIndex]),n.rowspan>1)if(a>n.rowIndex)n.rowspan--,s-=n.colspan;else{if(n.rowIndex===a&&n.cellIndex===s){var l=m();l.rowspan=n.rowspan-1>1?n.rowspan-1:1,l.colspan=n.colspan;var o=e.findIndex(t.rows[a+1].slots[0].controls,(function(e){return e.cellIndex>n.cellIndex}));o>=0?t.rows[a+1].slots[0].controls.splice(o,0,l):t.rows[a+1].slots[0].controls.push(l)}s--}else s--};while(s>=0)l();this.rows.splice(a,1)}x.call(this)}function j(){var t=this;x.call(this);for(var n=p.call(this),a=n.maxCellIndex;a>=n.minCellIndex;a--){var i=this.matrix.length-1,s=function(){var n=t.matrix[i],s=t.rows[i].slots[0].controls,l=n[a];if(l.isSpan&&(l=t.matrix[l.rowIndex][l.cellIndex]),l.colspan>1)if(a>l.cellIndex)l.colspan--,i-=l.rowspan;else{if(l.rowIndex===i&&l.cellIndex===a){var o=m();o.colspan=l.colspan-1>1?l.colspan-1:1,o.rowspan=l.rowspan;var r=e.findIndex(s,(function(e){return e===l}));s.splice(r,1,o)}i--}else i===l.rowIndex&&dsf.array.remove(s,l),i--};while(i>=0)s();f.call(this,a)}x.call(this)}function L(){var e=(100/this.columnsInfo.length).toFixed(3)+"%";this.onChangeCol(this.columnsInfo.map((function(){return{width:e}})))}function E(){this.rows.forEach((function(e){e.height="57px"}))}function V(){var e=this;dsf.layer.openDialog({title:"单元格设置",fullscreen:!1,content:"DesTableCellSet",width:"600px",btns:[{text:"确定",handler:function(t){var n=t.yes();P.call(e,n),e.$forceUpdate()}},{text:"取消"}]})}function P(t){for(var n,a=t.cellStyle,i=t.cellAttr,s=t.borderPosition,l=x.call(this),o=p.call(this),r=o.maxRowIndex,c=o.minRowIndex,u=o.maxCellIndex,d=o.minCellIndex,f=c;f<=r;f++)for(var h=d;h<=u;h++){var m=l[f][h];if(!m.isSpan){if(m.cellAttr=e.merge(m.cellAttr,i),m.cellStyle=e.merge(m.cellStyle,a),n=s.t["border-top"],f===c&&n&&(m.cellBorderStyle["border-top"]=n),n=s.l["border-left"],h===d&&n&&(m.cellBorderStyle["border-left"]=n),n=s.r["border-right"],h+m.colspan-1===u&&n&&(m.cellBorderStyle["border-right"]=n),n=s.b["border-bottom"],f+m.rowspan-1===r&&n&&(m.cellBorderStyle["border-bottom"]=n),n=s.cb["border-bottom"],n){var g=parseInt(n.split(" ")[0]),v=parseInt(g/2);f>c&&(m.cellBorderStyle["border-top"]=n.replace(g+"px",v+"px")),f+m.rowspan-1<r&&(v<g/2&&v++,m.cellBorderStyle["border-bottom"]=n.replace(g+"px",v+"px"))}if(n=s.cr["border-right"],n){var b=parseInt(n.split(" ")[0]),y=parseInt(b/2);h>d&&(m.cellBorderStyle["border-left"]=n.replace(b+"px",y+"px")),h+m.colspan-1<u&&(y<b/2&&y++,m.cellBorderStyle["border-right"]=n.replace(b+"px",y+"px"))}}}}function H(){for(var e=x.call(this),t=p.call(this),n=t.maxRowIndex,a=t.minRowIndex,i=t.maxCellIndex,s=t.minCellIndex,l=a;l<=n;l++)for(var o=s;o<=i;o++){var r=e[l][o];r.isSpan||(r.cellAttr={align:"",valign:""},r.cellStyle={},r.cellBorderStyle={})}}function R(){for(var e=x.call(this),t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++){var a=e[t][n];a.isSpan||(a.cellAttr={align:"",valign:""},a.cellStyle={},a.cellBorderStyle={})}}t["a"]=dsf.component({name:"DsfTable",ctrlCaption:"表格布局",mixins:[s["a"]],components:{DsfTableRow:o["a"],DsfTableCell:r["a"]},directives:l["a"],data:function(){return{rangeWrap:{show:!1,width:0,height:0,top:0,left:0,selected:[]},allCells:{},matrix:[],isDown:!1,downCell:null,cellNums:0,tableRows:[],cellZIndex:1}},computed:{rows:function(){return this.getRows()},getCss:function(){return[].concat(Object(i["a"])(this.$getClass()),[this.showBorder?"":"ds-no-border",this.visible?"":"ds-hide",this.noPadding?"ds-no-padding":"",this.fixedLayout?"ds-table-fixed":""],Object(i["a"])(this.classList))}},props:{slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},columnsInfo:{type:Array,default:function(){return[]}},rowsInfo:{type:Array,default:function(){return[]}},showBorder:{type:Boolean,default:function(){return!0}},fixedLayout:{type:Boolean,default:function(){return!0}}},created:function(){if(this.isDesign&&0===this.slots[0].controls.length){for(var e=4,t=0;t<e;t++)d.call(this);for(var n=0;n<e;n++)for(var a=c.call(this),i=0;i<e;i++)u.call(this,a)}},mounted:function(){this.isDesign&&x.call(this)},updated:function(){this.isDesign&&S.call(this,this.rangeWrap.selected)},methods:{updateRangeWrap:function(){S.call(this,this.rangeWrap.selected)},getRows:function(){return this.isDesign?this.slots[0].controls:this.tableRows},getCells:function(e){return e.slots[0].controls},getCellWidth:function(e,t){var n;return e?1===e.colspan&&(n=this.columnsInfo[t].width):n=this.columnsInfo[t].width,n||"auto"},isSelected:function(t,n){var a=e.find(this.rangeWrap.selected,(function(e){return t===e.rowIndex&&n===e.cellIndex}));return!!a},onChangeCol:function(e){this.$emit("update:columnsInfo",e)},onChangeRow:function(e,t){this.rows[e].height=t}},design:{isMask:!1,contextMenuHandler:function(t){var n=t.target;if(n=a(t.target).closest("TD"),n=D.call(this,n),n&&n.length&&"TD"===n.get(0).tagName){n=a(n);var i=n.attr("c-index").split(","),s=Number(i[0]),l=Number(i[1]),o=e.findIndex(this.rangeWrap.selected,(function(e){return e.rowIndex===s&&e.cellIndex===l}));if(o<0){this.downCell=n,this.rangeWrap.show=!0;var r=h.call(this,this.downCell,null);S.call(this,r)}return[{text:"合并单元格",hide:!0,handler:v},{text:"拆分单元格",disabled:y.call(this).length<=0,handler:b},"-",{text:"插入行(前)",disabled:!1,handler:I},{text:"插入行(后)",disabled:!1,handler:T},{text:"插入列(前)",disabled:!1,handler:N},{text:"插入列(后)",disabled:!1,handler:B},"-",{text:"删除整行",disabled:!1,handler:F},{text:"删除整列",disabled:!1,handler:j},"-",{text:"重置列宽",disabled:!1,handler:L},{text:"重置行高",disabled:!1,handler:E},"-",{text:"单元格设置",disabled:!1,handler:V},{text:"清除选中格式",disabled:!1,handler:H},{text:"清除所有格式",disabled:!1,handler:R}]}},clearContextMemuHandler:function(){this.isDown=!1,k.call(this)},clearMouseDownHandler:function(){this.isDown=!1,k.call(this)},mouseDownHandler:function(e){if(this.isDesign&&0===e.button){this.isDown=!0,this.downCell=a(e.target),this.rangeWrap.show=!0,x.call(this);var t=h.call(this,this.downCell,null);S.call(this,t),e.stopPropagation()}},mouseMoveHandler:function(e){if(this.isDown){var t=a(e.target).closest("TD"),n=null;do{if(n=D.call(this,t),!n&&(t=t.parents("TD"),0===t.length))return}while(!n);if(t){var i=h.call(this,this.downCell,t);S.call(this,i),e.stopPropagation()}}},mouseUpHandler:function(){this.isDown=!1,x.call(this)}}})}).call(this,n("2ef0"),n("1157"))},"2d94":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return $})),n.d(t,"a",(function(){return F}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ds-control ds-form-item ds-upload",class:e.getCss,style:{padding:e.hideBtns?"0":""}},[e.showLabel&&!e.hideBtns?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",class:{"no-ds-form-label":!!e.hideBtns},style:e.getFormItemBlockMarginLeft()},[n("el-upload",{ref:"upload",staticClass:"upload-demo",class:{"upload-one-file-button":e.uploadOneFile},style:{display:e.hideBtns?"none":"block"},attrs:{disabled:e.readOnly,accept:e.uploadFileExts,multiple:e.multiple,headers:e.headersParam,drag:e.isDragable,limit:e.limitNumber,action:e.setRequestUrl,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleError,"on-exceed":e.handleExceed,"on-progress":e.handleProgress,"auto-upload":e.autoUpload}},[e.isDragable?[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("点击上传，或将文件拖拽到此处")])]:[e.uploadOneFile?[n("div",{staticClass:"one-file-button"},[e._v(" "+e._s(e.showBtnName?e.btnName:"")+" ")]),n("div",[n("span",{staticClass:"disabled-icon"},[n("i",{staticClass:"operation-icon el-icon-view"}),n("i",{staticClass:"operation-icon el-icon-download"}),e.readOnly?e._e():n("i",{staticClass:"operation-icon el-icon-delete"})]),e.readOnly?e._e():n("i",{staticClass:"operation-icon el-icon-upload2"})])]:n("el-button",{staticClass:"ds-button",attrs:{type:"primary"}},[n("i",{staticClass:"el-icon-upload el-icon--left"}),e._v(" "+e._s(e.showBtnName?e.btnName:"")+" ")])]],2),e.multipleFiles&&e.multipleFiles.length>0&&!e.uploadOneFile?n("el-button",{staticClass:"ds-button download-button",style:{display:e.hideBtns?"none":"block"},attrs:{type:"primary"},on:{click:e.downLoadFn}},[n("i",{staticClass:"el-icon-download el-icon--left"}),e._v("全部下载 ")]):e._e(),e.uploadOneFile&&e.multipleFiles&&e.multipleFiles.length>0?n("div",{staticClass:"one-file-style"},[e._l(e.multipleFiles,(function(t){return[n("div",{key:t.id,staticClass:"file-item upload-table"},[n("div",[n("i",{staticClass:"icon",class:t.suffix}),e._v(e._s(t.name)+"."+e._s(t.suffix)+" ")]),n("div",[e._v(" "+e._s(e.dsf.date.format(t.uploadDate,"yyyy-mm-dd hh:ii"))+" ")]),n("div",[e._v(" "+e._s(e.computeFileSize(t.size))+" ")]),n("div",[n("i",{staticClass:"operation-icon el-icon-view",on:{click:function(n){return e.handleColumnClick("view",t,0)}}}),n("i",{staticClass:"operation-icon el-icon-download",on:{click:function(n){return e.handleColumnClick("download",t,0)}}}),e.readOnly?e._e():n("i",{staticClass:"operation-icon el-icon-delete",on:{click:function(n){return e.handleColumnClick("delete",t,0)}}}),e.readOnly?e._e():n("el-upload",{staticClass:"list-upload",attrs:{accept:e.uploadFileExts,headers:e.headersParam,limit:e.limitNumber,action:e.setRequestUrl,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleError,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload}},[n("i",{staticClass:"operation-icon el-icon-upload2",attrs:{title:t},on:{click:function(n){return e.handleColumnClick("upload2",t,0)}}})])],1)])]}))],2):e._e(),e.multipleFiles&&e.multipleFiles.length>0&&!e.uploadOneFile?n("el-table",{staticClass:"upload-table",attrs:{data:e.multipleFiles,"show-header":!1,"empty-text":"暂无选择"}},[n("el-table-column",{attrs:{type:"index",width:"30"}}),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"icon",class:t.row.suffix}),e._v(" "+e._s(t.row.name)+"."+e._s(t.row.suffix)+" ")]}}],null,!1,1062213460)}),n("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.dsf.date.format(t.row.uploadDate,"yyyy-mm-dd hh:ii"))+" ")]}}],null,!1,125791227)}),n("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.computeFileSize(t.row.size))+" ")]}}],null,!1,815445711)}),e.readOnly?e._e():n("el-table-column",{attrs:{label:"操作",width:"260",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.handleList,(function(a,i){return n("span",{key:i},["upload2"!==i&&"video"!==i?n("i",{class:["operation-icon","el-icon-"+i],attrs:{title:a},on:{click:function(n){return e.handleColumnClick(i,t.row,t.$index)}}}):e._e(),"upload2"===i?n("el-upload",{staticClass:"list-upload",attrs:{accept:e.uploadFileExts,headers:e.headersParam,limit:e.limitNumber,action:e.setRequestUrl,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleError,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload}},[n("i",{staticClass:"operation-icon el-icon-upload2",attrs:{title:a},on:{click:function(n){return e.handleColumnClick(i,t.row,t.$index)}}})]):e._e(),"video"===i&&"mp4"===t.row.suffix.toLowerCase()?n("i",{staticClass:"operation-icon el-icon-video-camera-solid",attrs:{"data-success":e.isCutSuccess,title:a},on:{click:function(n){return e.cutFile(t.row.id)}}}):e._e()],1)}))}}],null,!1,2931895944)})],1):e._e()],1),n("el-dialog",{attrs:{title:"修改文件名称",visible:e.editFileName,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFileName=t}}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"请输入新的名称","label-width":"120px"}},[n("el-input",{attrs:{autocomplete:"off",maxlength:"30"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.editFileName=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.editFile}},[e._v(" 确 定 ")])],1)],1)],1)},i=[],s=n("bf46"),l=s["a"],o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null),c=r.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ds-control ds-form-item ds-upload",class:e.getCss},[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{disabled:e.readOnly,accept:e.uploadFileExts,multiple:e.multiple,headers:e.headersParam,limit:e.uploadFileNum,action:e.setRequestUrl,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleError,"on-exceed":e.handleExceed,"on-progress":e.handleProgress,"auto-upload":e.autoUpload}},[n("el-button",{staticClass:"ds-button",attrs:{type:"primary"}},[n("i",{staticClass:"el-icon-picture el-icon--left"}),e._v(" "+e._s(e.showBtnName?e.btnName:"")+" ")])],1),e.multipleFiles&&e.multipleFiles.length>0?n("el-button",{staticClass:"ds-button download-button",attrs:{type:"primary"},on:{click:e.downLoadFn}},[n("i",{staticClass:"el-icon-download el-icon--left"}),e._v("全部下载 ")]):e._e(),e.multipleFiles&&e.multipleFiles.length>0?n("div",{staticClass:"img-container"},e._l(e.multipleFiles,(function(t,a){return n("div",{key:t.id,staticClass:"pic"},[n("el-image",{staticStyle:{width:"130px",height:"92px"},attrs:{src:e.dsf.url.getWebPath(t.relativePath),alt:t.originalFileName,fit:"cover","preview-src-list":[e.dsf.url.getWebPath(t.relativePath)]}}),n("div",{staticClass:"title"},[n("p",{staticClass:"file-name",attrs:{title:t.originalFileName}},[e._v(" "+e._s(t.originalFileName)+" ")]),e._l(e.handleList,(function(i,s){return n("span",{key:s},["upload2"!==s&&"scissors"!==s?n("i",{class:["operation-icon","el-icon-"+s],attrs:{title:i},on:{click:function(n){return e.handleColumnClick(s,t,a,e.multipleFiles)}}}):e._e(),e.isCutPic&&"scissors"===s?n("i",{staticClass:"operation-icon el-icon-scissors",attrs:{title:i},on:{click:function(n){return e.handleColumnClick(s,t,a,e.multipleFiles)}}}):e._e(),"upload2"===s?n("el-upload",{staticClass:"list-upload",attrs:{accept:e.uploadFileExts,multiple:!1,headers:e.headersParam,limit:1,action:e.setRequestUrl,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleError,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload}},[n("i",{staticClass:"operation-icon el-icon-upload2",attrs:{title:i},on:{click:function(n){return e.handleColumnClick(s,t,a,e.multipleFiles)}}})]):e._e()],1)}))],2)],1)})),0):e._e()],1),n("crop-image",{attrs:{"edit-img":e.editImg,"edit-file-img":e.editFileImg,"aspect-ratio":e.aspectRatio,"request-url":e.setRequestUrl},on:{saveFile:e.editFile,handleClose:e.handleClose}})],1)},d=[],f=n("8d50"),h=f["a"],p=Object(o["a"])(h,u,d,!1,null,null,null),m=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ds-control ds-form-item ds-upload",class:e.getCss},[n("el-upload",{ref:"upload",class:[{"avatar-uploader":e.switchMode},"upload-demo",e.classObject],style:{width:e.switchMode?e.imgWidth+"px":"",height:e.switchMode?e.imgHeight+"px":""},attrs:{disabled:e.readOnly,accept:e.uploadFileExts,multiple:!1,headers:e.headersParam,action:e.setRequestUrl,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleError,"on-progress":e.handleProgress,"auto-upload":e.autoUpload}},[e.switchMode?[e.multipleFiles.length?n("img",{staticClass:"avatar",attrs:{src:e.dsf.url.getWebPath(e.multipleFiles[0].relativePath),fit:"cover"}}):n("img",{staticClass:"avatar",attrs:{src:e.imageUrl[e.defaultImg],fit:"cover"}}),e.isShowTips?n("p",{staticClass:"tips"},[e._v(e._s("长 * 宽："+e.imgWidth+"px * "+e.imgHeight+"px"))]):e._e()]:[n("el-button",{staticClass:"ds-button",attrs:{type:"primary"}},[n("i",{staticClass:"el-icon-upload el-icon--left"}),e._v(" "+e._s(e.btnName)+" ")])]],2),n("crop-image",{attrs:{"edit-img":e.editImg,"edit-file-img":e.editFileImg,"aspect-ratio":e.aspectRatio,"request-url":e.setRequestUrl},on:{saveFile:e.editFile,handleClose:e.handleClose}})],1)},v=[],b=(n("caad"),n("c975"),n("a434"),n("b0c0"),n("a9e3"),n("e25e"),n("ac1f"),n("2532"),n("1276"),n("7ef1")),y=n("7b99"),x=n.n(y),_=n("7181"),w=n.n(_),C=n("9e2c"),S=dsf.component({name:"DsfUploadPhoto",mixins:[b["a"]],ctrlCaption:"上传照片",props:{label:{type:String,default:"上传照片"},btnName:{type:String,default:"上传照片"},isShowTips:{type:Boolean,default:!0},isCutPic:{type:Boolean,default:!0},imgWidth:{type:[Number,String],default:"180"},imgHeight:{type:[Number,String],default:"230"},maxFileSize:{type:String,default:"2m"},required:{type:Boolean,default:!1},defaultImg:{type:[Number,String],default:"0"},hasPadding:{type:[Number,String],default:"1"},hasBorder:{type:[Number,String],default:"1"},aspectRatio:{type:String,default:"2/3"},switchMode:{type:Boolean,default:!0},requestUrl:{type:String,default:""},metadata:{type:Object,default:function(){return dsf.metadata.get("photo-meta-data",{valueAttributes:[{name:"上传照片",code:"photo",type:dsf.metadata.getDataType("object"),length:500,defaultValue:null,unit:null}]})}}},data:function(){return{loading:!1,autoUpload:!0,uploadFileExts:"",acceptMime:"",headersParam:{"X-XSRF-TOKEN":dsf.getCookie("XSRF-TOKEN")||""},imageUrl:[],editImg:!1,editFileImg:{}}},created:function(){this.imageUrl=[x.a,w.a]},computed:{setRequestUrl:function(){return dsf.url.getWebPath(this.requestUrl||"file/upload/")},multipleFiles:{get:function(){var e=[];return""!==this.value&&dsf.isDef(this.value)&&"string"===typeof this.value&&(e=JSON.parse(this.value)),e},set:function(e){this.emitValueChange(JSON.stringify(e))}},classObject:function(){return{no_padding:"1"==this.hasPadding,border:"1"==this.hasBorder}}},methods:{beforeUpload:function(e){if(this.uploadFileExts){var t=e.name.split(".")[1].toLowerCase();if(!this.uploadFileExts.includes(t))return dsf.layer.message("选择文件中包含不支持的文件格式,请选择包含这些格式的文件：".concat(this.uploadFileExts),!1),!1}var n=this.maxFileSize?this.getFileSize(this.maxFileSize):"",a=!n||e.size/1024<n;if(!a)return dsf.layer.message("文件大小不能超过".concat(this.maxFileSize),!1),!1},handleProgress:function(){this.loading=!0},handleSuccess:function(e){if(this.loading=!1,e.success&&2e4==e.state)if(this.isCutPic)this.editImg=!0,this.editFileImg=e.data[0];else if(this.multipleFiles.push(e.data[0]),this.multipleFiles.length>1){var t=this.multipleFiles.splice(1,1);this.emitValueChange(JSON.stringify(t))}else this.emitValueChange(JSON.stringify(this.multipleFiles))},handleError:function(){this.loading=!1,dsf.layer.message("上传失败",!1)},getFileSize:function(e){var t=parseInt(e);return(e.indexOf("M")>-1||e.indexOf("m")>-1)&&(t=1024*parseInt(e)),t},editFile:function(e){if(this.editImg=!1,this.multipleFiles.push(e),this.multipleFiles.length>1){var t=this.multipleFiles.splice(1,1);this.emitValueChange(JSON.stringify(t))}else this.emitValueChange(JSON.stringify(this.multipleFiles))},handleClose:function(){this.editImg=!1}},components:{cropImage:C["a"]}}),k=S,D=Object(o["a"])(k,g,v,!1,null,null,null),$=D.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-customer-img",style:e.containerSty},[n("div",{staticClass:"left"},[e.required?n("i",[e._v("*")]):e._e(),e.showLabel?n("label",[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"canvas-box"},[e.readOnly?n("img",{ref:"img",style:e.canvasSty}):n("canvas",{ref:"canvas",style:e.canvasSty,attrs:{width:e.width+"px",height:e.height+"px"}})])]),e.readOnly?e._e():n("div",{staticClass:"right"},[n("input",{ref:"uploadFile",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"}}),n("dsf-button",{attrs:{title:e.tip,icon:"yunduanshangchuan"},on:{click:e.preUpload}},[e._v("点击上传")]),n("div",{staticClass:"right-item"},[n("label",[e._v("显示文字")]),n("div",{staticClass:"input-box"},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.tempValue.text,callback:function(t){e.$set(e.tempValue,"text",t)},expression:"tempValue.text"}})],1)]),n("div",{staticClass:"right-item"},[n("label",[e._v("字体设置")]),n("div",{staticClass:"select-box"},[n("el-select",{model:{value:e.tempValue.fontFamily,callback:function(t){e.$set(e.tempValue,"fontFamily",t)},expression:"tempValue.fontFamily"}},e._l(e.fontList,(function(e,t){return n("el-option",{key:e.val,attrs:{value:e.val,label:e.txt}})})),1)],1),n("el-input-number",{attrs:{controls:!1,min:0,precision:0},model:{value:e.tempValue.fontSize,callback:function(t){e.$set(e.tempValue,"fontSize",t)},expression:"tempValue.fontSize"}}),n("el-button",{style:e.boldBtnSty,on:{click:e.setBold}},[n("span",{staticClass:"icon iconfont"},[e._v("")])]),n("el-button",{style:e.italicBtnSty,on:{click:e.setItalic}},[n("span",{staticClass:"icon iconfont"},[e._v("")])]),n("el-color-picker",{attrs:{value:e.tempValue.fill},on:{"active-change":e.chooseTextColor,change:e.changeTextColor}})],1),n("div",{staticClass:"right-item"},[n("div",{staticClass:"group"},[n("label",[e._v("文字底色")]),n("el-color-picker",{attrs:{value:e.tempValue.textBackgroundColor},on:{"active-change":e.chooseTextBgColor,change:e.changeTextBgColor}})],1),n("div",{staticClass:"group"},[n("label",[e._v("背景颜色")]),n("el-color-picker",{attrs:{value:e.tempValue.backgroundColor},on:{"active-change":e.chooseBgColor,change:e.changeBgColor}})],1)])],1),n("el-dialog",{attrs:{title:"裁剪图片",visible:e.dialogVisible,"close-on-click-modal":!1,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t},opened:e.dialogOpened},scopedSlots:e._u([{key:"footer",fn:function(){return[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.cutImg}},[e._v("确 定")])]},proxy:!0}])},[n("el-row",[n("el-col",{staticStyle:{height:"500px"},attrs:{span:18}},[n("vue-picture-cut",{ref:"pictureCut",attrs:{"menu-thickness":0,src:e.src}})],1),n("el-col",{attrs:{span:5,offset:1}},[n("div",{staticClass:"btn-box"},[n("label",[e._v("旋转图片：")]),n("div",{staticStyle:{display:"inline-block","white-space":"nowrap"}},[n("el-button",{attrs:{type:"text"},on:{click:e.imgLeft}},[n("i",{staticClass:"el-icon-refresh-left"})]),n("el-button",{attrs:{type:"text"},on:{click:e.imgRight}},[n("i",{staticClass:"el-icon-refresh-right"})])],1)]),n("div",{staticClass:"btn-box"},[n("label",[e._v("旋转度数：")]),n("el-input-number",{attrs:{controls:!1,size:"mini",precision:0,min:-180,max:180},on:{blur:e.angleBlur},model:{value:e.cut.angle,callback:function(t){e.$set(e.cut,"angle",t)},expression:"cut.angle"}})],1),n("div",{staticClass:"btn-box"},[n("label",[e._v("翻转镜像：")]),n("div",{staticStyle:{display:"inline-block","white-space":"nowrap"}},[n("el-button",{attrs:{type:"text"},on:{click:e.reverLevel}},[n("i",{staticClass:"el-icon-sort vertial"})]),n("el-button",{attrs:{type:"text"},on:{click:e.reverVertical}},[n("i",{staticClass:"el-icon-sort"})])],1)]),n("div",{staticClass:"btn-box"},[n("label",[e._v("裁剪形状")]),n("el-radio-group",{model:{value:e.cut.shape,callback:function(t){e.$set(e.cut,"shape",t)},expression:"cut.shape"}},[n("el-radio",{attrs:{label:"rect"}},[e._v("矩形")]),n("el-radio",{attrs:{label:"circle"}},[e._v("椭圆")])],1)],1),n("div",{staticClass:"btn-box"},[n("label",[e._v("锁定比例")]),n("el-radio-group",{model:{value:e.cut.isRatio,callback:function(t){e.$set(e.cut,"isRatio",t)},expression:"cut.isRatio"}},[n("el-radio",{attrs:{label:!1}},[e._v("否")]),n("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),e.cut.isRatio?n("div",{staticClass:"btn-box"},[n("label",[e._v("裁剪比例：")]),n("el-input",{attrs:{size:"mini"},on:{change:e.changeRatio},model:{value:e.cut.ratio,callback:function(t){e.$set(e.cut,"ratio",t)},expression:"cut.ratio"}}),e.cut.badRatio?n("p",{staticClass:"info"},[e._v("裁剪比例填写格式应为 宽:高")]):e._e()],1):e._e()])],1)],1)],1)},I=[],T=n("5cbc"),N=T["a"],B=Object(o["a"])(N,O,I,!1,null,null,null),F=B.exports},"2f4f":function(e,t,n){"use strict";(function(e){n("7db0"),n("4160"),n("159b");var a=n("821f");t["a"]=dsf.component({name:"DsfOneThingSection",ctrlCaption:"段落",mixins:[a["a"]],props:{label:{type:String,default:"段落标题"},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},marginTop:{type:Boolean,default:!1},marginBottom:{type:Boolean,default:!1},marginLeft:{type:Boolean,default:!1},marginRight:{type:Boolean,default:!1},paddingTop:{type:Boolean,default:!0},paddingBottom:{type:Boolean,default:!0},paddingLeft:{type:Boolean,default:!0},paddingRight:{type:Boolean,default:!0},marginSize:{type:String,default:"small"}},data:function(){return{hiddenType:!1,hiddenControls:[]}},computed:{labelWidth:function(){return 18*this.label.length+28+"px"}},mounted:function(){if(!this.isDesign){var t=[];e.each(e(this.$refs.row.$el).find(".ds-form-item"),(function(e,n){var a=n.__vue__;a.props.visible||t.push(a)})),this.hiddenControls=t}},methods:{toggel:function(){var e=this;this.isDesign||(this.hiddenType=!this.hiddenType,this.hiddenControls.forEach((function(t){t.$emit("update:visible",e.hiddenType)})),this.$nextTick((function(){var e=document.getElementsByClassName("ds-one-thing-form-select");e&&e.length&&e[0].__vue__&&e[0].__vue__.onScroll()})))}}})}).call(this,n("1157"))},"31a1":function(e,t,n){"use strict";(function(e){n("d81d"),n("b0c0");var a=n("821f");function i(t,n,a){var s=this,l=this,o=[],r=null;n.children&&n.children.length>0?o=e.map(n.children,(function(e,n){return i.call(s,t,e,n)})):(o=this.$slots[n.columnId],r=l._u([{key:"default",fn:function(e){return[l._t(n.columnId,null,null,e)]}}],null,!0));var c={key:a,props:n};if(r&&(c.scopedSlots=r),this.ownerTable){if(this.ownerTable.isDesign){var u=t("el-table-column",c,o);return u}if(!n.hide){var d=t("el-table-column",c,o);return d}}return null}t["a"]=dsf.component({name:"DsfSubTableColumn",inheritAttrs:!1,mixins:[a["a"]],ctrlCaption:"子表列",props:{column:{type:Object,default:function(){return{label:"",children:[]}}},columns:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},computed:{ownerTable:function(){var e=this.$parent;while("DsfSubTable"!=e.$options.name)e=e.$parent;return e}},beforeMount:function(){},mounted:function(){},methods:{},render:function(e){return i.call(this,e,this.column,this.$vnode.data.key)}})}).call(this,n("2ef0"))},"34e5":function(e,t,n){"use strict";(function(e){n("b0c0"),n("2ca0"),n("4795"),n("9e1f"),n("450d");var a=n("6ed5"),i=n.n(a),s=(n("0fb7"),n("f529")),l=n.n(s),o=(n("be4f"),n("896a")),r=n.n(o),c=n("ade3"),u=(n("96cf"),n("1da1"));t["a"]={openWindow:function(e){if("string"==dsf.type(e)){var t="";t=e,e={},e.url=t}var n={openerVM:this._isVue?this:null,url:"",dialogArgs:null};e=dsf.mix(n,e),e.url.startsWith("#/")&&(e.url="./page.html"+e.url),e.url=dsf.url.getWebPath(e.url);var a=window.open(e.url);return a.openerVM=e.openerVM,a.opener.dialogArgs=a.dialogArgs=e.dialogArgs,a},openDialog:function(t){var n=this._isVue?this:null,a=null;t.template||(t.params&&t.params.path&&!t.content&&(t.content="DsfViewPart",t.params.showModel="full"),t.content&&"string"!==dsf.type(t.content)&&t.content.name&&(a=t.content,t.content=t.content.name));var i={router:this.$router,data:function(){return{dialogVisible:!0,title:t.title||"对话框",content:t.content,width:t.width||"50%",height:t.height||"auto",destroyOnClose:!0,params:t.params||{},overflow:t.overflow||"auto",btns:t.btns||[],events:t.event,fullscreen:t.fullscreen,openerVM:n,top:t.top||"10vh",yes:t.yes||dsf.noop,showClose:!dsf.isDef(t.showClose)||t.showClose}},methods:{dialogSure:function(e){!1!==e&&(this.yes(e),this.close())},clickHandler:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=!0,!e.handler){n.next=5;break}return n.next=4,e.handler(t.$refs.content);case 4:a=n.sent;case 5:!1!==a&&t.close();case 6:case"end":return n.stop()}}),n)})))()},close:function(){this.dialogVisible=!1},cancel:function(){var e=this;l&&(l=null),window.setTimeout((function(){e.$destroy(),t=null,n=null}),0)}},template:'\n        <DsfDialog :title="title" :top="top" :class="{\'has-button-bar\':btns.length>0}" :visible.sync="dialogVisible"\n                   :fullscreen="fullscreen" :width="width" :close-on-click-modal="false" :append-to-body="true"\n                   @close="close" @closed="cancel" :show-close="showClose" :close-on-press-escape="false">\n          <div :style="{\'position\':\'relative\',\'height\':(fullscreen?\'100%\':height),\'overflow\':(overflow||\'auto\')}">\n            '.concat(t.template?t.template:'<component :is="content" v-bind="params" ref="content" v-on="events" @dialog-yes="dialogSure"></component>','\n          </div>\n          <template v-slot:footer>\n            <DsfButton v-for="(button,$index) in btns" :key="$index" :text="button.text" :type="$index==0?\'\':\'auxiliary\'" @click="clickHandler(button)"></DsfButton>\n          </template>\n        </DsfDialog>')};a&&(i.components=Object(c["a"])({},a.name,a));var s=e.extend(i),l=(new s).$mount();return document.body.appendChild(l.$el),l},loading:function(e){var t={background:"rgba(255,255,255,0.5)",text:""},n=r.a.service(dsf.mix(t,e||{}));return n},closeLoading:function(e){e&&e.close()},message:function(e,t){"string"==dsf.type(e)&&(e={message:e}),!1!==t?l.a.success(e):l.a.error(e)},alert:function(e){"string"==dsf.type(e)&&(e={message:e});var t={confirmButtonText:"确定",type:"",top:"10vh",dangerouslyUseHTMLString:!0,title:"提示",message:""};dsf.mix(t,e);var n=i.a;return n.alert(t.message,t.title,t)},confirm:function(e){"string"==dsf.type(e)&&(e={message:e});var t={confirmButtonText:"确定",cancelButtonText:"取消",type:"",top:"10vh",dangerouslyUseHTMLString:!0,title:"提示",message:""};dsf.mix(t,e);var n=i.a;return n.confirm(t.message,t.title,t)},prompt:function(){return i.a.prompt(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}}}).call(this,n("a026")["default"])},3877:function(e,t,n){"use strict";(function(e){n("4160"),n("a9e3"),n("ac1f"),n("5319"),n("1276"),n("159b");var a=n("480c");t["a"]=dsf.component({name:"DsfQIFill",ctrlCaption:"填空题",mixins:[a["a"]],data:function(){return{inputValue:"",answer:"",html:[]}},props:{placeholder:{type:String,default:"请输入"},max:{type:[Number,String],default:200}},watch:{questionBody:function(e){this.renderInput(e)}},components:{},computed:{},mounted:function(){},created:function(){this.renderInput(this.questionBody)},methods:{setWidth:function(t){this.$refs.font.innerHTML=t.target.value,t.target.style.width=e(this.$refs.font).width()+"px"},renderInput:function(e){var t=this,n=e.replace(/（）/gi,"()");this.html=n.split("()"),this.html.length>2?(!window._.isArray(this.answer)&&(this.answer=[]),window._.forEach(this.html,(function(e,n){n>0&&(t.answer["text_".concat(n)]="")}))):this.answer=""}}})}).call(this,n("1157"))},"3c6c":function(e,t,n){"use strict";(function(e){n("fb6a"),n("b0c0"),n("ac1f"),n("5319"),n("a586"),n("450d");var a=n("7464"),i=n.n(a),s=(n("bd49"),n("18ff")),l=n.n(s),o=(n("960d"),n("defb")),r=n.n(o),c=(n("cb70"),n("b370")),u=n.n(c),d=(n("920a"),n("4f0c")),f=n.n(d),h=(n("3db2"),n("58b8")),p=n.n(h),m=(n("b5c2"),n("20cf")),g=n.n(m),v=(n("78a7"),n("33ca")),b=n.n(v),y=(n("e3ea"),n("7bc3")),x=n.n(y),_=(n("acb6"),n("c673")),w=n.n(_),C=(n("d624"),n("3e9c")),S=n.n(C),k=(n("4ffc"),n("946e")),D=n.n(k),$=(n("826b"),n("c263")),O=n.n($),I=(n("bc1c"),n("4726")),T=n.n(I),N=(n("4fdb"),n("b076")),B=n.n(N),F=(n("f225"),n("89a9")),j=n.n(F),L=(n("fd71"),n("a447")),E=n.n(L),V=(n("b8e0"),n("a4c4")),P=n.n(V),H=(n("1760"),n("9883")),R=n.n(H),A=(n("06f1"),n("6ac9")),z=n.n(A),M=(n("e960"),n("b35b")),q=n.n(M),W=(n("bdc7"),n("aa2f")),U=n.n(W),K=(n("de31"),n("c69e")),J=n.n(K),Y=(n("a673"),n("7b31")),X=n.n(Y),G=(n("a769"),n("5cc3")),Q=n.n(G),Z=(n("adec"),n("3d2d")),ee=n.n(Z),te=(n("5e32"),n("6721")),ne=n.n(te),ae=(n("672e"),n("101e")),ie=n.n(ae),se=(n("be4f"),n("896a")),le=n.n(se),oe=(n("eca7"),n("3787")),re=n.n(oe),ce=(n("425f"),n("4105")),ue=n.n(ce),de=(n("9d4c"),n("e450")),fe=n.n(de),he=(n("5466"),n("ecdf")),pe=n.n(he),me=(n("38a0"),n("ad41")),ge=n.n(me),ve=(n("a7cc"),n("df33")),be=n.n(ve),ye=(n("d4df"),n("7fc1")),xe=n.n(ye),_e=(n("c526"),n("1599")),we=n.n(_e),Ce=(n("560b"),n("dcdc")),Se=n.n(Ce),ke=(n("fe07"),n("6ac5")),De=n.n(ke),$e=(n("3c52"),n("0d7b")),Oe=n.n($e),Ie=(n("b5d8"),n("f494")),Te=n.n(Ie),Ne=(n("f4f9"),n("c2cc")),Be=n.n(Ne),Fe=(n("7a0f"),n("0f6c")),je=n.n(Fe),Le=(n("b0ee"),n("d180")),Ee=n.n(Le),Ve=(n("a335"),n("c0bb")),Pe=n.n(Ve),He=(n("cbb5"),n("8bbc")),Re=n.n(He),Ae=(n("e612"),n("dd87")),ze=n.n(Ae),Me=(n("075a"),n("72aa")),qe=n.n(Me),We=(n("016f"),n("486c")),Ue=n.n(We),Ke=(n("6611"),n("e772")),Je=n.n(Ke),Ye=(n("1f1a"),n("4e4b")),Xe=n.n(Ye),Ge=(n("1951"),n("eedf")),Qe=n.n(Ge),Ze=(n("10cb"),n("f3ad")),et=n.n(Ze),tt=(n("3e4e"),n("5410"),n("34e5")),nt=(n("4b56"),n("439f")),at=n("6ae7"),it=n("bb3d"),st=n("6a69"),lt=n("e718"),ot=n("e7bf"),rt=n("0dc4"),ct=n("68bb"),ut=n("629f"),dt=n("f8d4"),ft=n("e46b"),ht=n("99f7"),pt=n("2d94"),mt=n("ac7d"),gt=n("08ad"),vt=n("1cf3"),bt=n("55ec"),yt=n("02a6");function xt(e){e.use(et.a),e.use(Qe.a),e.use(Xe.a),e.use(Je.a),e.use(Ue.a),e.use(qe.a),e.use(ze.a),e.use(Re.a),e.use(Pe.a),e.use(Ee.a),e.use(je.a),e.use(Be.a),e.use(Te.a),e.use(Oe.a),e.use(De.a),e.use(Se.a),e.use(we.a),e.use(xe.a),e.use(be.a),e.use(ge.a),e.use(pe.a),e.use(fe.a),e.use(ue.a),e.use(re.a),e.use(le.a),e.use(ie.a),e.use(ne.a),e.use(ee.a),e.use(Q.a),e.use(X.a),e.use(J.a),e.use(U.a),e.use(q.a),e.use(z.a),e.use(R.a),e.use(P.a),e.use(E.a),e.use(j.a),e.use(B.a),e.use(T.a),e.use(O.a),e.use(D.a),e.use(S.a),e.use(w.a),e.use(x.a),e.use(b.a),e.use(g.a),e.use(p.a),e.use(f.a),e.use(u.a),e.use(r.a),e.use(l.a),e.use(i.a),e.component(mt["a"].name,mt["a"]),e.component(nt["c"].name,nt["c"]),e.component(nt["b"].name,nt["b"]),e.component(it["a"].name,it["a"]),e.component(nt["a"].name,nt["a"]),e.component(at["a"].name,at["a"]),e.component(st["d"].name,st["d"]),e.component(st["c"].name,st["c"]),e.component(st["e"].name,st["e"]),e.component(st["a"].name,st["a"]),e.component(st["b"].name,st["b"]),e.component(ct["a"].name,ct["a"]),e.component(dt["d"].name,dt["d"]),e.component(dt["b"].name,dt["b"]),e.component(dt["e"].name,dt["e"]),e.component(dt["f"].name,dt["f"]),e.component(dt["h"].name,dt["h"]),e.component(dt["j"].name,dt["j"]),e.component(dt["i"].name,dt["i"]),e.component(ut["a"].name,ut["a"]),e.component(dt["g"].name,dt["g"]),e.component(dt["c"].name,dt["c"]),e.component(dt["k"].name,dt["k"]),e.component(lt["f"].name,lt["f"]),e.component(lt["e"].name,lt["e"]),e.component(lt["b"].name,lt["b"]),e.component(lt["d"].name,lt["d"]),e.component(lt["a"].name,lt["a"]),e.component(lt["c"].name,lt["c"]),e.component(ot["b"].name,ot["b"]),e.component(ot["a"].name,ot["a"]),e.component(ot["c"].name,ot["c"]),e.component(rt["a"].name,rt["a"]),e.component(rt["b"].name,rt["b"]),e.component(rt["c"].name,rt["c"]),e.component(rt["d"].name,rt["d"]),e.component(rt["e"].name,rt["e"]),e.component(rt["f"].name,rt["f"]),e.component(rt["g"].name,rt["g"]),e.component(rt["h"].name,rt["h"]),e.component(ft["a"].name,ft["a"]),e.component(ft["c"].name,ft["c"]),e.component(ft["b"].name,ft["b"]),e.component(dt["a"].name,dt["a"]),e.component(ht["a"].name,ht["a"]),e.component(ht["b"].name,ht["b"]),e.component(ht["c"].name,ht["c"]),e.component(pt["b"].name,pt["b"]),e.component(pt["c"].name,pt["c"]),e.component(pt["d"].name,pt["d"]),e.component(pt["a"].name,pt["a"]),e.component(gt["b"].name,gt["b"]),e.component(gt["d"].name,gt["d"]),e.component(bt["f"].name,bt["f"]),e.component(bt["a"].name,bt["a"]),e.component(bt["h"].name,bt["h"]),e.component(bt["c"].name,bt["c"]),e.component(bt["g"].name,bt["g"]),e.component(bt["b"].name,bt["b"]),e.component(bt["d"].name,bt["d"]),e.component(bt["e"].name,bt["e"]),e.component(vt["a"].name,vt["a"]),e.component(vt["b"].name,vt["b"]),e.component(gt["e"].name,gt["e"]),e.component(gt["c"].name,gt["c"]),e.component(gt["a"].name,gt["a"]),e.component(yt["c"].name,yt["c"]),e.component(yt["d"].name,yt["d"]),e.component(yt["e"].name,yt["e"]),e.component(yt["a"].name,yt["a"]),e.component(yt["b"].name,yt["b"])}dsf.mix(dsf.layer,{pc:tt["a"]}),e.prototype.$ELEMENT={zIndex:15e3},e.config.performance=!0,e.prototype.$replace=function(e,t){return dsf.express.replace.call(this,e,t)},e.prototype.$eval=function(e,t){return dsf.express.eval.call(this,e,t)},e.prototype.$openWindow=function(){var e=Array.prototype.slice.call(arguments,0),t=this.$vm?this.$vm:this;return dsf.layer.openWindow.apply(t,e)},e.prototype.$openDialog=function(){var e=Array.prototype.slice.call(arguments,0),t=this.$vm?this.$vm:this;return dsf.layer.openDialog.apply(t,e)},"undefined"!==typeof window&&window.Vue&&xt(window.Vue),t["a"]={install:xt}}).call(this,n("a026")["default"])},"3d4e":function(e,t,n){"use strict";n.r(t);n("fb6a"),n("ac1f"),n("5319"),n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2cd9"),n("b9f7"),n("32a4"),n("7a9c");var a=n("3c6c"),i=n("a4f6"),s=n("ccef"),l=n("a6a4"),o=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-page-home"},[e.hasHeader?n("div",{staticClass:"ds-page-home-header",class:{"common-top":e.isTrue}},[e._t("header")],2):e._e(),n("div",{staticClass:"ds-page-home-section",class:{"common-section":e.isTrue},style:e.sectionStyle},[e.hasAside&&e.menuAction[0].children?n("div",{staticClass:"ds-page-home-aside"},[e._t("aside")],2):e._e(),n("div",{staticClass:"ds-page-home-main",style:e.asideStyle},[e._t("default")],2)])])}),r=[],c=(n("c975"),n("a15b"),n("5530")),u=n("2f62"),d={name:"DsfHome",provide:function(){return{root:this}},props:{menuList:{type:Array,default:function(){return[]}},isTrue:{type:Boolean,default:!1}},data:function(){return{hasHeader:!1,hasAside:!1,menuAction:[],menuIndex:[],menuKey:[]}},computed:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["route"])),{},{sectionStyle:function(){var e={};return this.hasHeader||(e.top="0"),e},asideStyle:function(){var e={};return this.hasAside&&this.menuAction[0].children||(e.left="0"),e}}),watch:{route:function(){this.initMenu()},menuList:function(){this.initMenu()}},created:function(){this.$slots.header&&(this.hasHeader=!0),this.$slots.aside&&(this.hasAside=!0),this.initMenu()},methods:{initMenu:function(){var e=[],t=[],n=[];this.filterMenu(e,t,n,this.menuList,this.route,0),this.menuAction=e,this.menuIndex=t,this.menuKey=n,""===n.join("")&&"/"===this.route.fullPath&&this.menuList.length&&(this.menuList[0].menu_url?location.replace(this.menuList[0].menu_url):this.menuList[0].children&&this.menuList[0].children.length&&location.replace(this.menuList[0].children[0].menu_url))},filterMenu:function(e,t,n,a,i,s){e[s]={},t[s]=-1,n[s]="";for(var l=0;l<a.length;l++){var o=a[l];if(o.menu_url&&this.urlsIsSame(o,i)&&(e[s]=o,t[s]=l,n[s]=o.menu_id,!o.children||!o.children.length))break;if(o.children&&o.children.length&&(this.filterMenu(e,t,n,o.children,i,s+1),-1!==t[s+1])){e[s]=o,t[s]=l,n[s]=o.menu_id;break}}},urlsIsSame:function(e,t){var n=e.__url_obj||null,a=e.menu_url;if(!n&&a&&(0===a.indexOf("/#")?a=a.substr(2):0===a.indexOf("#")&&(a=a.substr(1)),n=e.__url_obj=dsf.url.analyzing(a)),!n||n.path!==t.path)return!1;var i=null,s=null;for(var l in n.query){if(i=t.query[l],s=n.query[l],!i)return!1;if("array"!==dsf.type(s)&&i!==s)return!1;if("array"===dsf.type(s)&&-1===s.indexOf(i))return!1}return!0}}},f=d,h=n("2877"),p=Object(h["a"])(f,o,r,!1,null,null,null),m=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-header"},[n("div",{staticClass:"logo-box"},[e._t("logo",[e.logo.image?n("img",{staticClass:"logo",attrs:{src:e.logo.image,alt:""}}):e._e(),e.logo.title?n("div",{staticClass:"site-name"},[e._v(e._s(e.logo.title))]):e._e()])],2),n("div",{staticClass:"header-right"},[n("div",{staticClass:"header-menu"},e._l(e.menuList,(function(t,a){return n("div",{key:t.menu_id,staticClass:"header-menu-item",class:{active:t.menu_id===e.activeKey},on:{click:function(n){return e.linkTo(t,a)}}},[n("div",{staticClass:"header-menu-item-box"},[n("i",{staticClass:"iconfont",class:[t.menu_icon]}),n("div",[e._v(e._s(t.menu_name))])])])})),0),n("div",{staticClass:"header-user"},[n("el-dropdown",{attrs:{"show-timeout":0,placement:"bottom"},on:{"visible-change":function(t){e.showDropdown=t},command:e.handleCommand}},[n("div",[n("div",{staticClass:"header-user-icon",style:{"background-image":"url("+e.defaultHeader+")"}},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.showIcon,expression:"showIcon"}],attrs:{src:e.headIcon},on:{error:e.headLoadError,load:e.headLoadSuccess}})]),n("div",{staticClass:"username"},[e._v(" 欢迎您,"+e._s(e.dsf.cookies.get("user_name"))+" "),e.dropdownConfig.length?n("i",{staticClass:"iconfont",class:[e.showDropdown?"icon-shangjiantou":"icon-xiajiantou"]}):e._e()])]),e.dropdownConfig.length?n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.dropdownConfig,(function(t,a){return n("el-dropdown-item",{key:t.key,attrs:{command:a}},[e._v(" "+e._s(t.name)+" ")])})),1):e._e()],1)],1)])])},v=[],b={name:"DsfHomeHeader",inject:["root"],props:{dropdownConfig:{type:Array,default:function(){return[]}}},data:function(){return{logo:window.$$config.logo,headIcon:"",defaultHeader:window.$$config.user.defaultHeader,showIcon:!1,showDropdown:!1}},computed:{menuList:function(){return this.root.menuList||[]},activeKey:function(){return this.root.menuKey.length>0?this.root.menuKey[0]:""}},created:function(){this.initHeadIcon()},methods:{initHeadIcon:function(){var e=dsf.getCookie("photoRelativePath");e&&(this.headIcon=decodeURIComponent(e))},headLoadSuccess:function(){this.showIcon=!0},headLoadError:function(){this.showIcon=!1},linkTo:function(e,t){this.activeIndex!==t&&(window.location.href=this.getUrl(e))},getUrl:function(e){return e.menu_url?e.menu_url:e.children&&e.children.length?e.children[0].menu_url?e.children[0].menu_url:this.getUrl(e.children[0]):""},handleCommand:function(e){var t=this.dropdownConfig[+e];this.$emit("dropdown-click",t)}}},y=b,x=Object(h["a"])(y,g,v,!1,null,null,null),_=x.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-aside"},[n("div",{staticClass:"content"},[n("dsf-menu",{ref:"menu",attrs:{"menu-list":e.menuList}})],1)])},C=[],S=(n("4795"),{name:"DsfHomeAside",inject:["root"],provide:function(){return{aside:this}},data:function(){return{active:null,show:null}},computed:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["route"])),{},{menuList:function(){var e=this.root.menuAction;return e=e&&e.length?e[0]:{},e&&e.children?e.children:[]}}),watch:{route:function(){var e=this;this.$nextTick((function(){e.init()}))}},mounted:function(){var e=this;setTimeout((function(){e.init()}),100)},methods:{init:function(){for(var e=this.root.menuIndex,t=this.$refs.menu,n=null,a=1;a<e.length;a++){var i=e[a];if(i<0)break;if(t=t.$children[i],!t)break;if(n=t,t=t.$children,!t||!t.length)break;t=t[0]}this.setActive(n,n.level),n.$parent&&n.$parent.$parent&&"dsf-menu-item"===n.$parent.$parent.$options._componentTag&&this.setShow(n.$parent.$parent)},setActive:function(e){var t=this.active;while(t&&"dsf-menu-item"===t.$options._componentTag){if(t.isActive=!1,t=t.$parent,!t)break;t=t.$parent}t=e;while(t&&"dsf-menu-item"===t.$options._componentTag){if(t.isActive=!0,t=t.$parent,!t)break;t=t.$parent}this.active=e},setShow:function(e){var t=this.show;while(t&&"dsf-menu-item"===t.$options._componentTag){if(t.showChildren=!1,t=t.$parent,!t)break;t=t.$parent}t=e;while(t&&"dsf-menu-item"===t.$options._componentTag){if(t.showChildren=!0,t=t.$parent,!t)break;t=t.$parent}this.show=e}}}),k=S,D=Object(h["a"])(k,w,C,!1,null,null,null),$=D.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"ds-aside-menu",class:["level"+e.level]},[e._l(e.menuList,(function(t,a){return[n("dsf-menu-item",{key:t.menu_id,attrs:{menu:t,index:a,level:e.level}})]}))],2)},I=[],T=(n("a9e3"),{name:"DsfMenu",props:{menuList:{type:Array,default:function(){return[]}},level:{type:Number,default:1}},data:function(){return{showKey:""}}}),N=T,B=Object(h["a"])(N,O,I,!1,null,null,null),F=B.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"ds-aside-menu-item",class:{active:e.isActive,show:e.showChildren}},[n("div",{staticClass:"ds-aside-menu-item-box",style:{"padding-left":20*e.level+"px"},on:{click:e.clickEvent}},[1===e.level?n("i",{staticClass:"ds-aside-menu-item-icon iconfont",class:[e.menu.menu_icon]}):e._e(),n("span",{staticClass:"ds-aside-menu-item-name"},[e._v(e._s(e.menu.menu_name))]),e.menu.children?n("i",{staticClass:"iconfont ds-aside-menu-item-show",class:[{show:e.showChildren},e.showChildren?"icon-xia1":"icon-zuo"]}):e._e()]),e.menu.children?n("div",{directives:[{name:"show",rawName:"v-show",value:e.showChildren,expression:"showChildren"}]},[n("dsf-menu",{attrs:{"menu-list":e.menu.children,level:e.level+1}})],1):e._e()])},L=[],E={name:"DsfMenuItem",inject:["root","aside"],props:{menu:{type:Object,required:!0},level:{type:Number,required:!0},index:{type:Number,required:!0}},data:function(){return{isActive:!1,showChildren:!1,parent:{}}},watch:{},created:function(){},mounted:function(){this.parent=this.$parent},methods:{clickEvent:function(){this.menu.children?(this.showChildren=!this.showChildren,this.showChildren?this.aside.setShow(this,this.level):(this.aside.setShow(null,this.level),this.showChildren=!1)):this.linkTo(this.menu)},linkTo:function(e){var t="";e.menu_url?t=e.menu_url:e.children&&e.children.length&&(t=e.children[0].menu_url),t&&(window.location.href=t)}}},V=E,P=Object(h["a"])(V,j,L,!1,null,null,null),H=P.exports,R={install:function(e){e.component(F.name,F),e.component(H.name,H),e.component(m.name,m),e.component(_.name,_),e.component($.name,$)}},A=n("022c"),z=(n("5dfc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("home",{attrs:{"is-home":e.isHome,"is-true":e.isTrue}})],1)}),M=[],q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-view"},[e.isHome?n("dsf-home",{attrs:{"menu-list":e.menuList,"is-true":e.isTrue}},[e.isTrue?n("dsf-one-thing-home-header",{attrs:{slot:"header"},slot:"header"}):n("dsf-home-header",{attrs:{slot:"header","dropdown-config":e.dropdownConfig},on:{"dropdown-click":e.dropdownClick},slot:"header"}),n("dsf-home-aside",{attrs:{slot:"aside"},slot:"aside"}),n("router-view",{staticClass:"full-view",staticStyle:{"min-height":"100%"},attrs:{fit:""}})],1):n("router-view",{staticClass:"full-view page-head-font-fixed"})],1)},W=[],U=(n("2ca0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-header"},[e._m(0),n("div",{staticClass:"header-right"},[n("div",{staticClass:"right-menu"},[n("div",{staticClass:"search"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入关键字"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[n("el-select",{attrs:{slot:"prepend"},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[n("el-option",{attrs:{label:"全部",value:"999"}}),n("el-option",{attrs:{label:"应用",value:"1"}}),n("el-option",{attrs:{label:"阅读",value:"2"}}),n("el-option",{attrs:{label:"消息",value:"3"}})],1),n("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("搜索"),n("i",{staticClass:"el-icon-search el-icon--right"})])],1)],1),n("div",{staticClass:"user-text user"},[e._v(e._s(e.dsf.cookies.get("user_name")))]),n("div",{staticClass:"user-text logout",on:{click:e.loginOut}},[e._v("注销")])])])])}),K=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo-box"},[n("h1",{staticClass:"title"},[e._v("一件事改革服务平台"),n("span",{staticClass:"sub-text"},[e._v("上海市公务员职业生涯全周期管理")])])])}],J=n("dfde"),Y=dsf.component({ctrlCaption:"首页头部",mixins:[J["a"]],name:"DsfOneThingHomeHeader",data:function(){return{search:"",select:"999"}},methods:{loginOut:function(){this.$webAPI.loginOut().then((function(e){e.success;dsf.cookies.set("authorization_token",""),dsf.cookies.set("user_name",""),dsf.cookies.set("user_id",""),dsf.cookies.set("isLogin",""),dsf.storage.session.clear(),location.replace("./page.html#/pc/login")})).catch((function(e){dsf.layer.message(e,!1)}))}}}),X=Y,G=Object(h["a"])(X,U,K,!1,null,null,null),Q=G.exports,Z={name:"Home",components:{DsfOneThingHomeHeader:Q},props:{isHome:{type:Boolean,default:!1},isTrue:{type:Boolean,default:!1}},data:function(){return{dropdownConfig:[{name:"退出",key:"loginOut",handler:this.loginOut}],menuList:[]}},created:function(){this.isHome&&this.getMenuTree()},methods:{dropdownClick:function(e){if(console.log(e.name),e.url){if(e.url.startsWith("#")){var t=e.url.substr(1);this.$router.push(t)}}else e.handler&&e.handler(e)},getMenuTree:function(){var e=this,t=dsf.storage.session.get("homeMenu");t?this.menuList=t:this.$http.get(window.$$config.home.menu.src).done((function(t){var n=t.success,a=t.data;n&&(e.menuList=a,dsf.storage.session.set("homeMenu",a))})).error((function(e){var t=e.message;dsf.layer.message(t,!1)}))},loginOut:function(){this.$webAPI.loginOut().then((function(e){e.success;dsf.cookies.set("authorization_token",""),dsf.cookies.set("user_name",""),dsf.cookies.set("user_id",""),dsf.cookies.set("isLogin",""),dsf.storage.session.clear(),location.replace("./page.html#/pc/login")})).catch((function(e){dsf.layer.message(e,!1)}))}}},ee=Z,te=Object(h["a"])(ee,q,W,!1,null,null,null),ne=te.exports,ae={components:{home:ne},data:function(){return{isHome:!1,themes:dsf.config.defaultTheme,editors:[],isTrue:!1}},computed:Object(c["a"])({},Object(u["b"])(["route"])),watch:{route:function(){var e=["/pc/ot/otherpage/home"];this.isTrue=e.indexOf(this.route.fullPath)>-1}},created:function(){var e=window.location.pathname;e.indexOf("/index.html")>=0&&(this.isHome=!0)},mounted:function(){document.body.classList.add(this.themes)},methods:{}},ie=ae,se=Object(h["a"])(ie,z,M,!1,null,null,null),le=se.exports,oe=n("517e"),re=n("4450"),ce=(n("99af"),n("2909")),ue=n("a026"),de=n("8c4f"),fe=[],he=fe,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"ds-error-wrap"},[n("div",{staticClass:"redict-content"},[n("img",{staticClass:"error-img",attrs:{src:e.errorImg}}),n("p",{staticClass:"sub-title"},[e._v("您访问的页面不存在...")]),n("div",{staticClass:"sub-button"},[n("el-button",{attrs:{type:"text",icon:"el-icon-refresh"},on:{click:function(t){return e.handleEvent("reload")}}},[e._v("刷新页面")]),n("el-button",{attrs:{type:"text",icon:"el-icon-refresh-left"},on:{click:function(t){return e.handleEvent("home")}}},[e._v("返回首页")])],1)])]):e._e()},me=[],ge={name:"Error",data:function(){return{show:!0,errorImg:n("fd78")}},beforeMount:function(){"/"==this.$route.path&&(this.show=!1)},methods:{handleEvent:function(e){var t={reload:function(){location.reload()},home:function(){location.href="./index.html"}};t[e]&&t[e]()}}},ve=ge,be=Object(h["a"])(ve,pe,me,!1,null,null,null),ye=be.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-login-page"},[n("div",{staticClass:"login-header"}),n("div",{staticClass:"login-section"},[n("div",{staticClass:"login-box"},[n("el-form",{nativeOn:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"login-box-title"},[e._v("登 录")]),n("div",{staticClass:"login-box-info"},[n("el-input",{attrs:{disabled:e.loading,placeholder:"账户名称",size:"medium","prefix-icon":"el-icon-user-solid"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("div",{staticClass:"login-box-info"},[n("el-input",{attrs:{disabled:e.loading,placeholder:"密码",size:"medium","prefix-icon":"el-icon-s-goods","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("div",{staticClass:"login-box-button"},[n("el-button",{attrs:{loading:e.loading,type:"info","native-type":"submit",size:"small"},on:{click:e.submit}},[e._v("登 录")])],1)])],1)]),n("div",{staticClass:"login-footer"})])},_e=[],we=n("7f54"),Ce=we["a"],Se=Object(h["a"])(Ce,xe,_e,!1,null,null,null),ke=Se.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"news-detail"},[n("h1",{staticClass:"title"},[e._v(e._s(e.detail.title))]),n("div",{staticClass:"meta"},[n("span",{staticClass:"name"},[e._v(e._s(e.detail.author))]),n("em",[e._v(e._s(e.detail.releaseTime))])]),n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.detail.content)}})])},$e=[],Oe={name:"NewsDetail",data:function(){return{show:!0,detail:""}},created:function(){this.getDetail()},methods:{getDetail:function(){this.detail={title:"一件事改革平台，新闻详情内容一件事改革平台，新闻详情内容。",author:"一件事改革平台",releaseTime:"2020-08-22",content:'<h3>生命蓝湾启动四年 已吸引30多家生物医药细分领域领先企业落户点菜主动做减法为顾客当好参谋 </h3><p>和记小菜推“四步工作法高温炙烤模式开启 申城用电连创新高 负荷首破3300万千瓦 供应尚有裕度“战时”无畏“平时”坚守 闪耀仁心大爱感谢“最美的人”守护城市安全防线</p><img src="https://dss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1004510913,4114177496&fm=26&gp=0.jpg" alt=""><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1598086092794&di=ff3147f866cc0f98bb7cb4749b8d6217&imgtype=0&src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2F0%2F544b36f487483.jpg" alt="">'}}}},Ie=Oe,Te=Object(h["a"])(Ie,De,$e,!1,null,null,null),Ne=Te.exports;ue["default"].use(de["a"]);var Be=[].concat(Object(ce["a"])(he),[{path:"/pc/login",component:ke},{path:"/ot/otherpage/newsdetail/:id",component:Ne},{path:"*",component:ye}]),Fe=new de["a"]({mode:"hash",base:"",routes:Be});dsf.init.initRouter(Fe,"pc");var je=Fe;n("6c78");ue["default"].use(a["a"]),ue["default"].use(i["a"]),ue["default"].use(s["a"]),ue["default"].use(R),ue["default"].use(l["a"]),ue["default"].prototype.dsf=dsf,ue["default"].prototype.$http=dsf.http,ue["default"].config.productionTip=!1,Object.defineProperties(ue["default"].prototype,{$webAPI:{get:function(){if(!this.$$webapi)for(var e in this.$$webapi={},A["a"])this.$$webapi[e]=A["a"][e].bind(this);return this.$$webapi}}}),je.beforeEach((function(e,t,n){"/pc/login"!==e.path&&e.meta.needLogin&&"1"!==dsf.cookies.get("isLogin")?location.replace("./page.html#/pc/login?from="+encodeURIComponent(location.href)):(document.title=e.meta.title||dsf.config.defaultTitle||"",n())})),je.afterEach((function(e){oe["a"].commit(re["a"],{route:e})})),ue["default"].config.devtools=!0,new ue["default"]({store:oe["a"],router:je,created:function(){var e=this;dsf.resizeDetector(),"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&window.addEventListener("hashchange",(function(){var t=window.location.hash.slice(1);e.$router.path!==t&&e.$router.replace(t)}),!1)},render:function(e){return e(le)}}).$mount("#app")},"438d":function(e,t,n){"use strict";(function(e){n("4de4"),n("7db0"),n("c740"),n("c975"),n("a15b"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("38cf");var a=n("f771"),i=n("aea0");function s(){if(this.isDesign&&0==this.columns.length)for(var e=4,t=0;t<e;t++)this.addColumn({label:"列".concat(t),level:0})}function l(t,n,a){var i=this.list[t.$index],s=e.findIndex(this.value,(function(e){return e==i})),l="up"==n?s-1:s+1,o=this.value[l];o&&(i.$order=l,o.$order=s,this.$set(this.value,l,i),this.$set(this.value,s,o),a&&a(t))}document.addEventListener("click",(function(){var t=document.querySelectorAll(".ds-subtable");e.each(t,(function(e){e&&e.__vue__&&e.__vue__.editEnd&&e.__vue__.editEnd()}))})),t["a"]=dsf.component({name:"DsfSubTable",mixins:[a["a"]],ctrlCaption:"子表",props:{showLabel:{type:Boolean,default:!1},labelShowUnderline:{type:Boolean,default:!0},labelShowColorLump:{type:Boolean,default:!0},value:{type:Array,default:function(){return[]}},isEditabled:{type:Boolean,default:function(){return!0}},columns:{type:Array,default:function(){return[]}},isShowOperateColumn:{type:Boolean,default:!0},isShowIndexColumn:{type:Boolean,default:!0},slots:{type:Array,default:function(){return[{name:"default",scope:"scope",controls:[]}]}},showPagination:{type:Boolean,default:!0},pagerCount:{type:Number,default:5},pageSize:{type:Number,default:10},buttonBars:{type:Array,default:function(){return[]}},removeRowBefore:{type:Function,default:function(){return null}}},provide:function(){return{$templateControl:this}},data:function(){return{isReDrawHander:!1,currentPage:1,drawTable:!1,editingData:null,oldData:null,deleted:[],dataWatch:[],templateData:[{_id:dsf.uuid()}]}},created:function(){s.call(this),this.refreshHeader()},computed:{pageCount:function(){return Math.ceil(this.value.length/this.pageSize)},list:function(){var e=this.showPagination,t=this.pageSize,n=this.currentPage;if(e){var a=(n-1)*t,i=a+t;return this.value.slice(a,i)}return this.value},getColumnSlots:function(){return e.filter(slots,(function(e){return 0==e.name.indexOf("column-")}))},columnMaps:function(){var e={};return this.deep((function(t,n,a,i){e[i]||(e[i]=[]),e[i].push(t)}),this.columns),e},allowEdit:function(){var e=this.readOnly,t=this.foreverEditor,n=this.isEditabled;return!e&&(t?!t:n)}},mounted:function(){},updated:function(){},methods:{getLastColumns:function(e){var t=[];return this.deep((function(e){e.children&&e.children.length?(e.columnId="",e.isLast=!1):(e.isLast=!0,t.push(e))}),e),t},deep:function(t,n){var a=function n(a,i){var s=0;e.each(a,(function(e,a){t&&t(e,a,s,i),n(e.children,i+1),s++}))},i=n||this.columns;i="array"!==dsf.type(i)?[i]:i,a(i,0)},currentChange:function(e){this.currentPage=e},indexMethod:function(e){return(this.currentPage-1)*this.pageSize+e+1},setRowKey:function(e){return e.$hash},setRowClass:function(){},addColumn:function(e,t,n){var a={label:"",columnId:"",level:0,isLast:!1,hide:!1,headerAlign:"center",align:"center",resizable:!1,width:"auto",children:[]},i=dsf.mix({},a,e);return n?dsf.isUnDef(t)?(n.children.push(i),i.level=n.level+1):n.children.splice(t,0,i):dsf.isUnDef(t)?this.columns.push(i):this.columns.splice(t,0,i),i},doLayout:function(){this.$refs.table.doLayout()},headerCellClassName:function(e){var t=[];if(this.isDesign){var n=e.columnIndex;if(0===e.rowIndex&&this.isShowIndexColumn&&(n-=1),this.columnMaps){var a=this.columnMaps[e.rowIndex],i=a[n];i&&i.hide&&i.label==e.column.label&&t.push("ds-design-hide")}}return t.join(" ")},cellClassName:function(e){var t=[];if(this.isDesign){var n=e.columnIndex,a=this.getLastColumns();this.isShowIndexColumn&&(n-=1);var i=a[n];i&&i.hide&&t.push("ds-design-hide")}return t},refreshHeader:function(){var t=this,n=this.getLastColumns(),a={};e.each(n,(function(n,s){var l="table-column-"+s,o=e.find(t.slots,(function(e){return e.name==l}));if(o)o.name=l;else{var r=o={name:l,scope:"scope",controls:[dsf.designer.createComponent(i["a"],{"slot-name":"default"})]};t.slots.push(r),o=r}n.columnId=l,o.scope="scope",o.repeat=!0,o.textProxy=!1,o.dataKey="row",a[o.name]=1})),e.eachRight(this.slots,(function(e){0!=e.name.indexOf("table-column-")&&0!=e.name.indexOf("column-")||a[e.name]||dsf.array.remove(t.slots,e)}))},rowDeleteHandler:function(e){var t=this,n=this.removeRowBefore,a=dsf.toPromise(n||function(e){e()});function i(){var t=this;dsf.layer.confirm({message:"确认是否要删除？"}).then((function(){t.removeRow(e.row,!0)})).catch((function(){}))}a.then((function(e){(!0===e||dsf.isUnDef(e))&&i.call(t)})).catch((function(){}))},rowEditHandler:function(e){this.editBegin(e.row)},rowEditCompleteHandler:function(){this.editEnd()},rowEditCancelHandler:function(e){for(var t in dsf.mix(e.row,this.oldData),e.row)dsf.isDef(this.oldData[t])?e.row[t]=this.oldData[t]:e.row[t]=null;this.editEnd()},rowDblClickHander:function(e){e.$editing||this.editBegin(e)},rowUpHandler:function(e){var t=this,n=e.$index;l.call(this,e,"up",(function(){0==n&&t.currentPage>1&&t.currentPage--}))},rowDownHandler:function(e){var t=this,n=e.$index;l.call(this,e,"down",(function(){n>=t.list.length-1&&t.currentPage>1&&t.currentPage++}))},editBegin:function(e){this.allowEdit&&(this.editEnd(),this.editingData=e,this.oldData=dsf.mix(!0,{},e),e.$editing=!0)},editAllEnd:function(){for(var e=0;e<this.value;e++)this.value[e].$editing=!1},editEnd:function(){this.editingData&&(this.editingData.$editing=!1),this.oldData=null,this.editingData=null},addDocumentClickEndEditHandler:function(){document.removeEventListener("click",this.addDocumentClickEndEditHandler),this.editEnd()},removeRow:function(e,t){this.editEnd(),t?(dsf.array.remove(this.value,e),this.deleted.push(e)):dsf.array.remove(this.value,e),!this.list.length&&this.currentPage>1&&this.currentPage--},updateControlPropsInTemplate:function(e,t){return!this.isDesign&&t&&e.isFormControl&&(e.simple=!0,e.showLabel=!1,dsf.isUnDef(e.defaultReadOnly)&&(e.defaultReadOnly=e.readOnly),this.readOnly||e.isFormControl&&(e.defaultReadOnly||(e.readOnly=!t.row.$editing))),e},editBlurHandler:function(){console.log("dfsfsfsdf")},clearRows:function(){var t=this;e.eachRight(this.value,(function(e){e._id?t.removeRow(e,!0):t.removeRow(e,!1)}))}},beforeDestroy:function(){this.$root.editors&&dsf.array.remove(this.$root.editors,this)},watch:{value:{handler:function(e,t){for(var n=0;n<e.length;n++)!("$editing"in e[n])&&this.$set(e[n],"$editing",!1),!("$hash"in e[n])&&this.$set(e[n],"$hash",dsf.uuid()),"$order"in e[n]?this.$set(e[n],"$order",n):e[n]["$order"]=n,e[n].$index=n;t&&e&&this.emitValueChange(e)},immediate:!0},columns:{handler:function(){var e=this;this.refreshHeader(),this.isReDrawHander=!0,this.$nextTick((function(){e.isReDrawHander=!1}))},deep:!0}}})}).call(this,n("2ef0"))},"439f":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return C}));var a,i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-panel"},[e.hasHeader?n("div",{staticClass:"ds-panel-header"},[e.hasTitle?n("div",{staticClass:"title"},[n("label",{staticClass:"ds-font3",style:{"border-right":e.titleBorder?"1px solid #eeeeee;":"0px none"}},[e._t("title")],2)]):e._e(),n("div",{staticClass:"header"},[e._t("header")],2)]):e._e(),n("div",{staticClass:"ds-panel-body"},[e._t("default")],2)])},l=[],o={name:"DsfPanel",props:{hasTitle:{type:Boolean,default:!0},hasHeader:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!1},titleBorder:{type:Boolean,default:!1}}},r=o,c=n("2877"),u=Object(c["a"])(r,s,l,!1,null,null,null),d=u.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i",{staticClass:"iconfont",class:[e.name?"icon-"+e.name:""]})},h=[],p={name:"DsfIcon",props:{name:{type:String,default:function(){return""}}}},m=p,g=Object(c["a"])(m,f,h,!1,null,null,null),v=g.exports,b=(n("99af"),n("2909")),y=n("ade3"),x={name:"DsfButton",props:{tagName:{type:String,default:"a"},type:{type:String,default:function(){return""}},icon:{type:String,default:function(){return""}},text:{type:String,default:function(){return""}},title:{type:String,default:function(){return""}},btnStyle:{type:String,default:function(){return""}},size:{type:String,default:""}},computed:{buttonStyle:function(){var e=this.btnStyle;return e},getCss:function(){return["ds-button"+(this.btnStyle?"__"+this.btnStyle:""),this.type?this.type:"",this.size]}},created:function(){},methods:{},render:function(e){var t={title:this.title||""},n=!1,a=null;this.$slots.default&&this.$slots.default[0]&&this.$slots.default[0].text?a=e("span",this.$slots.default):this.text?a=e("span",this.text):n=!0;var i=[];if(this.icon){var s=e("i",{staticClass:"iconfont",class:Object(y["a"])({},"icon-"+this.icon,!0)});i.push(s)}return i.push(a),e(this.tagName,{attrs:t,class:[].concat(Object(b["a"])(this.getCss),[n?"no-text":""]),on:this.$listeners},i)}},_=x,w=Object(c["a"])(_,a,i,!1,null,null,null),C=w.exports},4461:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-no-padding ds-one-thing-box"},[n("div",{staticClass:"ds-one-thing-box-title"},[n("div",{staticClass:"ds-one-thing-title-line"}),e._v(e._s(e.title)),e._t("title")],2),e.isGo?n("div",{staticClass:"icon-box"},[n("i",{staticClass:"iconfont icon-weibiaoti34",on:{click:e.go}})]):e._e(),n("div",[e._t("content")],2)])},i=[],s=(n("9911"),{props:{title:{type:String,default:""},link:{type:String,default:""},isGo:{type:Boolean,default:!0}},data:function(){return{}},computed:{},mounted:function(){},created:function(){},methods:{go:function(){""!=this.link&&this.$router.push({path:this.link})}}}),l=s,o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,"0392bef4",null);t["a"]=r.exports},"509d":function(e,t,n){"use strict";(function(e){n("4de4"),n("a15b"),n("d81d"),n("a9e3"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0"),n("96cf");var a=n("1da1");t["a"]={name:"DsfSuperSearch",inheritAttrs:!1,props:{owner:{type:Object,default:function(){return null}},searchItemSetting:{type:Array,default:function(){return[]}},searchHeight:{type:Number,default:0},defaultRowsNumber:{type:Number,default:2},showFitler:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{hasExtend:!1,searchItems:[],optionsMap:{},totalRowsNumber:0,layout:[]}},watch:{searchItemSetting:{handler:function(e){this.updateSearchItemSetting()},immediate:!0},showFitler:{handler:function(e){var t=this;this.$nextTick((function(){t.emitHeight()}))}}},created:function(){window.addEventListener("resize",this.resize)},mounted:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{updateSearchItemSetting:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.totalRowsNumber=t.getTotalRowsNumber(),a=t.totalRowsNumber<t.defaultRowsNumber?t.totalRowsNumber:t.defaultRowsNumber,t.totalRowsNumber>t.defaultRowsNumber&&(t.hasExtend=!0),t.emitInitHeight(a),t.searchItems=e.map(t.searchItemSetting,(function(t){return{id:t.id,field:t.field,label:t.fieldCaption,valueSource:t.setting,type:t.searchType,optionKey:t.id||"",values:"enum"==t.searchType?[]:"",showModel:t.model,multiple:!1,isExtend:!1,isMore:!1,layout:t.layout||24,fields:e.filter(t.children,(function(e){return 1==e.join}))}})),n.next=7,t.updateData();case 7:t.optionsMap=n.sent,console.log(t.optionsMap),t.setLayout(),t.$nextTick((function(){t.resize()}));case 11:case"end":return n.stop()}}),n)})))()},getTotalRowsNumber:function(){var t=0;e.each(this.searchItemSetting,(function(e){t+=~~e.layout}));var n=Math.ceil(t/24);return n},setLayout:function(){var t=this,n=[],a=0,i=0;e.each(this.searchItems,(function(e,s){n[i]||(n[i]=[]),a<24&&(n[i].push(e),a+=~~e.layout);var l=s+1;if(t.searchItems[l]){var o=a+~~t.searchItems[l].layout;o>24&&(i++,a=0)}})),this.layout=n},updateData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i,s,l,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a={},i=[],s=[],e.each(t.searchItems,(function(e){var n,l,o;if("enum"==e.type)if("dict"==(null===(n=e.valueSource)||void 0===n?void 0:n.type)){var r={key:e.id,dictId:e.valueSource.value.key};s.push(r)}else if("dbsource"==(null===(l=e.valueSource)||void 0===l?void 0:l.type)){var c,u=e.valueSource.value.key.replace(/\./g,"/");i.push({id:e.id,request:t.$webAPI.dbSourceInterface(u,(null===(c=t.owner)||void 0===c?void 0:c.queryString)||{})})}else if("interface"==(null===(o=e.valueSource)||void 0===o?void 0:o.type)){var d,f=t.$http.get(e.valueSource.value,(null===(d=t.owner)||void 0===d?void 0:d.queryString)||{});i.push({id:e.id,request:f})}else e.valueSource&&e.valueSource.value?a[e.id]=e.valueSource.value:a[e.id]=[]})),s.length>0&&(l={dicts:s},i.push({id:"dicts",request:t.$webAPI.getBatchDict(l)})),n.prev=5,!i.length){n.next=11;break}return n.next=9,t.$http.all(e.map(i,"request"));case 9:o=n.sent,e.each(o,(function(e,t){if("dicts"==i[t].id)for(var n in e.data)a[n]=e.data[n];else a[k]=e.data}));case 11:return n.abrupt("return",a);case 14:n.prev=14,n.t0=n["catch"](5),dsf.error("查询检索选项出现错误");case 17:case"end":return n.stop()}}),n,null,[[5,14]])})))()},checkboxChange:function(e,t,n){t.multiple,this.postSearch()},textChange:function(){this.postSearch()},dateChange:function(){this.postSearch()},extend:function(e,t){var n=this;e.isExtend=t,this.$nextTick((function(){n.emitHeight()}))},postSearch:function(){var t={};e.each(this.searchItems,(function(n){if("datetime"==n.type){var a="array"==dsf.type(n.values)?n.values:[n.values];t[n.field]=e.map(a,(function(e){return dsf.date.format(e,"yyyy-mm-dd")}))}else t[n.field]=n.values})),console.log("提交了查询值"),this.$emit("update:value",t)},emitHeight:function(){var e=this.$el.offsetHeight;this.$emit("update:searchHeight",e)},emitInitHeight:function(e){var t=50*e+(this.showFitler?50:0);this.$emit("update:searchHeight",t)},resize:function(){var t=this;e.each(this.searchItems,(function(e){var n=t.$el.querySelector("[item-key='"+e.id+"']");if(n&&!e.isExtend){var a=n.querySelector(".ds-super-search-item-block"),i=n.querySelector(".ds-super-search-item-option");if(a&&i){var s=a.offsetHeight,l=i.offsetHeight;e.isMore=l>s+10}}})),this.emitHeight()}}}}).call(this,n("2ef0"))},5151:function(e,t,n){"use strict";(function(e){n("a9e3"),n("8a79");var a=n("821f"),i=n("1807");function s(){if(this.isDesign&&0==this.slots[0].controls.length)for(var e=4,t=0;t<e;t++){var n=24/e,a={height:"auto",span:n};this.slots[0].controls.push(dsf.designer.createComponent(i["a"],a))}}t["a"]=dsf.component({name:"DsfRow",ctrlCaption:"栅格布局",mixins:[a["a"]],props:{minHeight:{type:String,default:"0"},height:{type:String,default:"auto"},gutter:{type:Number,default:0},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}}},data:function(){return{cols:[]}},mounted:function(){s.call(this)},computed:{rowHeight:function(){if(this.isDesign)return"100%";var e=this.height;return dsf.isNumber(e)&&(e+="px"),e},elRowHeight:function(){return"auto"!=this.height?"100%":"auto"},elRowStyle:function(){var e={};return e["height"]=this.elRowHeight,this.gutter&&(e["margin-left"]=this.gutter/2*-1+"px",e["margin-right"]=this.gutter/2*-1+"px"),e},getCss:function(){return[this.$getClass(),this.fit?"fit":"",this.isDesign?"":"ds-no-padding"]}},methods:{getHeight:function(){var e=this.height;return this.height.endsWith("px")||this.height.endsWith("%")||this.height.endsWith("em")||this.height.endsWith("rem")||(e+="px"),e},getColumnSize:function(t){var n={},a=["lg","xl","md","sm","xs"];return e.each(a,(function(e){if(t[e]&&t[e].span){var a=Number(t[e].span);a&&(n[e]=a)}})),n},getStyle:function(){var e={};return this.isDesign||(e["min-height"]=this.minHeight+"px"),e}},watch:{height:{handler:function(e){if(this.isDesign){var t=e;e||(t="auto"),dsf.isNumber(t)&&(t+="px"),this.$dispatch("design-height-change",t)}},immediate:!0}}})}).call(this,n("2ef0"))},"518b":function(e,t,n){},"523c":function(e,t,n){"use strict";(function(e){n("4de4"),n("c975"),n("b0c0"),n("ac1f"),n("1276"),n("498a");var a=n("ade3"),i=n("dfde");t["a"]=dsf.component({name:"DsfNavTree",ctrlCaption:"导航树",mixins:[i["a"]],design:{fit:!0,metadata:{isDeep:!1,create:function(e){for(var t,n,a={},i=[],s=[],l=0;l<this.searchInfo.length;l++){var o=this.searchInfo[l],r=null;"0"==o.type?(r={code:o.code,operator:o.operation,valueKey:"searchValue"},i.push(r)):(r={code:o.code,operator:o.operation,valueKey:o.code},s.push(r),o.metadata_fullcode=r.code)}var c={logic:"or",items:[]};(t=c.items).push.apply(t,i);var u={logic:"and",items:[]};(n=u.items).push.apply(n,s);var d={logic:"and",items:[]};d.items.push(c),d.items.push(u),a=d;var f={query:a,self:this,metadata:this.metadata,browseScope:this.browseScope};return[f]}}},props:{metadata:{type:Object,default:function(){return dsf.metadata.get("nav-tree-meta-data")},desc:"元数据"},label:{type:String,default:"导航树",desc:"标题"},showIcon:{type:Boolean,default:!0,desc:"显示节点图标"},openSearchBox:{type:Boolean,default:!0,desc:"启用搜索框"},openWebroot:{type:Boolean,default:!1,desc:"启用虚拟根目录"},webrootName:{type:String,default:"",desc:"虚拟根目录的节点名称"},targetIframeName:{type:String,default:"",desc:"跳转iframe的NAME标识"},targetIframeSrc:{type:String,default:"",desc:"跳转iframe地址"},pId:{type:String,default:"",desc:"根节点数据"},globalId:{type:String,default:"",desc:"全局ID"},maxLevel:{type:String,default:"",desc:"最大层级"},defaultOpenSeries:{type:String,default:"1",desc:"初始化展开至第几级"},defaultOrder:{type:String,default:"",desc:"默认排序代码: xx desc,"},searchInfo:{type:Array,default:function(){return[]},desc:'查询条件,"dsfa_rm.type_value": "0"'},initDataSource:{type:String,default:"1",desc:"初始化数据来源，1:代表页面元数据，2:代表可选择数据"},chooseMetaData:{type:Object,default:function(){return{}},desc:"初始化选择的数据来源及选择时的具体数据"},async:{type:Boolean,default:!1,desc:"是否启用异步"},asyncDataSource:{type:String,default:"1",desc:"初始化数据来源，1:代表页面元数据，2:代表可选择数据"},asyncChooseMetaData:{type:Object,default:function(){return{}},desc:"异步请求选择的数据来源及选择时的具体数据"},metadata_fullcode:{type:String,default:""},browseScope:{type:Object,default:function(){return{scope:"2",unit:[]}},desc:"发送范围"}},data:function(){return{expandedKeys:[],filterText:"",defaultProps:{children:"children",label:"_name",key:"_id"},data:[],emptyText:"数据加载中...",resolve:null,metadataFullcode:this.metadata_fullcode,loading:!1}},computed:{keywords:function(){var e=this.filterText.trim();return""===e?[]:e.split(" ")}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this.$vm&&this.$vm.isPreView&&(this.$vm.nameSpace||(this.$vm.nameSpace=""),this.$vm.pageName||(this.$vm.pageName=""),this.metadataFullcode=""),this.loadData()},methods:{initExpand:function(e,t){var n=this.defaultProps.key,a=(this.defaultProps.label,this.defaultProps.children);if(void 0!==t&&this.defaultOpenSeries>0?1*e["_level"]<1*t+1*this.defaultOpenSeries-1&&this.expandedKeys.push(e[n]):this.expandedKeys.push(e[n]),e[a]&&e[a].length>0)for(var i=0;i<e[a].length;i++)this.initExpand(e[a][i],t)},loadData:function(){if(this.isDesign){var e,t,n,i,s,l,o,r,c,u,d,f=this.defaultProps.key,h=this.defaultProps.label,p=this.defaultProps.children,m=[(i={},Object(a["a"])(i,f,1),Object(a["a"])(i,h,"一级 1"),Object(a["a"])(i,p,[(n={},Object(a["a"])(n,f,4),Object(a["a"])(n,h,"二级 1-1"),Object(a["a"])(n,p,[(e={},Object(a["a"])(e,f,9),Object(a["a"])(e,h,"三级 1-1-1"),Object(a["a"])(e,"icon","el-icon-info"),e),(t={},Object(a["a"])(t,f,10),Object(a["a"])(t,h,"三级 1-1-2"),Object(a["a"])(t,"icon","el-icon-info"),t)]),n)]),i),(o={},Object(a["a"])(o,f,2),Object(a["a"])(o,h,"一级 2"),Object(a["a"])(o,p,[(s={},Object(a["a"])(s,f,5),Object(a["a"])(s,h,"二级 2-1"),s),(l={},Object(a["a"])(l,f,6),Object(a["a"])(l,h,"二级 2-2"),l)]),o),(u={},Object(a["a"])(u,f,3),Object(a["a"])(u,h,"一级 3"),Object(a["a"])(u,p,[(r={},Object(a["a"])(r,f,7),Object(a["a"])(r,h,"二级 3-1"),r),(c={},Object(a["a"])(c,f,8),Object(a["a"])(c,h,"二级 3-2"),c)]),u)];if(this.openWebroot&&this.webrootName)m=[(d={},Object(a["a"])(d,f,0),Object(a["a"])(d,h,this.webrootName),Object(a["a"])(d,p,m),d)];this.data=m;for(var g=0;g<this.data.length;g++)this.initExpand(this.data[g])}else this.async||this.initLoadData()},initLoadData:function(t){var n=this;n.loading=!0;var i=1*this.initDataSource,s=this.chooseMetaData,l="meta/tree",o={pid:n.pId,metaFullCode:n.metadataFullcode,namespace:n.$vm.nameSpace,pageName:n.$vm.pageName,globalIdValue:n.globalId,query:null,maxLevel:n.maxLevel,order:[]};n.async&&(o.openLevel=!this.defaultOpenSeries||this.defaultOpenSeries<=1?1:this.defaultOpenSeries),2===i&&s.type&&("meta"==s.type?(o.name=s.code.id,l="meta/tree/byName"):(o={rmId:s.code},l="meta/tree/dbSource"));for(var r={searchValue:""},c=n.searchInfo,u=0;u<c.length;u++){var d=c[u];if("1"==d.type){var f=d.code.split(".");2==f.length?r[d.code]=d.valueExpress:r[d.metadata_fullcode]=d.valueExpress}}for(var h=e.trim(n.defaultOrder).split(","),p=0;p<h.length;p++){var m=h[p],g=/(.+)\s+(desc|asc)/gim,v=e.trim(m);if(v){var b=g.exec(v);if(b){var y={code:b[1],sort:b[2]||"ASC"};o.order.push(y)}}}o.order=JSON.stringify(o.order),o.query=JSON.stringify(r),dsf.mix(o,this.queryString),n.$http.get(l,o).done((function(e){if(e.success){for(var i,s=e.data,l={},o=[],r=null,c={},u=0;u<s.length;u++){var d=s[u];l[d[n.defaultProps.key]]=d,l[d.treeinfo_pid]?(l[d.treeinfo_pid]["children"]||(l[d.treeinfo_pid]["children"]=[]),l[d.treeinfo_pid]["children"].push(d)):o.push(d),0==u&&(n.expandedKeys=[],r=d["treeinfo_level"],c=d),1!=n.defaultOpenSeries&&n.initExpand(d,r)}if(n.openWebroot&&n.webrootName)i={},Object(a["a"])(i,n.defaultProps.key,"虚拟根目录"),Object(a["a"])(i,n.defaultProps.label,n.webrootName),Object(a["a"])(i,n.defaultProps.children,o),c=i,o=[c],n.expandedKeys.push("虚拟根目录");if(n.data=o,n.$nextTick((function(){n.$refs.tree.setCurrentKey(c[n.defaultProps.key]),n.loadIframe(c)})),t)return t(o)}else dsf.layer.message(e.message,!1)})).error((function(e){dsf.layer.message(e.error.message,!1)})).always((function(){n.loading=!1}))},asyncLoadData:function(e,t){var n=this,a={metaFullCode:n.metadataFullcode,namespace:n.$vm.nameSpace,pageName:n.$vm.pageName,maxLevel:n.maxLevel,pid:e.data[n.defaultProps.key]};dsf.mix(a,this.queryString),n.$http.get("meta/tree/child",a).done((function(e){if(e.success){for(var a=e.data,i={},s=[],l=0;l<a.length;l++){var o=a[l];i[o[n.defaultProps.key]]=o,i[o.treeinfo_pid]?(i[o.treeinfo_pid]["children"]||(i[o.treeinfo_pid]["children"]=[]),i[o.treeinfo_pid]["children"].push(o)):s.push(o)}if(t)return t(s)}else dsf.layer.message(e.message,!1)})).error((function(e){dsf.layer.message(e.error.message,!1)}))},lazyLoad:function(e,t){this.resolve=t,0===e.level?this.initLoadData(t):this.asyncLoadData(e,t)},filterNode:function(e,t,n){if(!this.keywords.length)return!0;if(n.parent){if(n.parent.visible&&n.parent.filterText===e)return n.filterText=e,!0}else n.filterText=null;for(var a=0;a<this.keywords.length;a++)if(-1===t[this.defaultProps.label].indexOf(this.keywords[a]))return n.filterText=e,!1;return n.filterText=e,!0},loadIframe:function(e,t){if(this.$vm&&this.$vm.frames){var n=this.$vm.frames[this.targetIframeName];if(n){var a=this.$replace(this.targetIframeSrc,e);n.$emit("update:path",a)}}},reloadData:function(){this.data=[],this.resolve?(this.resolve([]),this.lazyLoad({level:0},this.resolve)):this.loadData()}}})}).call(this,n("1157"))},"529f":function(e,t,n){"use strict";(function(e){n("c740"),n("c975"),n("d81d"),n("a434"),n("a9e3"),n("ac1f");var a=n("7ef1");t["a"]=dsf.component({name:"DsfDataChoice",mixins:[a["a"]],ctrlCaption:"数据选择",props:{simple:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入"},dialogTitle:{type:String,default:"请选择"},dialogUrl:{type:String,default:""},dialogWidth:{type:String,default:"800px"},dialogHeight:{type:String,default:"500px"},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}},value:{type:Array,default:function(){return[]}},formatter:{type:String,default:"textValue^text"},maxTags:{type:Number,default:0}},data:function(){return{remoteInputing:!1,remoteItems:[],inputWidth:"0px",inputStr:"",popupClass:"ds-datachoice-popup",popupHide:"hide"}},computed:{selectValue:{get:function(){var e=this.value;return dsf.isDef(e)?e.map((function(e){return e.value})):[]},set:function(t){var n=[];e.each(t,(function(e){"string"==dsf.type(e)&&n.push({text:e,value:e}),dsf.hasOwn(e,"text")&&dsf.hasOwn(e,"value")&&n.push(e)})),this.emitValueChange(n)}},options:function(){return this.remoteInputing?(console.log("b"),this.remoteItems):(console.log("a"),this.items)}},mounted:function(){var e=this;if(this.inputWidthResize(),this.$refs.input){var t=this.$refs.input.$el.querySelector("input");t.addEventListener("keydown",(function(t){if(8===t.keyCode&&!e.inputStr){var n=e.value[e.value.length-1];e.removeTag(n)}}))}},updated:function(){},destroyed:function(){},watch:{value:{handler:function(e){var t=this;this.$nextTick((function(){t.inputWidthResize(),t.$dispatch("change"),t.emitFormValidate(t.value)}))}},inputStr:{handler:function(e){var t=this;e?(this.popupHide="",this.$nextTick((function(){t.popperWidthChange()}))):this.popupHide="hide"}}},methods:{clickHandler:function(){this.disabled||(this.$refs.input.focus(),this.inputWidthResize())},selectHandler:function(e){e&&(this.inputStr="",this.addTags(e))},inputWidthResize:function(){if(this.$refs.tags){var e=this.$refs.tags.offsetWidth,t=this.$refs.tagsInput.offsetWidth;this.inputWidth=t-e-5+"px"}},inputChangeHandler:function(){var e=this;this.$nextTick((function(){e.$dispatch("change"),e.emitFormValidate(e.value)}))},getChoiceParams:function(){return{}},openDialog:function(){if(!this.disabled){this.remoteInputing=!1;var e=this;this.$openDialog({title:this.dialogTitle,width:this.dialogWidth,height:this.dialogHeight,top:"10vh",params:{path:this.$replace(this.dialogUrl,this.$vm||{}),choiceParams:e.getChoiceParams()},btns:[{text:"确定",handler:function(t){if(t.content){var n=t.content;if(n&&n.yes&&dsf.isFunction(n.yes)){var a=n.yes();if(!a)return!1;var i=e.mapData(a);e.value;e.addTags(i)}}}},{text:"取消"}]})}},mapData:function(e){if(!this.mapHandler){var t="array"==dsf.type(e)?e:[e],n=[];n.splice(0,n.length);for(var a=0;a<t.length;a++){var i=t[a],s=this.autoMapDataText(i);s&&n.push(s)}return n}},autoMapDataText:function(e){var t,n,a=/(\w+)\.(\w+)/g,i=["text","_text","name","_name","label","_label"],s=["value","_value","id","_id","key","_key"],l=null;for(var o in e){var r=o;a.lastIndex=0;var c=a.exec(o);c&&c[2]&&(r=c[2]),dsf.isUnDef(t)&&i.indexOf(r)>=0&&(t=e[o]),dsf.isUnDef(n)&&s.indexOf(r)>=0&&(n=e[o])}return(dsf.isDef(t)||dsf.isDef(n))&&(l={text:t,value:n}),l},addTags:function(t){var n=this.value||[];t="array"==dsf.type(t)?t:[t],e.each(t,(function(t){"string"==dsf.type(t)&&(t={text:t,value:t});var a=e.findIndex(n,(function(e){return t.value===e.value}));a<0&&n.push(t)})),this.emitValueChange(n)},removeTag:function(t){var n=e.findIndex(this.value,(function(e){return e.value===t.value}));n>=0&&(this.value.splice(n,1),this.emitValueChange(this.value))},querySearch:function(e,t){e&&t([{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"}])},popperWidthChange:function(){if(this.$refs.input){var e=this.$refs.input.$children[1],t=this.$el.querySelector(".ds-datachoice-input"),n=t.getClientRects();n=n[0]||null,n&&(e.$el.style.minWidth=n.width+"px")}},resize:function(){this.inputWidthResize(),this.popperWidthChange()}}})}).call(this,n("2ef0"))},5410:function(e,t,n){},"55ec":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return R})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return Q}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&!e.isDesign?[e._v(" "+e._s(e._f("proxy")(e.getValueString,e.formatter))+" ")]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e._v(" "+e._s(e._f("proxy")(e.getValueString,e.formatter))+" ")])]],2)},i=[],s=n("7ef1"),l=dsf.component({name:"DsfUpdateTime",mixins:[s["a"]],ctrlCaption:"修改时间",props:{caption:{type:String,default:dsf.config.kw.updatetime},label:{type:String,default:"修改时间"},formatter:{type:String,default:"dateTime^yyyy-mm-dd hh:ii"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.updatetime,valueAttributes:[{name:"修改时间",code:dsf.config.kw.updatetime,type:dsf.metadata.getDataType("date"),length:"",defaultValue:null,unit:null}]})}}},computed:{getValueString:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null),u=c.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&!e.isDesign?[e._v(" "+e._s(e._f("proxy")(e.getValueString,e.formatter))+" ")]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e._v(" "+e._s(e._f("proxy")(e.getValueString,e.formatter))+" ")])]],2)},f=[],h=dsf.component({name:"DsfCreateTime",mixins:[s["a"]],ctrlCaption:"创建时间",props:{caption:{type:String,default:dsf.config.kw.createtime},label:{type:String,default:"创建时间"},simple:{type:Boolean,default:!1},formatter:{type:String,default:"dateTime^yyyy-mm-dd hh:ii"},showLabel:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.createtime,valueAttributes:[{name:"创建时间",code:dsf.config.kw.createtime,type:dsf.metadata.getDataType("date"),length:"",defaultValue:null,unit:null}]})}}},computed:{getValueString:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),p=h,m=Object(r["a"])(p,d,f,!1,null,null,null),g=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&!e.isDesign?[e._v(e._s(e.value))]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e._v(" "+e._s(e.value)+" ")])]],2)},b=[],y=dsf.component({name:"DsfUpdateUserName",mixins:[s["a"]],ctrlCaption:"修改人",props:{caption:{type:String,default:dsf.config.kw.updateusername},label:{type:String,default:"修改人"},showLabel:{type:Boolean,default:!0},simple:{type:Boolean,default:!1},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.updateusername,valueAttributes:[{name:"修改人姓名",code:dsf.config.kw.updateusername,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}}}}),x=y,_=Object(r["a"])(x,v,b,!1,null,null,null),w=_.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&!e.isDesign?[e._v(e._s(e.value))]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e._v(" "+e._s(e.value)+" ")])]],2)},S=[],k=dsf.component({name:"DsfCreateUserName",mixins:[s["a"]],ctrlCaption:"创建人",props:{caption:{type:String,default:dsf.config.kw.createusername},label:{type:String,default:"创建人"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.createusername,valueAttributes:[{name:"创建人姓名",code:dsf.config.kw.createusername,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}}}}),D=k,$=Object(r["a"])(D,C,S,!1,null,null,null),O=$.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&!e.isDesign?[e._v(e._s(e.value))]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e._v(" "+e._s(e.value)+" ")])]],2)},T=[],N=dsf.component({name:"DsfUpdateUserId",mixins:[s["a"]],ctrlCaption:"修改人ID",props:{caption:{type:String,default:dsf.config.kw.updateuserid},label:{type:String,default:"修改人ID"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.updateuserid,valueAttributes:[{name:"修改人ID",code:dsf.config.kw.updateuserid,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}}}}),B=N,F=Object(r["a"])(B,I,T,!1,null,null,null),j=F.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&!e.isDesign?[e._v(e._s(e.value))]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e._v(" "+e._s(e.value)+" ")])]],2)},E=[],V=dsf.component({name:"DsfCreateUserId",mixins:[s["a"]],ctrlCaption:"创建人ID",props:{caption:{type:String,default:dsf.config.kw.createuserid},label:{type:String,default:"创建人ID"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.createuserid,valueAttributes:[{name:"创建人ID",code:dsf.config.kw.createuserid,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}}}}),P=V,H=Object(r["a"])(P,L,E,!1,null,null,null),R=H.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&!e.isDesign?[e._v(e._s(e.setVal))]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e._v(" "+e._s(e.setVal)+" ")])]],2)},z=[],M=(n("a9e3"),dsf.component({name:"DsfDeletedStatus",mixins:[s["a"]],ctrlCaption:"删除状态",props:{caption:{type:String,default:dsf.config.kw.deleted},label:{type:String,default:"删除状态"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.deleted,valueAttributes:[{name:"是否删除",code:dsf.config.kw.deleted,type:dsf.metadata.getDataType("string"),length:"2",defaultValue:null,unit:null}]})}}},computed:{setVal:function(){return Number(this.value)?"是":"否"}}})),q=M,W=Object(r["a"])(q,A,z,!1,null,null,null),U=W.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-system",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[e._v(" "+e._s(e.inputValue)+" "),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("span",[e._v(e._s(e.value))]):e._e():n("el-input",{class:{"ds-error-border":e.errors.length>0},attrs:{placeholder:e.placeholder,type:"text",disabled:e.disabled},on:{change:e.inputChangeHandler,blur:e.inputBlurHandler},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(" "+e._s(e.errorsMsg)+" ")]):e._e()],1)]],2)},J=[],Y=dsf.component({name:"DsfOrder",mixins:[s["a"]],ctrlCaption:"排序码",props:{caption:{type:String,default:dsf.config.kw.order},simple:{type:Boolean,default:!1},label:{type:String,default:"排序码"},placeholder:{type:String,default:"请输入排序编号"},showLabel:{type:Boolean,default:!0},required:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},error_tipsPosition:{type:String,default:"left"},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.order,valueAttributes:[{name:"排序码",code:dsf.config.kw.order,type:dsf.metadata.getDataType("number"),length:10,defaultValue:0,unit:null}]})}}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}},methods:{inputChangeHandler:function(){this.$dispatch("change"),this.emitFormValidate(this.value)},inputBlurHandler:function(){this.$dispatch("blur")}}}),X=Y,G=Object(r["a"])(X,K,J,!1,null,null,null),Q=G.exports},"5a47":function(e,t,n){"use strict";(function(e){n("4160"),n("c975"),n("b680"),n("e25e"),n("159b");var a=n("dfde");t["a"]=dsf.component({name:"DsfFlowProcess",mixins:[a["a"]],ctrlCaption:"办理情况",props:{caption:{type:String,default:function(){return"wfprocess"}}},data:function(){return{sPID:this.$route.query.sPID,sCurLinkID:this.$route.query.sCurLinkID,hideNode:!0,hideYj:!0,data:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$route.query;this.isDesign||!this.sPID?this.data=[{nodename:"拟稿",STATUS:0,linkid:"faedda583f7742948b0714f0f17d1085",opinionatts:JSON.stringify({Content:"同意"}),ruserid:"",pid:"af60e455757d48dd801d07b1538eb806",rusername:"平台管理员",rdeptname:"平台管理组",reachtime:"2020年01月06日 18:21:21",receivetime:"2020年1月2日 10:21:21"},{nodename:"拟稿",STATUS:1,linkid:"faedda583f7742948b0714f0f17d1085",opinionatts:JSON.stringify({Content:"同意"}),ruserid:"",pid:"af60e455757d48dd801d07b1538eb806",rusername:"平台管理员",rdeptname:"平台管理组",reachtime:"2020年01月06日 18:21:21",receivetime:"2020年1月2日 10:21:21"}]:this.$http.get("wfr/getProcessInfoByPID",{sPID:t.sPID},$$webRoot.dsfa).then((function(t){t.data.success&&(t.data.data.forEach((function(e){e.opinionatts=JSON.parse(e.opinionatts)})),e.data=t.data.data)}))},getStatus:function(e){var t;return t="-31"==e?"-3":"-1"==e?"-2":e,t},view:function(e){var t=dsf.url.getWebPath("preview/file?fileId=".concat(e.id));window.open(t)},downLoadFile:function(t){var n=dsf.url.getWebPath("file/download");e('<form action="'+n+'" method="get"><input type="text" name="files" value="'+t.id+'"/><input type="text" name="zipName" value="'+(t.fileName||"")+'"/></form>').appendTo("body").submit().remove()},diffIcon:function(e){var t="";return e.indexOf("do")>-1&&(t="Word"),(e.indexOf("excel")>-1||e.indexOf("sheet")>-1||e.indexOf("xl")>-1)&&(t="Excel"),e.indexOf("pn")>-1&&(t="png"),(e.indexOf("plain")>-1||e.indexOf("tx")>-1)&&(t="txt"),e.indexOf("zi")>-1&&(t="zip"),e.indexOf("jpe")>-1&&(t="jpg"),e.indexOf("pdf")>-1&&(t="pdf"),t},computeFileSize:function(e){var t="";return t=parseInt(e)>105e4?(e/Math.pow(1024,2)).toFixed(2)+"M":(e/Math.pow(1024,1)).toFixed(2)+"K",t}}})}).call(this,n("1157"))},"5cbc":function(e,t,n){"use strict";(function(e,a){n("99af"),n("cb29"),n("f4b3"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("5319"),n("1276"),n("ddb0"),n("2b3d"),n("bf19");var i=n("7ef1"),s=n("d9d1");function l(e){for(var t=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",a=0;a<t.length;a++){var i=Number(t[a]).toString(16);i.length<2&&(i="0"+i),n+=i}return 7!==n.length&&(n=e),n}function o(t){var n=this,a=new FormData;a.append("file",t);var i={headers:{"Content-Type":"multipart/form-data"},transformRequest:[function(e,t){return e}]};n.$http.post(n.upFileUrl,a,i).done((function(e){if(e.success){n.dialogVisible=!1,n.tempValue.backgroundImage=e.data[0]["absolutePath"];var t=new Image;t.onload=function(){n.fabricCanvas.setBackgroundImage(t.src,n.fabricCanvas.renderAll.bind(n.fabricCanvas),{scaleX:n.width/t.width,scaleY:n.height/t.height})},t.src=e.data[0]["absolutePath"]}else dsf.layer.message(e.message,!1)})).error((function(e){dsf.layer.message("上传图片失败",!1)})).always((function(){e(n.$refs["uploadFile"]).val("")}))}t["a"]=dsf.component({name:"DsfCustomerImg",mixins:[i["a"]],ctrlCaption:"封面设置",components:{VuePictureCut:s["VuePictureCut"]},props:{width:{type:Number,default:300},height:{type:Number,default:200},maxFileSize:{type:Number,default:2048},metadata:{type:Object,default:function(){return dsf.metadata.get("customer-img-meta-data")}},isCutPic:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},value:{type:String}},data:function(){return{src:"",dialogVisible:!1,upFileUrl:"file/upload/",upBase64Url:"file/base64Img",utils:null,cut:{shape:"rect",isRatio:!1,badRatio:!1,angle:0,angleStep:45,ratio:""},fabricCanvas:null,fabricText:null,tempValue:{text:"",fontFamily:"SimSun",fontSize:18,fontWeight:"normal",fontStyle:"normal",backgroundImage:"",fill:"#000",borderColor:"#FF0000",cornerStrokeColor:"#FF0000",transparentCorners:!1,cornerSize:10,originX:"center",originY:"center",backgroundColor:null,textBackgroundColor:null},fontList:[{val:"SimSun",txt:"宋体"},{val:"FangSong",txt:"仿宋"},{val:"KaiTi",txt:"楷书"},{val:"SimHei",txt:"黑体"},{val:"Microsoft YaHei",txt:"微软雅黑"},{val:"YouYuan",txt:"幼圆"}],sizeList:[14,16,18,22,24],isFirst:!0}},computed:{canvasSty:function(){return"width: ".concat(this.width,"px; height: ").concat(this.height,"px")},containerSty:function(){var e=this.isDesign?"20px":0;return"margin-top: ".concat(e)},tip:function(){return"只能上传图片类型的文件，大小不得超过".concat(this.maxFileSize,"kb")},boldBtnSty:function(){return"bold"===this.tempValue.fontWeight?"background: #ff7200;color: #ffffff; border-color: #ff7200":"background: #ffffff; color: #606266; border-color: #DCDFE6"},italicBtnSty:function(){return"italic"===this.tempValue.fontStyle?"background: #ff7200;color: #ffffff; border-color: #ff7200":"background: #ffffff; color: #606266; border-color: #DCDFE6"}},mounted:function(){this.createFabric()},watch:{value:function(e){this.isFirst&&this.initComponent(e)},"cut.isRatio":function(e){this.utils.setMaskResize(!e)},"cut.shape":function(e){this.utils.setMaskRound("circle"===e)},tempValue:{handler:function(){this.renderText()},deep:!0}},methods:{preUpload:function(){var t=this,n=e(t.$refs.uploadFile);n.on("change",(function(){if(e(this).val()){var a=e(this)[0].files[0];if(a.size/1024>t.maxFileSize)return dsf.layer.message("文件大小超过".concat(t.maxFileSize,"kb!"),!1),n.val(""),!1;t.isCutPic?(t.dialogVisible=!0,t.src=URL.createObjectURL(a)):o.call(t,a)}})),n.click()},setBold:function(){this.tempValue.fontWeight="normal"===this.tempValue.fontWeight?"bold":"normal"},setItalic:function(){this.tempValue.fontStyle="normal"===this.tempValue.fontStyle?"italic":"normal"},cutImg:function(){var e=this,t=e.utils.cut(void 0,1,"image/png");o.call(e,t.file)},createFabric:function(e){var t=this,n=dsf.url.getWebPath("$/js/libs/fabric/fabric.js");t.$http.importFiles([n]).then((function(){t.fabricCanvas=t.fabricCanvas||new fabric.Canvas(t.$refs.canvas),e?t.renderByHistory(e):t.renderByEmpty()})).catch((function(e){dsf.layer.message("加载fabric文件报错",!1)}))},changeTextColor:function(e){this.tempValue.fill=e},changeTextBgColor:function(e){this.tempValue.textBackgroundColor=e},changeBgColor:function(e){this.tempValue.backgroundColor=e},renderByEmpty:function(){this.renderText()},renderByHistory:function(e){var t=this;t.fabricCanvas.loadFromJSON(e,(function(){t.fabricText=t.fabricCanvas.getObjects("text")[0],t.fabricCanvas.renderAll(),t.$dispatch("get-history",e)}))},renderText:function(){var e=this;e.fabricCanvas.set("backgroundColor",e.tempValue.backgroundColor);var t=a.pickBy(e.tempValue,(function(e,t){return"backgroundImage"!==t&&"backgroundColor"!==t}));e.tempValue.text||(e.fabricCanvas.remove(e.fabricText),e.fabricText=null),e.fabricText?e.fabricText.set(t):(a.assign(t,{left:Math.floor(e.width/2),top:Math.floor(e.height/2)}),e.fabricText=new fabric.Text(e.tempValue.text,t),e.fabricCanvas.add(e.fabricText)),e.fabricCanvas.renderAll()},imgLeft:function(){var e=this.cut.angle,t=e-this.cut.angleStep;this.cut.angle=t<-180?360+t:t,this.utils.rotate(this.cut.angleStep,!0)},imgRight:function(){var e=this.cut.angle,t=e+this.cut.angleStep;this.cut.angle=t>180?t-360:t,this.utils.rotate(-this.cut.angleStep,!0)},changeRatio:function(e){try{var t=e.split(":")[0],n=e.split(":")[1];if(!t||!n)return void(this.cut.badRatio=!0);if(!a.isNumber(+t)||!a.isNumber(+n))return void(this.cut.badRatio=!0);this.utils.setMaskSize(t,n),this.cut.badRatio=!1}catch(i){this.cut.badRatio=!0}},reverLevel:function(){this.utils.setFlipH()},reverVertical:function(){this.utils.setFlipV()},angleBlur:function(){this.utils.rotateTo(-this.cut.angle,!0)},dialogOpened:function(){this.utils=Object(s["createUtils"])(this.$refs["pictureCut"]),URL.revokeObjectURL(this.src),this.src=""},postBefore:function(){var e=this;return e.readOnly?Promise.resolve():new Promise((function(t,n){var a=e.fabricCanvas.toDataURL();e.$http.post(e.upBase64Url,{base64ImgStr:a.split(",")[1]}).done((function(a){if(!a.success)return dsf.layer.message(a.message,!1),void n(a.message);e.tempValue.outputImage=a.data[0].absolutePath;var i={pageInfo:e.tempValue,canvasInfo:e.fabricCanvas.toJSON()};e.emitValueChange(JSON.stringify(i)),e.$nextTick((function(){t()}))})).error((function(e){dsf.layer.message("封面上传发生未知异常",!1),n(e)}))}))},chooseTextColor:function(e){this.tempValue.fill=l(e)},chooseBgColor:function(e){this.tempValue.backgroundColor=l(e)},chooseTextBgColor:function(e){this.tempValue.textBackgroundColor=l(e)},initComponent:function(e){if(this.isFirst=!1,this.isDesign)return!1;var t=JSON.parse(e)||{};if(this.readOnly){var n=t.pageInfo;n&&n.outputImage&&(this.$refs.img.src=n.outputImage)}else{if(!e)return void this.createFabric();var i=t.pageInfo,s=t.canvasInfo;a.assign(this.tempValue,i),this.createFabric(s)}}}})}).call(this,n("1157"),n("2ef0"))},"5dfc":function(e,t,n){},"60e4":function(e,t,n){"use strict";(function(e){n("99af"),n("7db0"),n("4160"),n("c975"),n("a15b"),n("d81d"),n("b0c0"),n("b64b"),n("ac1f"),n("1276"),n("159b");var a=n("dfde");function i(e,t,n,a,i){return a&&a.length?'<dsf-one-thing-section\n    ref="section-'.concat(i,'"\n    :margin-top="').concat(n.top?"true":"false",'"\n    :margin-bottom="').concat(n.bottom?"true":"false",'"\n    label="').concat(e,'"\n    item-id="').concat(t,'">\n    ').concat(a.join("\n"),"\n  </dsf-one-thing-section>"):""}function s(e){for(var t=e.length-1;t>=0;t--)if(e[t].isOneToMany)return e[t];return null}function l(e,t,n){if(e.designId||(e.designId=dsf.uuid()),e.isDesign=!1,e.isOneToMany)e.metadata.level=1,e.metadata.id=n.$prefix+"_"+e.caption,e.metadata_fullcode=n.$prefix+"_"+e.caption;else if(e.isFormControl){var a=s(t);a?(e.metadata.level=1,e.metadata.id=a.metadata_fullcode+"."+e.caption,e.metadata_fullcode=a.metadata_fullcode+"."+e.caption):(e.metadata.level=0,e.metadata.id=n.$prefix+"."+e.caption,e.metadata_fullcode=n.$prefix+"."+e.caption)}}function o(t){var n=[],a=[],s=null,o=[],r={},c=t.childrenDev;return t.$data.$components.forEach((function(i,o){var u=[];i.controls.forEach((function(a,i){var d=a.props;d.isFormControl&&"1"==t.$vm.queryString.isview&&(d.readOnly=!0);var f=a.dict;void 0!==c[d.caption]&&(dsf.isUnDef(d.development["attrs"])&&(d.development["attrs"]={}),d.development["attrs"]=c[d.caption]),s=dsf.designer.convertTemplateAndControlData(d,!1,{before:function(e,n){l(e,n,t)}});var h="";e.each(s.props,(function(e,n){var a=Object.keys(s.props);!e.visible&&a&&a.length&&(h=" :visible=\"$controls['".concat(a[0],"'].visible\"")),t.$vm.$set(t.$vm.$controls,n,e)}));var p="<dsf-col".concat(h,' :span="components[').concat(o,"].controls[").concat(i,'].props.colSpan">').concat(s.tpl,"</dsf-col>");if(f)if(d.isOneToMany)e.each(f,(function(e,n){var a=t.$prefix+"_"+d.metadata.code+"."+n;r[a]=e}));else{var m=t.$prefix+"."+d.metadata.code;r[m]=f}var g=["file-meta-data","photo-meta-data"];g.indexOf(d.metadata.ckey)>=0?n.push(p):u.push(p)})),a.push({name:i.pageName,itemId:i.rmId,controls:u})})),s=void 0,{tpl:"<div>\n"+a.map((function(e,t){var n=e.name,a=e.itemId,s=e.controls;return i(n,a,{top:!1,bottom:!1},s,t+1)})).join("")+i("附件信息","000",{top:!1,bottom:!1},n,0)+"\n</div>",props:o,dicts:r}}t["a"]=function(t){var n=o(t);return{name:"DynamicFormTemplate",template:n.tpl,ctrlType:"dynamicBlock",mixins:[a["a"]],data:function(){return{components:t.$data.$components,dicts:n.dicts,lastData:t.lastData}},computed:{$viewData:function(){return this.$vm.$viewData},$controls:function(){return this.$vm.$controls},$viewInitData:function(){return this.$vm.$viewInitData},$enum:function(){return this.$vm.$enum}},mounted:function(){var n=this,a={};e.each(this.dicts,(function(e,t){dsf.isDef(e.dataSource)&&n.$set(n.$enum,t,e.dataSource),dsf.isDef(e.defaultValue)&&(a[t]=e.defaultValue)}));var i=dsf.mix(a,this.lastData);e.each(i,(function(a,i){var s=i.split(".")[1];if(s){var l="array"==dsf.type(t.baseinfoKey)?t.baseinfoKey:[];e.find(l,(function(e){var t=e.split(".")[1];t&&t==s&&n.$set(n.$viewData,e,a)}))}dsf.hasOwn(n.$viewData,i)&&void 0!==n.$viewData[i]||n.$set(n.$viewData,i,a)})),this.$nextTick((function(){var e=document.getElementsByClassName("ds-one-thing-form-select");e&&e.length&&e[0].__vue__&&e[0].__vue__.onScroll()}))},beforeDestroy:function(){n.tpl=null,n.props=null,n.dicts=null,n=null,t.lastData=null,t=null},methods:{updateControlPropsInTemplate:function(e,t){return this.$vm.updateControlPropsInTemplate(e,t)}}}}}).call(this,n("2ef0"))},"629f":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,i,s=n("2909"),l=n("dfde"),o=dsf.component({name:"DsfContainer",mixins:[l["a"]],ctrlCaption:"容器",props:{target:{type:String,default:"div"}},created:function(){},render:function(e){var t=this.$slots.default||[],n=Object(s["a"])(t),a=this.$attrs,i=this.target,l=e(i,{staticClass:"ds-control ds-container",attrs:a},n);return l},design:{parseStaticProps:function(){return{target:"div"==this.$props.target?void 0:this.$props.target}}}}),r=o,c=n("2877"),u=Object(c["a"])(r,a,i,!1,null,null,null),d=u.exports},"645b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{class:["ds-question-body",{"ds-question-require":e.required}]},[n("span",{staticClass:"ds-question-index"},[e._v(e._s(e.questionIndex?e.questionIndex+"：":""))]),e._v(e._s(e.questionBody)+" ")])},i=[],s=(n("a9e3"),{name:"DsfQITitle",props:{required:{type:Boolean,default:!1},questionIndex:{type:[Number,String],default:0},questionBody:{type:String,default:""}},computed:{},mounted:function(){},created:function(){},methods:{}}),l=s,o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,"7342e6e2",null);t["a"]=r.exports},"681c":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return C})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return L})),n.d(t,"d",(function(){return A}));n("b0c0");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dsf-exam-page",{attrs:{"res-data":e.resData,"exam-mark-active":e.examMarkActive},scopedSlots:e._u([{key:"title",fn:function(t){var a=t.subjects;return[n("div",{staticClass:"exam-title"},[e._l(e.fillData[a.id],(function(t,i){return[e._v(" "+e._s(t)+" "),i<e.fillData[a.id].length-1&&e.fillData[a.id].length>2?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkValue[a.id]["text_"+i],expression:"checkValue[subjects.id]['text_'+index]"}],key:i,staticClass:"exam-fill-input",attrs:{type:"text",maxlength:"1",readonly:e.readOnly},domProps:{value:e.checkValue[a.id]["text_"+i]},on:{change:function(t){return e.handleCheck(a.id,a.type)},input:function(t){t.target.composing||e.$set(e.checkValue[a.id],"text_"+i,t.target.value)}}})]:e._e()]}))],2)]}}])})},i=[],s=(n("4de4"),n("ac1f"),n("5319"),n("1276"),n("b85c")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control"},e._l(e.resData,(function(t,a){return n("div",{key:t.id,ref:t.id,refInFor:!0,staticClass:"ds-exam-content"},[n("div",{staticClass:"exam-index"},[e._v(e._s(++a)+"、")]),n("div",{staticClass:"exam-content"},[e._t("title",[n("div",{staticClass:"exam-title"},[e._v(e._s(t.content))])],{subjects:t}),e._t("body",null,{subjects:t}),e._m(0,!0),e._m(1,!0),n("div",{staticClass:"exam-tools",on:{click:function(n){return e.showPrompt(""+t.prompt)}}},[e._m(2,!0)])],2),n("i",{staticClass:"iconfont icon-biaoji exam-mark",class:{active:-1!=e.examMarkActive.indexOf(t.id)},attrs:{title:"标记"},on:{click:function(n){return e.doMark(t.id)}}})])})),0)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exam-answer"},[n("span",[e._v(" 标准答案： answer -> values ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exam-analysis"},[n("span",{staticClass:"title"},[e._v("解析:")]),n("br"),n("span",[e._v("当前解析为 answer数据里 parse")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"prompt"},[n("i",{staticClass:"iconfont icon-Magnifier"}),n("span",{staticClass:"ds_font_4"},[e._v("查看提示")])])}],r=(n("c975"),n("a434"),dsf.component({name:"DsfExamPage",ctrlCaption:"考试Page",props:{resData:{type:Array,default:function(){return[]}},examMarkActive:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){console.log("---page")},methods:{showPrompt:function(e){dsf.layer.alert('<pre style="word-break: break-all;white-space: normal;text-align: justify;"> '.concat(e," </pre>"))},doMark:function(e){-1!=this.examMarkActive.indexOf(e)?this.examMarkActive.splice(this.examMarkActive.indexOf(e),1):this.examMarkActive.push(e)}}})),c=r,u=n("2877"),d=Object(u["a"])(c,l,o,!1,null,null,null),f=d.exports,h=n("e3c4"),p=dsf.component({name:"DsfExamFill",mixins:[h["a"]],ctrlCaption:"填空题",inject:["exam"],props:{readOnly:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("exam-meta-data")}}},data:function(){return{fillData:{}}},created:function(){var e,t=Object(s["a"])(this.resData);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.$set(this.checkValue,n.id,{}),this.fillData[n.id]=n.content.replace(/（\s*）/gi,"()").split("()")}}catch(a){t.e(a)}finally{t.f()}},methods:{getSameNum:function(e,t){return processArr=t.filter((function(t){return t==e})),processArr.length}},components:{DsfExamPage:f}}),m=p,g=Object(u["a"])(m,a,i,!1,null,null,null),v=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dsf-exam-page",{attrs:{"res-data":e.resData,"exam-mark-active":e.examMarkActive},scopedSlots:e._u([{key:"body",fn:function(t){var a=t.subjects;return[n("div",{staticClass:"exam-body"},[n("el-radio-group",{attrs:{disabled:e.readOnly},on:{change:function(t){return e.handleCheck(a.id,a.type)}},model:{value:e.checkValue[a.id],callback:function(t){e.$set(e.checkValue,a.id,t)},expression:"checkValue[subjects.id]"}},e._l(a.items,(function(t,i){return n("el-radio",{key:t.value,style:"width:"+e.getColumnWidth(a.column)+";margin-right:0;",attrs:{label:t.value+"[-]"+t.text}},[e._v(" "+e._s(e.dsf.math.numToEnglishLetter(i+1))+"."+e._s(t.text)+" ")])})),1)],1)]}}])})},y=[],x=(n("a9e3"),dsf.component({name:"DsfExamTrueFalse",mixins:[h["a"]],ctrlCaption:"是非题",inject:["exam"],props:{readOnly:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},colNum:{type:Number,default:0},metadata:{type:Object,default:function(){return dsf.metadata.get("exam-items-meta-data")}}},data:function(){return{}},components:{DsfExamPage:f}})),_=x,w=Object(u["a"])(_,b,y,!1,null,null,null),C=w.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dsf-exam-page",{attrs:{"res-data":e.resData,"exam-mark-active":e.examMarkActive},scopedSlots:e._u([{key:"body",fn:function(t){var a=t.subjects;return[n("div",{staticClass:"exam-body"},[n("el-radio-group",{attrs:{disabled:e.readOnly},on:{change:function(t){return e.handleCheck(a.id,a.type)}},model:{value:e.checkValue[a.id],callback:function(t){e.$set(e.checkValue,a.id,t)},expression:"checkValue[subjects.id]"}},e._l(a.items,(function(t,i){return n("el-radio",{key:t.value,style:"width:"+e.getColumnWidth(a.column)+";margin-right:0;",attrs:{label:t.value+"[-]"+t.text}},[e._v(" "+e._s(e.dsf.math.numToEnglishLetter(i+1))+"."+e._s(t.text)+" ")])})),1)],1)]}}])})},k=[],D=dsf.component({name:"DsfExamRadioBox",mixins:[h["a"]],ctrlCaption:"单选题",inject:["exam"],props:{readOnly:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},colNum:{type:Number,default:0},metadata:{type:Object,default:function(){return dsf.metadata.get("exam-items-meta-data")}}},created:function(){console.log("raido",this.examMarkActive)},components:{DsfExamPage:f}}),$=D,O=Object(u["a"])($,S,k,!1,null,null,null),I=O.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dsf-exam-page",{attrs:{"res-data":e.resData,"exam-mark-active":e.examMarkActive},scopedSlots:e._u([{key:"body",fn:function(t){var a=t.subjects;return[n("div",{staticClass:"exam-body"},[n("el-checkbox-group",{attrs:{disabled:e.readOnly},on:{change:function(t){return e.handleCheck(a.id,a.type)}},model:{value:e.checkValue[a.id],callback:function(t){e.$set(e.checkValue,a.id,t)},expression:"checkValue[subjects.id]"}},e._l(a.items,(function(t,i){return n("el-checkbox",{key:t.value,style:"width:"+e.getColumnWidth(a.column)+";margin-right:0;",attrs:{label:t.value+"[-]"+t.text}},[e._v(" "+e._s(e.dsf.math.numToEnglishLetter(i+1))+"."+e._s(t.text)+" ")])})),1)],1)]}}])})},N=[],B=dsf.component({name:"DsfExamCheckBox",mixins:[h["a"]],ctrlCaption:"多选题",inject:["exam"],props:{readOnly:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},colNum:{type:Number,default:0},metadata:{type:Object,default:function(){return dsf.metadata.get("exam-items-meta-data")}}},data:function(){return{}},created:function(){var e,t=Object(s["a"])(this.resData);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.$set(this.checkValue,n.id,[])}}catch(a){t.e(a)}finally{t.f()}},components:{DsfExamPage:f}}),F=B,j=Object(u["a"])(F,T,N,!1,null,null,null),L=j.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dsf-exam-page",{attrs:{"res-data":e.resData,"exam-mark-active":e.examMarkActive},scopedSlots:e._u([{key:"body",fn:function(t){var a=t.subjects;return[n("div",{staticClass:"exam-body"},[n("el-input",{attrs:{type:"textarea",placeholder:"请答题，答题框可在右下角拉伸",rows:12,readonly:e.readOnly,maxlength:e.maxLength,"show-word-limit":""},on:{change:function(t){return e.handleCheck(a.id,a.type)}},model:{value:e.checkValue[a.id],callback:function(t){e.$set(e.checkValue,a.id,t)},expression:"checkValue[subjects.id]"}})],1)]}}])})},V=[],P=dsf.component({name:"DsfExamSubjective",mixins:[h["a"]],ctrlCaption:"主观题",inject:["exam"],props:{readOnly:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},maxLength:{type:[String,Number],default:200},metadata:{type:Object,default:function(){return dsf.metadata.get("exam-subjective-meta-data")}}},data:function(){return{}},components:{DsfExamPage:f}}),H=P,R=Object(u["a"])(H,E,V,!1,null,null,null),A=R.exports;function z(e){e.component(v.name,v),e.component(C.name,C),e.component(I.name,I),e.component(L.name,L),e.component(A.name,A)}"undefined"!==typeof window&&window.Vue&&z(window.Vue);t["f"]={install:z}},"68bb":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-page",class:e.getCss,style:e.pageStyle},[e.hasHeader?n("div",{staticClass:"ds-page-head"},[n("div",{ref:"head",staticClass:"head-inner",attrs:{"slot-name":e.slots[1].name}},[e._t(e.slots[1].name)],2)]):e._e(),n("div",{staticClass:"ds-page-content",style:e.pageContentStyle},[n("div",{staticClass:"ds-page-left",style:e.leftStyle,attrs:{"slot-name":e.slots[3].name}},[e._t(e.slots[3].name)],2),n("div",{staticClass:"ds-page-center",attrs:{"slot-name":e.slots[0].name}},[e._t(e.slots[0].name)],2),n("div",{staticClass:"ds-page-right",style:e.rightStyle,attrs:{"slot-name":e.slots[4].name}},[e._t(e.slots[4].name)],2)]),e.hasFooter?n("div",{staticClass:"ds-page-foot"},[n("div",{ref:"foot",staticClass:"foot-inner",attrs:{"slot-name":e.slots[2].name}},[e._t(e.slots[2].name)],2)]):e._e(),n("div",{staticStyle:{display:"none"},domProps:{innerHTML:e._s(e.customCss)}}),e.gotoIcon?n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isDesign,expression:"!isDesign"},{name:"drag",rawName:"v-drag"}],ref:"eleDesgin",staticClass:"to_desgin",attrs:{"data-flag":"true",title:"进入"+e.title+"设计模式"},on:{click:e.gotoPreview}},[n("i",{staticClass:"iconfont icon-shezhi"})]):e._e()])},i=[],s=n("7f10"),l=s["a"],o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null),c=r.exports},"6a69":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return j}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-textbox",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[n("span",{attrs:{title:e._f("proxy")(e.value,e.formatter)}},[e._v(e._s(e._f("proxy")(e.value,e.formatter)))]),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",{attrs:{title:e._f("proxy")(e.value,e.formatter)}},[e._v(e._s(e._f("proxy")(e.value,e.formatter)))])]):e._e():n("el-input",{class:{"ds-error-border":e.errors.length>0},attrs:{placeholder:e.placeholder,type:e.inputType,disabled:e.disabled},on:{change:e.inputChangeHandler,blur:e.inputBlurHandler},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},i=[],s=n("7ef1"),l=dsf.component({name:"DsfTextbox",mixins:[s["a"]],ctrlCaption:"文本框",props:{simple:{type:Boolean,default:!1},ishideCon:{type:Boolean,default:!1},openInputGrade:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入"},metadata:{type:Object,default:function(){return dsf.metadata.get("text-meta-data")}},pinyin:{type:Boolean,default:function(){return!1}}},computed:{inputType:function(){return this.ishideCon?"password":"text"},inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}},mounted:function(){},updated:function(){},destroyed:function(){},methods:{inputChangeHandler:function(){this.$dispatch("change",this.value),this.emitFormValidate(this.value)},inputBlurHandler:function(){this.$dispatch("blur")}}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null),u=c.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-textbox",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[e._v(e._s(e.value))]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(e._s(e.value))])]):e._e():n("el-input",{attrs:{placeholder:e.placeholder,rows:e.rows,type:"textarea",disabled:e.disabled},on:{blur:e.inputBlurHandler},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)],e.errors.length>0?n("span",[e._v(e._s(e.errorsMsg))]):e._e()],2)},f=[],h=(n("a9e3"),dsf.component({name:"DsfTextarea",mixins:[s["a"]],ctrlCaption:"多行文本",props:{simple:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入"},rows:{type:Number,default:4},metadata:{type:Object,default:function(){var e=dsf.metadata.get("text-meta-data");return dsf.mix(e.valueAttributes[0],{length:1e3}),e}}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}},methods:{inputBlurHandler:function(){this.$dispatch("blur"),this.emitFormValidate(this.value)}}})),p=h,m=Object(r["a"])(p,d,f,!1,null,null,null),g=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-ueditor",class:e.getCss},[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[n("div",{ref:"UEditor"}),e.errors.length>0&&!e.readOnly?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]),e.isDesign&&e.readOnly?n("div",{class:e.ueditorCss,attrs:{id:"designReadOnly"},domProps:{textContent:e._s(e.msg)}}):e._e(),!e.isDesign&&e.readOnly?n("div",{class:e.ueditorCss},[n("div",{ref:"uParse",domProps:{innerHTML:e._s(e.value)}}),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]):e._e()])},b=[],y=n("c189"),x=y["a"],_=Object(r["a"])(x,v,b,!1,null,null,null),w=_.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-textbox",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[e._v(" "+e._s(e.value)+" "),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(e._s(e.value))])]):e._e():n("el-autocomplete",{class:{"ds-error-border":e.errors.length>0},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:e.placeholder,disabled:e.disabled,"trigger-on-focus":!1,debounce:e.delay,"value-key":"label"},on:{select:e.handleSelect,blur:e.handleBlur,change:e.handleChange},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},S=[],k=n("e4ab"),D=k["a"],$=Object(r["a"])(D,C,S,!1,null,null,null),O=$.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-numeration",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[n("span",[e._v(e._s(e.value))]),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(e._s(e.value))])]):n("el-input",{class:{"ds-error-border":e.errors.length>0},attrs:{placeholder:e.placeholder,type:"text",disabled:!0},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[e.showBtn?n("i",{class:["iconfont",e.btnIcon?e.btnIcon:"icon-bianjisekuai"],attrs:{slot:"suffix"},on:{click:e.handleIconClick},slot:"suffix"}):e._e()])],1)]],2)},T=[],N=dsf.component({name:"DsfNumeration",mixins:[s["a"]],ctrlCaption:"编号",props:{simple:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!1},btnIcon:{type:String,default:""},placeholder:{type:String,default:""},rule:{type:String,default:""},error_tipsPosition:{type:String,default:"left"},metadata:{type:Object,default:function(){return dsf.metadata.get("text-meta-data")}}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}},created:function(){this.queryString.id||this.handleIconClick()},methods:{inputChangeHandler:function(){this.$dispatch("change",this.value),this.emitFormValidate(this.value)},inputBlurHandler:function(){this.$dispatch("blur")},handleIconClick:function(){var e=this;this.$http.get("number/get/"+this.rule).done((function(t){t.success?e.inputValue=t.data.value:dsf.layer.message("请求异常！",!1)})).error((function(e){dsf.layer.message(e.message,!1)}))}}}),B=N,F=Object(r["a"])(B,I,T,!1,null,null,null),j=F.exports},"6ae7":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-button-bar",staticStyle:{"vertical-align":"middle"},style:{"text-align":e.align}},[n("span",[e._l(e.showButtons,(function(t,a){return[e.showAndHide(t)?n("DsfButton",{key:a,attrs:{icon:e.getIcon(t),title:t.title,disabled:t.disabled,size:e.size,type:t.type,"btn-style":t.btnStyle},on:{click:function(n){return e.clickHandler(t,n)}}},[e._v(e._s(t.text))]):e._e()]})),e.moreButtonsReal.length?n("el-popover",{staticClass:"ds-button__more",attrs:{"popper-class":"ds-morebutton-popover",width:"auto",trigger:"click"},on:{show:e.popoverShow,hide:e.popoverClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("el-row",{style:{width:e.moreButtonsReal.length>5?"240px":"80px"}},e._l(e.moreButtonsReal,(function(t,a){return n("el-col",{key:a,staticStyle:{"text-align":"center"},attrs:{span:e.moreButtonsReal.length>5?8:24}},[e.showAndHide(t)?n("DsfButton",{key:a,staticStyle:{width:"80px","margin-bottom":"5px","margin-top":"5px"},attrs:{icon:e.getIcon(t),disabled:t.disabled,size:e.size,type:t.type,title:t.title,"btn-style":"icon-text"},on:{click:function(n){return e.clickHandler(t,n)}}},[e._v(e._s(t.text))]):e._e()],1)})),1)]},proxy:!0}],null,!1,1146541549)},["ds-button"==e.moreButtonStyle?n("a",{staticClass:"auxiliary",class:[e.moreButtonStyle],attrs:{slot:"reference"},slot:"reference"},[e._v(" 更多 "),n("i",{staticClass:"iconfont",class:{"icon-shuangjiantouxia":e.moreFold,"icon-xiangshangzhanhang":!e.moreFold}})]):e._e(),"ds-button__icon-text"==e.moreButtonStyle?n("a",{class:[e.moreButtonStyle],attrs:{slot:"reference"},slot:"reference"},[n("i",{staticClass:"iconfont icon-gengduo"})]):e._e()]):e._e()],2)])},i=[],s=n("9078"),l=s["a"],o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null),c=r.exports},"791a":function(e,t,n){"use strict";(function(e){n("a9e3"),n("ac1f"),n("1276"),n("af61");var a=n("d9d1");t["a"]={name:"CropImage",components:{VuePictureCut:a["VuePictureCut"]},props:{editImg:{type:Boolean,default:!1},aspectRatio:{type:String,default:""},editFileImg:{type:Object,default:function(){return{}}},requestUrl:{type:String,default:""}},data:function(){return{src:"",mskRatio:{},utils:null}},watch:{editImg:{handler:function(e){e&&this.$nextTick((function(){this.loadData()}))},immediate:!0}},methods:{loadData:function(){if(this.utils=Object(a["createUtils"])(this.$refs["pictureCut"]),this.src=dsf.url.getWebPath(this.editFileImg.relativePath),this.aspectRatio){var e=this.aspectRatio.split("/");this.mskRatio={width:Number(e[0]),height:Number(e[1])}}},saveFileImg:function(){var t=this,n=this.utils.cut();if(n){var a=new FormData;a.append("croppedImage",n.file,this.editFileImg.originalFileName),e.ajax({method:"post",url:this.requestUrl,data:a,async:!1,processData:!1,contentType:!1,beforeSend:function(e){var t=dsf.getCookie("XSRF-TOKEN")||"";e.setRequestHeader("X-XSRF-TOKEN",t)},success:function(e){if("string"===typeof e)e=JSON.parse(e);if(e.success){var n=e.data[0];t.$emit("saveFile",n)}else dsf.layer.message("裁剪失败"+e.message,!1)},error:function(){return!1},complete:function(){}})}},rotate:function(e){this.utils.rotate(e,!0)},zoom:function(e){this.utils.scale(e)},scaleV:function(){this.utils.setFlipV(!0)},scaleH:function(){this.utils.setFlipH(!0)},reset:function(){this.utils.reset()},handleClose:function(){this.$emit("handleClose")}}}}).call(this,n("1157"))},"7f10":function(e,t,n){"use strict";(function(e){n("99af"),n("b0c0"),n("a9e3"),n("acd8"),n("e25e"),n("ac1f"),n("1276"),n("4795");var a=n("2909"),i=n("3e29");t["a"]=dsf.component({name:"DsfPage",ctrlCaption:"页面",mixins:[i["a"]],provide:function(){return{}},data:function(){return{gotoIcon:dsf.config.designer.gotoIcon,headHeight:0,footHeight:0,centerHeight:"auto",headerStyle:{},footerStyle:{},leftAndRIghtStyle:{},containerHeight:0,containerWidth:0}},props:{formItemLabelWidth:{type:Number,default:120},needLogin:{type:Boolean,default:!0},slots:{type:Array,default:function(){return[{name:"center",controls:[]},{name:"head",controls:[]},{name:"foot",controls:[]},{name:"left",controls:[]},{name:"right",controls:[]}]}}},beforeCreate:function(){},computed:{leftViewWidth:function(){var e=this.viewSplit.split(","),t=e[0]?parseInt(e[0]):0;return t},rightViewWidth:function(){var e=this.viewSplit.split(","),t=e[1]?parseInt(e[1]):0;return t},leftViewShow:function(){var e=parseFloat(this.leftViewWidth);return 0!=e},rightViewShow:function(){var e=parseFloat(this.rightViewWidth);return 0!=e},splitWidth:function(){return"split-small"==this.leftRight?5:"split-medium"==this.leftRight?10:"split-big"==this.leftRight?15:0},splitWidthHorizontal:function(){return"split-small"==this.topBottom?5:"split-medium"==this.topBottom?10:"split-big"==this.topBottom?15:0},getCss:function(){return[].concat(Object(a["a"])(this.$getClass()),["1"==this.fit?"fit":""])},pageStyle:function(){var e=this.headHeight,t=this.footHeight;return this.isDesign||(e+=this.splitWidthHorizontal,t+=this.splitWidthHorizontal),{"padding-top":e+"px","padding-bottom":t+"px"}},pageContentStyle:function(){var e=this.leftViewWidth,t=this.rightViewWidth;return this.isDesign||(e=e>0?e+this.splitWidth:0,t=t>0?t+this.splitWidth:0),{"padding-left":e+"px","padding-right":t+"px",width:this.isDesign?"auto":"100%"!=this.pageWidth&&this.pageWidth?this.pageWidth:"auto",margin:"auto"}},leftStyle:function(){this.headHeight,this.footHeight;var e=this.leftViewWidth;return{width:e+"px",bottom:"0px",top:"0px",left:"0px"}},rightStyle:function(){this.headHeight,this.footHeight;var e=this.rightViewWidth;return{width:e+"px",bottom:"0px",top:"0px",right:"0px"}}},created:function(){},destroyed:function(){},mounted:function(){this.isDesign&&(this.watchCenterHeight(),this.resize())},updated:function(){},methods:{watchCenterHeight:function(){window.setTimeout(this.watchCenterHeight,1e3)},setCenterHeight:function(){var t=this.$refs.head?this.$refs.head:null,n=this.$refs.foot?this.$refs.foot:null;this.headHeight=t?e(t).outerHeight():0,this.footHeight=n?e(n).outerHeight():0},setleftAndRightStyle:function(){if(this.$el){var e={},t=this.containerHeight-this.headHeight-this.footHeight;e.height=t+"px",e["margin-top"]=this.headHeight+"px",this.leftAndRIghtStyle=e}},setContainerSize:function(){if(this.$el){var t=e(this.$el.parentNode);this.containerHeight=t.innerHeight(),this.containerWidth=t.innerWidth()}},resize:function(){this.setContainerSize(),this.setCenterHeight()},gotoPreview:function(){var e=this,t=null;window.setTimeout((function(){if(t=e.$refs.eleDesgin.dataset.flag,"true"===t){var n="".concat(dsf.url.getWebPath("~/designer.html#/pc/page?B="+e.context.B+"&M="+e.context.M+"&pname="+e.name+"&title="+e.title));window.open(n)}}),100)}},directives:{drag:{inserted:function(e){e.onmousedown=function(t){e.setAttribute("data-flag",!1);var n=t.clientX-e.offsetLeft,a=t.clientY-e.offsetTop;document.onmousemove=function(t){var i=t.clientX-n,s=t.clientY-a;e.style.left=i+"px",e.style.top=s+"px",e.onclick=function(){return!1}},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null,window.setTimeout((function(){e.onclick=function(){return e.setAttribute("data-flag",!0),!0}}),100)}}}}}})}).call(this,n("1157"))},"7f54":function(e,t,n){"use strict";(function(e){n("d3b7"),n("ac1f"),n("5319"),n("498a");t["a"]={name:"Login",data:function(){return{loading:!1,username:"",password:""}},created:function(){dsf.storage.session.clear()},methods:{submit:function(){this.username=e.trim(this.username),this.password=e.trim(this.password),""!==this.username?""!==this.password?this.login():dsf.layer.message("密码不能为空！",!1):dsf.layer.message("账号不能为空！",!1)},login:function(){var e=this;this.loading=!0,this.$webAPI.login({userName:this.username,password:dsf.md5(dsf.md5(this.password)),code:"good"}).then((function(t){var n=t.success,a=t.message;n?e.setStateIsLogin():dsf.layer.message(a,!1)})).catch((function(e){dsf.layer.message(e.message||"未知错误",!1)})).finally((function(){e.loading=!1}))},setStateIsLogin:function(){dsf.cookies.set("isLogin",1);var e=this.$route.query.from;e=e?decodeURIComponent(e):dsf.config.loginSuccessTo,location.replace(e)}}}}).call(this,n("2ef0"))},8902:function(e,t,n){"use strict";(function(e,a){n("99af"),n("7db0"),n("c740"),n("d81d"),n("fb6a"),n("a9e3"),n("d3b7"),n("e25e"),n("4795");var i=n("5530"),s=n("2909"),l=n("dfde"),o=n("4461");t["a"]=dsf.component({ctrlCaption:"信息公开",mixins:[l["a"]],name:"DsfOneThingBanner",components:{DsfOneThingBox:o["a"]},props:{dataSource:{type:Array,default:function(){return[{img:n("0723"),url:"",text:[{icon:"icon-liebiao1",text:"解读居转户和人才引进落户最新政策"},{icon:"icon-liebiao1",text:"解读居转户和人才引进落户最新政策"},{icon:"icon-liebiao1",text:"解读居转户和人才引进落户最新政策"},{icon:"icon-liebiao1",text:"解读居转户和人才引进落户最新政策"},{icon:"icon-liebiao1",text:"解读居转户和人才引进落户最新政策"}]}]}},loop:{type:Boolean,default:!1},loopDelay:{type:Number,default:3e3},page:{type:Boolean,default:!0},effect:{type:String,default:"opacity"},btn:{type:Boolean,default:!0}},data:function(){return{list:[],newsList:[],activeId:"",width:0,$timer:null,noTrans:!1,isTransition:!1}},computed:{wrapStyle:function(){var e=this,t=this.list.findIndex((function(t){return t.id===e.activeId}));return{width:"".concat(this.width*this.list.length,"px"),transform:"translateX(-".concat(this.width*t,"px)")}},imgStyle:function(){var e={};return"slide"===this.effect&&(e.width="".concat(this.width,"px")),e},activeText:function(){var e=this,t=this.list.find((function(t){return t.id===e.activeId}));return!(!t||!t.text)&&t.text}},methods:{resize:function(){this.width=e(".dsf-onething-banner").width()},format:function(e){var t=this;"slide"===this.effect&&(e=[Object(i["a"])(Object(i["a"])({},e[e.length-1]),{},{vitual:!0})].concat(Object(s["a"])(e),[Object(i["a"])(Object(i["a"])({},e[0]),{},{vitual:!0})]));var n=e.map((function(e,n){return"slide"===t.effect?1===n&&(t.activeId=e.id):0===n&&(t.activeId=e.id),Object(i["a"])({},e)}));this.list=n},prev:function(){var e=this;if(!this.isTransition){var t=this.list.findIndex((function(t){return t.id===e.activeId})),n=t-1;"slide"===this.effect?n<1&&(this.isTransition=!0,setTimeout((function(){e.noTrans=!0,e.activeId=e.list[e.list.length-2].id,e.isTransition=!1,setTimeout((function(){e.noTrans=!1}),0)}),800)):n<0&&(n=this.list.length-1),this.activeId=this.list[n].id}},next:function(){var e=this;if(!this.isTransition){var t=this.list.findIndex((function(t){return t.id===e.activeId})),n=t+1;"slide"===this.effect?n>this.list.length-2&&(this.isTransition=!0,setTimeout((function(){e.noTrans=!0,e.activeId=e.list[1].id,e.isTransition=!1,setTimeout((function(){e.noTrans=!1}),0)}),800)):n>this.list.length-1&&(n=0),this.activeId=this.list[n].id}},link:function(e){window.open("./page.html#/ot/otherpage/newsdetail/"+e.id,"_target")},toggle:function(e){this.activeId=e.id},clearLoop:function(){clearTimeout(this.$timer),this.$timer=null},startLoop:function(){var e=this;this.$timer&&this.clearLoop(),this.$timer=setTimeout((function(){e.next(),e.startLoop()}),parseInt(this.loopDelay||5e3,10))},getNoticeData:function(){var e=this;this.$http.get("/ot/notice/getNoticeData").then((function(t){var n=t.data,i=a.map(n.data,(function(e){var t=a.isArray(JSON.parse(e.y_tzgg_004))?JSON.parse(e.y_tzgg_004)[0].absolutePath:"";return{id:e.ot_t_01_id,text:e.y_tzgg_001,img:t}}));e.list=a.slice(i,0,3),e.newsList=a.slice(i,3,9),e.format(e.list)})).catch((function(e){dsf.layer.message("加载出错",!1)})).finally((function(){}))}},mounted:function(){this.width=e(".dsf-onething-banner").width(),window.addEventListener("resize",this.resize)},created:function(){this.getNoticeData()},destroyed:function(){window.removeEventListener("resize",this.resize),this.clearLoop()}})}).call(this,n("1157"),n("2ef0"))},"8b23":function(e,t,n){"use strict";var a=n("110e"),i=[{type:"group",text:"公共",buttons:[{caption:"打开窗口",text:"打开窗口",title:"打开窗口",actionName:"system_open_window",icon:"",params:[{value:"",desc:"打开页面的地址",default:"无"}]},{caption:"关闭窗口",text:"关闭",title:"关闭",actionName:"system_close_window",icon:"icon-guanbi2",params:[{value:"false",desc:"关闭时是否要刷新父页面",default:"false"}]}]},{type:"group",text:"表单",buttons:[{caption:"保存",text:"保存",title:"保存",actionName:"system_form_save",icon:"icon-baocun",params:[{value:"",desc:"是否要刷新父页面",default:"true"},{value:"",desc:"保存时附加的参数多用于二次开发判断区分",default:""},{value:"",desc:"如果弹出窗口打开表单,保存后是否关闭窗口",default:"false"},{value:"",desc:"保存成功的提示信息",default:"保存成功"},{value:"",desc:"保存失败的提示信息",default:"保存失败"}]}]},{type:"datagrid",text:"数据列表",buttons:[{caption:"单行删除",text:"单行删除",title:"单行删除",actionName:"system_datagrid_delete",icon:"icon-shanchu",params:[{value:"",desc:"删除依赖的唯一标识字段",default:"_id"},{value:"",desc:"是否级联删除树形结构下级数据",default:"false"}]},{caption:"批量删除",text:"批量删除",title:"批量删除",actionName:"system_datagrid_batch_delete",icon:"icon-shanchu",params:[{value:"",desc:"删除依赖的唯一标识字段",default:"_id"},{value:"",desc:"是否级联删除树形结构下级数据",default:"false"}]}]},{type:"subTable",text:"子表",buttons:[{caption:"新增",text:"单行新增",title:"单行新增",actionName:"system_subtable_insert",icon:"icon-hao",params:[]},{caption:"清空",text:"清空",title:"清空",actionName:"system_subtable_clear",icon:"icon-shanchu",params:[]},{caption:"选择",text:"选择",title:"选择",actionName:"system_subtable_datachoice",icon:"icon-Magnifier",params:[{value:"",desc:"打开页面的地址",default:"无"},{value:"",desc:"弹窗默认标题",default:"子表选择"},{value:"",desc:"弹窗宽高设置（使用/分开）",default:"1000px/70vh"}]}]},{type:"group",text:"问卷",buttons:[{caption:"保存",text:"保存",title:"保存",actionName:"system_qi_save",icon:"icon-baocun",params:[{value:"",desc:"是否要刷新父页面",default:"true"},{value:"",desc:"保存时附加的参数多用于二次开发判断区分",default:""},{value:"",desc:"如果弹出窗口打开表单,保存后是否关闭窗口",default:"false"},{value:"",desc:"保存成功的提示信息，默认值”保存成功“。",default:"保存成功"},{value:"",desc:"保存失败的提示信息，默认值”保存失败“。",default:"保存成功"}]}]},{type:"group",text:"流程",buttons:[{caption:"发送",text:"发送",title:"发送",actionName:"system_flow_send",icon:"",params:[]},{caption:"退回",text:"退回",title:"退回",actionName:"system_flow_sendBack",icon:"",if:"@[url('sPID')]",params:[{value:"@[url('sPID')]",desc:"sPID",default:""},{value:"@[url('sCurLinkID')]",desc:"sCurLinkID",default:""}]},{caption:"销毁",text:"销毁",title:"销毁",actionName:"system_flow_destroy",icon:"",params:[]},{caption:"强制办结",text:"强制办结",title:"强制办结",actionName:"system_flow_forceClose",icon:"",params:[]},{caption:"回收",text:"回收",title:"回收",actionName:"system_flow_send_test",icon:"",params:[]},{caption:"移交",text:"移交",title:"移交",actionName:"system_flow_send_test",icon:"",params:[]}]}],s=i,l={groups:s,handler:a["a"]};t["a"]=l},"8d50":function(e,t,n){"use strict";(function(e,a){n("99af"),n("4160"),n("caad"),n("c975"),n("a15b"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("b680"),n("e25e"),n("ac1f"),n("2532"),n("1276"),n("159b");var i=n("7ef1"),s=n("7181"),l=n.n(s),o=n("9e2c");t["a"]=dsf.component({name:"DsfUploadImg",mixins:[i["a"]],ctrlCaption:"图片上传",props:{label:{type:String,default:"图片上传"},btnName:{type:String,default:"图片上传"},showBtnName:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},uploadFileNum:{type:Number,default:2},maxFileSize:{type:String,default:""},zipFileName:{type:String,default:""},required:{type:Boolean,default:!1},isCutPic:{type:Boolean,default:!0},aspectRatio:{type:String,default:""},requestUrl:{type:String,default:""},extsSetting:{type:Object,default:function(){return{}}},metadata:{type:Object,default:function(){return dsf.metadata.get("photo-meta-data")}}},data:function(){return{loading:!1,autoUpload:!0,isShowDownloadBtn:!1,uploadFileType:"file",uploadFileExts:".bpm,.jpg,.jpeg,.png,.gif",acceptMime:"",headersParam:{"X-XSRF-TOKEN":dsf.getCookie("XSRF-TOKEN")||""},defaultcover:l.a,handleList:{back:"左移",right:"右移",delete:"删除",scissors:"裁剪",upload2:"重新上传"},isCutSuccess:!1,editImg:!1,editFileImg:{},cropper:"",uploadFile:{status:!1,index:0}}},created:function(){this.rebuildDialogData()},computed:{setRequestUrl:function(){return dsf.url.getWebPath(this.requestUrl||"file/upload/")},multipleFiles:{get:function(){var e=[];return""!==this.value&&dsf.isDef(this.value)&&"string"===typeof this.value&&(e=JSON.parse(this.value)),e},set:function(e){this.emitValueChange(JSON.stringify(e))}}},methods:{beforeUpload:function(t){if(this.uploadFileExts){var n=t.name.split(".")[1].toLowerCase();if(!this.uploadFileExts.includes(n))return dsf.layer.message("选择文件中包含不支持的文件格式,请选择包含这些格式的文件：".concat(this.uploadFileExts),!1),!1}var a=this.maxFileSize?this.getFileSize(this.maxFileSize):"",i=!a||t.size/1024<a;if(!i)return dsf.layer.message("文件大小不能超过".concat(this.maxFileSize),!1),!1;var s=!1,l="";return e.forEach(this.multipleFiles,(function(e){e.originalFileName==t.name&&(s=!0,l+=e.name+" ")})),s?(dsf.layer.message("已存在文件【".concat(l,"】，请修改后重新上传"),!1),!1):void 0},handleProgress:function(){this.loading=!0},handleSuccess:function(e){if(this.loading=!1,e.success&&2e4==e.state){var t=e.data[0];this.uploadFile.status?(this.multipleFiles.splice(this.uploadFile.index,1,t),this.uploadFile.status=!1,this.emitValueChange(JSON.stringify(this.multipleFiles))):(this.multipleFiles=this.multipleFiles.concat(e.data),this.uploadFileNum==this.multipleFiles.length&&(dsf.layer.message("当前限制选择最多 ".concat(this.uploadFileNum," 个文件"),!1),this.multipleFiles.slice(0,this.uploadFileNum),this.emitValueChange(JSON.stringify(this.multipleFiles))))}},handleError:function(e,t,n){this.loading=!1;var a=JSON.parse(JSON.stringify(e));"404"==a.status?dsf.layer.message("服务器异常",!1):dsf.layer.message("上传异常",!1)},handleExceed:function(e,t){dsf.layer.message("当前限制选择最多 ".concat(this.uploadFileNum," 个文件"),!1)},getFileSize:function(e){var t=parseInt(e);return(e.indexOf("M")>-1||e.indexOf("m")>-1)&&(t=1024*parseInt(e)),t},handleColumnClick:function(e,t,n){var a=this,i={back:function(){if(0!==n){var e=a.multipleFiles[n-1];a.multipleFiles.splice(n-1,1),a.multipleFiles.splice(n,0,e),a.emitValueChange(JSON.stringify(a.multipleFiles))}},right:function(){if(n+1!==a.multipleFiles.length){var e=a.multipleFiles[n+1];a.multipleFiles.splice(n+1,1),a.multipleFiles.splice(n,0,e),a.emitValueChange(JSON.stringify(a.multipleFiles))}},delete:function(){dsf.layer.confirm("确定要删除【".concat(t.originalFileName,"】文件吗?")).then((function(){a.multipleFiles.splice(n,1),a.emitValueChange(JSON.stringify(a.multipleFiles))})).catch((function(e){return e}))},scissors:function(){a.editFileImg="",a.editImg=!0,a.editFileImg=t,a.uploadFile.index=n},upload2:function(){a.uploadFile={status:!0,index:n}}};i[e]&&i[e]()},editFile:function(e){this.editImg=!1,this.multipleFiles.splice(this.uploadFile.index,1,e),this.uploadFile.status=!1,this.emitValueChange(JSON.stringify(this.multipleFiles))},handleClose:function(){this.editImg=!1},computeFileSize:function(e){var t="";return t=parseInt(e)>105e4?(e/Math.pow(1024,2)).toFixed(2)+"M":(e/Math.pow(1024,1)).toFixed(2)+"K",t},downLoadFn:function(){for(var e=[],t="",n=0;n<this.multipleFiles.length;n++){var i=this.multipleFiles[n].id,s=this.multipleFiles[n].name,l=i+"^"+s;e.push(l)}t=e.join(",");var o=dsf.url.getWebPath("file/download");a("<form action="+o+' method="get"><input type="text" name="files" value="'+t+'"/><input type="text" name="zipName" value="'+this.zipFileName+'"/></form>').appendTo("body").submit().remove()},rebuildDialogData:function(){if(this.extsSetting.extStr){var e=this.extsSetting;this.uploadFileType=e.fileType,this.isLinkeMine=e.isLinkeMine,this.uploadFileExts=e.extStr,this.acceptMime=e.mineStr}}},components:{cropImage:o["a"]}})}).call(this,n("2ef0"),n("1157"))},9078:function(e,t,n){"use strict";(function(e){n("a15b"),n("d81d"),n("ac1f"),n("5319"),n("2ca0"),n("498a");var a=n("8b23"),i=n("dfde");t["a"]=dsf.component({name:"DsfButtonBar",ctrlCaption:"按纽组",mixins:[i["a"]],props:{owner:{type:Object,default:function(){return null}},size:{type:String,default:""},align:{type:String,default:"center"},buttons:{type:Array,default:function(){return[]}},emitPrefix:{type:String,default:""},renderButton:{type:Function,default:null}},computed:{moreButtonsReal:function(){var t=this,n=[];return e.each(this.moreButtons,(function(e){t.showAndHide(e)&&n.push(e)})),n}},data:function(){return{showButtons:[],moreButtons:[],moreButtonStyle:"",moreFold:!0}},created:function(){},mounted:function(){},updated:function(){},methods:{showAndHide:function(e){var t=!0;return this.isDesign||(t=!e.if||!1!==this.$eval(e.if,this.$local)),this.renderButton&&(t=this.renderButton(e,t)),t},clickHandler:function(t,n){var i=this;if(!t.disabled&&!this.isDesign){var s=this.owner||this;if(t.isSystem){var l=a["a"].handler,o=e.map(t.params,(function(e){if(e.value){var n=/^function(\s+\w*)?\(.*\)/,a=e.value.trim();if(n.test(a)){var l=["debugger;","var result= ("+a+").call(this,data,button,owner,self);","data=null;","button=null;","owner=null;","self=null;","return result;"],o=new Function("data","button","owner","self",l.join("\n")),r=o.call(i.$vm,i.$local,t,s,i);return"string"==dsf.type(r)&&(r=i.$replace(r,i.$local)),r}var c=i.$replace(e.value,i.$local);return"false"===c?c=!1:"true"===c&&(c=!0),c}return null}));l[t.actionName]&&l[t.actionName].call(this.$vm,{owner:s,data:this.$local,_self:this,targetButton:t,params:o},n)}else{var r=(this.emitPrefix?this.emitPrefix+"-":"")+t.actionName,c=s.$listeners[r];c&&dsf.isFunction(c)&&c({owner:s,data:this.$local,targetButton:t,_self:this},n)}}},getIcon:function(e){var t=e.icon;return t&&t.startsWith("icon-")?t.replace("icon-",""):t},popoverShow:function(){this.moreFold=!1},popoverClose:function(){this.moreFold=!0},triggerButtonClick:function(e){this.clickHandler(e)}},watch:{buttons:{handler:function(t){var n=this;this.showButtons=[],this.moreButtons=[],e.each(t,(function(e){!e.isMore&&n.showButtons.push(e)})),e.each(t,(function(e){e.isMore&&n.moreButtons.push(e)})),this.moreButtons.length>0&&(this.moreButtonStyle=this.moreButtons[0].btnStyle?"ds-button__"+this.moreButtons[0].btnStyle:"ds-button")},immediate:!0}}})}).call(this,n("2ef0"))},"924a":function(e,t,n){"use strict";n("b0c0");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCtrl,expression:"showCtrl"}],staticClass:"ds-control ds-question-item ds-fill",class:{"ds-qi-has-rela":!e.hasRela,ds_hide:!e.visible}},[n("p",{class:["ds-question-body",{"ds-question-require":e.required}]},[n("span",{staticClass:"ds-question-index"},[e._v(e._s(e.questionIndex?e.questionIndex+"：":""))]),e._l(e.html,(function(t,a){return[e._v(" "+e._s(t)+" "),a<e.html.length-1&&e.html.length>2?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer["text_"+(a+1)],expression:"answer['text_'+(index+1)]"}],key:a,staticClass:"ds-qi-fill",attrs:{type:"text",maxlength:e.max,readonly:e.readOnly},domProps:{value:e.answer["text_"+(a+1)]},on:{input:[function(t){t.target.composing||e.$set(e.answer,"text_"+(a+1),t.target.value)},e.setWidth]}})]:e._e(),a<e.html.length-1&&e.html.length<=2?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"answer"}],key:a,staticClass:"ds-qi-fill",attrs:{type:"text",maxlength:e.max,readonly:e.readOnly},domProps:{value:e.answer},on:{input:[function(t){t.target.composing||(e.answer=t.target.value)},e.setWidth]}})]:e._e()]})),n("span",{ref:"font",staticClass:"ds-qi-fill font-pre"})],2)])},i=[],s=n("3877"),l=s["a"],o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null),c=r.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCtrl,expression:"showCtrl"}],staticClass:"ds-control ds-question-item ds-qa",class:{"ds-qi-has-rela":!e.hasRela,ds_hide:!e.visible}},[n("DsfQITitle",{attrs:{required:e.required,"question-index":e.questionIndex,"question-body":e.questionBody}}),e.isTextArea?[n("el-input",{attrs:{type:"textarea",placeholder:e.placeholder,maxlength:+e.max,readonly:e.readOnly,"show-word-limit":""},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})]:[n("el-input",{attrs:{type:"text",placeholder:e.placeholder,maxlength:+e.max,readonly:e.readOnly,"show-word-limit":""},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})]],2)},d=[],f=(n("a9e3"),n("480c")),h=dsf.component({name:"DsfQIQA",ctrlCaption:"问答题",mixins:[f["a"]],data:function(){return{inputValue:""}},props:{isTextArea:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入"},max:{type:[Number,String],default:200}},components:{},computed:{},mounted:function(){},created:function(){}}),p=h,m=Object(o["a"])(p,u,d,!1,null,null,null),g=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCtrl,expression:"showCtrl"}],staticClass:"ds-control ds-question-item ds-question-rate",class:{"ds-qi-has-rela":!e.hasRela,ds_hide:!e.visible}},[n("p",{class:["ds-question-body",{"ds-question-require":e.required}]},[n("span",{staticClass:"ds-question-index"},[e._v(e._s(e.questionIndex)+"：")]),e._v(e._s(e.questionBody))]),n("el-rate",{attrs:{max:+e.starLength,"allow-half":e.half,"show-text":e.showText,texts:e.textsArr,disabled:e.readOnly},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},b=[],y=(n("ac1f"),n("1276"),dsf.component({name:"DsfQIRate",ctrlCaption:"评分题",mixins:[f["a"]],data:function(){return{inputValue:0}},props:{starLength:{type:[Number,String],default:5},half:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},texts:{type:String,default:"极差,失望,一般,满意,惊喜"}},components:{},computed:{textsArr:function(){return this.texts.split(",")}},mounted:function(){},created:function(){},methods:{}})),x=y,_=Object(o["a"])(x,v,b,!1,null,null,null),w=_.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCtrl,expression:"showCtrl"}],staticClass:"ds-control ds-question-item ds-question-slider",class:{"ds-qi-has-rela":!e.hasRela,ds_hide:!e.visible}},[n("p",{class:["ds-question-body",{"ds-question-require":e.required}]},[n("span",{staticClass:"ds-question-index"},[e._v(e._s(e.questionIndex)+"：")]),e._v(e._s(e.questionBody)+"（"+e._s(e.inputValue)+"）")]),n("el-slider",{staticClass:"question-slider",attrs:{disabled:e.readOnly,max:+e.max,min:+e.min,step:+e.step},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},S=[],k=dsf.component({name:"DsfQISlider",ctrlCaption:"滑块题",mixins:[f["a"]],data:function(){return{inputValue:0}},props:{isTextArea:{type:Boolean,default:!1},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1}},components:{},computed:{},mounted:function(){},created:function(){},methods:{}}),D=k,$=Object(o["a"])(D,C,S,!1,null,null,null),O=$.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCtrl,expression:"showCtrl"}],staticClass:"ds-control ds-question-item ds-radio",class:{"ds-qi-has-rela":!e.hasRela,ds_hide:!e.visible}},[n("DsfQITitle",{attrs:{required:e.required,"question-index":e.questionIndex,"question-body":e.questionBody}}),0==e.layout?n("el-radio-group",{attrs:{disabled:e.readOnly},on:{change:e.change},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e._l(e.items,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])})),e.isOther&&!e.hasOther?n("el-radio",{attrs:{label:"else"}},[e._v(" 其他 ")]):e._e()],2):n("el-radio-group",{attrs:{disabled:e.readOnly},on:{change:e.change},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[n("el-row",[e._l(e.items,(function(t){return n("el-col",{key:t.value,attrs:{span:e.getColSpan}},[n("el-radio",{attrs:{label:t.value}},[e._v(e._s(t.text))])],1)})),e.isOther&&!e.hasOther?n("el-col",{attrs:{span:e.getColSpan}},[n("el-radio",{attrs:{label:"else"}},[e._v(" 其他 ")])],1):e._e()],2)],1)],1)},T=[],N=n("d285"),B=N["a"],F=Object(o["a"])(B,I,T,!1,null,null,null),j=F.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCtrl,expression:"showCtrl"}],staticClass:"ds-control ds-question-item ds-radio",class:{"ds-qi-has-rela":!e.hasRela,ds_hide:!e.visible}},[n("DsfQITitle",{attrs:{required:e.required,"question-index":e.questionIndex,"question-body":e.questionBody}}),n("el-checkbox-group",{attrs:{disabled:e.readOnly},on:{change:e.change},model:{value:e.checkValue,callback:function(t){e.checkValue=t},expression:"checkValue"}},["0"==e.layout?[e._l(e.items,(function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])})),e.isOther&&!e.hasOther?n("el-checkbox",{attrs:{label:"else"}},[e._v(" 其他 ")]):e._e()]:n("el-row",[e._l(e.items,(function(t){return n("el-col",{key:t.value,attrs:{span:e.optionCol}},[n("el-checkbox",{attrs:{label:t.value}},[e._v(e._s(t.text))])],1)})),e.isOther&&!e.hasOther?n("el-col",{attrs:{span:e.optionCol}},[n("el-checkbox",{attrs:{label:"else"}},[e._v(" 其他 ")])],1):e._e()],2)],2)],1)},E=[],V=(n("4de4"),n("c740"),n("d81d"),n("d3b7"),n("25f0"),n("53ca")),P=dsf.component({name:"DsfQICheckBox",ctrlCaption:"多选题",mixins:[f["a"]],data:function(){return{valueCopy:[]}},props:{items:{type:Array,default:function(){return[{text:"选项1",value:1},{text:"选项2",value:2}]}},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}},isOther:{type:Boolean,default:!1},layout:{type:[String,Number],default:"0"},mustCheckNum:{type:Number,default:0},maxCheckNum:{type:Number,default:0}},components:{},computed:{checkValue:{get:function(){return"array"===dsf.type(this.valueCopy)?this.valueCopy.map((function(e){return e.value})):[]},set:function(e){this.initValue(e)}},hasOther:function(){return this.items.findIndex((function(e){return"else"===e.value}))>-1},optionCol:function(){switch(this.layout.toString()){case"1":return 24;case"2":return 12;case"3":return 8;case"4":return 6;case"5":return 4;default:return 24}}},mounted:function(){},created:function(){this.initValue(this.value)},watch:{value:function(e){this.initValue(e)}},methods:{change:function(e){console.log(this.valueCopy)},initValue:function(e){var t;this.readOnly||(t=void 0===e||null===e?[]:"array"===dsf.type(e)?this.filterValue(e):this.filterValue([e]),"array"!==dsf.type(t)||this.isSame(t,this.valueCopy)||(this.valueCopy=t,this.updateValue(t)))},filterValue:function(e){var t=this;return e.map((function(e){return"object"===Object(V["a"])(e)&&void 0!==e.value?t.getObjectByValue(e.value):"string"===typeof e||"number"===typeof e||"boolean"===typeof e?t.getObjectByValue(e):void 0})).filter((function(e){return void 0!==e}))},getObjectByValue:function(e){if("else"==e)return{text:"其他",value:e};for(var t=0;t<this.items.length;t++){var n=this.items[t];if(e===n.value)return{text:n.text,value:e}}},isSame:function(e,t){if("array"===dsf.type(e)&&"array"===dsf.type(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var a=!1,i=0;i<t.length;i++)if(e[n].text===t[i].text&&e[n].value===t[i].value){a=!0;break}if(!a)return!1}return!0}return e===t},updateValue:function(e){this.emitValueChange(e),this.emitFormValidate(e)}},design:{layout:{exclude:["value","#items"]}}}),H=P,R=Object(o["a"])(H,L,E,!1,null,null,null),A=R.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{directives:[{name:"show",rawName:"v-show",value:e.showCtrl,expression:"showCtrl"}],staticClass:"ds-control ds-question-item ds-hello",domProps:{innerHTML:e._s(e.questionBody)}})},M=[],q=n("dfde"),W=dsf.component({name:"DsfQIHelloMsg",ctrlCaption:"欢迎语",mixins:[q["a"]],data:function(){return{}},props:{isQuestionControl:{type:Boolean,default:!0},isFormControl:{type:Boolean,default:!1},questionBody:{type:String,default:""}},components:{},computed:{},mounted:function(){},created:function(){}}),U=W,K=Object(o["a"])(U,z,M,!1,null,null,null),J=K.exports;n("4b56");function Y(e){e.component(O.name,O),e.component(w.name,w),e.component(g.name,g),e.component(c.name,c),e.component(j.name,j),e.component(A.name,A),e.component(J.name,J)}"undefined"!==typeof window&&window.Vue&&Y(window.Vue);t["a"]={install:Y}},"99f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g["a"]}));var a,i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-datagrid",class:e.getCss},[n("DsfPanel",{staticClass:"ds-datagrid-panel",style:{height:e.panelHeight},attrs:{"has-title":e.showTitle,"has-header":e.showHead,"title-border":!0},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.label))]},proxy:!0},{key:"header",fn:function(){return[n("div",{staticClass:"ds-datagrid-header"},[n("div",{staticClass:"ds-datagrid-header-right"},[e.checkboxColumn.show?n("div",{staticClass:"head-right-item"},[n("span",{staticClass:"ds-datagrid-checkednumber ds_font5"},[n("i",{staticClass:"icon-093info iconfont layui-icon icon-color ds_icon_4",staticStyle:{"margin-right":"5px"}}),e._v("已选："),n("font",{staticStyle:{margin:"0px 5px"},attrs:{handler:"checkedNumber"}},[e._v(e._s(e.multipleSelection.length))]),e._v("条 ")],1)]):e._e(),e.showSearch?n("div",{staticClass:"head-right-item",staticStyle:{"margin-left":"10px"}},[n("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.search(t)}}},[n("el-input",{staticClass:"search-input",attrs:{placeholder:e.searchPlaceholder},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}),n("button",{staticClass:"search-button"},[n("i",{staticClass:"iconfont icon-fangdajing"})])],1)]):e._e(),e.buttons.length?n("div",{staticClass:"head-right-item",staticStyle:{"margin-left":"10px"}},[n("DsfButtonBar",{class:{"ds-no-padding":!0},attrs:{buttons:e.buttons,owner:e._self,"is-design":e.isDesign,$local:e.$local}})],1):e._e()])])]},proxy:!0},{key:"default",fn:function(){return[n("div",{staticClass:"ds-datagrid-search-wrap"},[e.superSearchInfo.length>0?n("div",{style:{height:e.tableMarginTop+"px"}},[n("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.search(t)}}},[n("div",{staticStyle:{float:"left","min-height":"1px"},style:{width:e.superSearchButtonTrigger?"calc(100% - 120px)":"100%"}},[n("DsfSuperSearch",{attrs:{"show-fitler":e.showSuperSearchFilter,"search-item-setting":e.superSearchInfo,value:e.superValue,owner:e._self,"search-height":e.superSearchHeight,"default-rows-number":e.superSearchDefaultRowsNumber},on:{"update:value":function(t){e.superValue=t},"update:searchHeight":function(t){e.superSearchHeight=t},"update:search-height":function(t){e.superSearchHeight=t}}})],1),e.superSearchButtonTrigger?n("div",{staticClass:"ds-datagrid-search-wrap-buttons",staticStyle:{float:"left",width:"120px"}},[n("button",{staticClass:"ds-button",staticStyle:{float:"right"}},[n("i",{staticClass:"iconfont icon-fangdajing"}),e._v("检索")])]):e._e()])]):e._e()]),n("div",{staticClass:"ds-datagrid-content-wrap",style:{height:e.contentWrapHeight}},[e.isDesign?n("el-table",{ref:"table",attrs:{border:!0,data:e.templateData,height:e.tableHeight,stripe:""}},[e.checkboxColumn.show?n("el-table-column",{attrs:{type:"selection",label:"",width:60,"header-align":"center",align:"center"}}):e._e(),e.indexColumn.show?n("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",resizable:!1,width:e.indexColumn.width,"header-align":"center",align:"center"}}):e._e(),e._t("default"),e.isReDrawHander?e._e():[e._l(e.columns,(function(t,a){return n("DsfDataGridColumn",{key:a,ref:"header",refInFor:!0,attrs:{column:t,sortable:e.getColumnSort(t)},scopedSlots:e._u([e._l(e.getLastColumns(t),(function(t){return{key:t.columnId,fn:function(n){return[e._t(t.columnId,null,null,n)]}}}))],null,!0)})})),e.operateColumn.show?n("el-table-column",{attrs:{label:"操作",width:e.operateColumn.width,"header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("DsfButtonBar",{staticClass:"ds-no-padding ds-no-drop",attrs:{size:"small","is-design":e.isDesign,buttons:t._self.rowButtons,align:"center"}})]}}],null,!1,3785765027)}):e._e()]],2):n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{border:!0,fit:!0,data:e.data,height:e.tableHeight,"row-key":"_id",stripe:"","header-cell-class-name":e.getHeaderClass},on:{"selection-change":e.handleSelectionChange,"header-dragend":e.headerDragend,"row-dblclick":e.rowDblClickHandler,"sort-change":e.tableSort}},[e.checkboxColumn.show?n("el-table-column",{attrs:{type:"selection",label:"","reserve-selection":!0,width:60,"header-align":"center",align:"center",fixed:""}}):e._e(),e.indexColumn.show?n("el-table-column",{attrs:{type:"index",label:"序号",width:e.indexColumn.width,"header-align":"center",align:"center",fixed:""}}):e._e(),e._t("default"),e.isReDrawHander?e._e():e._l(e.columns,(function(t,a){return n("DsfDataGridColumn",{key:a,ref:"header",refInFor:!0,attrs:{column:t,sortable:e.getColumnSort(t)},scopedSlots:e._u([e._l(e.getLastColumns(t),(function(t){return{key:t.columnId,fn:function(n){return[e._t(t.columnId,null,null,n)]}}}))],null,!0)})})),e.operateColumn.show?n("el-table-column",{attrs:{label:"操作",width:e.operateColumn.width,"header-align":"center",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("buttonColumns",[n("div",{staticStyle:{"padding-top":"3px","padding-bottom":"3px"}},[n("DsfButtonBar",{staticClass:"ds-no-padding ",attrs:{size:"small",buttons:t._self.rowButtons,"emit-prefix":"row-button",owner:e._self,align:"center",$local:t.row}})],1)],null,t)]}}],null,!0)}):e._e()],2)],1),e.showPagination?n("div",{staticClass:"ds-datagrid-pager"},[n("el-pagination",{attrs:{"hide-on-single-page":!1,total:e.pageCount,"page-sizes":e.limits,"current-page":e.currentPage,background:"",layout:e.pagerLayout},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.pageSizeChange}})],1):e._e()]},proxy:!0}],null,!0)})],1)},l=[],o=n("1f30"),r=o["a"],c=n("2877"),u=Object(c["a"])(r,s,l,!1,null,null,null),d=u.exports,f=n("f5f4"),h=f["a"],p=Object(c["a"])(h,a,i,!1,null,null,null),m=p.exports,g=n("d4c3")},"9e2c":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"ds-upload",attrs:{width:"800px",title:"图片裁剪","append-to-body":!0,visible:e.editImg,"close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.editImg=t}}},[n("el-container",{staticStyle:{height:"450px"}},[n("el-main",{staticStyle:{padding:"0"}},[n("vue-picture-cut",{ref:"pictureCut",attrs:{src:e.src,"msk-option":e.mskRatio,"menu-thickness":0}})],1),n("el-aside",{staticClass:"edit-img",staticStyle:{width:"130px"}},[n("el-button",{attrs:{plain:""},on:{click:function(t){return e.rotate(-15)}}},[e._v("向左旋转")]),n("el-button",{attrs:{plain:""},on:{click:function(t){return e.rotate(15)}}},[e._v("向右旋转")]),n("el-button",{attrs:{plain:""},on:{click:e.scaleH}},[e._v("水平镜像")]),n("el-button",{attrs:{plain:""},on:{click:e.scaleV}},[e._v("垂直镜像")]),n("el-button",{attrs:{plain:""},on:{click:function(t){return e.zoom(.96)}}},[e._v("缩小")]),n("el-button",{attrs:{plain:""},on:{click:function(t){return e.zoom(1.04)}}},[e._v("放大")])],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.reset}},[e._v("重 置")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveFileImg}},[e._v("确 定")])],1)],1)},i=[],s=n("791a"),l=s["a"],o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null);t["a"]=r.exports},a6a4:function(e,t,n){"use strict";n.d(t,"b",(function(){return ee}));n("b0c0");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DsfOneThingBox",{attrs:{title:"信息公开"}},[n("div",{staticClass:"dsf-onething-banner",class:[e.effect],attrs:{slot:"content"},on:{mouseover:e.clearLoop,mouseout:function(){e.loop&&e.startLoop()}},slot:"content"},["slide"!==e.effect?n("transition-group",{attrs:{name:"opacity"}},e._l(e.list,(function(t,a){return n("el-image",{directives:[{name:"show",rawName:"v-show",value:t.id===e.activeId,expression:"item.id === activeId"}],key:t.id+a,style:e.imgStyle,attrs:{src:t.img,alt:t.text},on:{click:function(n){return e.link(t)}}})})),1):n("div",{class:["slide-wrap",e.noTrans?"notrans":""],style:e.wrapStyle},e._l(e.list,(function(t,a){return n("el-image",{key:t.id+a,style:e.imgStyle,attrs:{src:t.img,alt:t.text},on:{click:function(n){return e.link(t)}}})})),1),e.activeText?n("div",{staticClass:"texts"},[e._l(e.newsList,(function(t,a){return n("span",{key:"text-"+a,staticClass:"text-item",attrs:{title:t.text},on:{click:function(n){return e.link(t)}}},[n("i",{staticClass:"iconfont icon-liebiao1"}),n("span",[e._v(e._s(t.text))])])})),n("a",{staticClass:"more",attrs:{href:""}},[e._v("更多"),n("i",{staticClass:"iconfont icon-weibiaoti34"})])],2):e._e(),e.page?n("ul",{staticClass:"page"},[e._l(e.list,(function(t,a){return[a<3?n("li",{directives:[{name:"show",rawName:"v-show",value:!t.vitual,expression:"!item.vitual "}],key:"item.page-"+a,class:{active:t.id===e.activeId},on:{click:function(n){return e.toggle(t)}}}):e._e()]}))],2):e._e(),e.btn?n("div",{staticClass:"btn prev",on:{click:e.prev}},[n("i",{staticClass:"iconfont icon-zuo"})]):e._e(),e.btn?n("div",{staticClass:"btn next",on:{click:e.next}},[n("i",{staticClass:"iconfont icon-zuo"})]):e._e()],1)])},i=[],s=n("8902"),l=s["a"],o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null),c=r.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DsfOneThingBox",{attrs:{title:"消息中心"}},[n("div",{staticClass:"title-tag",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"item"},[e._v("全部")]),n("span",{staticClass:"item"},[e._v("待阅读"),n("span",{staticClass:"num"},[e._v("3")])]),n("span",{staticClass:"item"},[e._v("待反馈"),n("span",{staticClass:"num"},[e._v("1")])])]),n("div",{staticClass:"dsf-onething-message",attrs:{slot:"content"},slot:"content"},e._l(e.dataSource,(function(t){return n("div",{key:t[e.rowKey],staticClass:"message-item"},[n("div",{staticClass:"message-title"},[n("a",{attrs:{href:t.url}},[e._v(e._s(t.title))])]),n("div",{staticClass:"message-date"},[e._v(e._s(t.date))])])})),0)])},d=[],f=n("dfde"),h=n("4461"),p=dsf.component({ctrlCaption:"消息中心",mixins:[f["a"]],name:"DsfOneThingMessage",components:{DsfOneThingBox:h["a"]},props:{rowKey:{type:String,default:"id"},dataSource:{type:Array,default:function(){return[{id:1,title:"您为 张三 办理的落户申请缺少材料被退回，请补充材料重新办理。您为 张三 办理的落户申请缺少材料被退回，请补充材料重新办理。您为 张三 办理的落户申请缺少材料被退回，请补充材料重新办理。",date:"2020-07-03  13:00",url:""},{id:2,title:"您为 张三 办理的落户申请缺少材料被退回，请补充材料重新办理。",date:"2020-07-03  13:00",url:""},{id:3,title:"您为 张三 办理的落户申请缺少材料被退回，请补充材料重新办理。",date:"2020-07-03  13:00",url:""},{id:4,title:"您为 张三 办理的落户申请缺少材料被退回，请补充材料重新办理。",date:"2020-07-03  13:00",url:""},{id:5,title:"您为 张三 办理的落户申请缺少材料被退回，请补充材料重新办理。",date:"2020-07-03  13:00",url:""}]}}}}),m=p,g=Object(o["a"])(m,u,d,!1,null,null,null),v=g.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ds-control ds-no-padding ds-one-thing-service-box"},[a("DsfOneThingBox",{attrs:{"is-go":!1}},[a("template",{slot:"title"},[a("div",{staticClass:"service-tag"},e._l(e.services,(function(t,n){return a("div",{key:t.id,staticClass:"line"},[a("span",{class:{active:e.current===n},on:{click:function(a){return e.handleTag(n,t)}}},[e._v(e._s(t.name))])])})),0)]),a("template",{slot:"content"},[a("div",{staticClass:"ds-one-thing-service-item-box",class:{"big-font":1==e.current}},e._l(e.items[e.current],(function(t,i){return a("div",{key:i,staticClass:"ds-one-thing-service-item",attrs:{title:t.name}},[a("div",{staticClass:"service-item-icon",on:{click:function(n){return e.handelEvent(t)}}},[a("img",{attrs:{src:n("dc19")("./"+t.icon)}})]),a("div",{staticClass:"service-item-info"},[e._v(e._s(t.name))])])})),0)])],2)],1)},y=[],x=(n("4795"),dsf.component({ctrlCaption:"服务中心组件",mixins:[f["a"]],name:"DsfOneThingService",components:{DsfOneThingBox:h["a"]},data:function(){return{services:[{name:"服务场景",id:1},{name:"日常办公",id:2}],current:0,items:[[{name:"录用",icon:"luyong.png",ot_cm_id:"612db74b86e849939180999be3b4a650"},{name:"军转干部安置",icon:"zzgbaz.png",ot_cm_id:"3e63356161114f53966fcd4dff4c08c5"},{name:"调任",icon:"diaoren.png",ot_cm_id:"e7c4b63fb6ac4eb295d57cc0b3cef155"},{name:"选举登记",icon:"xjdj.png",ot_cm_id:"4ce2374870ba4c08a3e67ab741273a5a"},{name:"公开选拔",icon:"gkxb.png",ot_cm_id:"72ab01a65cf642bfb5315a7d9aec32b2"},{name:"聘任",icon:"pinren.png",ot_cm_id:"d18084ffb3ac4d5694845ca64b117b03"},{name:"参公过渡",icon:"cggd.png",ot_cm_id:"04da12fb45184b429ee10c9417c29f16"},{name:"转任",icon:"zhuanren.png",ot_cm_id:"cdfaa275d4e047bb9e1a0b71cd0b47ca"},{name:"参公交流",icon:"cgjl.png",ot_cm_id:"695d0cc616e64771855f9ada903e90b0"},{name:"职务职级变动",icon:"zwzjbd.png",ot_cm_id:"c704f1fb01cb4f91b29bce27a393e710"},{name:"调出",icon:"diaochu.png",ot_cm_id:"297153864b9343bfa29fdef8a976590b"},{name:"辞职",icon:"cizhi.png",ot_cm_id:"9f3ca651bb0040f9817363b76eafb09e"},{name:"辞退",icon:"citui.png",ot_cm_id:"e0102238b3294db4b37f444863619d24"},{name:"开除",icon:"kaichu.png",ot_cm_id:"d26ecc86bee74c4494b822c6ac7088a4"},{name:"退休",icon:"zwzjbd.png",ot_cm_id:"803f669275114f31991d7db0534dd0cd"}],[{name:"人设局自动静安系统",icon:"rsj.png"},{name:"公积金网上办理",icon:"gjj.png"},{name:"财务预算管理",icon:"cwys.png"},{name:"市学生事务中心官网",icon:"sxs.png"},{name:"市住房困难补贴系统",icon:"szf.png"},{name:"申共通",icon:"sgt.png"}]]}},methods:{handleTag:function(e,t){this.current=e,console.log("event",t)},handelEvent:function(e){var t=this;e.ot_cm_id&&this.$openDialog({title:"场景重选",width:"935px",height:"510px",params:{path:"ot/otherpage/sceneanditems?typeid=".concat(e.ot_cm_id)},btns:[{text:"确定",handler:function(e){var n=e.yes();if(!1===n)return!1;window.setTimeout((function(){t.$openWindow({dialogArgs:n,url:"./page.html#/pc/ot/fillin/form"})}),500)}},{text:"取消"}]})}}})),_=x,w=Object(o["a"])(_,b,y,!1,null,null,null),C=w.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ds-control ds-no-padding ds-one-thing-application"},[a("DsfOneThingBox",{attrs:{title:"应用中心"}},[a("template",{slot:"content"},[a("div",{staticClass:"application-box"},[a("div",{staticClass:"application"},[a("div",{staticClass:"icon-name"},[a("img",{attrs:{src:n("0904")}}),a("p",[e._v("办事指南")])]),a("div",{staticClass:"info-num"},[a("p",[e._v("平台使用手册")]),a("p",[e._v("办理事项说明")])])]),a("div",{staticClass:"application",on:{click:function(t){return e.eventJump("./index.html#/pc/ot/itmm/main")}}},[a("div",{staticClass:"icon-name"},[a("img",{attrs:{src:n("a2e8")}}),a("p",[e._v("管理中心")])]),a("div",{staticClass:"info-num"},[a("p",[e._v("单位信息待完善"),a("span",{staticClass:"num"},[e._v("5")])]),a("p",[e._v("公务员信息待完善"),a("span",{staticClass:"num"},[e._v("5")])])])])])])],2)],1)},k=[],D=dsf.component({ctrlCaption:"应用中心组件",mixins:[f["a"]],name:"DsfOneThingApplication",components:{DsfOneThingBox:h["a"]},methods:{sceneanditems:function(){var e=this;this.$openDialog({title:"并联办事信息",width:"935px",height:"510px",params:{path:"ot/otherpage/sceneanditems"},btns:[{text:"确定",handler:function(t){var n=t.yes();if(!1===n)return!1;window.setTimeout((function(){e.$openWindow({dialogArgs:n,url:"./page.html#/pc/ot/fillin/form"})}),500)}},{text:"取消"}]})},eventJump:function(e){window.open(e,"_self")}}}),$=D,O=Object(o["a"])($,S,k,!1,null,null,null),I=O.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isDesign?n("div",{staticClass:"ds-control",staticStyle:{"text-align":"center","background-color":"#fff",padding:"3px 0px","font-style":"italic",color:"#c0c0c0"}},[e._v(" 事项选择 ")]):n("div",{staticClass:"ds-control ds-one-thing-form-select"},[n("div",{staticClass:"ds-one-thing-form-select-top",on:{click:e.openDialog}},[n("span",[e._v("事项选择")]),n("i",{staticClass:"iconfont icon-ln_jiantouyou"})]),n("div",{staticClass:"ds-one-thing-form-select-body"},[n("ul",[e._l(e.matter,(function(t,a){var i=t.value,s=t.text,l=t.itemId;return[n("li",{key:i,class:{bofore:e.activeIndex>a,active:e.activeIndex===a}},[n("i"),n("i"),n("a",{on:{click:function(t){return e.scrollTo(l,a)}}},[e._v(e._s(s))])])]}))],2)])])},N=[],B=n("0158"),F=B["a"],j=Object(o["a"])(F,T,N,!1,null,null,null),L=j.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-one-thing-scene-select",class:e.getCss},[n("div",{staticClass:"header"},[n("div",{staticClass:"header-breadcrumb"},[n("span",{staticClass:"header-breadcrumb-item",on:{click:function(t){return e.switchScene(!0)}}},[e._v(" "+e._s(e.isSceneCopy?"场景选择":"场景")+" ")]),e.sceneActive?n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isSceneCopy&&e.sceneActive.name,expression:"!isSceneCopy && sceneActive.name"}],staticClass:"header-breadcrumb-item"},[e._v(" "+e._s(e.sceneActive.name)+" ")]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSceneCopy&&e.sceneActive,expression:"!isSceneCopy && sceneActive"}],staticClass:"header-more",on:{click:function(t){return e.switchScene(!0)}}},[e._v("更多场景")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loaded,expression:"!loaded"}],staticClass:"no-data"},[e._v(" 数据加载中... ")]),e.loaded?n("div",{staticClass:"body"},[n("transition",{attrs:{name:"scene-select-slide-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isSceneCopy,expression:"isSceneCopy"}],staticClass:"body-box scene-box"},e._l(e.sceneList,(function(t){return n("div",{key:t["ot_cm_id"],staticClass:"body-type"},[n("div",{staticClass:"body-type-label"},[e._v(e._s(t.name)+"：")]),t.childItem?n("div",{staticClass:"body-type-list"},e._l(t.childItem,(function(t){return n("div",{key:t["ot_cm_id"],staticClass:"scene-type-item",class:{active:e.sceneActive&&e.sceneActive["ot_cm_id"]===t["ot_cm_id"]},on:{click:function(n){return e.sceneClick(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0):e._e()])})),0)]),n("transition",{attrs:{name:"scene-select-slide-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSceneCopy,expression:"!isSceneCopy"}],staticClass:"body-box child-box"},[n("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.matterList,(function(t){return n("div",{key:t["ot_cm_id"],staticClass:"body-type"},[n("div",{staticClass:"body-type-label"},[e._v(e._s(t.name)+"：")]),t.childItem?n("div",{staticClass:"body-type-list"},[e._l(t.childItem,(function(t){var a=t.ds_order,i=t.ot_cm_id,s=t.itemid,l=t.name,o=t.code,r=t.task_handle_item;return[n("el-checkbox",{key:i,attrs:{label:(a||0)+"[-]"+i+"[-]"+(s||"")+"[-]"+l+"[-]"+(o||"")+"[-]"+(r||"")}},[e._v(" "+e._s(l)+" ")])]}))],2):e._e()])})),0)],1)])],1):e._e()])},V=[],P=(n("4160"),n("a15b"),n("d81d"),n("4e82"),n("e25e"),n("ac1f"),n("1276"),n("159b"),dsf.component({ctrlCaption:"场景选择",name:"DsfOneThingSceneSelect",mixins:[f["a"]],props:{isScene:{type:Boolean,default:!0,desc:"true 场景选择窗口，false 事项选择窗口"},metaData:{type:Object,required:!1}},data:function(){return{loaded:!1,isSceneCopy:!0,sceneActive:null,checkList:[],sceneList:[]}},computed:{matterList:function(){return this.sceneActive&&this.sceneActive.childItem||[]}},watch:{sceneActive:function(){this.switchScene(!1)}},created:function(){this.isSceneCopy=this.isScene,this.isDesign||this.postData()},methods:{yes:function(){if(!this.sceneActive||!this.checkList.length)return null;var e=this.sceneActive["name"],t=this.sceneActive["ot_cm_id"],n=this.checkList.map((function(e){var t=e.split("[-]");return{taskHandleItem:"null"===t[5]?"":t[5],code:"null"===t[4]?"":t[4],text:"null"===t[3]?"":t[3],itemId:"null"===t[2]?"":t[2],value:"null"===t[1]?"":t[1],order:parseInt("null"===t[0]?"-1":t[0])}})).sort((function(e,t){return e.order-t.order}));return{type:e,typeid:t,text:n.map((function(e){return e.text})).join(","),itemids:n.map((function(e){return e.itemId})).join(","),value:n.map((function(e){return e.value})).join(","),order:n.map((function(e){return e.order})).join(","),code:n.map((function(e){return e.code})).join(","),taskHandleItem:n.map((function(e){return e.taskHandleItem})).join(",")}},postData:function(){var e=this;this.loaded=!1,this.$http.get("ot/item/queryItemByItemId",{itemId:"48090b2502164d1ab6a046d51677c06d"}).done((function(t){var n=t.success,a=t.data;n&&e.postDataSuccess(a.childItem||[])})).always((function(){e.loaded=!0}))},postDataSuccess:function(e){var t=this;if(this.sceneList=e,this.metaData){var n=this.metaData,a=n.typeid,i=n.text,s=n.value,l=n.itemids,o=n.order,r=n.code,c=n.taskHandleItem;if(a)for(var u=0;u<e.length;u++){for(var d=0;d<e[u].childItem.length;d++){var f=e[u].childItem[d];if(a===f["ot_cm_id"]){this.sceneActive=f;break}}if(this.sceneActive)break}i&&s&&l&&o&&(s=s.split(","),i=i.split(","),l=l.split(","),o=o.split(","),r=r.split(","),c=c.split(","),o.forEach((function(e,n){t.checkList.push([e,s[n],l[n],i[n],r[n],c[n]].join("[-]"))}))),this.sceneActive&&(this.isSceneCopy=!1,this.$emit("update:isScene",!1))}},switchScene:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.isSceneCopy&&(this.isSceneCopy=e,this.$emit("update:isScene",e),!e&&t&&(this.checkList=[]))},sceneClick:function(e){this.sceneActive&&this.sceneActive["ot_cm_id"]===e["ot_cm_id"]?this.switchScene(!1,!1):(this.sceneActive=e,this.switchScene(!1))}}})),H=P,R=Object(o["a"])(H,E,V,!1,null,null,null),A=R.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:e.loading,expression:"loading",modifiers:{fullscreen:!0}}],staticClass:"ds-control ds-no-padding"},[e.isDesign?[e.isDesign?n("div",{staticStyle:{"text-align":"center","background-color":"#fff",padding:"3px 0px","font-style":"italic",color:"#c0c0c0"}},[e._v(" 动态表单 ")]):e._e()]:[e.isLoad?n("currentForm"):e._e()]],2)},M=[],q=n("d72a"),W=q["a"],U=Object(o["a"])(W,z,M,!1,null,null,null),K=U.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DsfSection",{attrs:{"is-design":e.isDesign,"margin-top":e.marginTop,"margin-bottom":e.marginBottom,"margin-left":e.marginLeft,"margin-right":e.marginRight,"padding-top":e.paddingTop,"padding-bottom":e.paddingBottom,"padding-left":e.paddingLeft,"padding-right":e.paddingRight,"margin-size":e.marginSize}},[e.isDesign||e.hiddenControls.length?n("DsfTitle3",{attrs:{value:e.label,"padding-left":e.labelWidth,"show-weight":""}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.hiddenType,expression:"!hiddenType"}],staticClass:"__dynamicForm-section-more",on:{click:e.toggel}},[n("span",[e._v("查看更多")]),n("i",{staticClass:"iconfont icon-xia1"})]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.hiddenType,expression:"hiddenType"}],staticClass:"__dynamicForm-section-more",on:{click:e.toggel}},[n("span",[e._v("收起更多")]),n("i",{staticClass:"iconfont icon-shang1"})])]):n("DsfTitle3",{attrs:{value:e.label,"show-weight":""}}),n("dsf-row",{ref:"row",style:[e.isDesign?{"min-height":"60px"}:{}],attrs:{"is-design":e.isDesign,"slot-name":"default"}},[e._t("default")],2)],1)},Y=[],X=n("2f4f"),G=X["a"],Q=Object(o["a"])(G,J,Y,!1,null,null,null),Z=Q.exports;function ee(e){e.component(v.name,v),e.component(c.name,c),e.component(C.name,C),e.component(I.name,I),e.component(L.name,L),e.component(A.name,A),e.component(K.name,K),e.component(Z.name,Z)}"undefined"!==typeof window&&window.Vue&&ee(window.Vue);t["a"]={install:ee}},ac7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",e._g(e._b({ref:"dialog",staticClass:"ds-dialog",on:{closed:e.closeHander},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title")]},proxy:!0},{key:"default",fn:function(){return[e._t("default")]},proxy:!0},{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},"el-dialog",e.$attrs,!1,!0),e.$listeners))},i=[],s={name:"DsfDialog",inheritAttrs:!1,provide:function(){return{$dialog:this}},data:function(){return{}},mounted:function(){},methods:{closeHander:function(){}}},l=s,o=n("2877"),r=Object(o["a"])(l,a,i,!1,null,null,null),c=r.exports},aea0:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-subtable-cell-content ds-no-padding"},[e._t(e.slots[0].name)],2)},i=[],s=n("821f"),l=dsf.component({name:"DsfSubTableCellContent",mixins:[s["a"]],ctrlCaption:"子表单元格内容",treeProxy:!1,layoutClone:!0,props:{treeProxy:{type:Boolean,default:!0},layoutClone:{type:Boolean,default:!0},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},cloneProps:{type:Boolean,default:!0}},data:function(){return{scope:null}},updated:function(){},created:function(){},mounted:function(){},methods:{},watch:{}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null);t["a"]=c.exports},b54a:function(e,t,n){},bb3d:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-html"},[e.isDesign?n("div",{staticStyle:{"text-align":"center","background-color":"#fff",padding:"3px 0px","font-style":"italic",color:"#c0c0c0"}},[e._v("html片段")]):n("div",{staticStyle:{"text-align":"center","background-color":"#fff",padding:"20px 0px","font-style":"italic",color:"#c0c0c0"}},[e._v(" html组件因为绑定数据原因只能在正式运行下查看 ")])])},i=[],s=n("dfde"),l=dsf.component({name:"DsfHtml",ctrlCaption:"Html",mixins:[s["a"]],props:{html:{type:String,default:""}}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null),u=c.exports},bf46:function(e,t,n){"use strict";(function(e,a){n("4160"),n("caad"),n("c975"),n("a15b"),n("baa5"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("b680"),n("e25e"),n("ac1f"),n("2532"),n("1276"),n("498a"),n("159b");var i=n("2909"),s=n("7ef1");t["a"]=dsf.component({name:"DsfUploadFile",mixins:[s["a"]],ctrlCaption:"文件上传",props:{label:{type:String,default:"文件上传"},btnName:{type:String,default:"文件上传"},showBtnName:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},uploadFileNum:{type:[Number,String],default:5},uploadOneFile:{type:Boolean,default:!1},maxFileSize:{type:String,default:""},zipFileName:{type:String,default:""},required:{type:Boolean,default:!1},isDragable:{type:Boolean,default:!1},requestUrl:{type:String,default:""},extsSetting:{type:Object,default:function(){return{}}},metadata:{type:Object,default:function(){return dsf.metadata.get("file-meta-data")}},hideBtns:{type:Boolean,default:function(){return!1}}},data:function(){return{loading:!1,autoUpload:!0,isShowDownloadBtn:!1,uploadFileType:"file",uploadFileExts:"",acceptMime:"",headersParam:{"X-XSRF-TOKEN":dsf.getCookie("XSRF-TOKEN")||""},_flowUploadClass:"ds_disposeIdea_uploadFile",handleList:{top:"上移",bottom:"下移",view:"预览",download:"下载",delete:"删除",upload2:"重新上传",video:""},isCutSuccess:!1,editFileName:!1,form:{name:"",index:0},uploadFile:{status:!1,index:0}}},computed:{setRequestUrl:function(){return dsf.url.getWebPath(this.requestUrl||"file/upload/")},multipleFiles:{get:function(){var e=[];return""!==this.value&&dsf.isDef(this.value)&&"string"===typeof this.value&&(e=JSON.parse(this.value)),e},set:function(e){this.emitValueChange(JSON.stringify(e))}},limitNumber:function(){return this.uploadOneFile?(this.multiple=!1,this.uploadFileNum=100,this.btnName="请点击上传文件",100):(this.multiple=!0,this.multiple?this.uploadFileNum:1)}},created:function(){this.rebuildDialogData()},methods:{beforeUpload:function(t){if(this.uploadFileExts){var n=t.name.split(".")[1].toLowerCase();if(!this.uploadFileExts.includes(n))return dsf.layer.message("选择文件中包含不支持的文件格式,请选择包含这些格式的文件：".concat(this.uploadFileExts),!1),!1}var a=this.maxFileSize?this.getFileSize(this.maxFileSize):"",i=!a||t.size/1024<a;if(!i)return dsf.layer.message("文件大小不能超过".concat(this.maxFileSize),!1),!1;var s=!1,l="";return e.forEach(this.multipleFiles,(function(e){e.originalFileName==t.name&&(s=!0,l+=e.name+" ")})),s?(dsf.layer.message("已存在文件【".concat(l,"】，请修改后重新上传"),!1),!1):void 0},handleProgress:function(e,t){this.loading=!0},handleSuccess:function(e,t,n){if(this.loading=!1,e.success&&2e4==e.state){var a,s=e.data[0];if("mp4"==s.suffix.toLowerCase()&&(this.isCutSuccess=this.videoIsCut(s.id),this.handleList.video=this.isCutSuccess?"切片成功":"切片"),this.uploadFile.status)this.multipleFiles.splice(this.uploadFile.index,1,s),this.uploadFile.status=!1,this.emitValueChange(JSON.stringify(this.multipleFiles));else(a=this.multipleFiles).push.apply(a,Object(i["a"])(e.data)),this.emitValueChange(JSON.stringify(this.multipleFiles)),this.uploadFileNum==this.multipleFiles.length&&(dsf.layer.message("当前限制选择最多 ".concat(this.uploadFileNum," 个文件???"),!1),this.multipleFiles.slice(0,this.uploadFileNum),this.emitValueChange(JSON.stringify(this.multipleFiles)))}else dsf.layer.message(e.message,!1)},handleError:function(e,t,n){this.loading=!1;var a=JSON.parse(JSON.stringify(e));"404"==a.status?dsf.layer.message("服务器异常",!1):dsf.layer.message("上传异常",!1)},handleExceed:function(e,t){dsf.layer.message("当前限制选择最多 ".concat(this.uploadFileNum," 个文件---"),!1)},getFileSize:function(e){var t=parseInt(e);return(e.indexOf("M")>-1||e.indexOf("m")>-1)&&(t=1024*parseInt(e)),t},handleColumnClick:function(e,t,n){var i=this,s={top:function(){if(0!==n){var e=i.multipleFiles[n-1];i.multipleFiles.splice(n-1,1),i.multipleFiles.splice(n,0,e),i.emitValueChange(JSON.stringify(i.multipleFiles))}},bottom:function(){if(n+1!==i.multipleFiles.length){var e=i.multipleFiles[n+1];i.multipleFiles.splice(n+1,1),i.multipleFiles.splice(n,0,e),i.emitValueChange(JSON.stringify(i.multipleFiles))}},view:function(){var e=dsf.url.getWebPath("preview/file?fileId="+t.id);window.open(e)},delete:function(){dsf.layer.confirm("确定要删除【".concat(t.originalFileName,"】文件吗?")).then((function(){i.multipleFiles.splice(n,1),i.emitValueChange(JSON.stringify(i.multipleFiles))})).catch((function(e){return e}))},download:function(){var e=dsf.url.getWebPath("file/download");a('<form action="'+e+'" method="get"><input type="text" name="files" value="'+t.id+'"/><input type="text" name="zipName" value="'+(t.fileName||"")+'"/></form>').appendTo("body").submit().remove()},upload2:function(){i.uploadFile={status:!0,index:n}},edit:function(){i.editFileName=!0,i.form={name:t.name,index:n}}};s[e]&&s[e]()},editFile:function(){if(this.form.name){var t=e.trim(this.form.name),n=this.multipleFiles[this.form.index];n.name=t,n.originalFileName=t+"."+n.suffix,this.emitValueChange(JSON.stringify(this.multipleFiles)),this.editFileName=!1}else dsf.layer.message("名称不能为空",!1)},computeFileSize:function(e){var t="";return t=parseInt(e)>105e4?(e/Math.pow(1024,2)).toFixed(2)+"M":(e/Math.pow(1024,1)).toFixed(2)+"K",t},videoIsCut:function(e){var t=dsf.url.getWebPath("slice/video"),n=null;this.$http.get(t+"/"+e).done((function(e){if(e.success){var t=e.data.sd.name,a=t.lastIndexOf("."),i=t.substring(a+1);n="m3u8"==i.toLowerCase()}else dsf.layer.message("处理mp4文件"+e.message,!1);return n})).error((function(e){dsf.layer.message(e.message,!1)})).always((function(){return n}))},cutFile:function(e){var t=this,n=dsf.url.getWebPath("slice/manual/video");this.$http.get(n+"/"+e).done((function(e){e.success?t.isCutSuccess=!0:dsf.layer.message("视频切片失败，请稍后再试",!1)})).error((function(){})).always((function(){}))},downLoadFn:function(){for(var e=[],t="",n=0;n<this.multipleFiles.length;n++){var i=this.multipleFiles[n].id,s=this.multipleFiles[n].name,l=i+"^"+s;e.push(l)}t=e.join(",");var o=dsf.url.getWebPath("file/download");a("<form action="+o+' method="get"><input type="text" name="files" value="'+t+'"/><input type="text" name="zipName" value="'+this.zipFileName+'"/></form>').appendTo("body").submit().remove()},rebuildDialogData:function(){if(this.extsSetting.extStr){var e=this.extsSetting;this.uploadFileType=e.fileType,this.isLinkeMine=e.isLinkeMine,this.uploadFileExts=e.extStr,this.acceptMime=e.mineStr}},openSelectFile:function(){this.$refs.upload.$refs["upload-inner"].handleClick()}}})}).call(this,n("2ef0"),n("1157"))},c189:function(e,t,n){"use strict";(function(e){n("a9e3");var a=n("7ef1");function i(){var e=this,t=dsf.url.getWebPath("$/js/libs/UEditor/ueditor.parse.js");this.$http.importFiles(t).then((function(){uParse(e.uparseId,[{rootPath:"/static/js/libs/UEditor/",liiconpath:location.origin+"/static/js/libs/UEditor/themes/ueditor-list/",listDefaultPaddingLeft:"20"}])})).catch((function(e){dsf.layer.alert("加载UEditor.parse.js文件出错")}))}function s(){var t=this;e("#"+t.ueId).css("width","100%"),t.ue.setHeight(t.$richTxtHeight),t.value&&t.ue.setContent(t.value),t.ue.addListener("contentChange",(function(){t.emitValueChange(t.ue.getContent()),t.$emit("editor-change",{data:t.ue.getContent(),action:"contentChange"})})),t.ue.body.addEventListener("input",(function(){t.emitValueChange(t.ue.getContent()),t.$emit("editor-change",{data:t.ue.getContent(),action:"input"})})),t.ue.body.addEventListener("blur",(function(){t.emitFormValidate(t.ue.getContent()),t.$emit("editor-change",{data:t.ue.getContent(),action:"blur"})})),t.isDesign?(t.visible?t.ue.setEnabled():t.ue.setDisabled(),t.readOnly?t.ue.setHide():t.ue.setShow()):t.visible?t.ue.setShow():t.ue.setHide()}t["a"]=dsf.component({name:"DsfUEditor",mixins:[a["a"]],ctrlCaption:"富文本",props:{$richTxtHeight:{type:Number,default:400},metadata:{type:Object,default:function(){return dsf.metadata.get("big-text-meta-data")}},toolBar:{type:Array,default:function(){return["fullscreen","undo","redo","bold","italic","underline","removeformat","formatmatch","pasteplain","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","rowspacingtop","rowspacingbottom","lineheight","customstyle","paragraph","fontfamily","fontsize","indent","justifyleft","justifycenter","justifyright","justifyjustify","link","unlink","anchor","imagenone","imageleft","imageright","imagecenter","simpleupload","insertimage","insertvideo","inserttable","autotypeset"]}},showLabel:{type:Boolean,default:!0}},computed:{ueditorCss:function(){return this.showLabel?"have-label":""},msg:function(){var e="已经启用只读模式，",t=this.visible?e+"可见":e+"且不可见";return t}},watch:{$richTxtHeight:function(e){this.ue.setHeight(e)},visible:function(e){e?this.ue.setEnabled():this.ue.setDisabled()},readOnly:function(e){e?this.ue.setHide():this.ue.setShow()},toolBar:function(){this.renderUEditor()}},data:function(){return{ue:null,ueId:null,uparseId:null}},mounted:function(){var e=this;if(!e.isDesign&&e.readOnly){var t=dsf.uuid();return e.$refs.uParse.id=t,e.uparseId=t,void i.call(e)}var n=dsf.uuid();e.$refs.UEditor.id=n,e.ueId=n;var a=dsf.url.getWebPath("$/js/libs/UEditor/ueditor.config.js"),s=dsf.url.getWebPath("$/js/libs/UEditor/ueditor.all.js");e.$http.importFiles([a,s]).then((function(){e.renderUEditor()})).catch((function(e){dsf.layer.alert("加载UEditor.js文件出错")}))},beforeDestroy:function(){this.ue.destroy(),this.ue=null},methods:{renderUEditor:function(){var e=this;e.ue&&e.ue.destroy(),e.ue=UE.getEditor(e.ueId,{autoHeightEnabled:!1,toolbars:[e.toolBar]}),e.ue.ready((function(){s.call(e)}))}}})}).call(this,n("1157"))},d014:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"ds-control ds-no-padding",class:e.getCss,style:[{width:e.cellWidth},e.cellStyle,e.cellBorderStyle],attrs:{"slot-name":e.slots[0].name,"c-index":e.rowIndex+","+e.cellIndex,rowspan:e.rowspan,colspan:e.colspan,align:e.cellAttr.align,valign:e.cellAttr.valign}},[e._t(e.slots[0].name)],2)},i=[],s=(n("a9e3"),n("821f")),l=dsf.component({name:"DsfTableCell",ctrlCaption:"表格布局单元格",mixins:[s["a"]],props:{slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},width:{type:[Number,String],default:function(){return"auto"}},rowspan:{type:Number,default:1},colspan:{type:Number,default:1},cellIndex:{type:Number,default:0},rowIndex:{type:Number,default:0},cellAttr:{type:Object,default:function(){return{align:"",valign:""}}},cellStyle:{type:Object,default:function(){return{}}},cellBorderStyle:{type:Object,default:function(){return{}}}},computed:{cellWidth:function(){var e=this.width;return this.colspan>1?"auto":"number"===e?e+"px":e||"auto"}},created:function(){this.isDesign||this.$vm&&this.$local&&this.$parent.tableCells.push(this)},beforeDestroy:function(){this.isDesign||dsf.array.remove(this.$parent.tableCells,this)},methods:{}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null);t["a"]=c.exports},d285:function(e,t,n){"use strict";(function(e){n("7db0"),n("c740"),n("a9e3"),n("d3b7"),n("25f0");var a=n("480c");t["a"]=dsf.component({name:"DsfQIRadio",ctrlCaption:"单选题",mixins:[a["a"]],data:function(){return{}},props:{items:{type:Array,default:function(){return[{text:"选项1",value:1},{text:"选项2",value:2}]}},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}},isOther:{type:Boolean,default:!1},layout:{type:[String,Number],default:0}},components:{},computed:{hasOther:function(){return this.items.findIndex((function(e){return"else"===e.value}))>-1},radioValue:{get:function(){return this.value?this.value.value:""},set:function(t){var n=e.find(this.items||[],(function(e){return e.value===t})),a=n||{value:t,text:"其他"};this.emitValueChange(a),this.emitFormValidate(a)}},getColSpan:function(){switch(this.layout.toString()){case"1":return 24;case"2":return 12;case"3":return 8;case"4":return 6;case"5":return 4;default:return 24}}},watch:{value:function(t){if("string"===dsf.type(t)||"number"===dsf.type(t)||"boolean"===dsf.type(t)){var n=e.find(this.items,(function(e){return e.value===t}));this.emitValueChange(n||{value:t,text:"其他"})}}},mounted:function(){},created:function(){},methods:{change:function(e){console.log(e)}},design:{layout:{exclude:["value","#items"]}}})}).call(this,n("2ef0"))},d440:function(e,t,n){"use strict";(function(e){n("7db0"),n("c740"),n("c975"),n("a9e3"),n("e25e");var a=n("7ef1"),i={value:"",text:""};t["a"]=dsf.component({name:"DsfRadioBox",mixins:[a["a"]],ctrlCaption:"单选",props:{simple:{type:Boolean,default:!1},value:{type:[Object,String,Number,Boolean],default:function(){return i}},items:{type:Array,default:function(){return[]}},type:{type:Number,validator:function(e){return-1!==[0,1,2].indexOf(parseInt(e))},default:0},isOther:{type:Boolean,default:!1},formatter:{type:String,default:"textValue^text"},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}}},computed:{radioValue:{get:function(){return this.value?this.value.value:""},set:function(t){var n=e.find(this.items||[],(function(e){return e.value===t})),a=n||i;this.emitValueChange(n||i),this.emitFormValidate(a)}},border:function(){return 1===this.type},isButton:function(){return 2===this.type},hasOther:function(){return this.items.findIndex((function(e){return"else"===e.value}))>-1}},watch:{value:function(t){if("string"===dsf.type(t)||"number"===dsf.type(t)||"boolean"===dsf.type(t)){var n=e.find(this.items,(function(e){return e.value===t}));this.emitValueChange(n||i)}}},methods:{},design:{layout:{exclude:["value","#items"]}}})}).call(this,n("2ef0"))},d4c3:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-datagrid-cell-content ds-no-padding"},[e._t(e.slots[0].name)],2)},i=[],s=n("821f"),l=dsf.component({name:"DsfDataGridCellContent",mixins:[s["a"]],ctrlCaption:"表格单元格内容",props:{treeProxy:{type:Boolean,default:!0},layoutClone:{type:Boolean,default:!0},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},cloneProps:{type:Boolean,default:!0}},data:function(){return{scope:null,singleFormControl:null,slotsClone:null}},updated:function(){},created:function(){},mounted:function(){},methods:{}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null);t["a"]=c.exports},d72a:function(e,t,n){"use strict";(function(e){n("a15b"),n("d81d"),n("d3b7"),n("ac1f"),n("1276"),n("2ca0");var a=n("dfde"),i=n("60e4");t["a"]=dsf.component({name:"DsfDynamicForm",mixins:[a["a"]],ctrlCaption:"动态表单",provide:function(){return{$dynamicForm:this}},props:{isDynamicForm:{type:Boolean,default:!0},url:{type:String,default:"/dynamic/meta"},prefix:{type:String,default:"dynamicForm"},ids:{type:Array,default:function(){return[]}},cmIds:{type:Array,default:function(){return[]}},idcard:{type:String,default:""},baseinfoKey:{type:[Array,String],default:function(){return[]}},childrenDev:{type:Object,default:function(){return{}}}},data:function(){return{isLoad:!1,loading:!1,$components:[],components:[],lastData:{},changing:!1}},computed:{$prefix:function(){return"~"+this.prefix}},created:function(){this.isDesign||(document.body.classList.add("__dynamicForm"),this.$vm&&this.$form&&this.$form.addFiled(this)),this.$watch((function(){return this.ids.join(",")+"|"+this.idcard}),(function(e,t){if(t&&e){var n=e.split("|"),a=t.split("|");a[1]&&n[1]!==a[1]&&this.resetForm()}this.changeForm()}),{immediate:!0})},destroyed:function(){this.$options.components.currentForm&&(this.$options.components.currentForm=null,delete this.$options.components.currentForm),document.body.classList.remove("__dynamicForm")},methods:{changeForm:function(){var t=this;if(this.ids.length>0&&!this.changing){this.changing=!0,this.loading=!0;var n={rmIds:this.ids.join(","),cmIds:this.cmIds.join(",")},a={rmIds:this.ids.join(","),idCard:this.idcard};dsf.mix(n,this.$vm.queryString);var i=this.$http.get(this.url,n),s=this.$http.get("/dynamic/history",a);i.then((function(n){var a=n.data;return t.isLoad=!1,t.$data.$components=e.map(a.data,(function(t){return t.controls=e.map(t.controls,(function(e){return{dict:e.dict||null,props:JSON.parse(e.content)}})),t})),s})).then((function(e){var n=e.data;t.lastData=n.data})).catch((function(e){dsf.error(e),dsf.layer.message("表单加载出现错误",!1)})).finally((function(){t.loading=!1,t.changing=!1,t.$nextTick((function(){t.loadForm()}))})),this.$http.all([i,s]).then((function(n){t.isLoad=!1,e.each(n,(function(e,t){}))})).catch((function(){dsf.layer.message("动态表单加载出错",!1)})).finally((function(){t.loading=!1}))}else this.isLoad=!1,this.$data.$components=[]},loadForm:function(){this.$options.components.currentForm=Object(i["a"])(this),this.isLoad=!0},addFiled:function(e){e.isFormControl&&!e.$list&&this.components.push(e)},removeFiled:function(e){dsf.array.remove(this.components,e)},resetForm:function(){var t=this;e.each(this.$vm.$viewData,(function(e,n){n.startsWith(t.$prefix)&&t.$delete(t.$vm.$viewData,n)}))}},watch:{}})}).call(this,n("2ef0"))},e0df:function(e,t,n){"use strict";(function(e){n("99af"),n("c975"),n("a15b"),n("fb6a"),n("b0c0"),n("ac1f"),n("5319"),n("1276");var a=n("2909"),i=n("dfde"),s=n("fbe9");t["a"]=dsf.component({inheritAttrs:!1,name:"DsfViewPart",ctrlCaption:"页面视图",mixins:[i["a"]],provide:function(){return{$frame:this}},props:{path:{type:String,default:""},showModel:{type:String,default:"none"},backgroundColor:{type:String,default:""},forceUpdate:{type:Boolean,default:!0}},data:function(){return{componentName:"",nameSpace:"",pageName:"",params:{}}},created:function(){this.$vm&&this.$vm.frames&&(this.$vm.frames[this.caption]=this)},computed:{getCss:function(){return[].concat(Object(a["a"])(this.$getClass()),[this.shadow?"shadow":"","full"==this.showModel?"full":""])}},updated:function(){this.isDesign&&this.$dispatch("design-height-change","full"==this.showModel?"100%":"auto")},methods:{getPath:function(){return this.$replace(this.path)},reset:function(){this.$refs.view.reset()},reloadData:function(){this.$refs.view.reloadData()},yes:function(){if(this.$refs.view.yes)return this.$refs.view.yes()}},watch:{path:{handler:function(t){var n=this;if(t&&!this.isDesign){var a=this.path.indexOf("?"),i=[this.path.substr(0,a<0?this.path.length:a),a<0?"":this.path.substr(a+1)],l=i[0],o=i[1],r=l.split("/"),c=l.replace(/\//g,".");this.nameSpace=r.slice(0,r.length-1).join("."),this.pageName=r[r.length-1];var u=dsf.url.parse(o);e.each(u,(function(e,t){n.params[t]=n.$replace(e)})),Object(s["a"])(c,"pc").then((function(e){n.componentName==e.name?n.forceUpdate?(n.componentName="",n.$nextTick((function(){n.componentName=e.name}))):(n.reset(),n.reloadData()):(n.componentName="",n.$nextTick((function(){n.componentName=e.name})))})).catch((function(e){dsf.layer.pc.message("无法加载组件",!1)}))}},immediate:!0}}})}).call(this,n("2ef0"))},e46b:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g["a"]}));var a,i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-subtable",class:e.getCss},[e.showLabel||e.buttonBars.length?n("div",{staticClass:"ds-subtable-tools"},[e.showLabel?n("dsf-title",{staticClass:"ds-no-padding",staticStyle:{float:"left","margin-top":"5px"},attrs:{value:e.label,"font-type":3,"show-weight":!0,"show-underline":!(!e.showLabel||!e.label)&&e.labelShowUnderline,"show-color-lump":!(!e.showLabel||!e.label)&&e.labelShowColorLump}}):e._e(),e.buttonBars.length?n("div",{staticClass:"head-right-item",staticStyle:{float:"right"}},[n("DsfButtonBar",{class:{"ds-no-padding":!0},attrs:{buttons:e.buttonBars,owner:e._self,$local:e.$local,size:"small"}})],1):e._e()],1):e._e(),e.isDesign?n("div",{staticClass:"ds-subtable-box"},[e.isDesign?n("el-table",{ref:"table",attrs:{data:e.templateData,border:!0,"row-key":e.setRowKey,"header-cell-class-name":e.headerCellClassName,"cell-class-name":e.cellClassName}},[e.isShowIndexColumn?n("el-table-column",{key:"indexColumn",attrs:{type:"index",index:e.indexMethod,label:"序号",width:59,resizable:!1,"header-align":"center",align:"center"}}):e._e(),e._t("default"),e.isReDrawHander?e._e():e._l(e.columns,(function(t,a){return n("DsfSubTableColumn",{key:a,ref:"header",refInFor:!0,attrs:{column:t},scopedSlots:e._u([e._l(e.getLastColumns(t),(function(t){return{key:t.columnId,fn:function(){return[e._t(t.columnId)]},proxy:!0}}))],null,!0)})})),e.isShowOperateColumn&&!e.readOnly?n("el-table-column",{key:"operateColumn",attrs:{resizable:!1,label:"操作",width:130,"header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t._self.allowEdit?n("DsfButton",{staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"tianxie",title:"修改"}}):e._e(),n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"shanchu",title:"删除"}}),n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"shang",title:"上移"}}),n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"xia",title:"下移"}})]}}],null,!1,124936449)}):e._e()],2):e._e()],1):e.isDesign?e._e():n("div",{staticClass:"ds-subtable-box",on:{click:function(e){e.stopPropagation()}}},[n("el-table",{ref:"table",attrs:{border:!0,data:e.list,"row-key":e.setRowKey,"row-class-name":e.setRowClass},on:{"row-dblclick":function(t){return e.rowDblClickHander(t)}},nativeOn:{focus:function(t){return e.editBlurHandler(t)}}},[e.isShowIndexColumn?n("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",resizable:!1,width:59,"header-align":"center",align:"center"}}):e._e(),e._t("default"),e.isReDrawHander?e._e():e._l(e.columns,(function(t,a){return n("DsfSubTableColumn",{key:a,ref:"header",refInFor:!0,attrs:{column:t},scopedSlots:e._u([e._l(e.getLastColumns(t),(function(t){return{key:t.columnId,fn:function(n){return[e._t(t.columnId,null,null,n)]}}}))],null,!0)})})),e.isShowOperateColumn&&!e.readOnly?n("el-table-column",{attrs:{label:"操作",width:130,resizable:!1,"header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.$editing?[n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"dui",title:"确定"},on:{click:function(n){return e.rowEditCompleteHandler(t)}}}),n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"cancel",title:"撤销"},on:{click:function(n){return e.rowEditCancelHandler(t)}}})]:[t._self.allowEdit?n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"tianxie",title:"修改"},on:{click:function(n){return e.rowEditHandler(t)}}}):e._e(),n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"shanchu",title:"删除"},on:{click:function(n){return e.rowDeleteHandler(t)}}}),n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"shang",title:"上移"},on:{click:function(n){return e.rowUpHandler(t)}}}),n("DsfButton",{staticClass:"ds-subtable-button",staticStyle:{"min-width":"auto"},attrs:{"btn-style":"icon-text",size:"small",icon:"xia",title:"下移"},on:{click:function(n){return e.rowDownHandler(t)}}})]]}}],null,!1,500152632)}):e._e()],2)],1),e.showPagination&&e.isDesign?n("div",{staticClass:"ds-subtable-footer"},[n("el-pagination",{attrs:{"hide-on-single-page":!1,total:1,background:"",layout:"total,prev,pager,next,jumper"}})],1):e.showPagination&&!e.isDesign?n("div",{staticClass:"ds-subtable-footer"},[n("el-pagination",{attrs:{"hide-on-single-page":!0,"current-page":e.currentPage,"page-count":e.pageCount,"page-size":e.pageSize,total:e.value.length,"pager-count":e.pagerCount,background:"",layout:"total,prev,pager,next,jumper"},on:{"current-change":e.currentChange}})],1):e._e()])},l=[],o=n("438d"),r=o["a"],c=n("2877"),u=Object(c["a"])(r,s,l,!1,null,null,null),d=u.exports,f=n("31a1"),h=f["a"],p=Object(c["a"])(h,a,i,!1,null,null,null),m=p.exports,g=n("aea0")},e4ab:function(e,t,n){"use strict";(function(e){n("4160"),n("baa5"),n("fb6a"),n("a9e3"),n("ac1f"),n("5319"),n("159b");var a=n("7ef1");t["a"]=dsf.component({name:"DsfAutoComplete",mixins:[a["a"]],ctrlType:"autocomplete",ctrlCaption:"自动填充",props:{simple:{type:Boolean,default:!1},openInputGrade:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入"},metadata:{type:Object,default:function(){return dsf.metadata.get("text-meta-data")}},metaDataType:{type:String,default:"0"},delay:{type:Number,default:300},source:{type:String,default:""},maxItemsNumber:{type:Number,default:20},autoSwitch:{type:Boolean,default:!0}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}},mounted:function(){},updated:function(){},destroyed:function(){},methods:{querySearchAsync:function(t,n){var a=this,i=dsf.express.replace(a.source);a.$http.get(i,{q:t}).done((function(t){if(t.success){var i=t.data.slice(0,a.maxItemsNumber+1);e.forEach(i,(function(e){e.label=e.label||e.value})),n(i)}else dsf.layer.message(t.message,!1)})).error((function(e){dsf.layer.message("查询输入建议报错",!1)}))},handleBlur:function(){this.$dispatch("blur"),this.emitFormValidate(this.value)},handleSelect:function(t){var n=this;if(this.$dispatch("select",t),this.inputValue=t.value,this.$vm){var a=this.$vm.getScopeMetaDataDict(this);this.$local&&e.forOwn(t,(function(t,i){e.forOwn(a,(function(e,a){if(1===e.fieldsLength)if(a===i)n.$vm.$set(n.$local,a,t);else{var s=a.lastIndexOf("."),l=a.substring(s+1,a.length);l===i&&n.$vm.$set(n.$local,a,t)}}))}))}this.$nextTick((function(){n.emitFormValidate(t.value)}))},handleChange:function(e){this.inputValue=e}}})}).call(this,n("2ef0"))},e679:function(e,t,n){"use strict";var a=n("518b"),i=n.n(a);i.a},e718:function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return L})),n.d(t,"a",(function(){return W})),n.d(t,"c",(function(){return N}));var a,i,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-select",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[n("span",{attrs:{title:e._f("proxy")(e.value,e.formatter)}},[e._v(e._s(e._f("proxy")(e.value,e.formatter)))]),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(e._s(e._f("proxy")(e.value,e.formatter)))])]):e._e():n("el-select",{class:{"ds-error-border":e.errors.length>0},attrs:{disabled:e.disabled,placeholder:e.placeholder,"collapse-tags":e.collapseTags,"multiple-limit":e.multipleLimit,multiple:e.multiple,filterable:e.filterable||e.allowCreate,"allow-create":e.allowCreate},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},[n("el-option",{attrs:{label:"",value:""}},[n("span",{staticStyle:{color:"#c0c0c0"}},[e._v("请选择")])]),e.isDesign?[n("el-option",{attrs:{label:"数据1",value:"1"}}),n("el-option",{attrs:{label:"数据2",value:"2"}}),n("el-option",{attrs:{label:"数据3",value:"3"}}),n("el-option",{attrs:{label:"数据4",value:"4"}}),n("el-option",{attrs:{label:"数据5",value:"5"}})]:e._l(e.$items,(function(e){return n("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],2),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},l=[],o=(n("4de4"),n("d81d"),n("a9e3"),n("53ca")),r=n("7ef1"),c=dsf.component({name:"DsfSelect",mixins:[r["a"]],ctrlCaption:"下拉框",props:{simple:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},value:{type:[Object,String,Number,Array],required:!1},items:{type:Array,default:function(){return[]}},filterable:{type:Boolean,default:!1,desc:"是否可搜索"},multiple:{type:Boolean,default:!1,desc:"是否多选"},allowCreate:{type:Boolean,default:!1,desc:"是否可创建条目"},maxChooseNum:{type:Number,default:0,desc:"多选时，选择上限，0为不限制"},collapseTags:{type:Boolean,default:!1,desc:"多选时，选中值是否以合并展示"},formatter:{type:String,default:"textValue^text"},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}}},data:function(){return{valueCopy:[]}},computed:{selectValue:{get:function(){return this.multiple?"array"===dsf.type(this.valueCopy)?this.valueCopy.map((function(e){return e.value})):[]:"array"===dsf.type(this.valueCopy)&&this.valueCopy.length?this.valueCopy[0].value:""},set:function(e){this.initValue(e)}},$items:function(){var e=this.items;return this.initValue(this.value),e},multipleLimit:function(){return this.maxChooseNum>0?this.maxChooseNum:0}},watch:{value:{handler:function(e){this.initValue(e)},immediate:!0},multiple:function(e,t){!e&&t&&(this.selectValue=this.valueCopy.length?this.valueCopy[0]:[])}},created:function(){this.initValue(this.value)},mounted:function(){},updated:function(){},methods:{initValue:function(e){var t;t=void 0===e||null===e?[]:"array"===dsf.type(e)?this.filterValue(e):this.filterValue([e]),this.isSame(t,this.valueCopy)||(this.valueCopy=t,this.updateValue(t))},filterValue:function(e){var t=this,n=[];return e.filter((function(e){var a=void 0;"object"===Object(o["a"])(e)&&void 0!==e.value?a=t.getObjectByValue(e.value):"string"!==typeof e&&"number"!==typeof e||(a=t.getObjectByValue(e)),void 0!==a&&n.push(a)})),n},getObjectByValue:function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(e===n.value)return{text:n.text,value:e}}},isSame:function(e,t){if("array"===dsf.type(e)&&"array"===dsf.type(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var a=!1,i=0;i<t.length;i++)if(e[n].text===t[i].text&&e[n].value===t[i].value){a=!0;break}if(!a)return!1}return!0}return e===t},updateValue:function(e){var t=this;if(this.multiple)this.emitValueChange(e),this.$nextTick((function(){t.emitFormValidate(e)}));else{var n=e.length?e[0]:{text:"",value:""};this.emitValueChange(n),this.$nextTick((function(){t.emitFormValidate(n)}))}}},design:{layout:{exclude:["value","#items"]}}}),u=c,d=n("2877"),f=Object(d["a"])(u,s,l,!1,null,null,null),h=f.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-radio-box",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[e._v(" "+e._s(e._f("proxy")(e.value,e.formatter))+" "),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",class:{border:e.border||e.isButton},style:e.getFormItemBlockMarginLeft()},[e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(" "+e._s(e._f("proxy")(e.value,e.formatter)))])]):e.isButton?n("el-radio-group",{attrs:{disabled:e.disabled},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e.isDesign&&!e.items.length?[n("el-radio-button",{attrs:{label:"1"}},[e._v("数据1")]),n("el-radio-button",{attrs:{label:"2"}},[e._v("数据2")]),n("el-radio-button",{attrs:{label:"3"}},[e._v("数据3")]),n("el-radio-button",{attrs:{label:"4"}},[e._v("数据4")]),n("el-radio-button",{attrs:{label:"5"}},[e._v("数据5")])]:e._l(e.items,(function(t,a){return n("el-radio-button",{key:a,attrs:{label:t.value}},[e._v(" "+e._s(t.text)+" ")])})),e.isOther&&!e.hasOther?n("el-radio-button",{attrs:{label:"else"}},[e._v(" 其他 ")]):e._e()],2):n("el-radio-group",{attrs:{disabled:e.disabled},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e.isDesign&&!e.items.length?[n("el-radio",{attrs:{border:e.border,label:"1"}},[e._v("数据1")]),n("el-radio",{attrs:{border:e.border,label:"2"}},[e._v("数据2")]),n("el-radio",{attrs:{border:e.border,label:"3"}},[e._v("数据3")]),n("el-radio",{attrs:{border:e.border,label:"4"}},[e._v("数据4")]),n("el-radio",{attrs:{border:e.border,label:"5"}},[e._v("数据5")])]:e._l(e.items,(function(t,a){return n("el-radio",{key:a,attrs:{label:t.value,border:e.border}},[e._v(" "+e._s(t.text)+" ")])})),e.isOther&&!e.hasOther?n("el-radio",{attrs:{label:"else"}},[e._v(" 其他 ")]):e._e()],2),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},m=[],g=n("d440"),v=g["a"],b=Object(d["a"])(v,p,m,!1,null,null,null),y=b.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-radio-box",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[e._v(" "+e._s(e._f("proxy")(e.value,e.formatter))+" "),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",class:{border:e.border||e.isButton},style:e.getFormItemBlockMarginLeft()},[e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(" "+e._s(e._f("proxy")(e.value,e.formatter)))])]):e.isButton?n("el-checkbox-group",e._b({attrs:{disabled:e.disabled},model:{value:e.checkValue,callback:function(t){e.checkValue=t},expression:"checkValue"}},"el-checkbox-group",e.options,!1),[e.isDesign&&!e.items.length?[n("el-checkbox-button",{attrs:{label:"1"}},[e._v("数据1")]),n("el-checkbox-button",{attrs:{label:"2"}},[e._v("数据2")]),n("el-checkbox-button",{attrs:{label:"3"}},[e._v("数据3")]),n("el-checkbox-button",{attrs:{label:"4"}},[e._v("数据4")]),n("el-checkbox-button",{attrs:{label:"5"}},[e._v("数据5")])]:e._l(e.items,(function(t,a){return n("el-checkbox-button",{key:a,attrs:{label:t.value}},[e._v(" "+e._s(t.text)+" ")])})),e.isOther&&!e.hasOther?n("el-checkbox-button",{attrs:{label:"else"}},[e._v(" 其他 ")]):e._e()],2):n("el-checkbox-group",e._b({attrs:{disabled:e.disabled},model:{value:e.checkValue,callback:function(t){e.checkValue=t},expression:"checkValue"}},"el-checkbox-group",e.options,!1),[e.isDesign&&!e.items.length?[n("el-checkbox",{attrs:{border:e.border,label:"1"}},[e._v("数据1")]),n("el-checkbox",{attrs:{border:e.border,label:"2"}},[e._v("数据2")]),n("el-checkbox",{attrs:{border:e.border,label:"3"}},[e._v("数据3")]),n("el-checkbox",{attrs:{border:e.border,label:"4"}},[e._v("数据4")]),n("el-checkbox",{attrs:{border:e.border,label:"5"}},[e._v("数据5")])]:e._l(e.items,(function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.value,border:e.border}},[e._v(" "+e._s(t.text)+" ")])})),e.isOther&&!e.hasOther?n("el-checkbox",{attrs:{label:"else"}},[e._v(" 其他 ")]):e._e()],2),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},_=[],w=(n("c740"),n("c975"),n("e25e"),dsf.component({name:"DsfCheckBox",mixins:[r["a"]],ctrlCaption:"多选",props:{simple:{type:Boolean,default:!1},value:{type:[Array,String,Number,Boolean,Object],default:function(){return[]}},items:{type:Array,default:function(){return[]}},type:{validator:function(e){return-1!==[0,1,2].indexOf(parseInt(e))},default:0},maxChooseNum:{type:Number,default:-1},minChooseNum:{type:Number,default:-1},isOther:{type:Boolean,default:!1},formatter:{type:String,default:"textValue^text"},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}}},data:function(){return{valueCopy:[]}},computed:{checkValue:{get:function(){return"array"===dsf.type(this.valueCopy)?this.valueCopy.map((function(e){return e.value})):[]},set:function(e){this.initValue(e)}},itemsValue:function(){return this.items.map((function(e){return e.value}))},border:function(){return 1===this.type},isButton:function(){return 2===this.type},hasOther:function(){return this.items.findIndex((function(e){return"else"===e.value}))>-1},options:function(){var e={};return this.maxChooseNum>=0&&(e.max=this.maxChooseNum),this.minChooseNum>=0&&(e.min=this.minChooseNum),e}},watch:{value:function(e){this.initValue(e)}},created:function(){this.initValue(this.value)},methods:{initValue:function(e){var t;this.readOnly||(t=void 0===e||null===e?[]:"array"===dsf.type(e)?this.filterValue(e):this.filterValue([e]),this.isSame(t,this.valueCopy)||(this.valueCopy=t,this.updateValue(t)))},filterValue:function(e){var t=this;return e.map((function(e){return"object"===Object(o["a"])(e)&&void 0!==e.value?t.getObjectByValue(e.value):"string"===typeof e||"number"===typeof e||"boolean"===typeof e?t.getObjectByValue(e):void 0})).filter((function(e){return void 0!==e}))},getObjectByValue:function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(e===n.value)return{text:n.text,value:e}}},isSame:function(e,t){if("array"===dsf.type(e)&&"array"===dsf.type(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var a=!1,i=0;i<t.length;i++)if(e[n].text===t[i].text&&e[n].value===t[i].value){a=!0;break}if(!a)return!1}return!0}return e===t},updateValue:function(e){this.emitValueChange(e),this.emitFormValidate(e)}},design:{layout:{exclude:["value","#items"]}}})),C=w,S=Object(d["a"])(C,x,_,!1,null,null,null),k=S.exports,D=(n("4e82"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-datachoice",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[n("span",{attrs:{title:e._f("proxy")(e.value,e.formatter)}},[e._v(e._s(e._f("proxy")(e.value,e.formatter)))]),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",{attrs:{title:e._f("proxy")(e.value,e.formatter)}},[e._v(e._s(e._f("proxy")(e.value,e.formatter)))])]):e._e():n("div",{staticClass:"ds-datachoice-input",class:{"is-disabled":e.disabled},on:{click:e.clickHandler}},[n("div",{ref:"tagsInput",staticClass:"ds-datachoice-tags",style:{width:"calc(100% - 26px)"}},[n("span",{ref:"tags"},e._l(e.value,(function(t){return n("el-tag",{key:t.value,staticClass:"el-tag--info",attrs:{size:"small",closable:!0,"disable-transitions":!0},on:{close:function(n){return e.removeTag(t)}}},[e._v(e._s(t.text))])})),1),e.disabled?e._e():n("el-autocomplete",{ref:"input",style:{width:e.inputWidth},attrs:{"highlight-first-item":"","popper-class":[e.popupClass,e.popupHide].join(" "),"value-key":"value","trigger-on-focus":!1,"fetch-suggestions":e.querySearch},on:{select:e.selectHandler},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[e._t("autocompletelist",[n("div",[e._v(e._s(a.text))])])]}}],null,!0),model:{value:e.inputStr,callback:function(t){e.inputStr=t},expression:"inputStr"}})],1),n("span",{staticClass:"el-input__suffix",on:{click:e.openDialog}},[e._m(0)])]),e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()])]],2)}),$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"el-input__suffix-inner"},[n("i",{staticClass:"el-input__icon el-icon-search"})])}],O=n("529f"),I=O["a"],T=Object(d["a"])(I,D,$,!1,null,null,null),N=T.exports,B=dsf.component({name:"DsfOuaSelect",mixins:[N],ctrlCaption:"部门人员",props:{dialogUrl:{type:String,default:"dsfa/oua/select"},dialogTitle:{type:String,default:"部门人员选择"},dataConfig:{type:Array,default:function(){return[]}},sort:{type:Boolean,default:!1,desc:"是否可排序"}},methods:{getChoiceParams:function(){return{slots:this.dataConfig,sort:this.sort,maxLength:this.maxTags}}}}),F=B,j=Object(d["a"])(F,a,i,!1,null,null,null),L=j.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-area-select",class:e.getCss},[e.readOnly&&!e.isDesign?[e._v(e._s(e.getShowContent()))]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",[e._v(e._s(e.getShowContent()))])]):e._e():n("div",{staticClass:"ds-area-select-wrap"},[e.showProvince?n("el-select",{attrs:{clearable:"","value-key":"treeinfo_globalid",disabled:e.isDisabled(e.provinceList),placeholder:"请选择省"},on:{change:function(t){return e.onChange(t,1)}},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}},e._l(e.provinceList,(function(e){return n("el-option",{key:e.treeinfo_globalid,attrs:{label:e.name,value:e}})})),1):e._e(),e.showCity?n("el-select",{attrs:{clearable:"","value-key":"treeinfo_globalid",disabled:e.isDisabled(e.cityList),placeholder:"请选择市"},on:{change:function(t){return e.onChange(t,2)}},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}},e._l(e.cityList,(function(e){return n("el-option",{key:e.treeinfo_globalid,attrs:{label:e.name,value:e}})})),1):e._e(),e.showDist?n("el-select",{attrs:{clearable:"","value-key":"treeinfo_globalid",disabled:e.isDisabled(e.distList),placeholder:"请选择县/区"},on:{change:function(t){return e.onChange(t,3)}},model:{value:e.dist,callback:function(t){e.dist=t},expression:"dist"}},e._l(e.distList,(function(e){return n("el-option",{key:e.treeinfo_globalid,attrs:{label:e.name,value:e}})})),1):e._e(),e.showStreet?n("el-select",{attrs:{clearable:"","value-key":"treeinfo_globalid",disabled:e.isDisabled(e.streetList),placeholder:"请选择街道"},on:{change:function(t){return e.onChange(t,4)}},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}},e._l(e.streetList,(function(e){return n("el-option",{key:e.treeinfo_globalid,attrs:{label:e.name,value:e}})})),1):e._e(),e.showTown?n("el-select",{attrs:{clearable:"","value-key":"treeinfo_globalid",disabled:e.isDisabled(e.townList),placeholder:"请选择村居"},on:{change:function(t){return e.onChange(t,5)}},model:{value:e.town,callback:function(t){e.town=t},expression:"town"}},e._l(e.townList,(function(e){return n("el-option",{key:e.treeinfo_globalid,attrs:{label:e.name,value:e}})})),1):e._e()],1)])]],2)},V=[],P=(n("99af"),n("a623"),n("cb29"),n("7db0"),n("a630"),n("caad"),n("a15b"),n("13d5"),n("fb6a"),n("b0c0"),n("ac1f"),n("2532"),n("3ca3"),n("1276"),n("5530")),H=n("2909"),R=n("b85c"),A=n("3835"),z=dsf.component({name:"DsfAreaSelect",mixins:[r["a"]],ctrlCaption:"行政区划",props:{placeholder:{type:String,default:"请选择"},value:{type:Object,default:function(){return{}}},superCode:{type:[String,Number],default:"000000000000"},fixedCode:{type:String,default:""},range:{type:Array,default:function(){return["0","4"]}},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}}},data:function(){return{province:{},city:{},dist:{},street:{},town:{},data:[]}},watch:{superCode:function(e){if(e&&12===e.length){var t=this.getLevelAndGlobalid(e),n=Object(A["a"])(t,2),a=n[0];n[1];a&&this.$emit("update:range",[String(a-2),String(this.endRange)])}}},computed:{startRange:function(){return parseInt(this.range[0],10)},endRange:function(){return parseInt(this.range[1],10)},showProvince:function(){return 0===this.startRange},showCity:function(){return this.startRange<=1&&this.endRange>=1},showDist:function(){return this.startRange<=2&&this.endRange>=2},showStreet:function(){return this.startRange<=3&&this.endRange>=3},showTown:function(){return this.startRange<=4&&this.endRange>=4},provinceList:function(){return this.data},cityList:function(){var e=this,t=[];if(1===this.startRange)t=this.data;else if(this.province&&this.province.treeinfo_globalid){var n=this.provinceList.find((function(t){return t.treeinfo_globalid===e.province.treeinfo_globalid}));t=n&&n.children?n.children:[]}return t},distList:function(){var e=this,t=[];if(2===this.startRange)t=this.data;else if(this.city&&this.city.treeinfo_globalid){var n=this.cityList.find((function(t){return t.treeinfo_globalid===e.city.treeinfo_globalid}));t=n&&n.children?n.children:[]}return t},streetList:function(){var e=this,t=[];if(3===this.startRange)t=this.data;else if(this.dist&&this.dist.treeinfo_globalid){var n=this.distList.find((function(t){return t.treeinfo_globalid===e.dist.treeinfo_globalid}));t=n&&n.children?n.children:[]}return t},townList:function(){var e=this,t=[];if(4===this.startRange)t=this.data;else if(this.street&&this.street.treeinfo_globalid){var n=this.streetList.find((function(t){return t.treeinfo_globalid===e.street.treeinfo_globalid}));t=n&&n.children?n.children:[]}return t}},methods:{isFixed:function(e){var t=this.getLevelAndGlobalid(this.fixedCode),n=Object(A["a"])(t,2),a=n[1];return a.includes(e.treeinfo_globalid)},isDisabled:function(e){var t=this,n=!1;return this.fixedCode&&(n=1===e.length&&e.every((function(e){return t.isFixed(e)}))),!!this.disabled||n},getCodeArr:function(e){for(var t=String(e),n=[],a=2,i=0;i<t.length;i+=a)6===i&&(a=3),n.push(t.slice(i,i+a));return n},getLevelAndGlobalid:function(e){var t=this.getCodeArr(e),n=t.reduce((function(t,n){var a=Object(A["a"])(t,2),i=a[0],s=a[1];if(parseInt(n,10)>0){i+=1;var l=Array.from(s[s.length-1]),o=e.indexOf(n);l[o]=n.slice(0,1),l[o+1]=n.slice(1,2),3===n.length&&(l[o+2]=n.slice(2,3)),s.push(l)}return[i,s]}),[2,[new Array(12).fill(0)]]),a=Object(A["a"])(n,2),i=a[0],s=a[1];return[i,s.map((function(e){return e.join("")})).join("."),t]},getNodeById:function(e,t){var n,a=null,i=Object(R["a"])(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.treeinfo_globalid===t?a=s:s.children&&s.children.length&&(a=this.getNodeById(s.children,t)),a)break}}catch(l){i.e(l)}finally{i.f()}return a},componentValueChange:function(){var e,t;switch(this.endRange){case 4:e=this.town,t="".concat(this.province.name,"-").concat(this.city.name,"-").concat(this.dist.name,"-").concat(this.street.name,"-").concat(this.town.name);break;case 3:e=this.street,t="".concat(this.province.name,"-").concat(this.city.name,"-").concat(this.dist.name,"-").concat(this.street.name);break;case 2:e=this.dist,t="".concat(this.province.name,"-").concat(this.city.name,"-").concat(this.dist.name);break;case 1:e=this.city,t="".concat(this.province.name,"-").concat(this.city.name);break;case 0:e=this.province,t="".concat(this.province.name);break}if(e&&e.areacode){var n={value:e.areacode,text:t};this.emitValueChange(n),this.emitFormValidate(n)}},setValueData:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.treeinfo_level-1){case 1:this.province=Object.assign({},t?this.province:e);break;case 2:this.city=Object.assign({},t?this.city:e);break;case 3:this.dist=Object.assign({},t?this.dist:e);break;case 4:this.street=Object.assign({},t?this.street:e);break;case 5:this.town=Object.assign({},t?this.town:e);break}},loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(this.range,this.startRange+2),a=(this.endRange,t&&t.treeinfo_level?parseInt(t.treeinfo_level,10)+1:n),i=this.getLevelAndGlobalid(this.superCode),s=Object(A["a"])(i,2),l=s[1],o=t&&t.treeinfo_globalid?t.treeinfo_globalid:l,r={TREEINFO_GLOBALID:o,END_LEVEL:a,START_LEVEL:a};if(!t&&!this.data.length&&this.fixedCode){var c=this.getLevelAndGlobalid(this.fixedCode),u=Object(A["a"])(c,2),d=u[0],f=u[1];r.TREEINFO_GLOBALID=f.split(".").slice(0,2).join("."),r.END_LEVEL=d}this.$http.get("area/getArea",r).then((function(n){var a=n.data;if(a.success){var i=function t(n){var a=Object(H["a"])(n);return a=a.map((function(n){return e.fixedCode&&e.isFixed(n)&&e.setValueData(n),e.value&&e.value.value&&n.areacode===e.value.value&&e.setValueData(n),Object(P["a"])(Object(P["a"])({},n),{},{loaded:!(!n.children||!n.children.length),children:n.children&&n.children.length?t(n.children):[]})})),a},s=i(a.data);if(t){var l=e.getNodeById(e.data,t.treeinfo_globalid);l&&(l.loaded=!0,l.children=s,e.setValueData(l,!0))}else e.data=s}}))},onChange:function(e,t){if(!e.loaded){switch(t){case 1:this.city={},this.dist={},this.street={},this.town={};break;case 2:this.dist={},this.street={},this.town={};break;case 3:this.street={},this.town={};break;case 4:this.town={};break}this.loadData(e)}this.componentValueChange()}},created:function(){this.isDesign||this.loadData()},design:{layout:{exclude:["value","items"]}}}),M=z,q=Object(d["a"])(M,E,V,!1,null,null,null),W=q.exports},e780:function(e,t,n){"use strict";(function(e){n("4160"),n("b0c0"),n("d3b7"),n("159b");var a=n("7ef1");t["a"]=dsf.component({name:"DsfFlowInfo",mixins:[a["a"]],ctrlCaption:"流程信息",props:{caption:{type:String,default:function(){return"wfinfo"}},chooseFlow:{type:Object,default:function(){return{}}},eventName:{type:String,default:function(){return""}},linkData:{type:Array,default:function(){return[]}},metadata:{type:Object,default:function(){return dsf.metadata.get("flow-info-meta-data")}}},data:function(){return{_RequestID:null}},watch:{chooseFlow:function(e){var t={wf_id:e.ID,wf_name:e.name};this.emitValueChange(t)}},computed:{},mounted:function(){},destroyed:function(){},methods:{linkSetChooseFlow:function(){document.querySelector("[a='linkData2'] .ds-button").click()},flowSend:function(e){var t=this,n=this.chooseFlow.dsfa_rm_id;if(n){var a="wfr/startSend",i={sWFID:n,sObjectID:e._id,sObjectName:this.eventName||"",sCurNodeID:"",sExInfos:""};if(this.$route.query.sPID&&(a="wfr/send",i={sPID:this.$route.query.sPID,sCurLinkID:this.$route.query.sCurLinkID||"",sExInfos:""}),this.$vm&&this.$vm.flows&&this.$vm.flows.disposeIdea){var s=this.$vm.flows.disposeIdea;i.sOpinion={Content:s.inputValue,Attachments:s.multipleFiles},i.sOpinion=JSON.stringify(i.sOpinion)}var l={param:i,url:a};console.log(l),this.$http.post(l.url,l.param).then((function(e){t.handler(e,[])})).catch((function(e){dsf.layer.message("发送异常",!1),t._RequestID=null})).finally((function(){}))}else dsf.layer.message("请先配置流程信息控件的'选择流程'",!1)},handler:function(e,t){if(2e4==e.data.state){var n=e.data.data;if(this._RequestID=n.RequestID,2e4==n.Code||20001==n.Code||20003==n.Code||20004==n.Code||20005==n.Code)this.directlySend(n),this.event.trigger(flowCtrlEvent.changeState,{data:n,type:"发送"});else if(81e3==n.Code)this.chooseSendNode(n);else if(82e3==n.Code)this.chooseSendTree(n);else{var a=null,i=n.Code;switch(i){case 20006:a="流程已被销毁";break;case 20007:a="流程已被强制办结";break;case 91e3:a="无后续可发送节点";break;case 92e3:a="无可选的发送对象";break;case 92001:a="该环节只允许发送给一人，但是必选项超过一个";break;case 92002:a="未找到继承环节";break;case 92003:a="对象超出可发送范围";break;case 92004:a="路径超出可发送范围";break;case 93e3:a="该事项已被处理";break;case 93001:a="保存流转情况信息失败";break;case 93002:a="保存流转环节信息失败";break;case 93003:a="该文件已被其他人签收";break;case 94001:a="与分支不能设置办结节点";break;case 95001:a="没有可回收的环节";break;case 95002:a="回收环节已接收或已处理，无法回收";break;case 95003:a="未填写退回原因";break;case 99e3:a="获取数据锁失败";break}dsf.layer.message(a||"未知流程类型发送",!1)}}else this._RequestID=null,dsf.layer.message("发送异常",!1)},directlySend:function(t){if(2e4==t.Code)e.forEach(t.Links,(function(e,t){if(0==e.Status&&e.LinkUser){var n=e.LinkUser,a=e.LinkUser.Type;1==a?"<span>"+n.UserName+"</span>":2==a?"<span>"+n.DeptName+"-"+n.RoleName+"</span>":3==a?"<span>"+n.JobName+"</span>":4==a&&"<span>"+n.UserName+"-"+n.RelationName+"</span>"}})),dsf.layer.message("<div class='userbox'></div>\n        <div>页面将在<span  class='timebox'>".concat(3,"</span>秒钟后自动关闭</div>"));else{var n="发送成功",a=t.Code;switch(a){case 20004:n="文件已办结";break;case 20005:n="文件已办结";break}dsf.layer.message("<div class='userbox'>\n          <span>".concat(n,"</span>\n        </div>\n        <div>页面将在<span  class='timebox'>",3,"</span>秒钟后自动关闭</div>"))}},getSendBackLink:function(e){var t=this,n={sPID:e[0]||null,sCurLinkID:e[1]||null};this.$http.post(dsf.url.getWebPath("wfr/getSendBackLink"),n).then((function(n){if(n.data.success&&n.data.data&&n.data.data.BackLinks){var a=n.data.data.BackLinks;1==a.length?t.sendBack(e,a[0].ID):chooseBackNode.call(t,a,e)}else dsf.layer.message(n.data.Message||"退回异常",!1)})).catch((function(e){dsf.layer.message("退回异常",!1)})).finally((function(){}))},sendBack:function(e,t,n){var a=this;dsf.layer.prompt("","退回原因",{inputPlaceholder:"请输入退回原因",inputType:"textarea",inputPattern:/\S/,inputErrorMessage:"退回原因不能为空",confirmButtonText:"确定"}).then((function(n){var i=n.value,s={sPID:e[0]||null,sCurLinkID:e[1]||null,sReason:i||null,sBackLinkID:t};a.$http.post(dsf.url.getWebPath("wfr/sendBack"),s).then((function(e){e.data.success&&e.data.data&&"21000"==e.data.data.Code?dsf.layer.message("退回成功",!0):dsf.layer.message(e.data.Message||"退回异常",!1)})).catch((function(e){dsf.layer.message("退回异常",!1)})).finally((function(){}))}))},chooseSendNode:function(e){var t=this;dsf.layer.pc.openDialog({title:"请选择要发送的环节：",width:"300px",height:"300px",overflow:"hidden",content:"ChooseSendNode",params:{lines:e.SendParams.Lines},btns:[{text:"确定",handler:function(e){if(e.validate()){var n=e.yes(),a={sRequestID:t._RequestID,sLineID:n.LineID};return t.$http.post("wfr/sendToLine",a).then((function(e){2e4==e.data.state&&dsf.layer.message("发送成功")})),!0}return!1}},{text:"取消"}]})},chooseSendTree:function(e){var t=this;dsf.layer.pc.openDialog({title:"请选择办理人",width:"900px",height:"420px",overflow:"hidden",content:"ChooseSendTree",params:{lines:e.SendParams.Lines},btns:[{text:"确定",handler:function(e){if(e.validate()){var n=e.yes(),a={sRequestID:t._RequestID,sReceivers:n};return t.$http.post("wfr/sendToReceivers",a).then((function(e){2e4==e.data.state&&dsf.layer.message("发送成功")})),!0}return!1}},{text:"取消"}]})}}})}).call(this,n("2ef0"))},e7bf:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return w}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-date-picker",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[n("span",{attrs:{title:e._f("proxy")(e.getShowContent(),e.formatter)}},[e._v(e._s(e._f("proxy")(e.getShowContent(),e.formatter)))]),e.errors.length?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",{attrs:{title:e._f("proxy")(e.getShowContent(),e.formatter)}},[e._v(e._s(e._f("proxy")(e.getShowContent(),e.formatter)))])]):e._e():n("el-date-picker",{ref:"datePicker",attrs:{disabled:e.disabled,type:e.chooseType,editable:e.isInput,format:e.timeFormat,clearable:e.clearable,placeholder:e.placeholder,"picker-options":e.pickerOptions,"value-format":e.valueFormat},on:{focus:e.pickerShow},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),e.errors.length?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},i=[],s=(n("a9e3"),n("7ef1")),l=dsf.component({inheritAttrs:!1,name:"DsfDatePicker",mixins:[s["a"]],ctrlCaption:"日期",props:{simple:{type:Boolean,default:!1},placeholder:{type:String,default:""},value:{type:String,default:""},label:{type:String,default:"日期选择"},$timeFormat:{type:String,default:"yyyy-MM-dd"},$chooseType:{type:String,default:"date"},clearable:{type:Boolean,default:!0},isInput:{type:Boolean,default:!1},$timeInter:{type:Array,default:function(){return["00:00:00","23:59:59"]}},pickerStepType:{type:Number,default:0},pickerInitDate:{type:Number,default:null},selectStartType:{type:Number,default:0},selectEndType:{type:Number,default:0},selectStartDate:{type:Number,default:Date.now()},selectEndDate:{type:Number,default:Date.now()},selectStartDateByDays:{type:Number,default:0},selectEndDateByDays:{type:Number,default:0},selectStartDateByMonths:{type:Number,default:0},selectEndDateByMonths:{type:Number,default:0},selectStartDateByYears:{type:Number,default:0},selectEndDateByYears:{type:Number,default:0},metadata:{type:Object,default:function(){return dsf.metadata.get("date-picker-meta-data")}}},data:function(){return{value2:""}},watch:{value:function(e){this.initValue(e)},value2:function(e){this.emitValueChange(e),this.emitFormValidate(e)}},computed:{chooseType:function(){return"datetime_s"===this.$chooseType?"datetime":this.$chooseType},timeFormat:function(){return"datetime"===this.$chooseType?this.$timeFormat+" HH:mm":"datetime_s"===this.$chooseType?this.$timeFormat+" HH:mm:ss":this.$timeFormat},valueFormat:function(){return"datetime"===this.$chooseType?"yyyy-MM-dd HH:mm":"datetime_s"===this.$chooseType?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"},pickerOptions:function(){var e=this;return{selectableRange:this.$timeInter[0]+"-"+this.$timeInter[1],disabledDate:function(t){return t=new Date(dsf.date.format(t,"yyyy/mm/dd 00:00:00")),e.pickerStartTime(t)||e.pickerEndTime(t)}}}},created:function(){this.initValue(this.value)},methods:{initValue:function(e){null!==e&&void 0!==e&&""!==e&&e!==this.value2&&(this.value2=e)},pickerShow:function(){var e=this;this.picker?this.pickerStepType&&this.$nextTick((function(){e.initPicker()})):this.$nextTick((function(){e.picker=e.$refs.datePicker.picker,null!==e.pickerInitDate&&(e.picker.date=new Date(e.pickerInitDate)),e.pickerStepType&&e.initPicker()}))},initPicker:function(){this.picker.currentView="year"},getDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/mm/dd 00:00:00";return void 0===e&&(e=new Date),new Date(dsf.date.format(e,t))},pickerStartTime:function(e){if(!this.selectStartType)return!1;if(1===this.selectStartType){var t=this.getDate();return e.getTime()<t.getTime()}if(2===this.selectStartType){var n=this.getDate(this.selectStartDate);return e.getTime()<n.getTime()}if(3===this.selectStartType){var a=this.getDate();return a=this.getDate(a.getTime()+864e5*this.selectStartDateByDays),e.getTime()<a.getTime()}if(4===this.selectStartType){var i=new Date,s=i.getMonth()+this.selectStartDateByMonths+1,l=i.getFullYear()+Math.floor(s/12)+"/";return s%=12,s=1===s.length?"0"+s:s,i=new Date(l+s+"/01 00:00:00"),e.getTime()<i.getTime()}if(5===this.selectStartType){var o=new Date,r=o.getFullYear()+this.selectStartDateByYears;return o=new Date(r+"/01/01 00:00:00"),e.getTime()<o.getTime()}return!1},pickerEndTime:function(e){if(!this.selectEndType)return!1;if(1===this.selectEndType){var t=this.getDate();return e.getTime()>t.getTime()}if(2===this.selectEndType){var n=this.getDate(this.selectEndDate);return e.getTime()>n.getTime()}if(3===this.selectEndType){var a=this.getDate();return a=this.getDate(a.getTime()+864e5*this.selectEndDateByDays),e.getTime()>a.getTime()}if(4===this.selectEndType){var i=new Date,s=i.getMonth()+this.selectEndDateByMonths+2,l=i.getFullYear()+Math.floor(s/12)+"/";return s%=12,s=1===s.length?"0"+s:s,i=new Date(l+s+"/01 00:00:00"),i.setTime(i.getTime()-864e5),e.getTime()>i.getTime()}if(5===this.selectEndType){var o=new Date,r=o.getFullYear()+this.selectEndDateByYears;return o=new Date(r+"/12/31 00:00:00"),e.getTime()>o.getTime()}return!1}}}),o=l,r=n("2877"),c=Object(r["a"])(o,a,i,!1,null,null,null),u=c.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-date-picker",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[n("span",{attrs:{title:e._f("proxy")(e.getShowContent(),e.formatter)}},[e._v(e._s(e._f("proxy")(e.getShowContent(),e.formatter)))]),e.errors.length?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly?e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",{attrs:{title:e._f("proxy")(e.getShowContent(),e.formatter)}},[e._v(e._s(e._f("proxy")(e.getShowContent(),e.formatter)))])]):e._e():n("el-date-picker",{attrs:{disabled:e.disabled,type:e.chooseType,editable:!1,format:e.timeFormat,clearable:e.clearable,placeholder:e.placeholder,"value-format":e.valueFormat},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),e.errors.length?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},f=[],h=dsf.component({name:"DsfDateIntervalPicker",mixins:[s["a"]],ctrlCaption:"日期范围",props:{simple:{type:Boolean,default:!1},placeholder:{type:String,default:""},value:{type:Object,default:function(){return{sdate:"",edate:""}}},label:{type:String,default:"日期范围"},$timeFormat:{type:String,default:"yyyy-MM-dd"},$chooseType:{type:String,default:"daterange"},clearable:{type:Boolean,default:!0},$timeInter:{type:Array,default:function(){return["00:00:00","23:59:59"]}},metadata:{type:Object,default:function(){return dsf.metadata.get("date-interval-meta-data")}}},data:function(){return{value2:["",""]}},watch:{value:function(e){this.initValue(e)},value2:function(e){var t={sdate:"",edate:""};2===e.length&&(t.sdate=e[0],t.edate=e[1]),this.emitValueChange(t),this.emitFormValidate(t)}},computed:{chooseType:function(){return"datetimerange_s"===this.$chooseType?"datetimerange":this.$chooseType},timeFormat:function(){return"datetimerange"===this.$chooseType?this.$timeFormat+" HH:mm":"datetimerange_s"===this.$chooseType?this.$timeFormat+" HH:mm:ss":this.$timeFormat},valueFormat:function(){return"datetimerange"===this.$chooseType?"yyyy-MM-dd HH:mm":"datetimerange_s"===this.$chooseType?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"}},created:function(){this.initValue(this.value)},methods:{initValue:function(e){e&&e.sdate&&e.edate&&(this.value2[0]!==e.sdate||this.value2[1]!==e.edate)&&(this.value2=[e.sdate,e.edate])}}}),p=h,m=Object(r["a"])(p,d,f,!1,null,null,null),g=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-date-picker",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[n("span",{attrs:{title:e._f("proxy")(e.getShowContent(),e.formatter)}},[e._v(e._s(e._f("proxy")(e.getShowContent(),e.formatter)))]),e.errors.length?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()]:[e.showLabel?n("label",{staticClass:"ds-form-label",style:e.getLabelWidthStyle()},[e._v(" "+e._s(e.label)+" "),e.dataCapion?n("i",{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:e.showHelper}}):e._e()]):e._e(),n("div",{staticClass:"ds-form-block",style:e.getFormItemBlockMarginLeft()},[e.readOnly||1!==e.$hourStep?!e.readOnly&&e.$hourStep>1?n("el-time-select",{attrs:{disabled:e.disabled,editable:!1,clearable:e.clearable,placeholder:e.placeholder,"picker-options":e.pickerOptions,format:e.timeFormat,"value-format":"HH:mm:ss"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}):e.readOnly?n("div",{staticClass:"ds-form-readonly"},[n("span",{attrs:{title:e._f("proxy")(e.getShowContent(),e.formatter)}},[e._v(e._s(e._f("proxy")(e.getShowContent(),e.formatter)))])]):e._e():n("el-time-picker",{attrs:{disabled:e.disabled,editable:!1,clearable:e.clearable,placeholder:e.placeholder,"picker-options":e.pickerOptions,format:e.timeFormat,"value-format":"HH:mm:ss"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),e.errors.length?n("div",{staticClass:"ds-error-text"},[e._v(e._s(e.errorsMsg))]):e._e()],1)]],2)},b=[],y=(n("e25e"),dsf.component({name:"DsfTimePicker",mixins:[s["a"]],ctrlCaption:"时间",props:{simple:{type:Boolean,default:!1},placeholder:{type:String,default:""},value:{type:String,default:""},label:{type:String,default:"时间选择"},timeFormat:{type:String,default:"HH:mm:ss"},clearable:{type:Boolean,default:!0},$timeInter:{type:Array,default:function(){return["00:00:00","23:59:59"]}},$hourStep:{type:Number,default:1},metadata:{type:Object,default:function(){return dsf.metadata.get("time-picker-meta-data")}}},data:function(){return{value2:""}},watch:{value:function(e){this.initValue(e)},value2:function(e){this.emitValueChange(e),this.emitFormValidate(e)}},computed:{pickerOptions:function(){if(this.$hourStep>1){var e=this.$hourStep%60,t=parseInt(this.$hourStep/60);return{start:this.$timeInter[0].substr(0,5),end:this.$timeInter[1].substr(0,5),step:t+":"+e}}return{selectableRange:this.$timeInter[0]+"-"+this.$timeInter[1]}}},created:function(){this.initValue(this.value)},methods:{initValue:function(e){null!==e&&void 0!==e&&""!==e&&e!==this.value2&&(this.value2=e)}}})),x=y,_=Object(r["a"])(x,v,b,!1,null,null,null),w=_.exports},f5f4:function(e,t,n){"use strict";(function(e){n("d81d"),n("b0c0");var a=n("5530"),i=n("821f");function s(t,n,i){var l=this,o=this,r=[],c=null;n.children&&n.children.length>0?r=e.map(n.children,(function(e,n){return s.call(l,t,e,n)})):(r=this.$slots[n.columnId],c=o._u([{key:"default",fn:function(e){return[o._t(n.columnId||"default",null,null,e)]}}],null,!0));var u={key:i,props:n,attrs:Object(a["a"])(Object(a["a"])(Object(a["a"])({columnKey:n.columnId},n),this.$attrs),{},{sortable:this.sortable})};if(c&&(u.scopedSlots=c),this.ownerTable){if(this.ownerTable.isDesign){var d=t("el-table-column",u,r);return d}if(!n.hide){var f=t("el-table-column",u,r);return f}}return null}t["a"]=dsf.component({name:"DsfDataGridColumn",inheritAttrs:!1,mixins:[i["a"]],ctrlCaption:"表格列",props:{column:{type:Object,default:function(){return{label:"",children:[]}}},columns:{type:Array,default:function(){return[]}},sortable:{type:[Boolean,String],default:!1}},data:function(){return{}},created:function(){},computed:{ownerTable:function(){var e=this.$parent;while("DsfDataGrid"!=e.$options.name)e=e.$parent;return e}},destroyed:function(){},beforeMount:function(){},mounted:function(){},methods:{},render:function(e){return s.call(this,e,this.column,this.$vnode.data.key)}})}).call(this,n("2ef0"))},f8d4:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return y["a"]})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return D})),n.d(t,"h",(function(){return B})),n.d(t,"j",(function(){return F["a"]})),n.d(t,"i",(function(){return j["a"]})),n.d(t,"g",(function(){return R})),n.d(t,"c",(function(){return K})),n.d(t,"k",(function(){return Z})),n.d(t,"a",(function(){return se}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DsfRow",{ref:"row",class:e.getCss,attrs:{gutter:e.gutter,"min-height":e.minHeight}},[e._t("default")],2)},i=[],s=(n("99af"),n("a9e3"),n("2909")),l=n("821f"),o=dsf.component({name:"DsfRow12",ctrlCaption:"一行两列",mixins:[l["a"]],props:{minHeight:{type:String,default:"0"},gutter:{type:Number,default:0},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}}},computed:{getCss:function(){return[].concat(Object(s["a"])(this.$getClass()),[this.isDesign?"":"ds-no-padding"])},cols:function(){return this.$refs.row.cols}},data:function(){return{}},mounted:function(){r.call(this)},methods:{}});function r(){if(this.isDesign&&0==this.slots[0].controls.length)for(var e=2,t=0;t<e;t++){var n=24/e,a={height:"auto",span:n};this.slots[0].controls.push(dsf.designer.createComponent("dsf.col",a))}}var c=o,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null),f=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-row",class:e.getCss,style:{height:e.rowHeight}},[n("div",{staticClass:"el-row",style:e.elRowStyle},[e._t("default")],2)])},p=[],m=n("5151"),g=m["a"],v=Object(u["a"])(g,h,p,!1,null,null,null),b=v.exports,y=n("1807"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DsfRow",{ref:"row",class:e.getCss,attrs:{gutter:e.gutter,"min-height":e.minHeight}},[e._t("default")],2)},_=[],w=dsf.component({name:"DsfRow13",ctrlCaption:"一行三列",mixins:[l["a"]],data:function(){return{}},props:{minHeight:{type:String,default:"0"},gutter:{type:Number,default:0},slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}}},computed:{cols:function(){return this.$refs.row.cols}},mounted:function(){C.call(this)},methods:{}});function C(){if(this.isDesign&&0==this.slots[0].controls.length)for(var e=3,t=0;t<e;t++){var n=24/e,a={height:"auto",span:n};this.slots[0].controls.push(dsf.designer.createComponent("dsf.col",a))}}var S=w,k=Object(u["a"])(S,x,_,!1,null,null,null),D=k.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-table-layout",class:e.getCss},[n("div",{staticClass:"ds-table-layout-box"},[n("table",{directives:[{name:"resize",rawName:"v-resize.x.y",value:{colList:"columnsInfo",rowList:"rows",onChangeCol:e.onChangeCol,onChangeRow:e.onChangeRow},expression:"{colList: 'columnsInfo', rowList: 'rows', onChangeCol: onChangeCol, onChangeRow: onChangeRow }",modifiers:{x:!0,y:!0}}],ref:"table"},[n("thead",[e.columnsInfo&&e.rows&&e.rows.length>0?n("tr",e._l(e.columnsInfo,(function(e,t){return n("th",{key:t,style:{width:e.width||"auto"}})})),0):e._e()]),n("tbody",{attrs:{"slot-name":"default"}},[e._t("default")],2)]),e.isDesign?n("div",{directives:[{name:"show",rawName:"v-show",value:e.rangeWrap.show,expression:"rangeWrap.show"}],staticClass:"selected-range",style:{height:e.rangeWrap.height+"px",width:e.rangeWrap.width+"px",top:e.rangeWrap.top+"px",left:e.rangeWrap.left+"px"}}):e._e()])])},O=[],I=n("2b10"),T=I["a"],N=Object(u["a"])(T,$,O,!1,null,null,null),B=N.exports,F=n("2307"),j=n("d014"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-section",class:e.getCss},[n("div",{staticClass:"ds-section-margin",style:e.margin},[n("div",{staticClass:"ds-section-wrap",style:e.getStyle(),attrs:{"slot-name":"default"}},[e._t("default")],2)])])},E=[],V=(n("a15b"),dsf.component({name:"DsfSection",ctrlCaption:"页面段落",mixins:[l["a"]],data:function(){return{paddingSize:12,marginLevel:{small:1,big:8,medium:3}}},props:{slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},background:{type:Object,default:function(){return{}}},shadow:{type:Boolean,default:!1},showModel:{type:String,default:"none"},marginTop:{type:Boolean,default:!1},marginBottom:{type:Boolean,default:!1},marginLeft:{type:Boolean,default:!1},marginRight:{type:Boolean,default:!1},paddingTop:{type:Boolean,default:!0},paddingBottom:{type:Boolean,default:!0},paddingLeft:{type:Boolean,default:!0},paddingRight:{type:Boolean,default:!0},marginSize:{type:String,default:"small"}},computed:{getCss:function(){return[].concat(Object(s["a"])(this.$getClass()),[this.shadow?"shadow":"","full"==this.showModel?"full":""])},margin:function(){var e={};return this.marginTop&&(e["padding-top"]=this.marginLevel[this.marginSize]+"px"),this.marginLeft&&(e["padding-left"]=this.marginLevel[this.marginSize]+"px"),this.marginRight&&(e["padding-right"]=this.marginLevel[this.marginSize]+"px"),this.marginBottom&&(e["padding-bottom"]=this.marginLevel[this.marginSize]+"px"),e}},updated:function(){this.isDesign&&this.$dispatch("design-height-change","full"==this.showModel?"100%":"auto")},methods:{getStyle:function(){var e=[];return e.push((this.paddingTop?this.paddingSize:0)+"px"),e.push((this.paddingRight?this.paddingSize:0)+"px"),e.push((this.paddingBottom?this.paddingSize:0)+"px"),e.push((this.paddingLeft?this.paddingSize:0)+"px"),{padding:e.join(" ")}}}})),P=V,H=Object(u["a"])(P,L,E,!1,null,null,null),R=H.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-section",class:e.getCss},[n("iframe",{attrs:{src:e.iframeUrl,width:"100%",height:"100%",frameborder:"0"}})])},z=[],M=(n("c975"),n("ac1f"),n("5319"),n("dfde")),q=dsf.component({name:"DsfIframe",ctrlCaption:"IFrame",mixins:[M["a"]],data:function(){return{iframeUrl:""}},props:{rmiframeUrl:{type:String,default:""},$lazyLoad:{type:Boolean,default:!1}},computed:{getCss:function(){return[].concat(Object(s["a"])(this.$getClass()),[this.showBorder?"":"ds-no-border",this.noPadding?"":"ds-no-padding"])}},created:function(){this._isRender||this.isDesign||this.$lazyLoad||this.loadView()},methods:{loadView:function(){var e=this.$replace(this.rmiframeUrl);e=dsf.url.getWebPath(e),e=this.analysis(e),this.iframeUrl=e},analysis:function(e){e.substr(e.indexOf("?"));var t=/[\?&](\w+)=([^&]+)?/gi;return e=e.replace(t,(function(e,t,n,a){var i=e.substr(0,1);return i+=t+"="+encodeURI(n||""),i})),e}}}),W=q,U=Object(u["a"])(W,A,z,!1,null,null,null),K=U.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isDesign?n("div",{staticClass:"ds-control ds-viewpart ds-no-padding",class:e.getCss},[n("div",{staticClass:"ds-viewparent-desgine-panel"},[n("span",[e._v(e._s(e.path)+"页面片段")])])]):n("div",{staticClass:"ds-control ds-viewpart ds-no-padding",class:e.getCss,style:{"background-color":e.backgroundColor},attrs:{path:e.getPath()}},[e.componentName?n(e.componentName,e._b({ref:"view",tag:"component",attrs:{"name-space":e.nameSpace,"page-name":e.pageName,"query-string":e.params}},"component",e.$attrs,!1)):e._e()],1)},Y=[],X=n("e0df"),G=X["a"],Q=Object(u["a"])(G,J,Y,!1,null,null,null),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-table-cell-set"},[n("div",{staticClass:"ds-table-cell-set-box"},[n("div",{staticClass:"ds-table-cell-set-box-label"},[e._v("边框")]),n("div",{staticClass:"ds-table-cell-set-item",staticStyle:{width:"70%"}},[n("span",{staticStyle:{width:"60px"}},[e._v("样式：")]),e._l(e.config["border-style"],(function(t){return n("div",{key:t,staticClass:"border-style-demo",class:{active:e.borderStyle===t},on:{click:function(n){e.borderStyle===t?e.borderStyle="":e.borderStyle=t}}},["none"===t?[e._v("无")]:n("i","double"===t?{style:{"border-bottom":"3px double #000"}}:{style:{"border-bottom":"1px "+t+" #000"}})],2)}))],2),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"60px"}},[e._v("宽度：")]),n("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.borderWidth,callback:function(t){e.borderWidth=t},expression:"borderWidth"}},e._l(e.config["border-width"],(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"60px"}},[e._v("颜色：")]),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:e.borderColor,callback:function(t){e.borderColor=t},expression:"borderColor"}})],1),n("div",{staticClass:"ds-table-cell-set-item",staticStyle:{width:"100%"}},[n("span",{staticStyle:{width:"60px"}},[e._v("预置：")]),n("div",{staticClass:"border-position-checkbox",class:{active:e.borderPosition[0]},on:{click:function(t){return e.$set(e.borderPosition,0,!e.borderPosition[0])}}},[n("i",{style:[e.borderCheckBox.top]}),n("i",{style:[e.borderCheckBox.top]}),n("i"),n("i")]),n("div",{staticClass:"border-position-checkbox",class:{active:e.borderPosition[1]},on:{click:function(t){return e.$set(e.borderPosition,1,!e.borderPosition[1])}}},[n("i",{style:[e.borderCheckBox.bottom]}),n("i",{style:[e.borderCheckBox.bottom]}),n("i"),n("i")]),n("div",{staticClass:"border-position-checkbox",class:{active:e.borderPosition[2]},on:{click:function(t){return e.$set(e.borderPosition,2,!e.borderPosition[2])}}},[n("i"),n("i"),n("i",{style:[e.borderCheckBox.bottom]}),n("i",{style:[e.borderCheckBox.bottom]})]),n("div",{staticClass:"border-position-checkbox",class:{active:e.borderPosition[3]},on:{click:function(t){return e.$set(e.borderPosition,3,!e.borderPosition[3])}}},[n("i",{style:[e.borderCheckBox.left]}),n("i"),n("i",{style:[e.borderCheckBox.left]}),n("i")]),n("div",{staticClass:"border-position-checkbox",class:{active:e.borderPosition[4]},on:{click:function(t){return e.$set(e.borderPosition,4,!e.borderPosition[4])}}},[n("i",{style:[e.borderCheckBox.right]}),n("i"),n("i",{style:[e.borderCheckBox.right]}),n("i")]),n("div",{staticClass:"border-position-checkbox",class:{active:e.borderPosition[5]},on:{click:function(t){return e.$set(e.borderPosition,5,!e.borderPosition[5])}}},[n("i"),n("i",{style:[e.borderCheckBox.right]}),n("i"),n("i",{style:[e.borderCheckBox.right]})])]),n("div",{staticClass:"ds-table-cell-set-item",staticStyle:{width:"100%"}},[n("span",{staticStyle:{width:"60px"}}),n("div",{staticClass:"border-position-demo"},[n("i",{style:[e.borderDemo.t,e.borderDemo.l,e.borderDemo.cb,e.borderDemo.cr]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.t,e.borderDemo.cb,e.borderDemo.cr]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.t,e.borderDemo.r,e.borderDemo.cb]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.l,e.borderDemo.cb,e.borderDemo.cr]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.cb,e.borderDemo.cr]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.r,e.borderDemo.cb]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.l,e.borderDemo.b,e.borderDemo.cr]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.b,e.borderDemo.cr]},[e._v(" 文本 ")]),n("i",{style:[e.borderDemo.r,e.borderDemo.b]},[e._v(" 文本 ")])])])]),n("div",{staticClass:"ds-table-cell-set-box"},[n("div",{staticClass:"ds-table-cell-set-box-label"},[e._v("对齐")]),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"80px"}},[e._v("水平对齐：")]),n("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.cellAttr["align"],callback:function(t){e.$set(e.cellAttr,"align",t)},expression:"cellAttr['align']"}},e._l(e.config["align"],(function(t,a){return n("el-option",{key:a,attrs:{label:t[0],value:t[1]}},[n("span",{style:{"font-family":t[1]}},[e._v(e._s(t[0]))])])})),1)],1),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"80px"}},[e._v("垂直对齐：")]),n("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.cellAttr["valign"],callback:function(t){e.$set(e.cellAttr,"valign",t)},expression:"cellAttr['valign']"}},e._l(e.config["valign"],(function(t,a){return n("el-option",{key:a,attrs:{label:t[0],value:t[1]}},[n("span",{style:{"font-family":t[1]}},[e._v(e._s(t[0]))])])})),1)],1)]),n("div",{staticClass:"ds-table-cell-set-box"},[n("div",{staticClass:"ds-table-cell-set-box-label"},[e._v("填充")]),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"60px"}},[e._v("背景色：")]),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:e.style["background-color"],callback:function(t){e.$set(e.style,"background-color",t)},expression:"style['background-color']"}})],1)]),n("div",{staticClass:"ds-table-cell-set-box"},[n("div",{staticClass:"ds-table-cell-set-box-label"},[e._v("字体")]),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"60px"}},[e._v("字体：")]),n("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.style["font-family"],callback:function(t){e.$set(e.style,"font-family",t)},expression:"style['font-family']"}},e._l(e.config["font-family"],(function(t,a){return n("el-option",{key:a,attrs:{label:t[0],value:t[1]}},[n("span",{style:{"font-family":t[1]}},[e._v(e._s(t[0]))])])})),1)],1),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"60px"}},[e._v("字号：")]),n("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.style["font-size"],callback:function(t){e.$set(e.style,"font-size",t)},expression:"style['font-size']"}},e._l(e.config["font-size"],(function(t,a){return n("el-option",{key:a,attrs:{label:t[0],value:t[1]}},[n("span",{style:{"font-size":t[1]}},[e._v(e._s(t[0]))])])})),1)],1),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"60px"}},[e._v("装饰：")]),n("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.style["text-decoration"],callback:function(t){e.$set(e.style,"text-decoration",t)},expression:"style['text-decoration']"}},e._l(e.config["text-decoration"],(function(e,t){return n("el-option",{key:t,attrs:{label:e[0],value:e[1]}})})),1)],1),n("div",{staticClass:"ds-table-cell-set-item"},[n("span",{staticStyle:{width:"60px"}},[e._v("颜色：")]),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:e.style["color"],callback:function(t){e.$set(e.style,"color",t)},expression:"style['color']"}})],1),n("div",{staticClass:"ds-table-cell-set-item",staticStyle:{width:"100%"}},[n("span",{staticStyle:{width:"60px"}},[e._v("样式：")]),n("el-checkbox",{attrs:{value:"italic"===e.style["font-style"]},on:{change:function(t){return e.$set(e.style,"font-style",t?"italic":"normal")}}},[e._v("斜体")]),n("el-checkbox",{attrs:{value:"bold"===e.style["font-weight"]},on:{change:function(t){return e.$set(e.style,"font-weight",t?"bold":"normal")}}},[e._v("粗体")])],1)])])},te=[],ne={name:"DesTableCellSet",data:function(){return{borderCheckBox:{top:{"border-top":"1px solid #666"},left:{"border-left":"1px solid #666"},right:{"border-right":"1px solid #666"},bottom:{"border-bottom":"1px solid #666"}},config:{"font-family":[["跟随上下文",""],["仿宋","仿宋,FangSong"],["黑体","黑体, SimHei"],["楷体","楷体,楷体_GB2312, SimKai"],["隶书","隶书,SimLi"],["宋体","宋体,SimSun"],["微软雅黑","微软雅黑,Microsoft YaHei"],["幼圆","幼圆,YouYuan"],["andale mono","andale mono"],["arial","arial, helvetica,sans-serif"],["arial black","arial black,avant garde"],["comic sans ms","comic sans ms"],["impact","impact,chicago"],["times new roman","times new roman"]],"font-size":[["跟随上下文",""],["10px","10px"],["11px","11px"],["12px","12px"],["14px","14px"],["16px","16px"],["18px","18px"],["20px","20px"],["22px","22px"],["24px","24px"],["36px","36px"]],direction:[["跟随上下文",""],["从左到右","ltr"],["从右到左","rtl"]],"text-decoration":[["跟随上下文",""],["无装饰","none"],["下划线","underline"],["上划线","overline"],["贯穿线","line-through"]],"border-style":["none","solid","dotted","dashed"],"border-width":["1px","2px","3px","4px","5px","6px"],align:[["跟随上下文",""],["靠左","left"],["居中","center"],["靠右","right"]],valign:[["跟随上下文",""],["靠上","top"],["居中","middle"],["靠下","bottom"],["基线对齐","baseline"]]},style:{"font-family":"","font-size":"","font-style":"normal","font-weight":"normal",direction:"","text-decoration":"","text-indent":void 0,"background-color":"",color:""},cellAttr:{align:"",valign:""},borderWidth:"1px",borderStyle:"solid",borderColor:"#000",borderPosition:[!1,!1,!1,!1,!1,!1]}},computed:{borderDemo:function(){var e={t:{},l:{},r:{},b:{},cb:{},cr:{}};if(""===this.borderStyle)return e;var t="1px solid transparent";return"none"!==this.borderStyle&&(t="".concat(this.borderWidth," ").concat(this.borderStyle," ").concat(this.borderColor)),this.borderPosition[0]&&(e.t["border-top"]=t),this.borderPosition[1]&&(e.cb["border-bottom"]=t),this.borderPosition[2]&&(e.b["border-bottom"]=t),this.borderPosition[3]&&(e.l["border-left"]=t),this.borderPosition[4]&&(e.cr["border-right"]=t),this.borderPosition[5]&&(e.r["border-right"]=t),e}},methods:{yes:function(){var e={align:this.cellAttr.align,valign:this.cellAttr.valign},t={};return""!==this.style["font-family"]&&(t["font-family"]=this.style["font-family"]),""!==this.style["font-size"]&&(t["font-size"]=this.style["font-size"]),"normal"!==this.style["font-style"]&&(t["font-style"]=this.style["font-style"]),"normal"!==this.style["font-weight"]&&(t["font-weight"]=this.style["font-weight"]),""!==this.style["direction"]&&(t["direction"]=this.style["direction"]),""!==this.style["text-decoration"]&&(t["text-decoration"]=this.style["text-decoration"]),void 0!==this.style["text-indent"]&&(t["text-indent"]=this.style["text-indent"]),""!==this.style["background-color"]&&(t["background-color"]=this.style["background-color"]),""!==this.style["color"]&&(t["color"]=this.style["color"]),{cellStyle:t,cellAttr:e,borderPosition:this.borderDemo}}}},ae=ne,ie=Object(u["a"])(ae,ee,te,!1,null,null,null),se=ie.exports},ffdf:function(e,t,n){"use strict";var a=n("b54a"),i=n.n(a);i.a}}]);
//# sourceMappingURL=dsf-pc.js.map