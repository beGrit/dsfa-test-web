{"version":3,"sources":["webpack://platform/./designer/flow/flowInfo.vue?0c0c","webpack://platform/./designer/flow/flowContent.vue?2e8c","webpack://platform/./designer/flow/Lanes.vue?06cc","webpack://platform/./designer/flow/flow.vue?fb45","webpack://platform/./designer/flow/flowInfo.vue?5d76","webpack://platform/./designer/flow/flowInfo.vue?8ac3","webpack://platform/./designer/flow/flowContent.vue?dcbf","webpack://platform/./designer/flow/flowContent.vue?a8d7","webpack://platform/./designer/flow/Lanes.vue?411d","webpack://platform/./designer/flow/Lanes.vue?b739","webpack://platform/./designer/flow/flow.vue?584b","webpack://platform/./designer/flow/flow.vue?6f1a","webpack://platform/./designer/flow/flow.vue?8f65","webpack://platform/./designer/flow/Lane.js","webpack://platform/./designer/flow/flowInfo.vue?639e","webpack://platform/designer/flow/flowInfo.vue","webpack://platform/./designer/flow/flowInfo.vue?c2f6","webpack://platform/./designer/flow/flowInfo.vue","webpack://platform/./designer/flow/flowContent.vue?eefb","webpack://platform/designer/flow/flowContent.vue","webpack://platform/./designer/flow/flowContent.vue?7bae","webpack://platform/./designer/flow/flowContent.vue","webpack://platform/./designer/flow/Lanes.vue?6bdf","webpack://platform/designer/flow/Lanes.vue","webpack://platform/./designer/flow/Lanes.vue?4a8e","webpack://platform/./designer/flow/Lanes.vue","webpack://platform/designer/flow/flow.vue","webpack://platform/./designer/flow/flow.vue?00e8","webpack://platform/./designer/flow/flow.vue"],"names":["content","module","i","locals","exports","add","default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","on","click","doSave","_v","_m","class","selected","isDrawLine","drawLine","$event","addLane","disabled","scale","rootScale","_s","Math","round","exportFlow","saveAsFlow","openFlow","exportFlowJson","startTestFlow","monitorFlow","$store","state","flow","selectedList","length","alignment","_e","ref","scroll","onScroll","style","width","toPx","height","transform","transformOrigin","has_v_head","lanes","vertical","has_h_head","horizontal","baseLine","showV","left","showH","top","flowInfo","lines","nodes","events","checked","config","staticStyle","accordion","model","value","activeNames","callback","$$v","expression","_l","flowTools","tool","index","key","title","name","data","item","type","sort","nodetype","draggable","dragstart","dragTool","src","img","clear","boundaryEvents","event","dragBoundaryEvent","url","staticRenderFns","_withStripped","Lane","opt","options","Object","assign","size","direction","LaneDirection","isRender","attributes","getAttributes","CorridorProperties","Name","ID","directives","rawName","status","itemIndex","attr","hide","isBase","slot","desc","cursor","showHelp","visible","showHeplerMark","$set","overflow","display","domProps","innerHTML","nodeType","nodeName2","subIsDisabled","min","minValue","input","changeVesion","value0","value1","value2","unit","max","changeProperty","show","editor","placeholder","nodeName1","change","option","label","text","$index","icon","doOpenDialog","components","DsfDesignerDialog","props","Array","curSelectObj","curNodeObj","curElement","AppInfo","computed","Number","oldValue","split","watch","loadPropertyWindow","ui","disabledSub","mounted","$bus","$on","bool","methods","parentNodeId","keys","obj","loadPropertyDom","setPropertyData","pro","Node","language","group","groupIndex","json","rows","nodeLevel","nodeName","nodeName3","push","forEach","showRob","rowData","$emit","Line","Rule","RangeRule","taskMsg","field","setTimeout","BaseInfo","Mode","SubWFID","Merge","IsEnbled","code","params","isEvent","mode","subNodes","dsf","layer","pc","openDialog","btns","message","component","__file","Lines","Events","subprocess","Boolean","val","init","created","initFlow","lane","selectLane","placement","trigger","isEdit","autofocus","hideEdit","target","composing","dblclick","edit","mousedown","dragLane","current","minSize","document","addEventListener","e","stopPropagation","dropLane","pageX","page","svgRoot","scrollLeft","pageY","scrollTop","commit","moveLane","resize","minLeft","mouse","x","y","window","FlowInfo","FlowContent","Lanes","dragNode","dragEvent","endTarget","maxWidth","maxHeight","sID","distance","cloneObj","crashNode","dragSize","maxSizeOffset","showLineV","showLineH","isGlobalPosMove","globalPos","globalMoveLastMouse","globalRect","isGlobalSelect","selectGlobalPos","selectGlobalPonits","start","end","globalSelect","isCtrlKey","ctrlCopyNodes","isCopyNodes","copyNodesPos","copyNodes","hasMoved","reset","verifySub","ds_page","clientWidth","clientHeight","initData","$http","loadElement","ElementList","element","node","point","WorkFlow","NodeList","LineList","EventList","LaneList","nodeLines","map","line","paper","parentNode","arr","fromNodearr","copyMap","nc","getToNodes","toNodearr","from","to","temp","line_copy","fn","StartNodeID","infoCopy","deleteLines","lineId","OutLine","SendConditions","rfn","IsEnabled","splice","child","Type","postData","arrowEnd","sData","JSON","stringify","initEvent","parentAutoScroll","autoScroll","dragCloneEvent","startGlobalMove","startCopyNodes","deleteLine","initSubNode","keydown","onresize","$refs","root","tagName","parentElement","className","indexOf","scrollwheel","open","nodeResize","copyNewNode","ev","dataTransfer","setDragImage","Image","cloneNode","setAttribute","offset","copy","copyNode","position","zIndex","padding","pointerEvents","body","appendChild","createCopyNodes","getPoint","getDisplacement","move_p","last_p","nodesMove","displacement","ctrlKey","dragToolOver","getTargetIsNodes","contains","getBeforeCopyLine","lineIds","fromType","newLine","tools","fromNodeIds","toNodeIds","newLines","resetLineFromAndTo","nodeId","newNode","in","out","copyEventsLines","linkInfo","nodesMoveEnd","isMove","nodeMoveEnd","deleteNode","mouseConvert","p","fromCopyId","copyNodeNext","removeChild","copyNodeEvent","dragToolEnd","imgHeight","subNode","BoundaryEvent","offsetY","offsetX","dragEventOver","classList","parentAndSub","parent","points","getters","comp","dragEventEnd","preventDefault","touches","deleteEvent","addNewEvent","copyEvent","copyEvents","fromId","all","realDistance","getDistance","dis","computedPoint","getOptions","mp","addNode","addSubNode","children","showSubNode","readOnly","keyCode","l","find","isDel","getIn","getOut","endPoint","path","fromDirection","fromNode","startPoint","targetDirection","toDirection","targetNode","toNode","isHide","fromOffset","toOffset","EndNodeID","newLineParam","remove","deleteFromOrOut","f_index","t_index","createLane","before","getFromNodes","getFlowAllObjectMap","dm","info","lastV","horizontalWidth","minWidth","lastH","verticalHeight","minHeight","maxHeigth","arg","abs","h","setCursor","evt","segmen","sp","setRootCursor","getRect","globalMove","current_p","x_move","y_move","n","getWheelDirect","wheelDelta","detail","toFixed","selectGlobalMove","createElement","selectGlobalEnd","documentCopy","pasteNode"],"mappings":"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","file":"modules/platform/js/dsf-platform.Flow.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"28d980e5\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4f80f8ba\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"02936629\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f747b120\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nexport {};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"ds_workflow ds-designer\", attrs: { id: \"desginer\" } },\n    [\n      _c(\"div\", { staticClass: \"designer-head\" }, [\n        _c(\"div\", { staticClass: \"desginer_tools\" }, [\n          _c(\n            \"a\",\n            { staticClass: \"ds-button--icon-text\", on: { click: _vm.doSave } },\n            [\n              _c(\"i\", { staticClass: \"iconfont icon-baocun\" }),\n              _c(\"span\", [_vm._v(\"保存\")])\n            ]\n          ),\n          _vm._m(0),\n          _vm._m(1),\n          _vm._m(2),\n          _vm._m(3),\n          _c(\n            \"a\",\n            {\n              staticClass: \"ds-button--icon-text\",\n              class: { selected: _vm.isDrawLine },\n              on: { click: _vm.drawLine }\n            },\n            [\n              _c(\"i\", { staticClass: \"iconfont icon-liujisuan\" }),\n              _c(\"span\", [_vm._v(\"连线\")])\n            ]\n          ),\n          _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n            _c(\"i\", { staticClass: \"iconfont icon-iframetianjia\" }),\n            _vm._m(4),\n            _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n              _c(\n                \"dd\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(\"vertical\")\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"泳道(垂直)\")])]\n              ),\n              _c(\n                \"dd\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(\"horizontal\")\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"泳道(水平)\")])]\n              )\n            ])\n          ]),\n          _c(\"a\", { staticClass: \"ds-button--icon-text scale\" }, [\n            _c(\"div\", { staticClass: \"scale-com\" }, [\n              _c(\"i\", {\n                staticClass: \"el-icon-minus\",\n                class: { disabled: _vm.scale <= 0.4 },\n                on: {\n                  click: function($event) {\n                    return _vm.rootScale(\"down\")\n                  }\n                }\n              }),\n              _c(\"span\", { staticClass: \"percent\" }, [\n                _vm._v(_vm._s(Math.round(_vm.scale * 100)) + \"%\")\n              ]),\n              _c(\"i\", {\n                staticClass: \"el-icon-plus\",\n                class: { disabled: _vm.scale >= 2 },\n                on: {\n                  click: function($event) {\n                    return _vm.rootScale(\"up\")\n                  }\n                }\n              })\n            ]),\n            _c(\"span\", [_vm._v(\"缩放\")])\n          ]),\n          _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n            _c(\"i\", { staticClass: \"iconfont icon-dakai\" }),\n            _vm._m(5),\n            _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n              _c(\n                \"p\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.exportFlow()\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"创建组\")])]\n              ),\n              _c(\n                \"p\",\n                {\n                  staticClass: \"label\",\n                  on: {\n                    click: function($event) {\n                      return _vm.saveAsFlow()\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"保存为组件\")])]\n              ),\n              _c(\n                \"p\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.openFlow()\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"选择组\")])]\n              )\n            ])\n          ]),\n          _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n            _c(\"i\", { staticClass: \"iconfont icon-lianjieliu\" }),\n            _vm._m(6),\n            _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n              _vm._m(7),\n              _c(\"p\", { staticClass: \"child\" }, [_vm._v(\"DFR\")]),\n              _c(\"p\", { staticClass: \"child\" }, [_vm._v(\"BPMN2.0\")]),\n              _c(\"p\", { staticClass: \"child\" }, [_vm._v(\"XML\")]),\n              _c(\n                \"p\",\n                {\n                  staticClass: \"label child\",\n                  on: {\n                    click: function($event) {\n                      return _vm.exportFlowJson()\n                    }\n                  }\n                },\n                [_vm._v(\"JSON\")]\n              ),\n              _vm._m(8),\n              _c(\"p\", { staticClass: \"child\" }, [_vm._v(\"DFR\")]),\n              _c(\"p\", { staticClass: \"child\" }, [_vm._v(\"BPMN2.0\")]),\n              _c(\"p\", { staticClass: \"child\" }, [_vm._v(\"XML\")]),\n              _c(\"p\", { staticClass: \"label child\" }, [_vm._v(\"JSON\")]),\n              _c(\n                \"p\",\n                {\n                  staticClass: \"label\",\n                  on: {\n                    click: function($event) {\n                      return _vm.startTestFlow()\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"仿真测试\")])]\n              ),\n              _c(\n                \"p\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.monitorFlow()\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"浏览监控\")])]\n              )\n            ])\n          ]),\n          _vm.$store.state.flow.selectedList &&\n          _vm.$store.state.flow.selectedList.length > 1\n            ? _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n                _c(\"i\", { staticClass: \"iconfont icon-lianjieliu\" }),\n                _vm._m(9),\n                _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"left\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"左对齐(L)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"center\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"水平居中(C)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"right\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"右对齐(R)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"top\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"顶端对齐(T)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"middle\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"垂直居中(M)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"bottom\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"底端对齐(B)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"horizontal\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"横向分布(H)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"vertical\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"纵向分布(V)\")])]\n                  )\n                ])\n              ])\n            : _vm._e()\n        ])\n      ]),\n      _c(\"div\", { staticClass: \"designer-content\" }, [\n        _c(\"div\", { staticClass: \"designer-center\" }, [\n          _c(\n            \"div\",\n            {\n              ref: \"ds_page\",\n              staticClass: \"ds_control ds_page layui-form leftRight_ design\",\n              on: {\n                scroll: function($event) {\n                  return _vm.onScroll($event)\n                }\n              }\n            },\n            [\n              _c(\n                \"div\",\n                {\n                  ref: \"container\",\n                  staticClass: \"flow\",\n                  style: {\n                    width: _vm.toPx(\n                      _vm.scale > 1\n                        ? _vm.width * _vm.scale\n                        : _vm.width / _vm.scale\n                    ),\n                    height: _vm.toPx(\n                      _vm.scale > 1\n                        ? _vm.height * _vm.scale\n                        : _vm.height / _vm.scale\n                    ),\n                    transform: \"scale(\" + _vm.scale + \") translateZ(0)\",\n                    transformOrigin: \"left top\"\n                  },\n                  attrs: { id: \"flow_box\" }\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      ref: \"root\",\n                      staticClass: \"root\",\n                      class: {\n                        has_v_head: _vm.lanes && _vm.lanes.vertical.length > 0,\n                        has_h_head: _vm.lanes && _vm.lanes.horizontal.length > 0\n                      },\n                      style: {\n                        width: _vm.toPx(\n                          _vm.scale > 1\n                            ? _vm.width * _vm.scale\n                            : _vm.width / _vm.scale\n                        ),\n                        height: _vm.toPx(\n                          _vm.scale > 1\n                            ? _vm.height * _vm.scale\n                            : _vm.height / _vm.scale\n                        )\n                      }\n                    },\n                    [\n                      _vm.baseLine.showV\n                        ? _c(\"span\", {\n                            staticClass: \"baseLine_v\",\n                            style: {\n                              transform:\n                                \"translate3d(\" + _vm.baseLine.left + \"px, 0, 0)\"\n                            }\n                          })\n                        : _vm._e(),\n                      _vm.baseLine.showH\n                        ? _c(\"span\", {\n                            staticClass: \"baseLine_h\",\n                            style: {\n                              transform:\n                                \"translate3d(0, \" + _vm.baseLine.top + \"px, 0)\"\n                            }\n                          })\n                        : _vm._e(),\n                      _c(\"flow-content\", {\n                        ref: \"flowContent\",\n                        attrs: {\n                          \"flow-info\": _vm.flowInfo,\n                          \"is-draw-line\": _vm.isDrawLine,\n                          lines: _vm.lines,\n                          nodes: _vm.nodes,\n                          lanes: _vm.lanes,\n                          events: _vm.events,\n                          checked: _vm.checked,\n                          config: _vm.config\n                        }\n                      }),\n                      _c(\n                        \"div\",\n                        { ref: \"backLayout\", staticClass: \"backgroundLayout\" },\n                        [\n                          _c(\n                            \"div\",\n                            { ref: \"v_lane\", staticClass: \"v_lane\" },\n                            [\n                              _c(\"lanes\", {\n                                attrs: {\n                                  lanes: _vm.lanes && _vm.lanes.vertical,\n                                  checked: _vm.checked\n                                },\n                                on: { addLane: _vm.addLane }\n                              })\n                            ],\n                            1\n                          ),\n                          _c(\n                            \"div\",\n                            { ref: \"h_lane\", staticClass: \"h_lane\" },\n                            [\n                              _c(\"lanes\", {\n                                attrs: {\n                                  lanes: _vm.lanes && _vm.lanes.horizontal,\n                                  checked: _vm.checked\n                                },\n                                on: { addLane: _vm.addLane }\n                              })\n                            ],\n                            1\n                          )\n                        ]\n                      )\n                    ],\n                    1\n                  )\n                ]\n              )\n            ]\n          )\n        ]),\n        _c(\n          \"div\",\n          {\n            staticClass: \"designer-left\",\n            staticStyle: { \"margin-top\": \"60px\" }\n          },\n          [\n            _c(\n              \"div\",\n              { staticClass: \"designer-left-tools\" },\n              [\n                _c(\n                  \"el-collapse\",\n                  {\n                    attrs: { accordion: \"\" },\n                    model: {\n                      value: _vm.activeNames,\n                      callback: function($$v) {\n                        _vm.activeNames = $$v\n                      },\n                      expression: \"activeNames\"\n                    }\n                  },\n                  [\n                    _vm._l(_vm.flowTools, function(tool, index) {\n                      return _c(\n                        \"el-collapse-item\",\n                        {\n                          key: index,\n                          attrs: { title: tool.title, name: index }\n                        },\n                        [\n                          _c(\n                            \"div\",\n                            { staticClass: \"layui-colla-content layui-show\" },\n                            [\n                              _vm._l(tool.data, function(item) {\n                                return _c(\n                                  \"div\",\n                                  {\n                                    key: item.type,\n                                    staticClass: \"ds_tool_item nodeButton\",\n                                    attrs: {\n                                      title: item.name,\n                                      sort: item.sort,\n                                      nodetype: item.type,\n                                      draggable: \"true\"\n                                    },\n                                    on: {\n                                      dragstart: function($event) {\n                                        return _vm.dragTool($event, item)\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _c(\"img\", {\n                                      attrs: {\n                                        src: item.img,\n                                        draggable: \"false\"\n                                      }\n                                    }),\n                                    _vm._v(\" \" + _vm._s(item.name) + \" \")\n                                  ]\n                                )\n                              }),\n                              _c(\"div\", { staticStyle: { clear: \"both\" } })\n                            ],\n                            2\n                          )\n                        ]\n                      )\n                    }),\n                    _c(\n                      \"el-collapse-item\",\n                      { attrs: { title: \"边界事件\", name: \"5\" } },\n                      [\n                        _c(\n                          \"div\",\n                          { staticClass: \"layui-colla-content layui-show\" },\n                          _vm._l(_vm.boundaryEvents, function(event) {\n                            return _c(\n                              \"div\",\n                              {\n                                key: event.type,\n                                staticClass: \"nodeButton ds_tool_event\",\n                                attrs: {\n                                  title: event.name,\n                                  nodetype: event.type\n                                }\n                              },\n                              [\n                                _c(\n                                  \"div\",\n                                  {\n                                    staticClass: \"tool_event_drag\",\n                                    attrs: { draggable: \"true\" },\n                                    on: {\n                                      dragstart: function($event) {\n                                        return _vm.dragBoundaryEvent(\n                                          $event,\n                                          event\n                                        )\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _c(\"img\", {\n                                      attrs: {\n                                        src: event.url,\n                                        draggable: \"false\"\n                                      }\n                                    })\n                                  ]\n                                ),\n                                _c(\"span\", [_vm._v(_vm._s(event.name))])\n                              ]\n                            )\n                          }),\n                          0\n                        )\n                      ]\n                    )\n                  ],\n                  2\n                )\n              ],\n              1\n            )\n          ]\n        ),\n        _c(\n          \"div\",\n          { staticClass: \"designer-right\", attrs: { id: \"propertyBox\" } },\n          [\n            _c(\"flow-info\", {\n              attrs: {\n                checked: _vm.checked,\n                nodes: _vm.nodes,\n                lines: _vm.lines,\n                \"flow-info\": _vm.flowInfo\n              }\n            })\n          ],\n          1\n        )\n      ])\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n      _c(\"i\", { staticClass: \"iconfont icon-baocun\" }),\n      _c(\"span\", [_vm._v(\"发布\")])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n      _c(\"i\", { staticClass: \"iconfont icon-iframetianjia\" }),\n      _c(\"span\", [\n        _vm._v(\" 版本 \"),\n        _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n      ]),\n      _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n        _c(\"p\", { staticClass: \"label\" }, [_c(\"span\", [_vm._v(\"当前版本\")])]),\n        _c(\"p\", [_c(\"span\", [_vm._v(\"2.0.11 2020-4-10 16：20： 10\")])]),\n        _c(\"p\", { staticClass: \"label\" }, [_c(\"span\", [_vm._v(\"历史版本\")])]),\n        _c(\"p\", [_c(\"span\", [_vm._v(\"2.0.11 2020-4-10 16：20： 10\")])]),\n        _c(\"p\", [_c(\"span\", [_vm._v(\"2.0.11 2020-4-10 16：20： 10\")])]),\n        _c(\"p\", [_c(\"span\", [_vm._v(\"2.0.11 2020-4-10 16：20： 10\")])]),\n        _c(\"p\", [_c(\"span\", [_vm._v(\"2.0.11 2020-4-10 16：20： 10\")])])\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n      _c(\"i\", { staticClass: \"iconfont icon-shebeikaifa1\" }),\n      _c(\"span\", [_vm._v(\"模板库\")])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n      _c(\"i\", { staticClass: \"iconfont icon-baocun\" }),\n      _c(\"span\", [_vm._v(\"关闭\")])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"span\", [\n      _vm._v(\" 泳道 \"),\n      _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"span\", [\n      _vm._v(\" 组件 \"),\n      _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"span\", [\n      _vm._v(\" 更多 \"),\n      _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"p\", { staticClass: \"title\" }, [_c(\"span\", [_vm._v(\"导出\")])])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"p\", { staticClass: \"title\" }, [_c(\"span\", [_vm._v(\"导入\")])])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"span\", [\n      _vm._v(\" 对齐方式 \"),\n      _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { LaneDirection } from './tools';\r\n\r\nimport { getAttributes } from \"./common\";\r\nimport {\r\n  CorridorProperties,\r\n} from \"./propertySource\";\r\n\r\n//泳道类\r\nconst Lane = function (opt) {\r\n  var options = Object.assign({ size: 260, direction: LaneDirection.vertical }, opt);\r\n  this.id = options.id || null;\r\n  this.name = options.name || \"\";\r\n  this.index = options.index;\r\n  this.direction = options.direction;\r\n  this.isRender = false;\r\n  this.size = options.size;\r\n\r\n  if (!options.attributes) {\r\n    this.attributes = getAttributes(CorridorProperties());\r\n    this.attributes.Name = this.name;\r\n    this.attributes.ID = this.id;\r\n  } else {\r\n    this.attributes = { ...options.attributes };\r\n  }\r\n}\r\nexport default Lane;","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"ds_attr_root\" }, [\n    _c(\n      \"div\",\n      {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.status === \"base\",\n            expression: \"status === 'base'\"\n          }\n        ],\n        staticClass: \"base\"\n      },\n      [\n        _c(\n          \"p\",\n          { staticClass: \"title\" },\n          [\n            _c(\"span\", [_vm._v(\"常用\")]),\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"el-button-all\",\n                attrs: { size: \"mini\", round: \"\" },\n                on: {\n                  click: function($event) {\n                    _vm.status = \"advanced\"\n                  }\n                }\n              },\n              [\n                _c(\"span\", [_vm._v(\"全部\")]),\n                _c(\"i\", { staticClass: \"el-icon-arrow-right\" })\n              ]\n            )\n          ],\n          1\n        ),\n        _c(\n          \"div\",\n          { staticClass: \"el-collapse-item__content\" },\n          _vm._l(_vm.data, function(item, itemIndex) {\n            return _c(\n              \"el-form\",\n              {\n                key: itemIndex,\n                staticClass: \"colla-content\",\n                attrs: { \"label-position\": \"top\", \"label-width\": \"80px\" }\n              },\n              _vm._l(item.attributes, function(attr, index) {\n                return _c(\n                  \"div\",\n                  { key: index, staticClass: \"property-item\" },\n                  [\n                    !attr.hide && attr.isBase\n                      ? _c(\n                          \"el-form-item\",\n                          [\n                            _c(\n                              \"span\",\n                              {\n                                staticClass: \"property-item-name\",\n                                attrs: { slot: \"label\" },\n                                slot: \"label\"\n                              },\n                              [\n                                _vm._v(\" \" + _vm._s(attr.name) + \" \"),\n                                attr.desc\n                                  ? _c(\"DsfIcon\", {\n                                      staticStyle: {\n                                        \"margin-left\": \"5px\",\n                                        cursor: \"pointer\"\n                                      },\n                                      attrs: { name: \"bangzhuzhongxin\" },\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.showHelp(attr)\n                                        }\n                                      }\n                                    })\n                                  : _vm._e(),\n                                _c(\n                                  \"el-dialog\",\n                                  {\n                                    attrs: {\n                                      visible: attr.showHeplerMark,\n                                      title: attr.name,\n                                      \"append-to-body\": true,\n                                      width: \"500px\"\n                                    },\n                                    on: {\n                                      \"update:visible\": function($event) {\n                                        return _vm.$set(\n                                          attr,\n                                          \"showHeplerMark\",\n                                          $event\n                                        )\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _c(\n                                      \"div\",\n                                      {\n                                        staticStyle: {\n                                          \"max-height\": \"500px\",\n                                          \"min-height\": \"300px\",\n                                          overflow: \"auto\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"span\", {\n                                          staticStyle: {\n                                            display: \"inline-block\",\n                                            \"line-height\": \"1.5em\"\n                                          },\n                                          domProps: {\n                                            innerHTML: _vm._s(attr.desc)\n                                          }\n                                        })\n                                      ]\n                                    )\n                                  ]\n                                )\n                              ],\n                              1\n                            ),\n                            attr.nodeType === \"flow\" &&\n                            attr.nodeName2 === \"Version\"\n                              ? _c(\n                                  \"div\",\n                                  { staticClass: \"inline\" },\n                                  [\n                                    _c(\"el-input-number\", {\n                                      attrs: {\n                                        \"controls-position\": \"right\",\n                                        disabled: _vm.subIsDisabled,\n                                        min: _vm.minValue(attr, 0)\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeVesion(attr, 0)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value0,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value0\", $$v)\n                                        },\n                                        expression: \"attr.value0\"\n                                      }\n                                    }),\n                                    _c(\"span\", [_vm._v(\".\")]),\n                                    _c(\"el-input-number\", {\n                                      attrs: {\n                                        \"controls-position\": \"right\",\n                                        disabled: _vm.subIsDisabled,\n                                        min: _vm.minValue(attr, 1)\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeVesion(attr, 1)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value1,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value1\", $$v)\n                                        },\n                                        expression: \"attr.value1\"\n                                      }\n                                    }),\n                                    _c(\"span\", [_vm._v(\".\")]),\n                                    _c(\"el-input\", {\n                                      attrs: { disabled: \"disabled\" },\n                                      model: {\n                                        value: attr.value2,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value2\", $$v)\n                                        },\n                                        expression: \"attr.value2\"\n                                      }\n                                    })\n                                  ],\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.unit\n                              ? _c(\n                                  \"div\",\n                                  { staticClass: \"inline\" },\n                                  [\n                                    _c(\"el-input-number\", {\n                                      attrs: {\n                                        \"controls-position\": \"right\",\n                                        disabled: _vm.subIsDisabled,\n                                        min: 1,\n                                        max: attr.max\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeProperty(attr)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value\", $$v)\n                                        },\n                                        expression: \"attr.value\"\n                                      }\n                                    }),\n                                    _c(\"span\", { staticClass: \"unit\" }, [\n                                      _vm._v(_vm._s(attr.unit))\n                                    ])\n                                  ],\n                                  1\n                                )\n                              : _vm._e(),\n                            _vm.show(attr)\n                              ? _c(\"el-input\", {\n                                  attrs: {\n                                    disabled: _vm.subIsDisabled || !attr.editor\n                                  },\n                                  on: {\n                                    input: function($event) {\n                                      return _vm.changeProperty(attr)\n                                    }\n                                  },\n                                  model: {\n                                    value: attr.value,\n                                    callback: function($$v) {\n                                      _vm.$set(attr, \"value\", $$v)\n                                    },\n                                    expression: \"attr.value\"\n                                  }\n                                })\n                              : _vm._e(),\n                            attr.editor === \"textarea\"\n                              ? _c(\"el-input\", {\n                                  attrs: {\n                                    disabled: _vm.subIsDisabled,\n                                    type: \"textarea\",\n                                    placeholder: \"请输入内容\"\n                                  },\n                                  on: {\n                                    input: function($event) {\n                                      return _vm.changeProperty(attr)\n                                    }\n                                  },\n                                  model: {\n                                    value: attr.value,\n                                    callback: function($$v) {\n                                      _vm.$set(attr, \"value\", $$v)\n                                    },\n                                    expression: \"attr.value\"\n                                  }\n                                })\n                              : _vm._e(),\n                            attr.editor && attr.editor.type === \"combobox\"\n                              ? _c(\n                                  \"el-select\",\n                                  {\n                                    attrs: {\n                                      name:\n                                        \"\" +\n                                        (attr.nodeName1 + \"_\" + attr.nodeName2),\n                                      disabled: _vm.subIsDisabled\n                                    },\n                                    on: {\n                                      change: function($event) {\n                                        return _vm.changeProperty(attr)\n                                      }\n                                    },\n                                    model: {\n                                      value: attr.value,\n                                      callback: function($$v) {\n                                        _vm.$set(attr, \"value\", $$v)\n                                      },\n                                      expression: \"attr.value\"\n                                    }\n                                  },\n                                  _vm._l(attr.editor.options.data, function(\n                                    option,\n                                    i\n                                  ) {\n                                    return _c(\"el-option\", {\n                                      key: i,\n                                      attrs: {\n                                        label: option.text,\n                                        value: option.value\n                                      }\n                                    })\n                                  }),\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.editor && attr.editor.type === \"radio\"\n                              ? _c(\n                                  \"el-radio-group\",\n                                  {\n                                    attrs: { disabled: _vm.subIsDisabled },\n                                    on: {\n                                      change: function($event) {\n                                        return _vm.changeProperty(attr)\n                                      }\n                                    },\n                                    model: {\n                                      value: attr.value,\n                                      callback: function($$v) {\n                                        _vm.$set(attr, \"value\", $$v)\n                                      },\n                                      expression: \"attr.value\"\n                                    }\n                                  },\n                                  _vm._l(attr.editor.options.data, function(\n                                    option,\n                                    $index\n                                  ) {\n                                    return _c(\n                                      \"el-radio\",\n                                      {\n                                        key: $index,\n                                        attrs: { label: option.value }\n                                      },\n                                      [_vm._v(\" \" + _vm._s(option.text) + \" \")]\n                                    )\n                                  }),\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.editor && attr.editor.type === \"checkbox\"\n                              ? _c(\n                                  \"el-checkbox-group\",\n                                  {\n                                    attrs: { disabled: _vm.subIsDisabled },\n                                    on: {\n                                      change: function($event) {\n                                        return _vm.changeProperty(attr)\n                                      }\n                                    },\n                                    model: {\n                                      value: attr.value,\n                                      callback: function($$v) {\n                                        _vm.$set(attr, \"value\", $$v)\n                                      },\n                                      expression: \"attr.value\"\n                                    }\n                                  },\n                                  _vm._l(attr.editor.options.data, function(\n                                    option,\n                                    $index\n                                  ) {\n                                    return _c(\n                                      \"el-checkbox\",\n                                      {\n                                        key: $index,\n                                        attrs: { label: option.value }\n                                      },\n                                      [_vm._v(\" \" + _vm._s(option.text) + \" \")]\n                                    )\n                                  }),\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.type === \"dialog\"\n                              ? _c(\n                                  \"DsfButton\",\n                                  {\n                                    class: [attr.class],\n                                    attrs: { type: \"plain\", icon: \"shezhi\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.doOpenDialog(attr)\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _vm._v(\n                                      \" \" +\n                                        _vm._s(\n                                          _vm.subIsDisabled ? \"查看\" : \"设置\"\n                                        ) +\n                                        \" \"\n                                    )\n                                  ]\n                                )\n                              : _vm._e()\n                          ],\n                          1\n                        )\n                      : _vm._e()\n                  ],\n                  1\n                )\n              }),\n              0\n            )\n          }),\n          1\n        )\n      ]\n    ),\n    _c(\n      \"div\",\n      {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.status === \"advanced\",\n            expression: \"status === 'advanced'\"\n          }\n        ],\n        staticClass: \"advanced\"\n      },\n      [\n        _c(\n          \"p\",\n          { staticClass: \"title\" },\n          [\n            _c(\"span\", [_vm._v(\"全部\")]),\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"el-button-base\",\n                attrs: { size: \"mini\", round: \"\" },\n                on: {\n                  click: function($event) {\n                    _vm.status = \"base\"\n                  }\n                }\n              },\n              [\n                _c(\"i\", { staticClass: \"el-icon-arrow-left\" }),\n                _c(\"span\", [_vm._v(\"常用\")])\n              ]\n            )\n          ],\n          1\n        ),\n        _c(\n          \"el-collapse\",\n          {\n            attrs: { accordion: \"\" },\n            model: {\n              value: _vm.activeNames,\n              callback: function($$v) {\n                _vm.activeNames = $$v\n              },\n              expression: \"activeNames\"\n            }\n          },\n          _vm._l(_vm.data, function(item) {\n            return _c(\n              \"el-collapse-item\",\n              { key: item.name, attrs: { title: item.name, name: item.name } },\n              [\n                _c(\n                  \"el-form\",\n                  {\n                    staticClass: \"colla-content\",\n                    attrs: { \"label-position\": \"top\", \"label-width\": \"80px\" }\n                  },\n                  _vm._l(item.attributes, function(attr, index) {\n                    return _c(\n                      \"div\",\n                      { key: index, staticClass: \"property-item\" },\n                      [\n                        !attr.hide\n                          ? _c(\n                              \"el-form-item\",\n                              [\n                                _c(\n                                  \"span\",\n                                  {\n                                    staticClass: \"property-item-name\",\n                                    attrs: { slot: \"label\" },\n                                    slot: \"label\"\n                                  },\n                                  [\n                                    _vm._v(\" \" + _vm._s(attr.name) + \" \"),\n                                    attr.desc\n                                      ? _c(\"DsfIcon\", {\n                                          staticStyle: {\n                                            \"margin-left\": \"5px\",\n                                            cursor: \"pointer\"\n                                          },\n                                          attrs: { name: \"bangzhuzhongxin\" },\n                                          on: {\n                                            click: function($event) {\n                                              return _vm.showHelp(attr)\n                                            }\n                                          }\n                                        })\n                                      : _vm._e(),\n                                    _c(\n                                      \"el-dialog\",\n                                      {\n                                        attrs: {\n                                          visible: attr.showHeplerMark,\n                                          title: attr.name,\n                                          \"append-to-body\": true,\n                                          width: \"500px\"\n                                        },\n                                        on: {\n                                          \"update:visible\": function($event) {\n                                            return _vm.$set(\n                                              attr,\n                                              \"showHeplerMark\",\n                                              $event\n                                            )\n                                          }\n                                        }\n                                      },\n                                      [\n                                        _c(\n                                          \"div\",\n                                          {\n                                            staticStyle: {\n                                              \"max-height\": \"500px\",\n                                              \"min-height\": \"300px\",\n                                              overflow: \"auto\"\n                                            }\n                                          },\n                                          [\n                                            _c(\"span\", {\n                                              staticStyle: {\n                                                display: \"inline-block\",\n                                                \"line-height\": \"1.5em\"\n                                              },\n                                              domProps: {\n                                                innerHTML: _vm._s(attr.desc)\n                                              }\n                                            })\n                                          ]\n                                        )\n                                      ]\n                                    )\n                                  ],\n                                  1\n                                ),\n                                attr.nodeType === \"flow\" &&\n                                attr.nodeName2 === \"Version\"\n                                  ? _c(\n                                      \"div\",\n                                      { staticClass: \"inline\" },\n                                      [\n                                        _c(\"el-input-number\", {\n                                          attrs: {\n                                            \"controls-position\": \"right\",\n                                            disabled: _vm.subIsDisabled,\n                                            min: _vm.minValue(attr, 0)\n                                          },\n                                          on: {\n                                            input: function($event) {\n                                              return _vm.changeVesion(attr, 0)\n                                            }\n                                          },\n                                          model: {\n                                            value: attr.value0,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value0\", $$v)\n                                            },\n                                            expression: \"attr.value0\"\n                                          }\n                                        }),\n                                        _c(\"span\", [_vm._v(\".\")]),\n                                        _c(\"el-input-number\", {\n                                          attrs: {\n                                            \"controls-position\": \"right\",\n                                            disabled: _vm.subIsDisabled,\n                                            min: _vm.minValue(attr, 1)\n                                          },\n                                          on: {\n                                            input: function($event) {\n                                              return _vm.changeVesion(attr, 1)\n                                            }\n                                          },\n                                          model: {\n                                            value: attr.value1,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value1\", $$v)\n                                            },\n                                            expression: \"attr.value1\"\n                                          }\n                                        }),\n                                        _c(\"span\", [_vm._v(\".\")]),\n                                        _c(\"el-input\", {\n                                          attrs: { disabled: \"disabled\" },\n                                          model: {\n                                            value: attr.value2,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value2\", $$v)\n                                            },\n                                            expression: \"attr.value2\"\n                                          }\n                                        })\n                                      ],\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.unit\n                                  ? _c(\n                                      \"div\",\n                                      { staticClass: \"inline\" },\n                                      [\n                                        _c(\"el-input-number\", {\n                                          attrs: {\n                                            \"controls-position\": \"right\",\n                                            disabled: _vm.subIsDisabled,\n                                            min: 1,\n                                            max: attr.max\n                                          },\n                                          on: {\n                                            input: function($event) {\n                                              return _vm.changeProperty(attr)\n                                            }\n                                          },\n                                          model: {\n                                            value: attr.value,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value\", $$v)\n                                            },\n                                            expression: \"attr.value\"\n                                          }\n                                        }),\n                                        _c(\"span\", { staticClass: \"unit\" }, [\n                                          _vm._v(_vm._s(attr.unit))\n                                        ])\n                                      ],\n                                      1\n                                    )\n                                  : _vm._e(),\n                                _vm.show(attr)\n                                  ? _c(\"el-input\", {\n                                      attrs: {\n                                        disabled:\n                                          _vm.subIsDisabled || !attr.editor\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeProperty(attr)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value\", $$v)\n                                        },\n                                        expression: \"attr.value\"\n                                      }\n                                    })\n                                  : _vm._e(),\n                                attr.editor === \"textarea\"\n                                  ? _c(\"el-input\", {\n                                      attrs: {\n                                        disabled: _vm.subIsDisabled,\n                                        type: \"textarea\",\n                                        placeholder: \"请输入内容\"\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeProperty(attr)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value\", $$v)\n                                        },\n                                        expression: \"attr.value\"\n                                      }\n                                    })\n                                  : _vm._e(),\n                                attr.editor && attr.editor.type === \"combobox\"\n                                  ? _c(\n                                      \"el-select\",\n                                      {\n                                        attrs: {\n                                          name:\n                                            \"\" +\n                                            (attr.nodeName1 +\n                                              \"_\" +\n                                              attr.nodeName2),\n                                          disabled: _vm.subIsDisabled\n                                        },\n                                        on: {\n                                          change: function($event) {\n                                            return _vm.changeProperty(attr)\n                                          }\n                                        },\n                                        model: {\n                                          value: attr.value,\n                                          callback: function($$v) {\n                                            _vm.$set(attr, \"value\", $$v)\n                                          },\n                                          expression: \"attr.value\"\n                                        }\n                                      },\n                                      _vm._l(attr.editor.options.data, function(\n                                        option,\n                                        i\n                                      ) {\n                                        return _c(\"el-option\", {\n                                          key: i,\n                                          attrs: {\n                                            label: option.text,\n                                            value: option.value\n                                          }\n                                        })\n                                      }),\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.editor && attr.editor.type === \"radio\"\n                                  ? _c(\n                                      \"el-radio-group\",\n                                      {\n                                        attrs: { disabled: _vm.subIsDisabled },\n                                        on: {\n                                          change: function($event) {\n                                            return _vm.changeProperty(attr)\n                                          }\n                                        },\n                                        model: {\n                                          value: attr.value,\n                                          callback: function($$v) {\n                                            _vm.$set(attr, \"value\", $$v)\n                                          },\n                                          expression: \"attr.value\"\n                                        }\n                                      },\n                                      _vm._l(attr.editor.options.data, function(\n                                        option,\n                                        $index\n                                      ) {\n                                        return _c(\n                                          \"el-radio\",\n                                          {\n                                            key: $index,\n                                            attrs: { label: option.value }\n                                          },\n                                          [\n                                            _vm._v(\n                                              \" \" + _vm._s(option.text) + \" \"\n                                            )\n                                          ]\n                                        )\n                                      }),\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.editor && attr.editor.type === \"checkbox\"\n                                  ? _c(\n                                      \"el-checkbox-group\",\n                                      {\n                                        attrs: { disabled: _vm.subIsDisabled },\n                                        on: {\n                                          change: function($event) {\n                                            return _vm.changeProperty(attr)\n                                          }\n                                        },\n                                        model: {\n                                          value: attr.value,\n                                          callback: function($$v) {\n                                            _vm.$set(attr, \"value\", $$v)\n                                          },\n                                          expression: \"attr.value\"\n                                        }\n                                      },\n                                      _vm._l(attr.editor.options.data, function(\n                                        option,\n                                        $index\n                                      ) {\n                                        return _c(\n                                          \"el-checkbox\",\n                                          {\n                                            key: $index,\n                                            attrs: { label: option.value }\n                                          },\n                                          [\n                                            _vm._v(\n                                              \" \" + _vm._s(option.text) + \" \"\n                                            )\n                                          ]\n                                        )\n                                      }),\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.type === \"dialog\"\n                                  ? _c(\n                                      \"DsfButton\",\n                                      {\n                                        class: attr.class,\n                                        attrs: {\n                                          type: \"plain\",\n                                          icon: \"shezhi\"\n                                        },\n                                        on: {\n                                          click: function($event) {\n                                            return _vm.doOpenDialog(attr)\n                                          }\n                                        }\n                                      },\n                                      [\n                                        _vm._v(\n                                          \" \" +\n                                            _vm._s(\n                                              _vm.subIsDisabled\n                                                ? \"查看\"\n                                                : \"设置\"\n                                            ) +\n                                            \" \"\n                                        )\n                                      ]\n                                    )\n                                  : _vm._e()\n                              ],\n                              1\n                            )\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  }),\n                  0\n                )\n              ],\n              1\n            )\n          }),\n          1\n        )\n      ],\n      1\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ds_attr_root\">\r\n    <div v-show=\"status === 'base'\" class=\"base\">\r\n      <p class=\"title\">\r\n        <span>常用</span>\r\n        <el-button class=\"el-button-all\" size=\"mini\" round @click=\"status = 'advanced'\">\r\n          <span>全部</span>\r\n          <i class=\"el-icon-arrow-right\"></i>\r\n        </el-button>\r\n      </p>\r\n      <div class=\"el-collapse-item__content\">\r\n        <el-form v-for=\"(item, itemIndex) in data\" :key=\"itemIndex\" class=\"colla-content\" label-position=\"top\" label-width=\"80px\">\r\n          <div v-for=\"(attr, index) in item.attributes\" :key=\"index\" class=\"property-item\">\r\n            <el-form-item v-if=\"!attr.hide && attr.isBase\">\r\n              <span slot=\"label\" class=\"property-item-name\">\r\n                {{ attr.name }}\r\n                <DsfIcon v-if=\"attr.desc\" style=\"margin-left: 5px; cursor: pointer;\" name=\"bangzhuzhongxin\" @click=\"showHelp(attr)\"></DsfIcon>\r\n                <el-dialog :visible.sync=\"attr.showHeplerMark\" :title=\"attr.name\" :append-to-body=\"true\" :width=\"'500px'\">\r\n                  <div style=\"max-height: 500px; min-height: 300px; overflow: auto;\">\r\n                    <span style=\"display: inline-block; line-height: 1.5em;\" v-html=\"attr.desc\"></span>\r\n                  </div>\r\n                </el-dialog>\r\n              </span>\r\n              <div v-if=\"attr.nodeType === 'flow' && attr.nodeName2 === 'Version'\" class=\"inline\">\r\n                <el-input-number\r\n                  v-model=\"attr.value0\"\r\n                  controls-position=\"right\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  :min=\"minValue(attr, 0)\"\r\n                  @input=\"changeVesion(attr, 0)\"\r\n                ></el-input-number>\r\n                <span>.</span>\r\n                <el-input-number\r\n                  v-model=\"attr.value1\"\r\n                  controls-position=\"right\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  :min=\"minValue(attr, 1)\"\r\n                  @input=\"changeVesion(attr, 1)\"\r\n                ></el-input-number>\r\n                <span>.</span>\r\n                <el-input v-model=\"attr.value2\" disabled=\"disabled\"></el-input>\r\n              </div>\r\n              <div v-if=\"attr.unit\" class=\"inline\">\r\n                <el-input-number\r\n                  v-model=\"attr.value\"\r\n                  controls-position=\"right\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  :min=\"1\"\r\n                  :max=\"attr.max\"\r\n                  @input=\"changeProperty(attr)\"\r\n                ></el-input-number>\r\n                <span class=\"unit\">{{ attr.unit }}</span>\r\n              </div>\r\n              <el-input v-if=\"show(attr)\" v-model=\"attr.value\" :disabled=\"subIsDisabled || !attr.editor\" @input=\"changeProperty(attr)\"></el-input>\r\n              <el-input\r\n                v-if=\"attr.editor === 'textarea'\"\r\n                v-model=\"attr.value\"\r\n                :disabled=\"subIsDisabled\"\r\n                type=\"textarea\"\r\n                placeholder=\"请输入内容\"\r\n                @input=\"changeProperty(attr)\"\r\n              ></el-input>\r\n              <el-select\r\n                v-if=\"attr.editor && attr.editor.type === 'combobox'\"\r\n                v-model=\"attr.value\"\r\n                :name=\"`${attr.nodeName1 + '_' + attr.nodeName2}`\"\r\n                :disabled=\"subIsDisabled\"\r\n                @change=\"changeProperty(attr)\"\r\n              >\r\n                <el-option v-for=\"(option, i) in attr.editor.options.data\" :key=\"i\" :label=\"option.text\" :value=\"option.value\"></el-option>\r\n              </el-select>\r\n              <!--单选-->\r\n              <el-radio-group\r\n                v-if=\"attr.editor && attr.editor.type === 'radio'\"\r\n                v-model=\"attr.value\"\r\n                :disabled=\"subIsDisabled\"\r\n                @change=\"changeProperty(attr)\"\r\n              >\r\n                <el-radio v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                  {{ option.text }}\r\n                </el-radio>\r\n              </el-radio-group>\r\n              <!--多选-->\r\n              <el-checkbox-group\r\n                v-if=\"attr.editor && attr.editor.type === 'checkbox'\"\r\n                v-model=\"attr.value\"\r\n                :disabled=\"subIsDisabled\"\r\n                @change=\"changeProperty(attr)\"\r\n              >\r\n                <el-checkbox v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                  {{ option.text }}\r\n                </el-checkbox>\r\n              </el-checkbox-group>\r\n              <!--弹出框-->\r\n              <DsfButton v-if=\"attr.type === 'dialog'\" type=\"plain\" icon=\"shezhi\" :class=\"[attr.class]\" @click=\"doOpenDialog(attr)\">\r\n                {{ subIsDisabled ? \"查看\" : \"设置\" }}\r\n              </DsfButton>\r\n            </el-form-item>\r\n          </div>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <div v-show=\"status === 'advanced'\" class=\"advanced\">\r\n      <p class=\"title\">\r\n        <span>全部</span>\r\n        <el-button class=\"el-button-base\" size=\"mini\" round @click=\"status = 'base'\">\r\n          <i class=\"el-icon-arrow-left\"></i>\r\n          <span>常用</span>\r\n        </el-button>\r\n      </p>\r\n      <el-collapse v-model=\"activeNames\" accordion>\r\n        <el-collapse-item v-for=\"item in data\" :key=\"item.name\" :title=\"item.name\" :name=\"item.name\">\r\n          <el-form label-position=\"top\" label-width=\"80px\" class=\"colla-content\">\r\n            <div v-for=\"(attr, index) in item.attributes\" :key=\"index\" class=\"property-item\">\r\n              <el-form-item v-if=\"!attr.hide\">\r\n                <span slot=\"label\" class=\"property-item-name\">\r\n                  {{ attr.name }}\r\n                  <!-- <el-popover placement=\"bottom\" width=\"210\" trigger=\"click\" :content=\"attr.desc\">\r\n                    <i slot=\"reference\" class=\"el-icon-question\"></i>\r\n                  </el-popover>-->\r\n                  <DsfIcon v-if=\"attr.desc\" style=\"margin-left: 5px; cursor: pointer;\" name=\"bangzhuzhongxin\" @click=\"showHelp(attr)\"></DsfIcon>\r\n                  <el-dialog :visible.sync=\"attr.showHeplerMark\" :title=\"attr.name\" :append-to-body=\"true\" :width=\"'500px'\">\r\n                    <div style=\"max-height: 500px; min-height: 300px; overflow: auto;\">\r\n                      <span style=\"display: inline-block; line-height: 1.5em;\" v-html=\"attr.desc\"></span>\r\n                    </div>\r\n                  </el-dialog>\r\n                </span>\r\n                <div v-if=\"attr.nodeType === 'flow' && attr.nodeName2 === 'Version'\" class=\"inline\">\r\n                  <el-input-number\r\n                    v-model=\"attr.value0\"\r\n                    controls-position=\"right\"\r\n                    :disabled=\"subIsDisabled\"\r\n                    :min=\"minValue(attr, 0)\"\r\n                    @input=\"changeVesion(attr, 0)\"\r\n                  ></el-input-number>\r\n                  <span>.</span>\r\n                  <el-input-number\r\n                    v-model=\"attr.value1\"\r\n                    controls-position=\"right\"\r\n                    :disabled=\"subIsDisabled\"\r\n                    :min=\"minValue(attr, 1)\"\r\n                    @input=\"changeVesion(attr, 1)\"\r\n                  ></el-input-number>\r\n                  <span>.</span>\r\n                  <el-input v-model=\"attr.value2\" disabled=\"disabled\"></el-input>\r\n                </div>\r\n                <div v-if=\"attr.unit\" class=\"inline\">\r\n                  <el-input-number\r\n                    v-model=\"attr.value\"\r\n                    controls-position=\"right\"\r\n                    :disabled=\"subIsDisabled\"\r\n                    :min=\"1\"\r\n                    :max=\"attr.max\"\r\n                    @input=\"changeProperty(attr)\"\r\n                  ></el-input-number>\r\n                  <span class=\"unit\">{{ attr.unit }}</span>\r\n                </div>\r\n                <el-input v-if=\"show(attr)\" v-model=\"attr.value\" :disabled=\"subIsDisabled || !attr.editor\" @input=\"changeProperty(attr)\"></el-input>\r\n                <el-input\r\n                  v-if=\"attr.editor === 'textarea'\"\r\n                  v-model=\"attr.value\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  type=\"textarea\"\r\n                  placeholder=\"请输入内容\"\r\n                  @input=\"changeProperty(attr)\"\r\n                ></el-input>\r\n                <el-select\r\n                  v-if=\"attr.editor && attr.editor.type === 'combobox'\"\r\n                  v-model=\"attr.value\"\r\n                  :name=\"`${attr.nodeName1 + '_' + attr.nodeName2}`\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  @change=\"changeProperty(attr)\"\r\n                >\r\n                  <el-option v-for=\"(option, i) in attr.editor.options.data\" :key=\"i\" :label=\"option.text\" :value=\"option.value\"></el-option>\r\n                </el-select>\r\n                <!--单选-->\r\n                <el-radio-group\r\n                  v-if=\"attr.editor && attr.editor.type === 'radio'\"\r\n                  v-model=\"attr.value\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  @change=\"changeProperty(attr)\"\r\n                >\r\n                  <el-radio v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                    {{ option.text }}\r\n                  </el-radio>\r\n                </el-radio-group>\r\n                <!--多选-->\r\n                <el-checkbox-group\r\n                  v-if=\"attr.editor && attr.editor.type === 'checkbox'\"\r\n                  v-model=\"attr.value\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  @change=\"changeProperty(attr)\"\r\n                >\r\n                  <el-checkbox v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                    {{ option.text }}\r\n                  </el-checkbox>\r\n                </el-checkbox-group>\r\n                <!--弹出框-->\r\n                <DsfButton v-if=\"attr.type === 'dialog'\" type=\"plain\" icon=\"shezhi\" :class=\"attr.class\" @click=\"doOpenDialog(attr)\">\r\n                  {{ subIsDisabled ? \"查看\" : \"设置\" }}\r\n                </DsfButton>\r\n              </el-form-item>\r\n            </div>\r\n          </el-form>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport {\r\n  BaseInfoProperties,\r\n  NodeProperties,\r\n  UserTaskNodeProperties,\r\n  ChildTaskProperties,\r\n  StartNodeProperties,\r\n  endNodeProperties,\r\n  ScriptNodeProperties,\r\n  JumpNodeProperties,\r\n  LineProperties,\r\n  WebTaskProperties,\r\n  MessageTaskProperties,\r\n  JudgementNodeProperties,\r\n  CorridorProperties,\r\n  BoundaryEventProperties,\r\n  GetInlineTypeData,\r\n  GetIsSelected,\r\n} from \"./propertySource\";\r\nimport Line from \"./Line\";\r\nimport Lane from \"./Lane\";\r\nimport Node from \"./Node\";\r\nimport BoundaryEvent from \"./BoundaryEvent\";\r\nimport { getObjById, deepClone, verifySub } from \"./common\";\r\nimport DsfDesignerDialog from \"_platform/designer/propertyEditor/dsfDesignerDialog\";\r\n\r\nexport default {\r\n  name: \"FlowInfo\",\r\n  components: {\r\n    DsfDesignerDialog,\r\n  },\r\n  props: {\r\n    checked: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    flowInfo: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    nodes: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    lines: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeNames: [\"1\"],\r\n      curSelectObj: null,\r\n      curNodeObj: null,\r\n      curElement: null,\r\n      AppInfo: null,\r\n      data: [],\r\n      status: \"base\",\r\n      showHeplerMark: false,\r\n      subIsDisabled: false,\r\n    };\r\n  },\r\n  computed: {\r\n    minValue() {\r\n      return (attr, index) => {\r\n        if (index === 0) {\r\n          return Number(attr.oldValue.split(\".\")[0]);\r\n        }\r\n        if (attr.value0 > Number(attr.oldValue.split(\".\")[0]) && index === 1) {\r\n          return 0;\r\n        }\r\n        return Number(attr.oldValue.split(\".\")[1]);\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    checked(ui) {\r\n      this.loadPropertyWindow(ui);\r\n      this.subIsDisabled = this.disabledSub();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"updateNodeName\", (ui, bool) => {\r\n      if (!bool) {\r\n        this.loadPropertyWindow(ui);\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    disabledSub() {\r\n      if (this.curSelectObj && this.curSelectObj.parentNodeId) {\r\n        const parentNode = getObjById(this.nodes, this.curSelectObj.parentNodeId);\r\n        return verifySub(parentNode);\r\n      }\r\n      return false;\r\n    },\r\n    show(attr) {\r\n      return (\r\n        (!attr.nodeType && attr.nodeName2 !== \"Version\" && !attr.editor && attr.type !== \"dialog\") ||\r\n        (!attr.unit && attr.editor === \"text\") ||\r\n        attr.editor === \"numberbox\"\r\n      );\r\n    },\r\n    loadPropertyWindow(obj) {\r\n      if (Object.keys(obj).length === 0) {\r\n        return;\r\n      }\r\n      this.curSelectObj = obj || null;\r\n      this.curNodeObj = !obj ? null : obj.attributes;\r\n      this.loadPropertyDom(obj ? this.setPropertyData(obj) : []);\r\n    },\r\n    showHelp(attr) {\r\n      this.$set(attr, \"showHeplerMark\", true);\r\n    },\r\n    setPropertyData(obj) {\r\n      var pro = null;\r\n      if (obj instanceof Node) {\r\n        if (obj.type == \"101\") {\r\n          pro = UserTaskNodeProperties();\r\n        } else if (obj.type == \"102\") {\r\n          pro = ChildTaskProperties();\r\n        } else if (obj.type == \"103\") {\r\n          const config = {\r\n            name: \"脚本任务\",\r\n            type: \"103\",\r\n            language: \"java\",\r\n          };\r\n          pro = ScriptNodeProperties(config);\r\n        } else if (obj.type === \"104\") {\r\n          pro = WebTaskProperties();\r\n        } else if (obj.type === \"105\") {\r\n          pro = MessageTaskProperties();\r\n        } else if (obj.type === \"106\") {\r\n          const config = {\r\n            name: \"python任务\",\r\n            type: \"106\",\r\n            language: \"python\",\r\n          };\r\n          pro = ScriptNodeProperties(config);\r\n        } else if (obj.type === \"107\") {\r\n          const config = {\r\n            name: \"shell任务\",\r\n            type: \"107\",\r\n            language: \"shell\",\r\n          };\r\n          pro = ScriptNodeProperties(config);\r\n        } else if (obj.type === \"108\") {\r\n          const config = {\r\n            name: \"SQL任务\",\r\n            type: \"108\",\r\n            language: \"SQL\",\r\n          };\r\n          pro = ScriptNodeProperties(config);\r\n        } else if (obj.type == \"201\") {\r\n          pro = StartNodeProperties();\r\n        } else if (obj.type == \"299\") {\r\n          pro = endNodeProperties();\r\n        } else if (obj.type == \"301\") {\r\n          pro = JudgementNodeProperties();\r\n        } else if (obj.type == \"302\") {\r\n          pro = JumpNodeProperties();\r\n        } else {\r\n          pro = NodeProperties();\r\n        }\r\n      } else if (obj instanceof Line) {\r\n        pro = LineProperties();\r\n      } else if (obj instanceof Lane) {\r\n        pro = CorridorProperties();\r\n      } else if (obj instanceof BoundaryEvent) {\r\n        pro = BoundaryEventProperties();\r\n      } else {\r\n        // 基本流\r\n        pro = BaseInfoProperties();\r\n      }\r\n      var attr = obj.attributes;\r\n      // 转成平台要的样子\r\n      var group = null;\r\n      var groupIndex = -1;\r\n      pro.json = [];\r\n      for (let i = 0; i < pro.rows.length; i++) {\r\n        if (pro.rows[i].nodeLevel == 1) {\r\n          // 类似文本框\r\n          pro.rows[i].value = attr[pro.rows[i].nodeName];\r\n        } else if (pro.rows[i].nodeLevel == 2) {\r\n          // 期限类型-会根据流程信息去取值\r\n          if (attr[pro.rows[i].nodeName1]) {\r\n            pro.rows[i].value = attr[pro.rows[i].nodeName1][pro.rows[i].nodeName2];\r\n          } else {\r\n            pro.rows[i].value = \"\";\r\n          }\r\n        } else if (pro.rows[i].nodeLevel == 3) {\r\n          // 应用名称应用信息 - 初步认为是只读\r\n          if (attr[pro.rows[i].nodeName1] && attr[pro.rows[i].nodeName1][pro.rows[i].nodeName2]) {\r\n            pro.rows[i].value = attr[pro.rows[i].nodeName1][pro.rows[i].nodeName2][pro.rows[i].nodeName3];\r\n          } else {\r\n            pro.rows[i].value = \"\";\r\n          }\r\n        }\r\n        if (pro.rows[i].group != group) {\r\n          groupIndex++;\r\n          group = pro.rows[i].group;\r\n          pro.json[groupIndex] = {\r\n            name: group,\r\n            attributes: [],\r\n          };\r\n        }\r\n        pro.json[groupIndex][\"attributes\"].push(pro.rows[i]);\r\n      }\r\n      return pro.json;\r\n    },\r\n    loadPropertyDom(data) {\r\n      let rows = [];\r\n      data.forEach((item) => {\r\n        item.attributes.forEach((attr) => {\r\n          if (attr.editor && attr.editor.type === \"checkbox\") {\r\n            attr.value = attr.value || [];\r\n          } else if (attr.editor && attr.editor.type !== \"checkbox\") {\r\n            attr.value = attr.editor && attr.editor.options && attr.value ? Number(attr.value) : attr.value;\r\n          } else if (attr.nodeType === \"flow\" && attr.nodeName2 === \"Version\") {\r\n            // 工作流版本\r\n            attr.oldValue = attr.value;\r\n            attr.value0 = attr.value.split(\".\")[0];\r\n            attr.value1 = attr.value.split(\".\")[1];\r\n            attr.value2 = attr.value.split(\".\")[2];\r\n          } else {\r\n            attr.value = attr.value;\r\n          }\r\n\r\n          if (attr.showRob) {\r\n            rows.push(attr);\r\n          }\r\n        });\r\n      });\r\n      this.data = data;\r\n\r\n      // 加载处理模式 抢办人数/比例  连线汇总信息\r\n      if (rows && rows.length > 0) {\r\n        rows.forEach((row) => {\r\n          this.showRob(row);\r\n        });\r\n      }\r\n      this.activeNames = [this.data[0].name];\r\n    },\r\n    changeVesion(attr, index) {\r\n      if (attr) {\r\n        if (index === 0) {\r\n          attr.value1 = 0;\r\n          attr.value2 = \"0001\";\r\n        }\r\n        attr.value = attr.value0 + \".\" + attr.value1 + \".\" + attr.value2;\r\n        this.changeProperty(attr);\r\n      }\r\n    },\r\n    changeProperty(rowData) {\r\n      if (rowData.nodeName2 && rowData.nodeName2 == \"Name\") {\r\n        if (this.curSelectObj instanceof Node) {\r\n          this.curSelectObj.name = rowData.value;\r\n          // this.$bus.$emit(\"updateName\", this.curSelectObj);\r\n          this.$bus.$emit(`updateNodeName${this.isSub ? this.parentNode.id : \"\"}`, this.curSelectObj, true);\r\n        }\r\n        if (this.curSelectObj instanceof Lane) {\r\n          this.curSelectObj.name = rowData.value;\r\n        }\r\n        if (this.curSelectObj instanceof Line) {\r\n          this.curSelectObj.name = rowData.value;\r\n        }\r\n      }\r\n      if (rowData.showRob && rowData.showRob == \"GatherRule\") {\r\n        // 线 连线类型变化\r\n        if (this.curSelectObj instanceof Line) {\r\n          this.curSelectObj.type = rowData.value;\r\n        }\r\n      }\r\n      if (rowData.nodeName1 === \"InLine\" && rowData.nodeName2 === \"Type\") {\r\n        let name = GetInlineTypeData(rowData.value);\r\n        let RangeRule = [];\r\n        const Rule = this.curNodeObj.InLine.RangeRule && this.curNodeObj.InLine.RangeRule.Rule;\r\n        if (Rule && Rule.length > 0) {\r\n          Rule.forEach((item, index) => {\r\n            RangeRule.push(item.name + \"/\" + GetIsSelected(item.IsSelected));\r\n          });\r\n          this.curSelectObj.taskMsg = `${name}: ${RangeRule.join(\",\")}`;\r\n        }\r\n      }\r\n      if (\r\n        rowData.nodeName1 === \"InLine\" &&\r\n        rowData.nodeName2 === \"RangeRule\" &&\r\n        rowData.value &&\r\n        rowData.value.Rule &&\r\n        rowData.value.Rule.length > 0\r\n      ) {\r\n        let name = GetInlineTypeData(this.curNodeObj.InLine.Type);\r\n        let RangeRule = [];\r\n        rowData.value.Rule.forEach((item, index) => {\r\n          RangeRule.push(item.name + \"/\" + GetIsSelected(item.IsSelected));\r\n        });\r\n\r\n        this.curSelectObj.taskMsg = `${name}: ${RangeRule.join(\",\")}`;\r\n      }\r\n      // 处理模式为抢办 需要单独处理\r\n      this.showRob(rowData);\r\n      if (rowData.nodeLevel == 1) {\r\n        this.curNodeObj[rowData.nodeName] = rowData.value;\r\n      } else if (rowData.nodeLevel == 2) {\r\n        this.curNodeObj[rowData.nodeName1][rowData.nodeName2] = rowData.value;\r\n      } else if (rowData.nodeLevel == 3) {\r\n        this.curNodeObj[rowData.nodeName1][rowData.nodeName2][rowData.nodeName3] = rowData.value;\r\n      }\r\n    },\r\n    showRob(rowData) {\r\n      if (rowData.showRob) {\r\n        this.data.forEach((item) => {\r\n          item.attributes.forEach((attr) => {\r\n            const showRob = rowData.showRob.split(\",\");\r\n            showRob.forEach((field) => {\r\n              if (attr.nodeName2 === field || attr.nodeName3 === field) {\r\n                if (field === \"RushInfo\") {\r\n                  if (rowData.value === 5) {\r\n                    //修改默认值\r\n                    Object.assign(attr, {\r\n                      name: \"人数\",\r\n                      value: 1,\r\n                      max: 999999,\r\n                      unit: \"（人）\",\r\n                      hide: false,\r\n                    });\r\n                  } else if (rowData.value === 6) {\r\n                    //修改默认值\r\n                    Object.assign(attr, {\r\n                      name: \"比例\",\r\n                      value: 60,\r\n                      max: 100,\r\n                      unit: \"%\",\r\n                      hide: false,\r\n                    });\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"GatherRule\") {\r\n                  if (rowData.value === 1 || rowData.value === 2) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"Params\") {\r\n                  if (rowData.value === 0 || rowData.value === 1) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"Content\") {\r\n                  if (rowData.value === 2) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"Value\") {\r\n                  if (rowData.value !== 0) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"IsEnbled\") {\r\n                  if (rowData.value && this.curSelectObj.attributes.BaseInfo && this.curSelectObj.attributes.BaseInfo.Mode === 0) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"OpinionNodeID\") {\r\n                  const BaseInfo = this.curSelectObj.attributes.BaseInfo;\r\n                  setTimeout(() => {\r\n                    if (BaseInfo.Mode === 0 && BaseInfo.SubWFID && BaseInfo.Merge.IsEnbled === 1) {\r\n                      attr.hide = false;\r\n                    } else {\r\n                      attr.hide = true;\r\n                    }\r\n                  }, 0);\r\n                }\r\n              }\r\n            });\r\n          });\r\n        });\r\n      }\r\n    },\r\n    doOpenDialog(rowData) {\r\n      let data = rowData;\r\n      let params = {\r\n        code: (data.value && data.value.Expression) || \"\",\r\n        language: \"java\",\r\n        checked: this.checked,\r\n        value: data.value,\r\n      };\r\n      if (data.config && data.config.content) {\r\n        if (data.config.content === \"RangeRule\") {\r\n          params.nodes = this.nodes;\r\n          params.value = data.value || {};\r\n        } else if (data.config.content === \"Summary\") {\r\n          params.lines = this.lines;\r\n          params.value = data.value || {};\r\n        } else if (data.config.content === \"SendCondition\") {\r\n          params.lines = this.lines;\r\n          params.value = data.value || {};\r\n        } else if (data.config.content === \"EventSetting\") {\r\n          params.isEvent = true;\r\n        } else if (data.config.content === \"SetSubFlow\") {\r\n          params.mode = this.curSelectObj.attributes.BaseInfo.Mode;\r\n        } else if (data.config.content === \"SetOpinionNode\") {\r\n          params.subNodes = this.curSelectObj.nodes;\r\n        }\r\n      }\r\n      dsf.layer.pc.openDialog({\r\n        title: data.name,\r\n        width: data.config.width,\r\n        height: data.config.height,\r\n        overflow: \"hidden\",\r\n        content: data.config.content,\r\n        params: params,\r\n        btns: [\r\n          {\r\n            class: this.subIsDisabled ? \"hide\" : \"\",\r\n            text: \"确定\",\r\n            handler: (component) => {\r\n              // 选择子流程 子流程单独处理\r\n              if (data.config.content === \"SetSubFlow\") {\r\n                if (component.validate()) {\r\n                  const checked = component.yes();\r\n                  data.value = checked.SubWFID;\r\n                  this.curSelectObj.attributes.BaseInfo.Mode = checked.Mode;\r\n                  this.curSelectObj.attributes.BaseInfo.SubWFName = checked.SubWFName;\r\n                  this.curSelectObj.attributes.BaseInfo.OpinionNodeID = null;\r\n                  this.curSelectObj.attributes.BaseInfo.OpinionNodeName = null;\r\n                  if (!checked.SubWFID) {\r\n                    this.$bus.$emit(\"initSubNode\", this.curSelectObj, []);\r\n                    return true;\r\n                  }\r\n                  return this.$http\r\n                    .get(\"wfm/getWFDefinition\", {\r\n                      sID: checked.SubWFID,\r\n                    })\r\n                    .then((res) => {\r\n                      this.changeProperty(data);\r\n                      this.$bus.$emit(\"initSubNode\", this.curSelectObj, (res.data.data.WorkFlow && res.data.data.WorkFlow.ElementList) || []);\r\n                      return true;\r\n                    })\r\n                    .catch((error) => {});\r\n                }\r\n                return false;\r\n              } else if (data.config.content === \"SetOpinionNode\") {\r\n                const checked = component.yes();\r\n                data.value = checked.id;\r\n                this.curSelectObj.attributes.BaseInfo.OpinionNodeName = checked.name;\r\n                this.changeProperty(data);\r\n              } else {\r\n                data.value = component.getContent();\r\n                this.changeProperty(data);\r\n              }\r\n            },\r\n          },\r\n          {\r\n            text: \"取消\",\r\n          },\r\n        ],\r\n      });\r\n      if (data.config.content === \"SetSubFlow\" && !data.value) {\r\n        dsf.layer.message(\"请慎重操作，选择子流程任务后，将自动获取子流程任务，覆盖子流程\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.inline {\r\n  display: flex;\r\n  /deep/ .el-input__inner {\r\n    text-align: center;\r\n    padding: 0;\r\n  }\r\n  .el-input-number {\r\n    width: 300px;\r\n    /deep/ .el-input-number__decrease,\r\n    /deep/ .el-input-number__increase {\r\n      width: 20px;\r\n    }\r\n    /deep/ .el-input__inner {\r\n      padding-right: 16px;\r\n    }\r\n  }\r\n\r\n  .el-input-number.is-controls-right .el-input__inner {\r\n    padding-right: 34px;\r\n  }\r\n  .unit {\r\n    display: inline-block;\r\n    width: 42px;\r\n    text-align: center;\r\n  }\r\n}\r\n.title {\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  position: relative;\r\n  .el-button {\r\n    position: absolute;\r\n    top: 12px;\r\n    padding: 7px 10px;\r\n    &.el-button-all {\r\n      right: 5px;\r\n    }\r\n    &.el-button-base {\r\n      left: 5px;\r\n    }\r\n  }\r\n}\r\n.el-select {\r\n  width: 100%;\r\n}\r\n/deep/ .el-checkbox {\r\n  margin-right: 12px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flowInfo.vue?vue&type=template&id=420525b2&scoped=true&\"\nimport script from \"./flowInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./flowInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420525b2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('420525b2')) {\n      api.createRecord('420525b2', component.options)\n    } else {\n      api.reload('420525b2', component.options)\n    }\n    module.hot.accept(\"./flowInfo.vue?vue&type=template&id=420525b2&scoped=true&\", function () {\n      api.rerender('420525b2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/flowInfo.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { ref: \"svgRoot\", staticClass: \"svgRoot\" },\n    [\n      _c(\"lines\", {\n        ref: \"lines\",\n        attrs: {\n          \"is-draw-line\": _vm.isDrawLine,\n          lines: _vm.lines,\n          nodes: _vm.nodes,\n          events: _vm.events,\n          checked: _vm.checked,\n          config: _vm.config\n        }\n      }),\n      _c(\"nodes\", {\n        attrs: {\n          \"is-draw-line\": _vm.isDrawLine,\n          nodes: _vm.nodes,\n          checked: _vm.checked,\n          config: _vm.config\n        }\n      }),\n      _c(\"events\", {\n        attrs: {\n          \"is-draw-line\": _vm.isDrawLine,\n          nodes: _vm.nodes,\n          events: _vm.events,\n          checked: _vm.checked,\n          config: _vm.config\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"svgRoot\" class=\"svgRoot\">\r\n    <lines\r\n      ref=\"lines\"\r\n      :is-draw-line=\"isDrawLine\"\r\n      :lines=\"lines\"\r\n      :nodes=\"nodes\"\r\n      :events=\"events\"\r\n      :checked=\"checked\"\r\n      :config=\"config\"\r\n    ></lines>\r\n    <nodes\r\n      :is-draw-line=\"isDrawLine\"\r\n      :nodes=\"nodes\"\r\n      :checked=\"checked\"\r\n      :config=\"config\"\r\n    ></nodes>\r\n    <events\r\n      :is-draw-line=\"isDrawLine\"\r\n      :nodes=\"nodes\"\r\n      :events=\"events\"\r\n      :checked=\"checked\"\r\n      :config=\"config\"\r\n    ></events>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Lines from \"./Lines\";\r\nimport Events from \"./Events\";\r\nimport subprocess from \"./Subprocess\";\r\nimport { getAttributes } from \"./common\";\r\nimport { BaseInfoProperties } from \"./propertySource\";\r\nexport default {\r\n  name: \"FlowContent\",\r\n  components: {\r\n    Lines,\r\n    Events,\r\n    subprocess,\r\n  },\r\n  props: {\r\n    flowInfo: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    lines: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    nodes: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    lanes: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    events: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    isDrawLine: {\r\n      type: Boolean,\r\n      default() {\r\n        return false;\r\n      },\r\n    },\r\n    checked: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    config: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  watch: {\r\n    flowInfo(val) {\r\n      if (val) {\r\n        this.init();\r\n      }\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {},\r\n  methods: {\r\n    init() {\r\n      this.initFlow();\r\n    },\r\n    initFlow() {\r\n      //流程插件初始化\r\n      flow = {\r\n        attributes: Object.assign(\r\n          getAttributes(BaseInfoProperties()),\r\n          this.flowInfo\r\n        ),\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n// @import \"_platform/assets/styles/designer/workFlow.scss\";\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flowContent.vue?vue&type=template&id=05a26e10&\"\nimport script from \"./flowContent.vue?vue&type=script&lang=js&\"\nexport * from \"./flowContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flowContent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('05a26e10')) {\n      api.createRecord('05a26e10', component.options)\n    } else {\n      api.reload('05a26e10', component.options)\n    }\n    module.hot.accept(\"./flowContent.vue?vue&type=template&id=05a26e10&\", function () {\n      api.rerender('05a26e10', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/flowContent.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"lanes\" },\n    _vm._l(_vm.lanes, function(lane, index) {\n      return _c(\n        \"div\",\n        {\n          key: lane.id || index,\n          staticClass: \"lane\",\n          class: { selected: _vm.checked === lane },\n          style: {\n            left: _vm.toPx(lane.left),\n            top: _vm.toPx(lane.top),\n            width: lane.direction === \"vertical\" ? _vm.toPx(lane.size) : \"\",\n            height: lane.direction === \"horizontal\" ? _vm.toPx(lane.size) : \"\"\n          },\n          attrs: { index: index },\n          on: {\n            click: function($event) {\n              return _vm.selectLane($event, lane)\n            }\n          }\n        },\n        [\n          _c(\"div\", { staticClass: \"head\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"title\" },\n              [\n                _c(\n                  \"el-popover\",\n                  {\n                    attrs: {\n                      placement:\n                        lane.direction === \"vertical\" ? \"bottom\" : \"right\",\n                      title: \"修改名称\",\n                      width: \"200\",\n                      trigger: \"manual\"\n                    },\n                    model: {\n                      value: lane.isEdit,\n                      callback: function($$v) {\n                        _vm.$set(lane, \"isEdit\", $$v)\n                      },\n                      expression: \"lane.isEdit\"\n                    }\n                  },\n                  [\n                    _c(\"div\", { staticClass: \"el-input\" }, [\n                      lane.isEdit\n                        ? _c(\"input\", {\n                            directives: [\n                              {\n                                name: \"model\",\n                                rawName: \"v-model\",\n                                value: lane.name,\n                                expression: \"lane.name\"\n                              },\n                              { name: \"focus\", rawName: \"v-focus\" }\n                            ],\n                            staticClass: \"el-input__inner\",\n                            attrs: {\n                              autofocus: \"\",\n                              type: \"text\",\n                              placeholder: \"请输入内容\"\n                            },\n                            domProps: { value: lane.name },\n                            on: {\n                              change: function($event) {\n                                lane.attributes.Name = lane.name\n                                _vm.hideEdit()\n                              },\n                              input: function($event) {\n                                if ($event.target.composing) {\n                                  return\n                                }\n                                _vm.$set(lane, \"name\", $event.target.value)\n                              }\n                            }\n                          })\n                        : _vm._e()\n                    ]),\n                    _c(\n                      \"span\",\n                      {\n                        staticClass: \"textContent ellipsis\",\n                        style: {\n                          width: _vm.toPx(lane.size),\n                          transform:\n                            lane.direction === \"horizontal\"\n                              ? \"rotate(-90deg) translateX(-\" +\n                                lane.size +\n                                \"px)\"\n                              : \"\"\n                        },\n                        attrs: { slot: \"reference\" },\n                        on: {\n                          dblclick: function($event) {\n                            return _vm.edit(lane)\n                          }\n                        },\n                        slot: \"reference\"\n                      },\n                      [_vm._v(\" \" + _vm._s(lane.name) + \" \")]\n                    )\n                  ]\n                ),\n                _c(\"img\", {\n                  staticClass: \"plus left\",\n                  attrs: {\n                    src: require(\"_platform/assets/styles/themes/workFlow/addLane.png\")\n                  },\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(lane.direction, index)\n                    }\n                  }\n                }),\n                _c(\"img\", {\n                  staticClass: \"plus right\",\n                  attrs: {\n                    src: require(\"_platform/assets/styles/themes/workFlow/addLane.png\")\n                  },\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(lane.direction, index + 1)\n                    }\n                  }\n                }),\n                _c(\"span\", {\n                  staticClass: \"resizeLane\",\n                  on: {\n                    mousedown: function($event) {\n                      return _vm.dragLane($event, lane)\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          ]),\n          _c(\"div\", { staticClass: \"bg/\" }),\n          _c(\"div\", { staticClass: \"laneSelected\" })\n        ]\n      )\n    }),\n    0\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"lanes\">\r\n    <div\r\n      v-for=\"(lane, index) in lanes\"\r\n      :key=\"lane.id || index\"\r\n      :index=\"index\"\r\n      :style=\"{\r\n        left: toPx(lane.left),\r\n        top: toPx(lane.top),\r\n        width: lane.direction === 'vertical' ? toPx(lane.size) : '',\r\n        height: lane.direction === 'horizontal' ? toPx(lane.size) : '',\r\n      }\"\r\n      :class=\"{ selected: checked === lane }\"\r\n      class=\"lane\"\r\n      @click=\"selectLane($event, lane)\"\r\n    >\r\n      <div class=\"head\">\r\n        <div class=\"title\">\r\n          <el-popover\r\n            v-model=\"lane.isEdit\"\r\n            :placement=\"lane.direction === 'vertical' ? 'bottom' : 'right'\"\r\n            title=\"修改名称\"\r\n            width=\"200\"\r\n            trigger=\"manual\"\r\n          >\r\n            <div class=\"el-input\">\r\n              <input\r\n                v-if=\"lane.isEdit\"\r\n                v-model=\"lane.name\"\r\n                v-focus\r\n                autofocus\r\n                class=\"el-input__inner\"\r\n                type=\"text\"\r\n                placeholder=\"请输入内容\"\r\n                @change=\"\r\n                  lane.attributes.Name = lane.name;\r\n                  hideEdit();\r\n                \"\r\n              />\r\n            </div>\r\n            <span\r\n              slot=\"reference\"\r\n              class=\"textContent ellipsis\"\r\n              :style=\"{\r\n                width: toPx(lane.size),\r\n                transform: lane.direction === 'horizontal' ? `rotate(-90deg) translateX(-${lane.size}px)` : '',\r\n              }\"\r\n              @dblclick=\"edit(lane)\"\r\n            >\r\n              {{ lane.name }}\r\n            </span>\r\n          </el-popover>\r\n          <img class=\"plus left\" :src=\"require('_platform/assets/styles/themes/workFlow/addLane.png')\" @click=\"addLane(lane.direction, index)\" />\r\n          <img class=\"plus right\" :src=\"require('_platform/assets/styles/themes/workFlow/addLane.png')\" @click=\"addLane(lane.direction, index + 1)\" />\r\n          <span class=\"resizeLane\" @mousedown=\"dragLane($event, lane)\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bg/\"></div>\r\n      <div class=\"laneSelected\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n/* eslint-disable no-unused-vars */\r\nimport { LaneDirection } from \"./tools\";\r\n\r\nexport default {\r\n  name: \"Lanes\",\r\n  props: {\r\n    lanes: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    checked: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      current: null,\r\n      minSize: 100, // 最小的泳道宽度/高度\r\n    };\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"mousedown\", (e) => {\r\n      const target = e.target;\r\n      if (\r\n        target.getAttribute(\"role\") !== \"tooltip\" &&\r\n        target.parentElement.getAttribute(\"role\") !== \"tooltip\" &&\r\n        target.parentElement.parentElement.getAttribute(\"role\") !== \"tooltip\"\r\n      ) {\r\n        this.hideEdit();\r\n      }\r\n    });\r\n    document.addEventListener(\"mousemove\", (e) => {\r\n      this.moveLane(e);\r\n    });\r\n    document.addEventListener(\"mouseup\", (e) => {\r\n      this.dropLane(e);\r\n    });\r\n  },\r\n  methods: {\r\n    toPx(number) {\r\n      return `${number}px`;\r\n    },\r\n    selectLane(e, lane) {\r\n      this.$bus.$emit(\"update-checked\", lane);\r\n      e.stopPropagation();\r\n    },\r\n    addLane(direction, index) {\r\n      this.$emit(\"addLane\", direction, index);\r\n    },\r\n    dragLane(e, item) {\r\n      this.$bus.$emit(\"update-checked\", item);\r\n      this.current = { ...item };\r\n      this.$bus.$emit(\"update-baseLine\", {\r\n        show: this.current.direction,\r\n        top: 0,\r\n        left: 0,\r\n      });\r\n      // 鼠标点击的位置在整个页面上的坐标是（e.clientX，e.clientY）\r\n      // 鼠标点击的位置在图片的位置坐标为（X1，Y1）\r\n    },\r\n    dropLane(e) {\r\n      if (!this.current) {\r\n        return;\r\n      }\r\n      const page = this.$store.state.flow.page;\r\n      const svgRoot = this.$store.state.flow.svgRoot;\r\n      const scale = this.$store.state.flow.page.scale;\r\n      if (this.current.direction === LaneDirection.vertical) {\r\n        this.current.size = (e.pageX - this.current.left - page.left + svgRoot.scrollLeft) / scale;\r\n      } else {\r\n        this.current.size = (e.pageY - this.current.top - page.top + svgRoot.scrollTop) / scale;\r\n      }\r\n      this.current.size = this.current.size > this.minSize ? this.current.size : this.minSize;\r\n      // 根据鼠标点击的位置在整个页面上的坐标和在图片上的坐标来确定整个图片的坐标\r\n      this.$bus.$emit(\"update-baseLine\", {\r\n        showV: false,\r\n        showH: false,\r\n        top: 0,\r\n        left: 0,\r\n      });\r\n      this.$store.commit(\"flow/changeLane\", this.current);\r\n      this.$bus.$emit(\"resize\");\r\n      this.current = null;\r\n    },\r\n    moveLane(e) {\r\n      if (!this.current) {\r\n        return false;\r\n      }\r\n      let resize;\r\n      const page = this.$store.state.flow.page;\r\n      const svgRoot = this.$store.state.flow.svgRoot;\r\n      const scale = this.$store.state.flow.page.scale;\r\n      if (this.current.direction === LaneDirection.vertical) {\r\n        const minLeft = this.current.left + this.minSize;\r\n        const current = e.pageX - page.left + svgRoot.scrollLeft;\r\n        resize = {\r\n          top: 10,\r\n          left: (current > minLeft * scale ? current : minLeft * scale) / scale,\r\n        };\r\n      } else {\r\n        const minTop = this.current.top + this.minSize;\r\n        const current = e.pageY - page.top + svgRoot.scrollTop;\r\n        resize = {\r\n          top: (current > minTop * scale ? current * scale : minTop) / scale,\r\n          left: 10,\r\n        };\r\n      }\r\n      const baseLine = Object.assign(resize, {\r\n        showV: this.current.direction === \"vertical\",\r\n        showH: this.current.direction === \"horizontal\",\r\n      });\r\n      this.$bus.$emit(\"update-baseLine\", baseLine);\r\n      this.$bus.$emit(\"autoScroll\", {\r\n        type: \"lane\",\r\n        data: this.current,\r\n        mouse: {\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n        },\r\n      });\r\n    },\r\n    edit(lane) {\r\n      this.lanes.forEach((item) => {\r\n        if (lane === item) {\r\n          item.isEdit = true;\r\n        } else {\r\n          item.isEdit = false;\r\n        }\r\n      });\r\n    },\r\n    hideEdit() {\r\n      this.lanes.forEach((item) => {\r\n        item.isEdit = false;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.lanes {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lanes.vue?vue&type=template&id=11303e4c&scoped=true&\"\nimport script from \"./Lanes.vue?vue&type=script&lang=js&\"\nexport * from \"./Lanes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11303e4c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('11303e4c')) {\n      api.createRecord('11303e4c', component.options)\n    } else {\n      api.reload('11303e4c', component.options)\n    }\n    module.hot.accept(\"./Lanes.vue?vue&type=template&id=11303e4c&scoped=true&\", function () {\n      api.rerender('11303e4c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/Lanes.vue\"\nexport default component.exports","<template>\r\n  <div id=\"desginer\" class=\"ds_workflow ds-designer\">\r\n    <!-- 按钮栏 -->\r\n    <div class=\"designer-head\">\r\n      <div class=\"desginer_tools\">\r\n        <a class=\"ds-button--icon-text\" @click=\"doSave\">\r\n          <i class=\"iconfont icon-baocun\"></i>\r\n          <span>保存</span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-baocun\"></i>\r\n          <span>发布</span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-iframetianjia\"></i>\r\n          <span>\r\n            版本\r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <p class=\"label\">\r\n              <span>当前版本</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 16：20： 10</span>\r\n            </p>\r\n            <p class=\"label\">\r\n              <span>历史版本</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 16：20： 10</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 16：20： 10</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 16：20： 10</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 16：20： 10</span>\r\n            </p>\r\n          </dl>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-shebeikaifa1\"></i>\r\n          <span>模板库</span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-baocun\"></i>\r\n          <span>关闭</span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\" :class=\"{ selected: isDrawLine }\" @click=\"drawLine\">\r\n          <i class=\"iconfont icon-liujisuan\"></i>\r\n          <span>连线</span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-iframetianjia\"></i>\r\n          <span>\r\n            泳道\r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <dd @click=\"addLane('vertical')\">\r\n              <span>泳道(垂直)</span>\r\n            </dd>\r\n            <dd @click=\"addLane('horizontal')\">\r\n              <span>泳道(水平)</span>\r\n            </dd>\r\n          </dl>\r\n        </a>\r\n        <a class=\"ds-button--icon-text scale\">\r\n          <div class=\"scale-com\">\r\n            <i class=\"el-icon-minus\" :class=\"{ disabled: scale <= 0.4 }\" @click=\"rootScale('down')\"></i>\r\n            <span class=\"percent\">{{ Math.round(scale * 100) }}%</span>\r\n            <i class=\"el-icon-plus\" :class=\"{ disabled: scale >= 2 }\" @click=\"rootScale('up')\"></i>\r\n          </div>\r\n          <span>缩放</span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-dakai\"></i>\r\n          <span>\r\n            组件\r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <p @click=\"exportFlow()\">\r\n              <span>创建组</span>\r\n            </p>\r\n            <p class=\"label\" @click=\"saveAsFlow()\">\r\n              <span>保存为组件</span>\r\n            </p>\r\n            <p @click=\"openFlow()\">\r\n              <span>选择组</span>\r\n            </p>\r\n          </dl>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-lianjieliu\"></i>\r\n          <span>\r\n            更多\r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <p class=\"title\">\r\n              <span>导出</span>\r\n            </p>\r\n            <p class=\"child\">DFR</p>\r\n            <p class=\"child\">BPMN2.0</p>\r\n            <p class=\"child\">XML</p>\r\n            <p class=\"label child\" @click=\"exportFlowJson()\">JSON</p>\r\n            <p class=\"title\">\r\n              <span>导入</span>\r\n            </p>\r\n            <p class=\"child\">DFR</p>\r\n            <p class=\"child\">BPMN2.0</p>\r\n            <p class=\"child\">XML</p>\r\n            <p class=\"label child\">JSON</p>\r\n            <p class=\"label\" @click=\"startTestFlow()\">\r\n              <span>仿真测试</span>\r\n            </p>\r\n            <p @click=\"monitorFlow()\">\r\n              <span>浏览监控</span>\r\n            </p>\r\n          </dl>\r\n        </a>\r\n        <a v-if=\"$store.state.flow.selectedList && $store.state.flow.selectedList.length > 1\" class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-lianjieliu\"></i>\r\n          <span>\r\n            对齐方式\r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <dd @click=\"alignment('left')\">\r\n              <span>左对齐(L)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('center')\">\r\n              <span>水平居中(C)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('right')\">\r\n              <span>右对齐(R)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('top')\">\r\n              <span>顶端对齐(T)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('middle')\">\r\n              <span>垂直居中(M)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('bottom')\">\r\n              <span>底端对齐(B)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('horizontal')\">\r\n              <span>横向分布(H)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('vertical')\">\r\n              <span>纵向分布(V)</span>\r\n            </dd>\r\n          </dl>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <!-- 中、左、右 -->\r\n    <div class=\"designer-content\">\r\n      <div class=\"designer-center\">\r\n        <div ref=\"ds_page\" class=\"ds_control ds_page layui-form leftRight_ design\" @scroll=\"onScroll($event)\">\r\n          <div\r\n            id=\"flow_box\"\r\n            ref=\"container\"\r\n            class=\"flow\"\r\n            :style=\"{\r\n              width: toPx(scale > 1 ? width * scale : width / scale),\r\n              height: toPx(scale > 1 ? height * scale : height / scale),\r\n              transform: `scale(${scale}) translateZ(0)`,\r\n              transformOrigin: 'left top',\r\n            }\"\r\n          >\r\n            <div\r\n              ref=\"root\"\r\n              :class=\"{\r\n                has_v_head: lanes && lanes.vertical.length > 0,\r\n                has_h_head: lanes && lanes.horizontal.length > 0,\r\n              }\"\r\n              :style=\"{\r\n                width: toPx(scale > 1 ? width * scale : width / scale),\r\n                height: toPx(scale > 1 ? height * scale : height / scale),\r\n              }\"\r\n              class=\"root\"\r\n            >\r\n              <span v-if=\"baseLine.showV\" :style=\"{ transform: `translate3d(${baseLine.left}px, 0, 0)` }\" class=\"baseLine_v\"></span>\r\n              <span v-if=\"baseLine.showH\" :style=\"{ transform: `translate3d(0, ${baseLine.top}px, 0)` }\" class=\"baseLine_h\"></span>\r\n              <flow-content\r\n                ref=\"flowContent\"\r\n                :flow-info=\"flowInfo\"\r\n                :is-draw-line=\"isDrawLine\"\r\n                :lines=\"lines\"\r\n                :nodes=\"nodes\"\r\n                :lanes=\"lanes\"\r\n                :events=\"events\"\r\n                :checked=\"checked\"\r\n                :config=\"config\"\r\n              ></flow-content>\r\n              <div ref=\"backLayout\" class=\"backgroundLayout\">\r\n                <div ref=\"v_lane\" class=\"v_lane\">\r\n                  <lanes :lanes=\"lanes && lanes.vertical\" :checked=\"checked\" @addLane=\"addLane\"></lanes>\r\n                </div>\r\n                <div ref=\"h_lane\" class=\"h_lane\">\r\n                  <lanes :lanes=\"lanes && lanes.horizontal\" :checked=\"checked\" @addLane=\"addLane\"></lanes>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"designer-left\" style=\"margin-top: 60px\">\r\n        <div class=\"designer-left-tools\">\r\n          <el-collapse v-model=\"activeNames\" accordion>\r\n            <el-collapse-item v-for=\"(tool, index) in flowTools\" :key=\"index\" :title=\"tool.title\" :name=\"index\">\r\n              <div class=\"layui-colla-content layui-show\">\r\n                <div\r\n                  v-for=\"item in tool.data\"\r\n                  :key=\"item.type\"\r\n                  class=\"ds_tool_item nodeButton\"\r\n                  :title=\"item.name\"\r\n                  :sort=\"item.sort\"\r\n                  :nodetype=\"item.type\"\r\n                  draggable=\"true\"\r\n                  @dragstart=\"dragTool($event, item)\"\r\n                >\r\n                  <img :src=\"item.img\" draggable=\"false\" />\r\n                  {{ item.name }}\r\n                </div>\r\n                <div style=\"clear: both\"></div>\r\n              </div>\r\n            </el-collapse-item>\r\n            <el-collapse-item title=\"边界事件\" name=\"5\">\r\n              <div class=\"layui-colla-content layui-show\">\r\n                <div v-for=\"event in boundaryEvents\" :key=\"event.type\" class=\"nodeButton ds_tool_event\" :title=\"event.name\" :nodetype=\"event.type\">\r\n                  <div class=\"tool_event_drag\" draggable=\"true\" @dragstart=\"dragBoundaryEvent($event, event)\">\r\n                    <img :src=\"event.url\" draggable=\"false\" />\r\n                  </div>\r\n                  <span>{{ event.name }}</span>\r\n                </div>\r\n              </div>\r\n            </el-collapse-item>\r\n          </el-collapse>\r\n        </div>\r\n      </div>\r\n      <div id=\"propertyBox\" class=\"designer-right\">\r\n        <flow-info :checked=\"checked\" :nodes=\"nodes\" :lines=\"lines\" :flow-info=\"flowInfo\"></flow-info>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-redeclare */\r\nwindow.flow = null;\r\nimport { mapState } from \"vuex\";\r\nimport FlowFun from \"./flow\";\r\nimport Node from \"./Node\";\r\nimport Lane from \"./Lane\";\r\nimport Line from \"./Line\";\r\nimport BoundaryEvent from \"./BoundaryEvent\";\r\nimport FlowInfo from \"./flowInfo\";\r\nimport FlowContent from \"./flowContent\";\r\nimport { getObjById, getObjByTarget, getObjByParentTarget, getObjectByTarget, getGridPoint, deepClone, toPx, verifySub } from \"./common\";\r\nimport { _LineType, LaneDirection, nodeSize, tools } from \"./tools\";\r\nimport Lanes from \"./Lanes\";\r\nimport {\r\n  NodeProperties,\r\n  LineProperties,\r\n  BaseInfoProperties,\r\n  CorridorProperties,\r\n  JudgementNodeProperties,\r\n  flowTools,\r\n  boundaryEvents,\r\n} from \"./propertySource\";\r\nimport { getNodeLinkPoints } from \"./getPoints\";\r\n// import \"jqueryui/jquery-ui.min.css\";\r\n// import \"jqueryui/jquery-ui.min.js\";\r\nexport default {\r\n  name: \"Flow\",\r\n  components: {\r\n    FlowInfo,\r\n    FlowContent,\r\n    Lanes,\r\n  },\r\n  data() {\r\n    return {\r\n      activeNames: [0],\r\n      isDrawLine: false,\r\n      dragNode: null,\r\n      dragEvent: null,\r\n      endTarget: null,\r\n      width: 0,\r\n      height: 0,\r\n      maxWidth: 0,\r\n      maxHeight: 0,\r\n      flow: null,\r\n      flowInfo: null,\r\n      config: null,\r\n      sID: (this.$route.query && this.$route.query.id) || \"5b2d48d830c44b509d4fa730fa9d0b9b\",\r\n      nodes: [],\r\n      lines: [],\r\n      events: [],\r\n      distance: 30, // 吸附距离\r\n      cloneObj: null,\r\n      crashNode: null,\r\n      scale: this.$store.state.flow.page.scale,\r\n      dragSize: 20,\r\n      maxSizeOffset: 50,\r\n      flowTools: flowTools,\r\n      boundaryEvents: boundaryEvents,\r\n      checked: null,\r\n      baseLine: {\r\n        show: \"\",\r\n        top: 0,\r\n        left: 0,\r\n      },\r\n      showLineV: false,\r\n      showLineH: false,\r\n      isGlobalPosMove: false,\r\n      globalPos: null,\r\n      globalMoveLastMouse: null,\r\n      globalRect: null,\r\n      isGlobalSelect: false,\r\n      selectGlobalPos: null,\r\n      selectGlobalPonits: {\r\n        start: { x: 0, y: 0 },\r\n        end: { x: 0, y: 0 },\r\n      },\r\n      globalSelect: null,\r\n      isCtrlKey: false,\r\n      ctrlCopyNodes: null,\r\n      isCopyNodes: false,\r\n      copyNodesPos: null,\r\n      copyNodes: [],\r\n      hasMoved: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      lanes: (state) => {\r\n        return state.flow.lanes;\r\n      },\r\n    }),\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.reset();\r\n    this.init();\r\n    // this.flow = this.$store.state.flow;\r\n  },\r\n  methods: {\r\n    toPx,\r\n    verifySub,\r\n    reset() {\r\n      const ds_page = this.$refs.ds_page;\r\n      this.$store.commit(\"flow/setPage\", {\r\n        width: ds_page.clientWidth,\r\n        height: ds_page.clientHeight,\r\n      });\r\n    },\r\n    async init() {\r\n      await this.initData();\r\n      this.loadElement();\r\n      // 绑定流程画布上的事件\r\n      this.initEvent();\r\n    },\r\n    initData() {\r\n      // 获取flow.json数据 及配置项\r\n      return this.$http\r\n        .all([\r\n          this.$http.get(\"./static/pd_attributes/pc/dsf.flow.json\"),\r\n          this.$http.get(\"wfm/getWFDefinition\", {\r\n            sID: this.sID,\r\n          }),\r\n        ])\r\n        .then((res) => {\r\n          this.config = res[0];\r\n          this.flowInfo = res[1].data.WorkFlow;\r\n        })\r\n        .catch((error) => {\r\n          this.flowInfo = {};\r\n        });\r\n    },\r\n    loadElement() {\r\n      const ElementList = (this.flowInfo && this.flowInfo.ElementList) || [];\r\n      if (ElementList && ElementList.length > 0) {\r\n        for (let i = 0; i < ElementList.length; i++) {\r\n          let element = ElementList[i];\r\n          //节点\r\n          if (element.nodeType == \"node\") {\r\n            let node = element;\r\n            node.in = node.in || [];\r\n            node.out = node.out || [];\r\n            node.point.x = parseFloat(node.point.x);\r\n            node.point.y = parseFloat(node.point.y);\r\n            node = Object.assign(\r\n              {\r\n                x: node.point.x,\r\n                y: node.point.y,\r\n              },\r\n              node\r\n            );\r\n            // 回显 任务类型\r\n            flowTools.forEach((tool) => {\r\n              tool.data.forEach((item) => {\r\n                if (node.attributes.BaseInfo.Type == item.type) {\r\n                  node.attributes.BaseInfo.Type = item.name;\r\n                }\r\n              });\r\n            });\r\n            const newNode = this.addNode(node);\r\n            if (node.nodes) {\r\n              // 显示子节点\r\n              const subNodes = node.nodes;\r\n              newNode.nodes = [];\r\n              newNode.lines = [];\r\n              newNode.events = [];\r\n              subNodes.forEach((item) => {\r\n                item = Object.assign(\r\n                  {\r\n                    x: item.point.x,\r\n                    y: item.point.y,\r\n                  },\r\n                  item\r\n                );\r\n                newNode.nodes.push(this.addSubNode(item, newNode));\r\n              });\r\n            }\r\n            if (node.events) {\r\n              node.events.forEach((event) => {\r\n                let newEvent = new BoundaryEvent(event);\r\n                newEvent.parentNode = node;\r\n                newNode.events.push(newEvent);\r\n              });\r\n            }\r\n            if (node.lines) {\r\n              node.lines.forEach((line) => {\r\n                if (line.linkInfo) {\r\n                  line.linkInfo.fromOffset = parseFloat(line.linkInfo.fromOffset);\r\n                  line.linkInfo.toOffset = parseFloat(line.linkInfo.toOffset);\r\n                }\r\n                // 加到队列里面 等页面渲染后再发通知\r\n                setTimeout(() => {\r\n                  this.$bus.$emit(`addLine${node.id}`, {\r\n                    id: line.id,\r\n                    type: line.type,\r\n                    name: line.name,\r\n                    path: line.path,\r\n                    from: line.from,\r\n                    fromType: line.fromType,\r\n                    to: line.to,\r\n                    linkInfo: line.linkInfo,\r\n                    attributes: line.attributes,\r\n                    parentNodeId: node.id,\r\n                  });\r\n                }, 0);\r\n              });\r\n            }\r\n            this.nodes.push(newNode);\r\n          }\r\n          //线\r\n          else if (element.nodeType == \"line\") {\r\n            let line = element;\r\n            if (line.linkInfo) {\r\n              line.linkInfo.fromOffset = parseFloat(line.linkInfo.fromOffset);\r\n              line.linkInfo.toOffset = parseFloat(line.linkInfo.toOffset);\r\n            }\r\n            this.$bus.$emit(\"addLine\", {\r\n              id: line.id,\r\n              type: line.type,\r\n              name: line.name,\r\n              path: line.path,\r\n              from: line.from,\r\n              fromType: line.fromType,\r\n              isHide: line.isHide,\r\n              to: line.to,\r\n              linkInfo: line.linkInfo,\r\n              attributes: line.attributes,\r\n            });\r\n          }\r\n          //泳道\r\n          else if (element.nodeType == \"lane\") {\r\n            const lane = element;\r\n            this.createLane({\r\n              id: lane.id,\r\n              name: lane.name,\r\n              size: lane.size,\r\n              index: lane.index,\r\n              direction: lane.direction,\r\n              attributes: lane.attributes,\r\n            });\r\n          }\r\n          // 边界事件\r\n          else if (element.nodeType == \"event\") {\r\n            this.events.push(new BoundaryEvent(element));\r\n          }\r\n        }\r\n      }\r\n      this.resize();\r\n    },\r\n    // 保存\r\n    doSave() {\r\n      // var loadingIndex = dsf.layer.loadding();\r\n      flow.attributes.BaseInfo.ID = this.sID;\r\n      let postData = {\r\n        WorkFlow: {\r\n          BaseInfo: flow.attributes.BaseInfo,\r\n          NodeList: [],\r\n          LineList: [],\r\n          EventList: [],\r\n          LaneList: {\r\n            horizontal: [],\r\n            vertical: [],\r\n          },\r\n          ElementList: [],\r\n        },\r\n      };\r\n      this.nodes.forEach((node) => {\r\n        if (node.lines) {\r\n          let nodeLines = dsf.mix(true, [], node.lines);\r\n          node.lines = nodeLines.map((line) => {\r\n            delete line.paper;\r\n            return line;\r\n          });\r\n        }\r\n        if (node.events) {\r\n          node.events = node.events.map((item) => {\r\n            item.parentNodeId = item.parentNode.id;\r\n            delete item.parentNode;\r\n            return { ...item };\r\n          });\r\n        }\r\n      });\r\n      const info = {\r\n        nodes: [...JSON.parse(JSON.stringify(this.nodes))],\r\n        lanes: { ...this.lanes },\r\n        lines: [...this.lines],\r\n        events: [...this.events],\r\n      };\r\n\r\n      //深度复制对象作为流程引擎使用\r\n      let infoCopy = dsf.mix(true, {}, info);\r\n      const copyMap = this.getFlowAllObjectMap(infoCopy);\r\n\r\n      let temp = [],\r\n        deleteLines = [];\r\n      //判断节点特殊操作\r\n      for (let i = 0; i < infoCopy.nodes.length; i++) {\r\n        let node = infoCopy.nodes[i];\r\n        //如果为判断节点 开始\r\n        if (node.type == \"6\") {\r\n          //获取该节点的上一步节点\r\n          let fromNodearr = [],\r\n            toNodearr = [];\r\n          let arr = this.getFromNodes(node);\r\n          if (arr) {\r\n            for (let n = 0; n < arr.length; n++) {\r\n              let nc = arr[n];\r\n              fromNodearr.push(copyMap[nc.id]);\r\n            }\r\n          }\r\n          //获取该节点的下一步个节点\r\n          arr = this.getToNodes(node);\r\n          if (arr) {\r\n            for (let n = 0; n < arr.length; n++) {\r\n              let nc = arr[n];\r\n              toNodearr.push(copyMap[nc.id]);\r\n            }\r\n          }\r\n          const obj = {\r\n            node: node,\r\n            from: fromNodearr,\r\n            to: toNodearr,\r\n          };\r\n          temp.push(obj);\r\n        }\r\n      }\r\n      for (let i = 0; i < temp.length; i++) {\r\n        let obj = temp[i];\r\n        let node = obj.node;\r\n        //判断有没有下一步节点\r\n        if (obj.node[\"out\"].length > 0) {\r\n          //将判断节点的的出线全部复制给上一步的节点\r\n          for (let c = 0; c < obj.from.length; c++) {\r\n            let fn = obj.from[c];\r\n            for (let n = 0; n < obj.node[\"out\"].length; n++) {\r\n              let lineId = obj.node[\"out\"][n];\r\n              let line_copy = Object.assign(true, {}, copyMap[lineId]);\r\n              line_copy.attributes.ID = line_copy.id + \"_\" + fn.id;\r\n              line_copy.attributes.StartNodeID = fn.id;\r\n              infoCopy.lines.push(line_copy);\r\n              deleteLines.push(lineId);\r\n            }\r\n            fn.attributes.OutLine.SendConditions = obj.node.attributes.OutLine.SendConditions;\r\n            let rfn = getObjById(this.nodes, fn.id);\r\n            if (rfn) {\r\n              rfn.attributes.OutLine.SendConditions = obj.node.attributes.OutLine.SendConditions;\r\n            }\r\n          }\r\n          //删除判断节点入线\r\n          for (let c = 0; c < obj.node[\"in\"].length; c++) {\r\n            deleteLines.push(obj.node[\"in\"][c]);\r\n          }\r\n        } else {\r\n          for (let c = 0; c < obj.from.length; c++) {\r\n            let fn = obj.from[c];\r\n            fn.attributes.OutLine.SendConditions = {\r\n              IsEnabled: \"0\",\r\n            };\r\n            let rfn = getObjById(this.nodes, fn.id);\r\n            if (rfn) {\r\n              rfn.attributes.OutLine.SendConditions = {\r\n                IsEnabled: \"0\",\r\n              };\r\n            }\r\n          }\r\n        }\r\n      }\r\n      //删除多余的线\r\n      for (let i = 0; i < deleteLines.length; i++) {\r\n        for (let n = infoCopy.lines.length - 1; n >= 0; n--) {\r\n          if (infoCopy.lines[n].attributes.ID == deleteLines[i]) {\r\n            infoCopy.lines.splice(n, 1);\r\n          }\r\n        }\r\n      }\r\n      //判断节点特殊操作 结束\r\n      for (let i = 0; i < infoCopy.nodes.length; i++) {\r\n        let node = infoCopy.nodes[i];\r\n        if (node.nodes) {\r\n          node.nodes.forEach((child) => {\r\n            delete child.isRender;\r\n            delete child.edit;\r\n          });\r\n        }\r\n\r\n        flowTools.forEach((tool) => {\r\n          tool.data.forEach((item) => {\r\n            if (node.attributes.BaseInfo.Type == item.name) {\r\n              node.attributes.BaseInfo.Type = item.type;\r\n            }\r\n          });\r\n        });\r\n        postData.WorkFlow.NodeList.push(node.attributes);\r\n        node.nodeType = \"node\";\r\n        postData.WorkFlow.ElementList.push(node);\r\n      }\r\n      for (let i = 0; i < infoCopy.lines.length; i++) {\r\n        let line = infoCopy.lines[i];\r\n        delete line.paper;\r\n        postData.WorkFlow.LineList.push(line.attributes);\r\n        //整理传递给后台的保存参数\r\n        delete line.arrowEnd;\r\n        delete line.isRender;\r\n        line.nodeType = \"line\";\r\n        postData.WorkFlow.ElementList.push(line);\r\n      }\r\n      for (let i = 0; i < infoCopy.events.length; i++) {\r\n        let event = infoCopy.events[i];\r\n        postData.WorkFlow.EventList.push(event.attributes);\r\n        //整理传递给后台的保存参数\r\n        event.nodeType = \"event\";\r\n        postData.WorkFlow.ElementList.push(event);\r\n      }\r\n\r\n      for (let i = 0; i < info.lanes.horizontal.length; i++) {\r\n        let lane = info.lanes.horizontal[i];\r\n        let n = deepClone(lane);\r\n        delete n.isRender;\r\n        postData.WorkFlow.LaneList.horizontal.push(lane.attributes);\r\n        n.nodeType = \"lane\";\r\n        postData.WorkFlow.ElementList.push(n);\r\n      }\r\n      for (let i = 0; i < info.lanes.vertical.length; i++) {\r\n        let lane = info.lanes.vertical[i];\r\n        let n = deepClone(lane);\r\n        delete n.isRender;\r\n        postData.WorkFlow.LaneList.vertical.push(lane.attributes);\r\n        n.nodeType = \"lane\";\r\n        postData.WorkFlow.ElementList.push(n);\r\n      }\r\n      const param = {\r\n        sData: JSON.stringify(postData),\r\n      };\r\n      this.$http\r\n        .post(\"wfm/saveWFDefinition\", param)\r\n        .done((result) => {\r\n          if (result.success) {\r\n            dsf.layer.message(\"保存成功\", true);\r\n          } else {\r\n            dsf.layer.message(\"保存失败\", false);\r\n          }\r\n        })\r\n        .error(() => {\r\n          dsf.layer.message(\"保存失败\", false);\r\n        });\r\n    },\r\n    initEvent() {\r\n      document.addEventListener(\"dragover\", (e) => {\r\n        if (this.dragNode) {\r\n          this.hasMoved = true;\r\n          this.isCtrlKey = e.ctrlKey; // dragend时候 ctrlKey一直是false 故这么解决\r\n          this.dragToolOver(e);\r\n        }\r\n        if (this.dragEvent) {\r\n          this.dragEventOver(e);\r\n        }\r\n      });\r\n      document.addEventListener(\"dragend\", (e) => {\r\n        if (!this.hasMoved && this.dragNode) {\r\n          this.dragNode && document.body.removeChild(this.dragNode);\r\n          this.dragNode = null;\r\n          this.$bus.$emit(\"isMoveNode\", false);\r\n          this.hasMoved = false;\r\n        }\r\n        if (this.dragNode) {\r\n          this.dragToolEnd(e);\r\n          this.hasMoved = false;\r\n        }\r\n        if (this.dragEvent) {\r\n          this.dragEventEnd(e);\r\n          this.dragEvent && document.body.removeChild(this.dragEvent);\r\n          this.dragEvent = null;\r\n          this.cloneObj = null;\r\n          this.crashNode = null;\r\n          this.$bus.$emit(\"endMoveEvent\", true);\r\n        }\r\n      });\r\n      this.$bus.$on(\"update-baseLine\", (baseLine) => {\r\n        this.baseLine = baseLine;\r\n      });\r\n      this.$bus.$on(\"update-checked\", (checked) => {\r\n        this.checked = checked || flow;\r\n      });\r\n      this.$bus.$on(\"parentAutoScroll\", this.parentAutoScroll);\r\n      this.$bus.$on(\"autoScroll\", this.autoScroll);\r\n      this.$bus.$on(\"resize\", this.resize);\r\n      this.$bus.$on(\"dragCloneEvent\", this.dragCloneEvent);\r\n      this.$bus.$on(\"dragNode\", this.dragTool);\r\n      // this.$bus.$on('showSubNode', this.showSubNode);\r\n      this.$bus.$on(\"startGlobalMove\", this.startGlobalMove);\r\n      this.$bus.$on(\"startCopyNodes\", this.startCopyNodes);\r\n      this.$bus.$on(\"deleteLine\", this.deleteLine);\r\n      this.$bus.$on(\"initSubNode\", this.initSubNode);\r\n      document.addEventListener(\"keydown\", this.keydown);\r\n      window.onresize = () => {\r\n        this.reset();\r\n        this.resize();\r\n      };\r\n      this.$refs.root.addEventListener(\"mousedown\", (e) => {\r\n        const selectedList = this.$store.state.flow.selectedList || null;\r\n        // if (e.ctrlKey && selectedList && selectedList.length > 1) {\r\n        //   // this.startGlobalMove(e);\r\n        //   //如果按住ctrl键，则开始复制多个节点\r\n        // } else {\r\n        // 点击空白处 父父节点不是子流程\r\n        if (e.target.tagName === \"svg\" && e.target.parentElement.parentElement.className.indexOf(\"subprocess\") === -1) {\r\n          this.checked = flow;\r\n          this.$bus.$emit(\"selectGlobal\", null);\r\n          this.isGlobalSelect = true;\r\n          this.selectGlobalPos = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n          });\r\n        }\r\n        // }\r\n      });\r\n      //鼠标移动过程中的操作\r\n      // 载入私有方法(root内鼠标按下事件、root内鼠标移动事件、root内双击编辑事件、泳道插入事件)\r\n      this.$refs.root.addEventListener(\"mousemove\", (e) => {\r\n        if (this.readOnly) {\r\n          return;\r\n        }\r\n        this.setCursor(e);\r\n        if (this.isGlobalPosMove) {\r\n          this.globalMove(e);\r\n        }\r\n\r\n        if (this.isGlobalSelect) {\r\n          this.selectGlobalMove(e);\r\n        }\r\n\r\n        if (this.isCopyNodes) {\r\n          this.nodesMove(e);\r\n        }\r\n      });\r\n      document.addEventListener(\"mouseup\", (e) => {\r\n        if (this.isGlobalPosMove) {\r\n          this.isGlobalPosMove = false;\r\n          this.globalPos = null;\r\n          this.resize();\r\n          // 删除边界的点\r\n          this.$store.commit(\"flow/clearPoints\");\r\n        }\r\n\r\n        if (this.isGlobalSelect) {\r\n          this.selectGlobalEnd(e);\r\n          this.resize();\r\n          // 删除边界的点\r\n          this.$store.commit(\"flow/clearPoints\");\r\n        }\r\n\r\n        if (this.isCopyNodes) {\r\n          this.nodesMoveEnd(e);\r\n        }\r\n      });\r\n      // 滚动滑轮事件\r\n      this.$refs.ds_page.addEventListener(\"wheel\", this.scrollwheel, true);\r\n      // 复制事件\r\n      document.addEventListener(\"copy\", (e) => {\r\n        if (this.$store.state.flow.selectedList.length > 0) {\r\n          this.documentCopy(e);\r\n        }\r\n      });\r\n      document.addEventListener(\"paste\", (e) => {\r\n        if (!this.ctrlCopyNodes) {\r\n          this.pasteNode(e);\r\n        }\r\n      });\r\n    },\r\n    initSubNode(node, ElementList) {\r\n      node.open.show = true;\r\n      node.lines &&\r\n        node.lines.forEach((line) => {\r\n          line.remove();\r\n        });\r\n      this.$set(node, \"nodes\", []);\r\n      this.$set(node, \"lines\", []);\r\n      this.$set(node, \"events\", []);\r\n      ElementList.forEach((element) => {\r\n        //节点\r\n        if (element.nodeType == \"node\") {\r\n          // 显示子节点\r\n          Object.assign(element, {\r\n            x: element.point.x,\r\n            y: element.point.y,\r\n          });\r\n          node.nodes.push(this.addSubNode(element, node));\r\n        }\r\n        //线\r\n        else if (element.nodeType == \"line\") {\r\n          let line = element;\r\n          if (line.linkInfo) {\r\n            line.linkInfo.fromOffset = parseFloat(line.linkInfo.fromOffset);\r\n            line.linkInfo.toOffset = parseFloat(line.linkInfo.toOffset);\r\n          }\r\n          // 加到队列里面 等页面渲染后再发通知\r\n          setTimeout(() => {\r\n            this.$bus.$emit(`addLine${node.id}`, {\r\n              id: line.id,\r\n              type: line.type,\r\n              name: line.name,\r\n              path: line.path,\r\n              from: line.from,\r\n              fromType: line.fromType,\r\n              to: line.to,\r\n              linkInfo: line.linkInfo,\r\n              attributes: line.attributes,\r\n              parentNodeId: node.id,\r\n            });\r\n          }, 0);\r\n        }\r\n        // 边界事件\r\n        else if (element.nodeType == \"event\") {\r\n          let newEvent = new BoundaryEvent(element);\r\n          newEvent.parentNode = node;\r\n          newNode.events.push(newEvent);\r\n        }\r\n      });\r\n      this.nodeResize(node);\r\n    },\r\n    copyNewNode(ev, tool, offset, copy) {\r\n      ev.dataTransfer && ev.dataTransfer.setDragImage(new Image(), 0, 0); // 设置 拖动背景图为空\r\n      const target = ev.target || ev;\r\n      let cloneNode = target.cloneNode(true);\r\n      cloneNode.setAttribute(\"draggable\", true);\r\n      cloneNode.offset = {\r\n        x: offset ? offset.x : 0,\r\n        y: offset ? offset.y : 0,\r\n      };\r\n      // 节点之间拖动\r\n      if (copy) {\r\n        cloneNode.copyNode = tool;\r\n      }\r\n      if (!copy && tool.type === 102) {\r\n        cloneNode.tool = tool;\r\n      }\r\n      cloneNode.className = cloneNode.className + \" drag_nodeOuter\";\r\n      Object.assign(cloneNode.style, {\r\n        position: \"absolute\",\r\n        zIndex: 9999,\r\n        top: this.toPx(ev.pageY - ((tool.padding || 0) + cloneNode.offset.y) * this.scale),\r\n        left: this.toPx(ev.pageX - ((tool.padding || 0) + cloneNode.offset.x) * this.scale),\r\n        pointerEvents: \"none\",\r\n        cursor: \"move\",\r\n        transform: `scale(${this.scale}) translateZ(0px)`,\r\n        transformOrigin: \"left top\",\r\n      });\r\n      document.body.appendChild(cloneNode);\r\n      this.$bus.$emit(\"isMoveNode\", copy ? cloneNode.copyNode : cloneNode);\r\n      return cloneNode;\r\n    },\r\n    startCopyNodes(e) {\r\n      this.isCopyNodes = true;\r\n      this.copyNodesPos = {\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      };\r\n    },\r\n    createCopyNodes(e) {\r\n      //复制多个节点\r\n      const selectedList = this.$store.state.flow.selectedList || null;\r\n      if (selectedList && selectedList.length > 1) {\r\n        this.copyNodes = [];\r\n        selectedList.forEach((node) => {\r\n          const target = document.querySelector(`.nodeOuter[data-id=\"${node.id}\"]`);\r\n          const point = {\r\n            x: node.point.x * this.scale,\r\n            y: node.point.y * this.scale,\r\n          };\r\n          let getPoint = this.$store.getters[\"flow/getMousePointByPoint\"](point);\r\n          target.pageX = getPoint.x;\r\n          target.pageY = getPoint.y;\r\n          const copyNode = this.copyNewNode(target, node, null, true);\r\n          copyNode.point = getPoint;\r\n          this.copyNodes.push(copyNode);\r\n        });\r\n      }\r\n    },\r\n    dragTool(ev, tool, offset, copy) {\r\n      this.dragNode = this.copyNewNode(ev, tool, offset, copy);\r\n    },\r\n    getDisplacement(e) {\r\n      const localMouse = {\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      };\r\n      const last_p = getGridPoint(this.copyNodesPos);\r\n      const move_p = getGridPoint(localMouse);\r\n      return {\r\n        x: move_p.x - last_p.x,\r\n        y: move_p.y - last_p.y,\r\n      }; // 位移\r\n    },\r\n    nodesMove(e) {\r\n      const displacement = this.getDisplacement(e); // 位移\r\n      if ((!this.copyNodes || (this.copyNodes && this.copyNodes.length === 0)) && (Math.abs(displacement.x) > 5 || Math.abs(displacement.y) > 5)) {\r\n        // 当位移大于5\r\n        this.createCopyNodes(e);\r\n      }\r\n      this.copyNodes.forEach((node) => {\r\n        const copyNode = node.copyNode;\r\n        const offset = node.offset;\r\n        const end = {\r\n          x: node.point.x + displacement.x - offset.x * this.scale,\r\n          y: node.point.y + displacement.y - offset.y * this.scale,\r\n        };\r\n        node.style.top = this.toPx(end.y);\r\n        node.style.left = this.toPx(end.x);\r\n      });\r\n      this.isCtrlKey = e.ctrlKey;\r\n    },\r\n    dragToolOver(e) {\r\n      const node = this.dragNode;\r\n      const offset = node.offset;\r\n      node.style.top = this.toPx(e.pageY - offset.y * this.scale);\r\n      node.style.left = this.toPx(e.pageX - offset.x * this.scale);\r\n      const copyNode = node.copyNode;\r\n      this.endTarget = this.getTargetIsNodes(e.target, copyNode || node.tool);\r\n      if (!this.endTarget) {\r\n        return;\r\n      }\r\n      const className = this.endTarget && this.endTarget.className;\r\n      if (className.indexOf(\"nodes isSub\") > -1) {\r\n        const node = getObjByTarget(this.nodes, this.endTarget);\r\n        this.$bus.$emit(\"dragToSubNode\", copyNode !== node ? node : null);\r\n      } else {\r\n        this.$bus.$emit(\"dragToSubNode\", null);\r\n      }\r\n      if (copyNode) {\r\n        this.$bus.$emit(`moveCopyNode${copyNode.parentNodeId || \"\"}`, e, copyNode);\r\n      }\r\n    },\r\n    getTargetIsNodes(target, copyNode) {\r\n      const svgRoot = document.querySelector(\".svgRoot\");\r\n      if (!svgRoot.contains(target)) {\r\n        return null;\r\n      }\r\n      // 子流程不能拖动到子流程\r\n      if (copyNode && copyNode.type == \"102\") {\r\n        if (target.className.indexOf(\"nodes isSub\") > -1) {\r\n          return this.getTargetIsNodes(target.parentElement);\r\n        }\r\n      }\r\n      if (target.className.indexOf(\"nodes\") > -1) {\r\n        return target;\r\n      }\r\n      return this.getTargetIsNodes(target.parentElement);\r\n    },\r\n    getBeforeCopyLine(nodes) {\r\n      // 获取拷贝节点之间的线\r\n      let lineIds = [];\r\n      nodes.forEach((item) => {\r\n        lineIds = [...lineIds, ...item.out, ...item.in];\r\n      });\r\n      lineIds = [...new Set(lineIds)]; // 去重\r\n\r\n      let fromNodeIds = [];\r\n      let toNodeIds = [];\r\n      let newLines = [];\r\n      lineIds.forEach((lineId) => {\r\n        let line = getObjById(this.lines, lineId);\r\n        if (!line) {\r\n          return;\r\n        }\r\n        let from;\r\n        if (line.fromType === \"event\") {\r\n          from = getObjById(this.events, line.from);\r\n        } else {\r\n          from = getObjById(nodes, line.from);\r\n        }\r\n        const to = getObjById(nodes, line.to);\r\n        if (from && to) {\r\n          // 保证是节点之间的线\r\n          const newLine = deepClone(line);\r\n          newLine.id = tools.uuid();\r\n          fromNodeIds.push({ line: newLine, nodeId: from.id });\r\n          toNodeIds.push({ line: newLine, nodeId: to.id });\r\n          newLines.push(newLine);\r\n        }\r\n      });\r\n      return {\r\n        fromNodeIds,\r\n        toNodeIds,\r\n        newLines,\r\n      };\r\n    },\r\n    resetLineFromAndTo(fromNodeIds, toNodeIds, newNode, copyNode) {\r\n      if (fromNodeIds.length > 0) {\r\n        fromNodeIds.forEach((item) => {\r\n          if (item.nodeId === copyNode.id) {\r\n            newNode.in.push(item.line.id);\r\n            item.line.from = newNode.id;\r\n          }\r\n        });\r\n      }\r\n      if (toNodeIds.length > 0) {\r\n        toNodeIds.forEach((item) => {\r\n          if (item.nodeId === copyNode.id) {\r\n            newNode.out.push(item.line.id);\r\n            item.line.to = newNode.id;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    copyEventsLines(newLines) {\r\n      newLines.forEach((line) => {\r\n        if (line.fromType === \"event\") {\r\n          // 边界事件\r\n          const event = getObjById(this.events, line.from, \"fromId\");\r\n          if (event) {\r\n            delete event.fromId;\r\n            line.from = event.id;\r\n          } else {\r\n            line.from = null;\r\n          }\r\n        }\r\n        if (line.from && line.to) {\r\n          this.$bus.$emit(\"addLine\", {\r\n            id: line.id,\r\n            type: line.type,\r\n            name: line.name,\r\n            from: line.from,\r\n            fromType: line.fromType,\r\n            to: line.to,\r\n            linkInfo: line.linkInfo,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    nodesMoveEnd(e) {\r\n      if (this.copyNodes && this.copyNodes.length > 0) {\r\n        const nodes = this.copyNodes.map((item) => item.copyNode);\r\n        const { fromNodeIds, toNodeIds, newLines } = this.getBeforeCopyLine(nodes);\r\n        const displacement = this.getDisplacement(e);\r\n        const selectedList = [];\r\n        let isMove;\r\n        this.copyNodes.forEach((node) => {\r\n          const copyNode = node.copyNode;\r\n          const offset = node.offset;\r\n          const end = {\r\n            pageX: node.point.x + displacement.x,\r\n            pageY: node.point.y + displacement.y,\r\n          };\r\n          const newNode = this.nodeMoveEnd(end, node);\r\n          if (newNode.id === copyNode.id) {\r\n            isMove = true;\r\n          } else {\r\n            this.resetLineFromAndTo(fromNodeIds, toNodeIds, newNode, copyNode);\r\n          }\r\n          this.checked = newNode;\r\n          selectedList.push(newNode);\r\n        });\r\n        if (!isMove) {\r\n          this.copyEventsLines(newLines);\r\n        }\r\n        // 选中拷贝后的节点\r\n        this.$store.commit(\"flow/setSelectedList\", selectedList);\r\n      }\r\n      this.isCopyNodes = false;\r\n      this.copyNodesPos = null;\r\n      this.copyNodes = [];\r\n      this.$bus.$emit(\"isMoveNode\", false);\r\n    },\r\n    nodeMoveEnd(e, node) {\r\n      let newNode, point, isMove, fromCopyId;\r\n      // 节点的拖动\r\n      const copyNode = node && node.copyNode;\r\n      if (copyNode) {\r\n        const offset = node.offset;\r\n        // 从子流程中拖到流程中\r\n        if (copyNode.parentNodeId) {\r\n          // 删除子流程的节点\r\n          this.deleteNode(copyNode);\r\n          delete copyNode.id;\r\n          delete copyNode.parentNodeId;\r\n          delete copyNode.point;\r\n          point = Object.assign(copyNode, {\r\n            x: e.pageX - offset.x * this.scale > copyNode.padding ? e.pageX - offset.x * this.scale : copyNode.padding,\r\n            y: e.pageY - offset.y * this.scale > copyNode.padding ? e.pageY - offset.y * this.scale : copyNode.padding,\r\n            mouseConvert: true,\r\n          });\r\n        } else {\r\n          // 流程位置移动\r\n          const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n            x: e.pageX - offset.x * this.scale,\r\n            y: e.pageY - offset.y * this.scale,\r\n          });\r\n          // let p = getGridPoint(mp);\r\n          let p = mp;\r\n          p = {\r\n            x: p.x > copyNode.padding ? p.x : copyNode.padding,\r\n            y: p.y > copyNode.padding ? p.y : copyNode.padding,\r\n          };\r\n          // 按住ctrl 就是复制\r\n          if (this.isCtrlKey) {\r\n            // 复制一个节点\r\n            fromCopyId = copyNode.id;\r\n            const id = tools.uuid();\r\n            const newNode = JSON.parse(JSON.stringify(copyNode));\r\n            point = Object.assign({}, newNode, {\r\n              id: id,\r\n              out: [],\r\n              in: [],\r\n              x: p.x,\r\n              y: p.y,\r\n            });\r\n            point.attributes.BaseInfo.ID = id;\r\n          } else {\r\n            // 缩放后的坐标\r\n            p = {\r\n              x: p.x / this.scale,\r\n              y: p.y / this.scale,\r\n            };\r\n            // 只是移动位置\r\n            p = getGridPoint(p);\r\n            copyNode.point.x = p.x;\r\n            copyNode.point.y = p.y;\r\n            this.$bus.$emit(\"nodeMove\", copyNode);\r\n            isMove = true;\r\n          }\r\n        }\r\n      }\r\n      if (!isMove) {\r\n        // 从环节类型中拖动到流程\r\n        const type = e.target && e.target.getAttribute(\"nodetype\");\r\n        const sort = e.target && e.target.getAttribute(\"sort\");\r\n        point = point || {\r\n          type: type,\r\n          sort: sort,\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n          mouseConvert: true,\r\n        };\r\n        newNode = this.copyNodeNext(point, fromCopyId, copyNode);\r\n      }\r\n      document.body.removeChild(node);\r\n      this.resize();\r\n      return isMove ? copyNode : newNode;\r\n    },\r\n    copyNodeNext(point, fromCopyId, copyNode) {\r\n      const node = this.addNode(point);\r\n      this.nodes.push(node);\r\n      if (fromCopyId) {\r\n        // 节点复制后 复制边界事件\r\n        this.copyNodeEvent(fromCopyId, node);\r\n      }\r\n      // 子流程拷贝后 子节点复制\r\n      if (copyNode && copyNode.nodes && copyNode.nodes.length > 0) {\r\n        node.nodes = [];\r\n        copyNode.nodes.forEach((item) => {\r\n          const subNode = deepClone(item);\r\n          const subPoint = Object.assign(\r\n            {\r\n              x: subNode.point.x,\r\n              y: subNode.point.y,\r\n            },\r\n            subNode\r\n          );\r\n          node.nodes.push(this.addSubNode(subPoint, node));\r\n        });\r\n      }\r\n      return node;\r\n    },\r\n    dragToolEnd(e) {\r\n      if (this.endTarget) {\r\n        const className = this.endTarget && this.endTarget.className;\r\n        const node = getObjByTarget(this.nodes, this.endTarget);\r\n        if (className.indexOf(\"nodes isSub\") > -1 && !this.verifySub(node)) {\r\n          if (node) {\r\n            let point, isMove;\r\n            // 节点的拖动\r\n            if (this.dragNode && this.dragNode.copyNode) {\r\n              const copyNode = this.dragNode.copyNode;\r\n              const offset = this.dragNode.offset;\r\n              // 从流程中拖到子流程中 或者子流程到宁外一个子流程\r\n              if (!copyNode.parentNodeId || (copyNode.parentNodeId && copyNode.parentNodeId !== node.id)) {\r\n                point = Object.assign(copyNode, {\r\n                  x: e.pageX - offset.x * this.scale > copyNode.padding ? e.pageX - offset.x * this.scale : copyNode.padding,\r\n                  y: e.pageY - offset.y * this.scale > copyNode.padding ? e.pageY - offset.y * this.scale : copyNode.padding,\r\n                  mouseConvert: true,\r\n                });\r\n                this.deleteNode(copyNode);\r\n                delete copyNode.id;\r\n              } else {\r\n                // 在当前子流程中 只是位置移动\r\n                point = {\r\n                  x: e.pageX - offset.x * this.scale,\r\n                  y: e.pageY - offset.y * this.scale,\r\n                  mouseConvert: true,\r\n                };\r\n                const options = this.getOptions(point);\r\n                copyNode.point.x = options.x - node.point.x;\r\n                // 子节点相对于父节点的位置\r\n                copyNode.point.y = options.y - node.point.y - node.imgHeight - node.padding * 2;\r\n                this.$bus.$emit(`nodeMove${copyNode.parentNodeId}`, copyNode);\r\n                this.$bus.$emit(`cutOffLine${copyNode.parentNodeId}`, copyNode);\r\n                isMove = true;\r\n              }\r\n            }\r\n            if (!isMove) {\r\n              // 从环节类型中拖动到子流程\r\n              const type = e.target && e.target.getAttribute(\"nodetype\");\r\n              const sort = e.target && e.target.getAttribute(\"sort\");\r\n              point = point || {\r\n                type: type,\r\n                sort: sort,\r\n                x: e.pageX,\r\n                y: e.pageY,\r\n                mouseConvert: true,\r\n              };\r\n              const subNode = this.addSubNode(point, node);\r\n              node.nodes ? node.nodes.push(subNode) : this.$set(node, \"nodes\", [subNode]);\r\n              this.$set(node, \"lines\", node.lines || []);\r\n              this.$set(node, \"events\", node.events || []);\r\n              this.nodeResize(node);\r\n              this.$bus.$emit(`cutOffLine${subNode.parentNodeId}`, subNode);\r\n            }\r\n          }\r\n          document.body.removeChild(this.dragNode);\r\n        } else if (className.indexOf(\"nodes\") > -1 || (className.indexOf(\"nodes isSub\") > -1 && this.verifySub(node))) {\r\n          this.checked = this.nodeMoveEnd(e, this.dragNode);\r\n          this.$bus.$emit(\"cutOffLine\", this.checked);\r\n          this.$store.commit(\"flow/setSelectedList\", [this.checked]);\r\n        }\r\n      } else {\r\n        document.body.removeChild(this.dragNode);\r\n      }\r\n      this.dragNode = null;\r\n      this.$bus.$emit(\"isMoveNode\", false);\r\n    },\r\n    dragBoundaryEvent(ev, event) {\r\n      ev.dataTransfer && ev.dataTransfer.setDragImage(new Image(), 0, 0); // 设置 拖动背景图为空\r\n      this.dragEvent = ev.target.cloneNode(true);\r\n      this.dragEvent.className = \"ds_tool_event_drag\";\r\n      this.dragEvent.setAttribute(\"draggable\", false);\r\n      const cloneTool = deepClone(event);\r\n      this.cloneObj = new BoundaryEvent(cloneTool, ev);\r\n      Object.assign(this.dragEvent.style, {\r\n        position: \"absolute\",\r\n        zIndex: 9999,\r\n        width: this.toPx(this.cloneObj.width),\r\n        height: this.toPx(this.cloneObj.height),\r\n        top: this.toPx(ev.pageY - ev.offsetY),\r\n        left: this.toPx(ev.pageX - ev.offsetX),\r\n        pointerEvents: \"none\",\r\n        transform: `scale(${this.scale}) translateZ(0px)`,\r\n        transformOrigin: \"left top\",\r\n      });\r\n      document.body.appendChild(this.dragEvent);\r\n      this.$bus.$emit(\"startMoveEvent\", this.dragEvent);\r\n    },\r\n    dragEventOver(e) {\r\n      if (this.dragEvent) {\r\n        // 拖动边界事件\r\n        const comp = this.computedPoint(e, this.dragEvent);\r\n        if (Array.from(e.target.classList).indexOf(\"task-node\") > -1 || Array.from(e.target.parentElement).indexOf(\"node\")) {\r\n          const parentAndSub = getObjByParentTarget(this.nodes, \"nodes\", e.target);\r\n          if (parentAndSub && !this.verifySub(parentAndSub.parent)) {\r\n            const parentNode = parentAndSub.parent;\r\n            const subNode = parentAndSub.sub;\r\n            this.crashNode = subNode;\r\n            let points = this.$store.getters[\"flow/getPoints\"](subNode.id);\r\n            if (!points) {\r\n              this.$store.commit(\"flow/setPointsByNode\", {\r\n                node: subNode,\r\n                obj: this.cloneObj,\r\n              });\r\n              points = this.$store.getters[\"flow/getPoints\"](subNode.id);\r\n            }\r\n            const subComp = {\r\n              point: {\r\n                x: comp.point.x - parentNode.point.x * this.scale,\r\n                y: comp.point.y - (parentNode.point.y + parentNode.padding + parentNode.imgHeight + parentNode.padding * 2) * this.scale,\r\n              },\r\n            };\r\n            const point = this.getPoint(subComp, points, this.distance);\r\n            if (point) {\r\n              this.cloneObj = Object.assign(this.cloneObj, point, {\r\n                parentNode,\r\n              });\r\n              let getPoint = this.$store.getters[\"flow/getMousePointByPoint\"](point.point);\r\n              getPoint.x = getPoint.x + parentNode.point.x * this.scale;\r\n              getPoint.y = getPoint.y + (parentNode.point.y + parentNode.imgHeight + parentNode.padding * 2) * this.scale;\r\n              this.dragEvent.style.top = this.toPx(getPoint.y);\r\n              this.dragEvent.style.left = this.toPx(getPoint.x);\r\n              return;\r\n            }\r\n          }\r\n          const node = getObjByTarget(this.nodes, e.target);\r\n          // 父节点吸附\r\n          if (node) {\r\n            this.crashNode = node;\r\n            let points = this.$store.getters[\"flow/getPoints\"](node.id);\r\n            if (!points) {\r\n              this.$store.commit(\"flow/setPointsByNode\", {\r\n                node,\r\n                obj: this.cloneObj,\r\n              });\r\n              points = this.$store.getters[\"flow/getPoints\"](node.id);\r\n            }\r\n            const point = this.getPoint(comp, points, this.distance);\r\n            if (point) {\r\n              this.cloneObj = Object.assign(this.cloneObj, point);\r\n              const getPoint = this.$store.getters[\"flow/getMousePointByPoint\"](point.point);\r\n              this.dragEvent.style.top = this.toPx(getPoint.y);\r\n              this.dragEvent.style.left = this.toPx(getPoint.x);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n        this.dragEvent.style.top = this.toPx(e.pageY);\r\n        this.dragEvent.style.left = this.toPx(e.pageX);\r\n      }\r\n    },\r\n    dragEventEnd(e) {\r\n      if (e.type === \"drop\") {\r\n        e = event ? event : e;\r\n        e.preventDefault();\r\n      } else {\r\n        if (event.touches) {\r\n          e = event.touches[0] ? event.touches[0] : event;\r\n        }\r\n      }\r\n      if (!this.crashNode) {\r\n        return;\r\n      }\r\n      const points = this.$store.getters[\"flow/getPoints\"](this.crashNode.id);\r\n      let obj = this.computedPoint(e, this.cloneObj);\r\n      if (this.cloneObj.parentNode) {\r\n        const parentNode = this.cloneObj.parentNode;\r\n        obj = {\r\n          point: {\r\n            x: obj.point.x - parentNode.point.x * this.scale,\r\n            y: obj.point.y - (parentNode.point.y + parentNode.padding + parentNode.imgHeight + parentNode.padding * 2) * this.scale,\r\n          },\r\n        };\r\n      }\r\n      const point = this.getPoint(obj, points, this.distance);\r\n      if (point) {\r\n        // 删除吸附点\r\n        points.splice(points.indexOf(point), 1);\r\n        // 当前node上面移动位置\r\n        if (this.cloneObj.from) {\r\n          const events = this.cloneObj.parentNode ? this.cloneObj.parentNode.events : this.events;\r\n          events.forEach((item) => {\r\n            if (item.id === this.cloneObj.from) {\r\n              // 恢复可吸附点\r\n              this.$store.commit(\"flow/addPoint\", {\r\n                id: this.cloneObj.nodeId,\r\n                obj: {\r\n                  point: {\r\n                    x: item.point.x,\r\n                    y: item.point.y,\r\n                  },\r\n                  index: item.index,\r\n                  direction: item.direction,\r\n                },\r\n              });\r\n            }\r\n          });\r\n          this.deleteEvent(this.cloneObj.from, events);\r\n          this.cloneObj.id = this.cloneObj.from;\r\n          delete this.cloneObj.from;\r\n        }\r\n        // 最后位置\r\n        this.cloneObj = Object.assign(this.cloneObj, point);\r\n        this.cloneObj.point.x = this.cloneObj.point.x / this.scale;\r\n        this.cloneObj.point.y = this.cloneObj.point.y / this.scale;\r\n        this.cloneObj.nodeId = this.crashNode.id;\r\n        this.addNewEvent(this.cloneObj);\r\n        this.checked = this.cloneObj;\r\n        if (this.cloneObj.out && this.cloneObj.out.length > 0) {\r\n          this.$bus.$emit(`eventMove${this.cloneObj.parentNode ? this.cloneObj.parentNode.id : \"\"}`, this.cloneObj);\r\n          // this.$bus.$emit(\"eventMove\", this.cloneObj);\r\n        }\r\n      }\r\n    },\r\n    addNewEvent(cloneObj) {\r\n      if (cloneObj.parentNode) {\r\n        this.nodes.forEach((node) => {\r\n          if (cloneObj.parentNode && cloneObj.parentNode.id === node.id) {\r\n            node.events.push(cloneObj);\r\n          }\r\n        });\r\n      } else {\r\n        this.events.push(cloneObj);\r\n      }\r\n    },\r\n    dragCloneEvent(e, event) {\r\n      const copyEvent = deepClone(event);\r\n      copyEvent.from = event.id;\r\n      copyEvent.id = tools.uuid();\r\n      this.dragBoundaryEvent(e, copyEvent);\r\n    },\r\n    // 节点拷贝后 拷贝边界事件\r\n    copyNodeEvent(fromCopyId, node) {\r\n      let copyEvents = [];\r\n      this.events.forEach((ev) => {\r\n        if (ev.nodeId === fromCopyId) {\r\n          copyEvents.push(deepClone(ev));\r\n        }\r\n      });\r\n      if (copyEvents.length === 0) {\r\n        return;\r\n      }\r\n      // 获取边界事件坐标点\r\n      this.$store.commit(\"flow/setPointsByNode\", { node, obj: copyEvents[0] });\r\n      const points = this.$store.getters[\"flow/getPoints\"](node.id);\r\n      points.forEach((item) => {\r\n        copyEvents.forEach((ev) => {\r\n          if (ev.direction === item.direction && ev.index === item.index) {\r\n            ev.fromId = ev.id; // 用于画线\r\n            ev.id = tools.uuid();\r\n            ev.point = item.point;\r\n            ev.nodeId = node.id;\r\n            this.addNewEvent(ev);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    getPoint(obj, all, distance) {\r\n      let point;\r\n      let min = 0;\r\n      all.forEach((item) => {\r\n        let realDistance = this.getDistance(item, obj);\r\n        if (realDistance <= distance) {\r\n          if (min < realDistance) {\r\n            min = realDistance;\r\n            point = item;\r\n          }\r\n        }\r\n      });\r\n      return point;\r\n    },\r\n    getDistance(p1, p2) {\r\n      const dis = Math.sqrt(Math.pow(p1.point.x - p2.point.x, 2) + Math.pow(p1.point.y - p2.point.y, 2));\r\n      // console.log(dis);\r\n      return dis;\r\n    },\r\n    computedPoint(e, moveObj) {\r\n      const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      });\r\n      return { point: getGridPoint(mp) };\r\n    },\r\n    getOptions(opts) {\r\n      const options = Object.assign(\r\n        {\r\n          id: tools.uuid(),\r\n          type: 1,\r\n        },\r\n        opts\r\n      );\r\n      let p = {\r\n        x: options.x || 0,\r\n        y: options.y || 0,\r\n      };\r\n      if (options.mouseConvert == true) {\r\n        const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: options.x,\r\n          y: options.y,\r\n        });\r\n        p.x = mp.x;\r\n        p.y = mp.y;\r\n      }\r\n      p = getGridPoint(p);\r\n      options.x = p.x / this.scale;\r\n      options.y = p.y / this.scale;\r\n      return options;\r\n    },\r\n    // 增加节点\r\n    addNode(opts) {\r\n      const options = this.getOptions(opts);\r\n      const type = options.type;\r\n      options.name = options.name || (type === \"201\" ? \"开始\" : type === \"299\" ? \"结束\" : \"\") || \"新建环节\" + this.nodes.length;\r\n      const node = new Node(options);\r\n      return node;\r\n    },\r\n    // 增加子流程子节点\r\n    addSubNode(opts, node) {\r\n      const options = this.getOptions(opts);\r\n      options.name = options.name || \"新建环节\" + ((node.nodes && node.nodes.length) || 0);\r\n      if (options.mouseConvert == true) {\r\n        options.x = options.x - node.point.x;\r\n        // 子节点相对于父节点的位置\r\n        options.y = options.y - node.point.y - node.imgHeight - node.padding * 2;\r\n      }\r\n      let children = new Node(options);\r\n      children.parentNodeId = node.id; // 子流程才有\r\n      return children;\r\n    },\r\n    showSubNode(node) {},\r\n    // 监听键盘删除事件\r\n    keydown(e) {\r\n      if (this.checked && this.checked.readOnly) {\r\n        return;\r\n      }\r\n      if (e.keyCode == 46) {\r\n        const selectedList = this.$store.state.flow.selectedList || null;\r\n        // 多选才删除\r\n        if (selectedList && selectedList.length > 1) {\r\n          selectedList.forEach((node) => {\r\n            setTimeout(() => {\r\n              this.deleteNode(node);\r\n            }, 0);\r\n          });\r\n        } else if (this.checked instanceof Node) {\r\n          // 删除单个\r\n          this.deleteNode(this.checked, true);\r\n        } else if (this.checked instanceof Lane) {\r\n          this.$store.commit(\"flow/deleteLane\", this.checked);\r\n          this.resize();\r\n        } else if (this.checked instanceof Line) {\r\n          this.deleteLine(this.checked, true);\r\n        } else if (this.checked instanceof BoundaryEvent) {\r\n          const obj = this.checked;\r\n          for (let i = obj[\"out\"].length - 1; i >= 0; i--) {\r\n            const l = getObjById(this.lines, obj[\"out\"][i]);\r\n            if (l) {\r\n              this.deleteLine(l);\r\n            }\r\n          }\r\n          const events = this.checked.parentNode ? this.checked.parentNode.events : this.events;\r\n          // 删除单个\r\n          this.deleteEvent(this.checked.id, events, true);\r\n        }\r\n        this.checked = {};\r\n      }\r\n    },\r\n    deleteNode(node, isDel) {\r\n      // 删除子流程节点\r\n      let parentNode;\r\n      if (node.parentNodeId) {\r\n        parentNode = this.nodes.find((item) => node.parentNodeId === item.id);\r\n        if (isDel && this.verifySub(parentNode)) {\r\n          return;\r\n        }\r\n      }\r\n      const nodes = node.parentNodeId ? parentNode.nodes : this.nodes;\r\n      const lines = node.parentNodeId ? parentNode.lines : this.lines;\r\n      const events = node.parentNodeId ? parentNode.events : this.events;\r\n      const index = nodes.indexOf(node);\r\n      if (index > -1) {\r\n        const obj = node;\r\n        // 把线连接起来\r\n        if (obj.in.length > 0 && obj.out.length > 0) {\r\n          obj.in.forEach((lineIn) => {\r\n            const getIn = getObjById(lines, lineIn);\r\n            if (getIn) {\r\n              const fromNode = getObjById(nodes, getIn.from);\r\n              obj.out.forEach((lineOut) => {\r\n                const getOut = getObjById(lines, lineOut);\r\n                if (getOut) {\r\n                  const toNode = getObjById(nodes, getOut.to);\r\n                  // 画线\r\n                  const id = tools.uuid();\r\n                  const currentLineInfo = {\r\n                    endPoint: getOut.path[getOut.path.length - 1],\r\n                    fromDirection: getIn.linkInfo.fromDirection,\r\n                    fromNode: fromNode,\r\n                    startPoint: getIn.path[0],\r\n                    targetDirection: getOut.linkInfo.toDirection,\r\n                    targetNode: toNode,\r\n                  };\r\n                  const points = getNodeLinkPoints(currentLineInfo);\r\n                  // getOut.path.splice(0, 1);\r\n                  // getIn.path.splice(getIn.path.length - 1, 1, ...getOut.path);\r\n                  let newLineParam = {\r\n                    id: id,\r\n                    type: getIn.type,\r\n                    name: fromNode.name + \"→\" + toNode.name,\r\n                    path: points,\r\n                    from: getIn.from,\r\n                    fromType: getIn.fromType,\r\n                    isHide: getIn.isHide,\r\n                    to: getOut.to,\r\n                    linkInfo: {\r\n                      fromDirection: getIn.linkInfo.fromDirection,\r\n                      fromOffset: getIn.linkInfo.fromOffset,\r\n                      toDirection: getOut.linkInfo.toDirection,\r\n                      toOffset: getOut.linkInfo.toOffset,\r\n                    },\r\n                    attributes: Object.assign(getIn.attributes, {\r\n                      BaseInfo: {\r\n                        EndNodeID: getOut.to,\r\n                        ID: id,\r\n                        Name: fromNode.name + \"→\" + toNode.name,\r\n                        StartNodeID: getIn.from,\r\n                      },\r\n                    }),\r\n                  };\r\n                  if (node.parentNodeId) {\r\n                    newLineParam.parentNodeId = node.parentNodeId;\r\n                  }\r\n                  this.$bus.$emit(`addLine${node.parentNodeId || \"\"}`, newLineParam);\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n        // 删除线\r\n        for (let i = obj.out.length - 1; i >= 0; i--) {\r\n          const l = getObjById(lines, obj.out[i]);\r\n          if (l) {\r\n            this.deleteLine(l);\r\n          }\r\n        }\r\n        for (let i = obj.in.length - 1; i >= 0; i--) {\r\n          const l = getObjById(lines, obj.in[i]);\r\n          if (l) {\r\n            this.deleteLine(l);\r\n          }\r\n        }\r\n\r\n        // 删除边界事件\r\n        for (let i = 0; i < events.length; i++) {\r\n          let nodeId = events[i].nodeId;\r\n          if (nodeId === obj.id) {\r\n            let event = events[i];\r\n            // 删除线\r\n            for (let j = event.out.length - 1; j >= 0; j--) {\r\n              const line = getObjById(this.lines, event.out[j]);\r\n              if (line) {\r\n                this.deleteLine(line);\r\n              }\r\n            }\r\n            events.splice(i, 1);\r\n            i--;\r\n          }\r\n        }\r\n        // 删除节点\r\n        nodes.splice(index, 1);\r\n      }\r\n    },\r\n    deleteLine(line, isDel) {\r\n      // 删除子流程的线\r\n      let parentNode;\r\n      if (line.parentNodeId) {\r\n        parentNode = this.nodes.find((item) => line.parentNodeId === item.id);\r\n        if (isDel && this.verifySub(parentNode)) {\r\n          return;\r\n        }\r\n      }\r\n      line.remove();\r\n      const nodes = line.parentNodeId ? parentNode.nodes : this.nodes;\r\n      const lines = line.parentNodeId ? parentNode.lines : this.lines;\r\n      const index = lines.indexOf(line);\r\n      if (index > -1) {\r\n        this.deleteFromOrOut(nodes, lines, line, index);\r\n      }\r\n    },\r\n    deleteFromOrOut(nodes, lines, line, index) {\r\n      const from = getObjById(nodes, line.from);\r\n      const to = getObjById(nodes, line.to);\r\n      if (from) {\r\n        const f_index = from[\"out\"].indexOf(line.id);\r\n        if (f_index >= 0) {\r\n          from[\"out\"].splice(f_index, 1);\r\n        }\r\n      }\r\n      if (to) {\r\n        const t_index = to[\"in\"].indexOf(line.id);\r\n        if (t_index >= 0) {\r\n          to[\"in\"].splice(t_index, 1);\r\n        }\r\n      }\r\n      lines.splice(index, 1);\r\n      this.$bus.$emit(\"updateIntersection\");\r\n    },\r\n    deleteEvent(id, events, isDel) {\r\n      const index = (events ? events : this.events).findIndex((ev) => ev.id === id);\r\n      index > -1 && (events ? events : this.events).splice(index, 1);\r\n      // 恢复可吸附点\r\n      this.$store.commit(\"flow/addPoint\", {\r\n        id: this.checked.nodeId,\r\n        obj: {\r\n          point: {\r\n            x: this.checked.point.x,\r\n            y: this.checked.point.y,\r\n          },\r\n          index: this.checked.index,\r\n          direction: this.checked.direction,\r\n        },\r\n      });\r\n      // this.dragEvent && document.body.removeChild(this.dragEvent);\r\n    },\r\n    // 添加泳道\r\n    addLane(direction, index) {\r\n      this.createLane({\r\n        direction: direction,\r\n        index: index,\r\n      });\r\n    },\r\n    createLane(options) {\r\n      const direction = options.direction;\r\n      options.name = options.name || \"泳道\" + (this.lanes[direction].length + 1);\r\n      options.id = options.id || tools.uuid();\r\n      const lane = new Lane(options);\r\n      const before = this.lanes[direction][(options.index || this.lanes[direction].length) - 1];\r\n      if (direction == LaneDirection.vertical) {\r\n        // 水平方向\r\n        lane.left = before ? before.size + before.left : 0;\r\n      } else {\r\n        // 垂直方向\r\n        lane.top = before ? before.size + before.top : 0;\r\n      }\r\n      this.$store.commit(\"flow/addLane\", {\r\n        direction,\r\n        lane,\r\n        index: options.index,\r\n      });\r\n      this.resize();\r\n    },\r\n    onScroll(e) {\r\n      const target = e.target;\r\n      this.$store.commit(\"flow/setSvgRoot\", {\r\n        scrollTop: target.scrollTop,\r\n        scrollLeft: target.scrollLeft,\r\n      });\r\n    },\r\n    //获取上一步节点\r\n    getFromNodes(node) {\r\n      if (!node[\"in\"] || node[\"in\"].length <= 0) {\r\n        return null;\r\n      }\r\n      var arr = [];\r\n      for (let i = 0; i < node[\"in\"].length; i++) {\r\n        var lineId = node[\"in\"][i];\r\n        var line = getObjById(this.lines, lineId);\r\n        if (line) {\r\n          var fn = getObjById(this.nodes, line.from);\r\n          arr.push(fn);\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    //获取下一步节点\r\n    getToNodes(node) {\r\n      if (!node[\"out\"] || node[\"out\"].length <= 0) {\r\n        return null;\r\n      }\r\n      var arr = [];\r\n      for (let i = 0; i < node[\"out\"].length; i++) {\r\n        var lineId = node[\"out\"][i];\r\n        var line = getObjById(this.lines, lineId);\r\n        if (line) {\r\n          var fn = getObjById(this.nodes, line.to);\r\n          arr.push(fn);\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    getFlowAllObjectMap(info) {\r\n      var dm = {};\r\n      for (let i = 0; i < info.nodes.length; i++) {\r\n        var node = info.nodes[i];\r\n        dm[node.id] = node;\r\n      }\r\n      for (let i = 0; i < info.lines.length; i++) {\r\n        var line = info.lines[i];\r\n        dm[line.id] = line;\r\n      }\r\n      for (let i = 0; i < info.lanes.horizontal.length; i++) {\r\n        var lane = info.lanes.horizontal[i];\r\n        dm[lane.id] = lane;\r\n      }\r\n      for (let i = 0; i < info.lanes.vertical.length; i++) {\r\n        var lane = info.lanes.vertical[i];\r\n        dm[lane.id] = lane;\r\n      }\r\n      return dm;\r\n    },\r\n    drawLine() {\r\n      this.isDrawLine = !this.isDrawLine;\r\n    },\r\n    resize() {\r\n      const minWidth = this.$store.state.flow.page.width;\r\n      const minHeight = this.$store.state.flow.page.height;\r\n      const width = minWidth || 0;\r\n      const height = minHeight || 0;\r\n\r\n      const lastV = this.lanes.vertical[this.lanes.vertical.length - 1];\r\n      // 水平方向泳道标题的宽度\r\n      const horizontalWidth = this.$store.getters[\"flow/lanesWidth\"];\r\n      // 泳道水平长度超出\r\n      if (lastV && lastV.size + lastV.left + horizontalWidth > width) {\r\n        this.width = lastV.size + lastV.left + horizontalWidth;\r\n      } else {\r\n        this.width = minWidth;\r\n      }\r\n\r\n      const lastH = this.lanes.horizontal[this.lanes.horizontal.length - 1];\r\n      // 垂直方向泳道标题的宽度\r\n      const verticalHeight = this.$store.getters[\"flow/lanesHeight\"];\r\n      // 泳道垂直长度超出\r\n      if (lastH && lastH.size + lastH.top + verticalHeight > height) {\r\n        this.height = lastH.size + lastH.top + verticalHeight;\r\n      } else {\r\n        this.height = minHeight;\r\n      }\r\n\r\n      // 和最长的节点宽度比较\r\n      let maxWidth = 0;\r\n      let maxHeigth = 0;\r\n      this.nodes.forEach((node) => {\r\n        if (node.width + node.point.x + node.padding * 2 > maxWidth) {\r\n          maxWidth = node.width + node.point.x + node.padding * 2;\r\n        }\r\n        if (node.height + node.point.y + node.padding * 2 + 20 > maxHeigth) {\r\n          maxHeigth = node.height + node.point.y + node.padding * 2 + 20;\r\n        }\r\n      });\r\n      this.width = this.width > maxWidth ? this.width : maxWidth;\r\n      this.height = this.height > maxHeigth ? this.height : maxHeigth;\r\n    },\r\n    nodeResize(node) {\r\n      // 和最长的节点宽度比较\r\n      let maxWidth = 0;\r\n      let maxHeigth = 0;\r\n      node.nodes.forEach((item) => {\r\n        if (item.width + item.point.x + item.padding * 2 > maxWidth) {\r\n          maxWidth = item.width + item.point.x + item.padding * 2;\r\n        }\r\n        if (item.height + item.point.y + item.padding * 2 + 20 + node.imgHeight + node.padding * 2 > maxHeigth) {\r\n          // 节点高度 + 节点纵坐标 + padding + 名称高度 + 父节点占用高度\r\n          maxHeigth = item.height + item.point.y + item.padding * 2 + 20 + node.imgHeight + node.padding * 2;\r\n        }\r\n      });\r\n      node.width = node.width > maxWidth ? node.width : maxWidth;\r\n      node.height = node.height > maxHeigth ? node.height : maxHeigth;\r\n      this.$bus.$emit(\"nodeMove\", node);\r\n    },\r\n    autoScroll(arg) {\r\n      let point = null;\r\n      const type = arg.type;\r\n      if (type == \"node\") {\r\n        point = arg.point;\r\n        if (arg.mouse.x > this.width / 2) {\r\n          point.x = point.x + arg.data.width + this.maxSizeOffset;\r\n        } else {\r\n          point.x = point.x;\r\n        }\r\n        if (arg.mouse.y > this.height / 2) {\r\n          point.y = point.y + arg.data.height + this.maxSizeOffset;\r\n        } else {\r\n          point.y = point.y;\r\n        }\r\n      } else if (type == \"line\") {\r\n        point = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: arg.mouse.x,\r\n          y: arg.mouse.y,\r\n        });\r\n        if (arg.mouse.x > this.width / 2) {\r\n          point.x = point.x + this.maxSizeOffset;\r\n        } else {\r\n          point.x = point.x - this.maxSizeOffset;\r\n        }\r\n        if (arg.mouse.y > this.height / 2) {\r\n          point.y = point.y + this.maxSizeOffset;\r\n        } else {\r\n          point.y = point.y - this.maxSizeOffset;\r\n        }\r\n      } else if (type == \"lane\") {\r\n        point = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: arg.mouse.x,\r\n          y: arg.mouse.y,\r\n        });\r\n        if (arg.mouse.x > this.width / 2) {\r\n          point.x = point.x + this.maxSizeOffset;\r\n        } else {\r\n          point.x = point.x;\r\n        }\r\n        if (arg.mouse.y > this.height / 2) {\r\n          point.y = point.y + this.maxSizeOffset;\r\n        } else {\r\n          point.y = point.y;\r\n        }\r\n      }\r\n      //滚动条自动回滚\r\n      let parentElement = this.$refs.ds_page;\r\n      let size, scrollLeft, scrollTop;\r\n      if (point.x < parentElement.scrollLeft) {\r\n        size = Math.abs(parentElement.scrollLeft - point.x);\r\n        scrollLeft = parentElement.scrollLeft;\r\n        parentElement.scrollLeft = scrollLeft - size / 3;\r\n      }\r\n      if (point.y < parentElement.scrollTop) {\r\n        size = Math.abs(parentElement.scrollTop - point.y);\r\n        scrollTop = parentElement.scrollTop;\r\n        parentElement.scrollTop = scrollTop - size / 3;\r\n      }\r\n      if (point.h < parentElement.scrollTop) {\r\n        size = Math.abs(parentElement.scrollLeft - point.x);\r\n        scrollLeft = parentElement.scrollLeft;\r\n        parentElement.scrollLeft = scrollLeft - size / 3;\r\n      }\r\n      //滚动条自动延伸\r\n      if (point.x > parentElement.clientWidth + parentElement.scrollLeft) {\r\n        this.width = point.x;\r\n        size = Math.abs(parentElement.clientWidth + parentElement.scrollLeft - point.x);\r\n        scrollLeft = parentElement.scrollLeft;\r\n        parentElement.scrollLeft = scrollLeft + size / 3;\r\n      }\r\n      if (point.y > parentElement.clientHeight + parentElement.scrollTop) {\r\n        this.height = point.y;\r\n        size = Math.abs(parentElement.clientHeight + parentElement.scrollTop - point.y);\r\n        scrollTop = parentElement.scrollTop;\r\n        parentElement.scrollTop = scrollTop + size / 3;\r\n      }\r\n    },\r\n    parentAutoScroll(arg) {\r\n      // 计算有问题 先不管\r\n      let mouse = arg.mouse;\r\n      let point = arg.point;\r\n      let parent = arg.parent;\r\n      let node = arg.node;\r\n      if (point.x > parent.width + parent.point.x) {\r\n        point.x = point.x + node.width + this.maxSizeOffset;\r\n      } else {\r\n        point.x = point.x;\r\n      }\r\n      if (point.y > parent.height + parent.point.y) {\r\n        point.y = point.y + node.height + this.maxSizeOffset;\r\n      } else {\r\n        point.y = point.y;\r\n      }\r\n      //滚动条自动延伸\r\n      if (point.x > parent.width + 0) {\r\n        parent.width = point.x;\r\n      }\r\n      if (point.y > parent.height + 0) {\r\n        parent.height = point.y;\r\n      }\r\n      this.$bus.$emit(\"nodeMove\", parent);\r\n      this.autoScroll({\r\n        type: \"node\",\r\n        data: parent,\r\n        mouse: {\r\n          x: mouse.x,\r\n          y: mouse.y,\r\n        },\r\n        point: {\r\n          x: point.x,\r\n          y: point.y,\r\n        },\r\n      });\r\n    },\r\n    setCursor(evt) {\r\n      if (evt.target.tagName != \"svg\") {\r\n        var className = evt.target.className || \"\";\r\n        if (evt.target.tagName == \"path\") {\r\n          var segmen = getObjectByTarget(evt.target);\r\n          if (segmen) {\r\n            var mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n              x: evt.pageX,\r\n              y: evt.pageY,\r\n            });\r\n            if (segmen.type == _LineType.horizontal) {\r\n              if (segmen.index == 0 && Math.abs(segmen.sp.x - mp.x) <= this.dragSize) {\r\n                this.setRootCursor(\"move\");\r\n              } else if (segmen.isLast && Math.abs(segmen.ep.x - mp.x) <= this.dragSize) {\r\n                this.setRootCursor(\"move\");\r\n              } else {\r\n                this.setRootCursor(\"ns-resize\");\r\n              }\r\n            } else {\r\n              if (segmen.index == 0 && Math.abs(segmen.sp.y - mp.y) <= this.dragSize) {\r\n                this.setRootCursor(\"move\");\r\n              } else if (segmen.isLast && Math.abs(segmen.ep.y - mp.y) <= this.dragSize) {\r\n                this.setRootCursor(\"move\");\r\n              } else {\r\n                this.setRootCursor(\"ew-resize\");\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        this.setRootCursor(\"default\");\r\n      }\r\n    },\r\n    setRootCursor(type) {\r\n      this.$refs.root.style.cursor = type;\r\n    },\r\n    startGlobalMove(e) {\r\n      //如果按住shift键，则启动全局位移功能\r\n      this.isGlobalPosMove = true;\r\n      this.globalPos = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      });\r\n      this.globalMoveLastMouse = {\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      };\r\n      this.globalRect = this.getRect();\r\n    },\r\n    globalMove(evt) {\r\n      if (this.isGlobalPosMove) {\r\n        const localMouse = {\r\n          x: evt.pageX,\r\n          y: evt.pageY,\r\n        };\r\n        const last_p = getGridPoint(this.globalMoveLastMouse);\r\n        const move_p = getGridPoint(localMouse);\r\n        const current_p = {\r\n          x: move_p.x - last_p.x,\r\n          y: move_p.y - last_p.y,\r\n        };\r\n        const maxWidth = Number.MIN_VALUE,\r\n          maxHeight = Number.MIN_VALUE;\r\n        if (current_p.x == 0 && current_p.y == 0) {\r\n          return false;\r\n        }\r\n        let x_move = false,\r\n          y_move = false;\r\n        if (this.globalRect.x + current_p.x > 0) {\r\n          this.globalRect.x += current_p.x;\r\n          x_move = true;\r\n        }\r\n        if (this.globalRect.y + current_p.y >= 0) {\r\n          this.globalRect.y += current_p.y;\r\n          y_move = true;\r\n        }\r\n        this.$bus.$emit(\"globalMove\", current_p, x_move, y_move, evt);\r\n        this.globalMoveLastMouse = move_p;\r\n        return;\r\n      }\r\n    },\r\n    getRect() {\r\n      let x = Number.MAX_VALUE,\r\n        y = Number.MAX_VALUE,\r\n        width = Number.MIN_VALUE,\r\n        height = Number.MIN_VALUE;\r\n      for (let i = 0; i < this.nodes.length; i++) {\r\n        let node = this.nodes[i];\r\n        if (node.point.x < x) {\r\n          x = node.point.x;\r\n        }\r\n        if (node.point.x + node.width > width) {\r\n          width = node.point.x + node.width;\r\n        }\r\n        if (node.point.y < y) {\r\n          y = node.point.y;\r\n        }\r\n        if (node.point.y + node.height > height) {\r\n          height = node.point.y + node.height;\r\n        }\r\n      }\r\n      for (let i = 0; i < this.lines.length; i++) {\r\n        let line = this.lines[i];\r\n        for (let n = 0; n < line.path.length; n++) {\r\n          if (line.path[n].x < x) {\r\n            x = line.path[n].x;\r\n          }\r\n          if (line.path[n].x > width) {\r\n            width = line.path[n].x;\r\n          }\r\n          if (line.path[n].y < y) {\r\n            y = line.path[n].y;\r\n          }\r\n          if (line.path[n].y > height) {\r\n            height = line.path[n].y;\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        x: x,\r\n        y: y,\r\n        width: width,\r\n        height: height,\r\n      };\r\n    },\r\n    getWheelDirect(e) {\r\n      e = e || window.event;\r\n      let direction;\r\n      if (e.wheelDelta) {\r\n        //判断浏览器IE，谷歌滑轮事件\r\n        if (e.wheelDelta > 0) {\r\n          //当滑轮向上滚动时\r\n          direction = \"up\";\r\n        }\r\n        if (e.wheelDelta < 0) {\r\n          //当滑轮向下滚动时\r\n          direction = \"down\";\r\n        }\r\n      } else if (e.detail) {\r\n        //Firefox滑轮事件\r\n        if (e.detail > 0) {\r\n          //当滑轮向上滚动时\r\n          direction = \"up\";\r\n        }\r\n        if (e.detail < 0) {\r\n          //当滑轮向下滚动时\r\n          direction = \"down\";\r\n        }\r\n      }\r\n      return direction;\r\n    },\r\n    scrollwheel(e) {\r\n      e = e || window.event;\r\n      // if(e.preventDefault && e.ctrlKey) e.preventDefault();\r\n      // if(e.ctrlKey) e.returnValue = false;\r\n      if (e.wheelDelta && e.ctrlKey) {\r\n        e.preventDefault();\r\n        const direction = this.getWheelDirect(e);\r\n        this.rootScale(direction);\r\n      }\r\n    },\r\n    rootScale(direction) {\r\n      if (direction === \"up\") {\r\n        this.scale = Number((this.scale + 0.05 < 2 ? this.scale + 0.05 : 2).toFixed(2));\r\n      } else {\r\n        this.scale = Number((this.scale > 0.4 ? this.scale - 0.05 : 0.4).toFixed(2));\r\n      }\r\n      this.$store.commit(\"flow/setPage\", {\r\n        scale: this.scale,\r\n      });\r\n      this.$store.commit(\"flow/clearPoints\");\r\n    },\r\n    selectGlobalMove(e) {\r\n      if (!this.globalSelect) {\r\n        this.globalSelect = document.createElement(\"div\");\r\n        this.globalSelect.className = \"select-nodes\";\r\n        Object.assign(this.globalSelect.style, {\r\n          zIndex: 9999,\r\n          transform: `translate3d(${this.selectGlobalPos.x / this.scale}px, ${this.selectGlobalPos.y / this.scale}px, 0)`,\r\n          pointerEvents: \"none\",\r\n        });\r\n        this.$refs.root.appendChild(this.globalSelect);\r\n      }\r\n      if (this.selectGlobalPos) {\r\n        const start = this.selectGlobalPos;\r\n        const end = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n        });\r\n        let top, left, width, height;\r\n        if (end.x > start.x) {\r\n          left = start.x;\r\n          width = end.x - start.x;\r\n        } else {\r\n          left = end.x;\r\n          width = start.x - end.x;\r\n        }\r\n        if (end.y > start.y) {\r\n          top = start.y;\r\n          height = end.y - start.y;\r\n        } else {\r\n          top = end.y;\r\n          height = start.y - end.y;\r\n        }\r\n        this.selectGlobalPonits.start.x = left / this.scale;\r\n        this.selectGlobalPonits.start.y = top / this.scale;\r\n        this.selectGlobalPonits.end.x = (left + width) / this.scale;\r\n        this.selectGlobalPonits.end.y = (top + height) / this.scale;\r\n        Object.assign(this.globalSelect.style, {\r\n          transform: `translate3d(${left / this.scale}px, ${top / this.scale}px, 0)`,\r\n          width: this.toPx(width / this.scale),\r\n          height: this.toPx(height / this.scale),\r\n        });\r\n      }\r\n    },\r\n    selectGlobalEnd(e) {\r\n      this.isGlobalSelect = false;\r\n      if (this.globalSelect) {\r\n        const end = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n        });\r\n        this.$bus.$emit(\"selectGlobal\", this.selectGlobalPonits.start, this.selectGlobalPonits.end);\r\n        this.$refs.root.removeChild(this.globalSelect);\r\n        this.globalSelect = null;\r\n      }\r\n    },\r\n    documentCopy(e) {\r\n      const selectedList = this.$store.state.flow.selectedList;\r\n      if (selectedList && selectedList.length > 1) {\r\n        this.ctrlCopyNodes = [...selectedList];\r\n      } else {\r\n        this.ctrlCopyNodes = [this.checked];\r\n      }\r\n    },\r\n    pasteNode(e) {\r\n      if (!this.ctrlCopyNodes) {\r\n        return false;\r\n      }\r\n      let copyNodes = [];\r\n      const { fromNodeIds, toNodeIds, newLines } = this.getBeforeCopyLine(this.ctrlCopyNodes);\r\n      this.ctrlCopyNodes.forEach((item) => {\r\n        const copyNode = item;\r\n        // 复制一个节点\r\n        const fromCopyId = copyNode.id;\r\n        const id = tools.uuid();\r\n        const newcopyNode = JSON.parse(JSON.stringify(copyNode));\r\n        const point = Object.assign({}, newcopyNode, {\r\n          id: tools.uuid(),\r\n          out: [],\r\n          in: [],\r\n          x: copyNode.point.x + 10,\r\n          y: copyNode.point.y + 10,\r\n        });\r\n        point.attributes.BaseInfo.ID = id;\r\n        const newNode = this.copyNodeNext(point, fromCopyId, copyNode);\r\n        this.resetLineFromAndTo(fromNodeIds, toNodeIds, newNode, copyNode);\r\n        copyNodes.push(newNode);\r\n        this.checked = newNode;\r\n      });\r\n      this.copyEventsLines(newLines);\r\n      this.ctrlCopyNodes = copyNodes;\r\n      this.$store.commit(\"flow/setSelectedList\", copyNodes);\r\n    },\r\n    ...FlowFun,\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"_platform/assets/styles/designer/workFlow.scss\";\r\nbody {\r\n  overflow: hidden;\r\n}\r\n.ds_page {\r\n  overflow: auto;\r\n  .flow {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    .root {\r\n      position: relative;\r\n      min-width: 100%;\r\n      min-height: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flow.vue?vue&type=template&id=51c433d9&\"\nimport script from \"./flow.vue?vue&type=script&lang=js&\"\nexport * from \"./flow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('51c433d9')) {\n      api.createRecord('51c433d9', component.options)\n    } else {\n      api.reload('51c433d9', component.options)\n    }\n    module.hot.accept(\"./flow.vue?vue&type=template&id=51c433d9&\", function () {\n      api.rerender('51c433d9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/flow.vue\"\nexport default component.exports"],"sourceRoot":""}