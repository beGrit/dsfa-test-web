{"version":3,"sources":["webpack://platform/I:/web-project/dream/dsf-cli/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://platform/I:/web-project/dream/dsf-cli/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://platform/I:/web-project/dream/dsf-cli/node_modules/core-js/modules/es.object.entries.js","webpack://platform/I:/web-project/dream/dsf-cli/node_modules/core-js/internals/object-to-array.js","webpack://platform/./designer/seat/util/eventBus.js","webpack://platform/I:/web-project/dream/dsf-cli/node_modules/core-js/modules/es.object.get-own-property-names.js","webpack://platform/./designer/seat/util/configBuilder.js","webpack://platform/I:/web-project/dream/dsf-cli/node_modules/core-js/internals/object-get-own-property-names-external.js","webpack://platform/./pc/dormitory/dormitory.vue?ef81","webpack://platform/./pc/dormitory/dormitory.vue?7ad0","webpack://platform/./pc/dormitory/dormitory.vue?de08","webpack://platform/./pc/dormitory/dormitory.vue?a151","webpack://platform/./pc/dormitory/func.js","webpack://platform/./pc/dormitory/room/leftMenu.vue?4920","webpack://platform/pc/dormitory/room/leftMenu.vue","webpack://platform/./pc/dormitory/room/leftMenu.vue?45f6","webpack://platform/./pc/dormitory/room/leftMenu.vue","webpack://platform/./pc/dormitory/room/guestsTopTool.vue?ad89","webpack://platform/./pc/dormitory/constant.js","webpack://platform/./pc/dormitory/dialog/timeRange.vue?0fc8","webpack://platform/pc/dormitory/dialog/timeRange.vue","webpack://platform/./pc/dormitory/dialog/timeRange.vue?4665","webpack://platform/./pc/dormitory/dialog/timeRange.vue","webpack://platform/./pc/dormitory/room/colorStateList.vue?b300","webpack://platform/pc/dormitory/room/colorStateList.vue","webpack://platform/./pc/dormitory/room/colorStateList.vue?045e","webpack://platform/./pc/dormitory/room/colorStateList.vue","webpack://platform/pc/dormitory/room/guestsTopTool.vue","webpack://platform/./pc/dormitory/room/guestsTopTool.vue?236b","webpack://platform/./pc/dormitory/room/guestsTopTool.vue","webpack://platform/./pc/dormitory/room/resetGroupTopTool.vue?fe09","webpack://platform/./pc/dormitory/room/inlineSelectBox.vue?ba8f","webpack://platform/pc/dormitory/room/inlineSelectBox.vue","webpack://platform/./pc/dormitory/room/inlineSelectBox.vue?372c","webpack://platform/./pc/dormitory/room/inlineSelectBox.vue","webpack://platform/pc/dormitory/room/resetGroupTopTool.vue","webpack://platform/./pc/dormitory/room/resetGroupTopTool.vue?4d39","webpack://platform/./pc/dormitory/room/resetGroupTopTool.vue","webpack://platform/./pc/dormitory/room/treeList.vue?eb1a","webpack://platform/pc/dormitory/room/treeList.vue","webpack://platform/./pc/dormitory/room/treeList.vue?7b8c","webpack://platform/./pc/dormitory/room/treeList.vue","webpack://platform/./pc/dormitory/room/roomBox.vue?de9f","webpack://platform/./pc/dormitory/dialog/guestsOptDialog.vue?6ea1","webpack://platform/./pc/dormitory/dialog/actionDialog.vue?7715","webpack://platform/pc/dormitory/dialog/actionDialog.vue","webpack://platform/./pc/dormitory/dialog/actionDialog.vue?491c","webpack://platform/./pc/dormitory/dialog/actionDialog.vue","webpack://platform/./pc/dormitory/room/floorBox.vue?1f30","webpack://platform/pc/dormitory/room/floorBox.vue","webpack://platform/./pc/dormitory/room/floorBox.vue?544e","webpack://platform/./pc/dormitory/room/floorBox.vue","webpack://platform/pc/dormitory/dialog/guestsOptDialog.vue","webpack://platform/./pc/dormitory/dialog/guestsOptDialog.vue?7b44","webpack://platform/./pc/dormitory/dialog/guestsOptDialog.vue","webpack://platform/pc/dormitory/room/roomBox.vue","webpack://platform/./pc/dormitory/room/roomBox.vue?c39f","webpack://platform/./pc/dormitory/room/roomBox.vue","webpack://platform/./pc/dormitory/room/groupTopTool.vue?bbdf","webpack://platform/pc/dormitory/room/groupTopTool.vue","webpack://platform/./pc/dormitory/room/groupTopTool.vue?56ea","webpack://platform/./pc/dormitory/room/groupTopTool.vue","webpack://platform/./pc/dormitory/room/groupList.vue?2341","webpack://platform/pc/dormitory/room/groupList.vue","webpack://platform/./pc/dormitory/room/groupList.vue?95fa","webpack://platform/./pc/dormitory/room/groupList.vue","webpack://platform/./pc/dormitory/room/groupRoomBox.vue?8639","webpack://platform/./pc/dormitory/dialog/roomHistoryDialog.vue?64e2","webpack://platform/pc/dormitory/dialog/roomHistoryDialog.vue","webpack://platform/./pc/dormitory/dialog/roomHistoryDialog.vue?f731","webpack://platform/./pc/dormitory/dialog/roomHistoryDialog.vue","webpack://platform/pc/dormitory/room/groupRoomBox.vue","webpack://platform/./pc/dormitory/room/groupRoomBox.vue?f581","webpack://platform/./pc/dormitory/room/groupRoomBox.vue","webpack://platform/./pc/dormitory/room/resetGroupRoomBox.vue?483c","webpack://platform/pc/dormitory/room/resetGroupRoomBox.vue","webpack://platform/./pc/dormitory/room/resetGroupRoomBox.vue?b057","webpack://platform/./pc/dormitory/room/resetGroupRoomBox.vue","webpack://platform/./pc/dormitory/room/allocationTopTool.vue?286f","webpack://platform/pc/dormitory/room/allocationTopTool.vue","webpack://platform/./pc/dormitory/room/allocationTopTool.vue?61de","webpack://platform/./pc/dormitory/room/allocationTopTool.vue","webpack://platform/./pc/dormitory/room/allocationRoomBox.vue?2f4e","webpack://platform/pc/dormitory/room/allocationRoomBox.vue","webpack://platform/./pc/dormitory/room/allocationRoomBox.vue?25e8","webpack://platform/./pc/dormitory/room/allocationRoomBox.vue","webpack://platform/./pc/dormitory/room/stateRoomBox.vue?1870","webpack://platform/pc/dormitory/room/stateRoomBox.vue","webpack://platform/./pc/dormitory/room/stateRoomBox.vue?bcdd","webpack://platform/./pc/dormitory/room/stateRoomBox.vue","webpack://platform/pc/dormitory/dormitory.vue","webpack://platform/./pc/dormitory/dormitory.vue?639c","webpack://platform/./pc/dormitory/dormitory.vue"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","$","$entries","entries","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","keys","result","call","push","module","exports","values","EventBus","this","events","event","callback","undefined","arr","_","isArray","params","eventDeal","forEach","a","eventBus","window","$simpleEventBus","fails","nativeGetOwnPropertyNames","FAILS_ON_PRIMITIVES","getOwnPropertyNames","forced","ConfigBuilder","config","business","alert","name","msg","dsf","layer","title","type","message","Error","toString","windowNames","getWindowNames","error","slice","content","locals","add","default","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","leftMenuTitle","scopedSlots","_u","fn","dynamicLeft","_b","tag","commonProps","proxy","dynamicTop","dynamicRoom","staticRenderFns","_withStripped","DateFormat","isFunction","Date","Format","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","customAssign","source","__custom","old","other","assignWith","filterOriginFloor","originFloorList","roomStateList","build","obj","assign","roomDtos","filter","item","state","find","val","statusValue","checked","domProps","innerHTML","_s","mtitle","_t","component","options","__file","_v","queryTimeCouldChooseHistory","form","queryTime","on","click","doQuery","eventBusEvent","queryRoomList","treeNextLevel","treeCurrent","chosenRoomCheckOut","reserveRoomCancel","restoreSelectRoom","restoreAllRoom","autoCheckIn","refreshGroupList","resetOccupiedRoom","resetCheckedRoom","sureRoomResource","autoRoomResource","placeholder","readonly","readonlyArr","format","pickerOption1","change","changeTime1","model","value","sDate","$$v","$set","expression","pickerOption2","eDate","_l","$event","checkState","style","getSty","txt","team","teamName","_e","showSelect","selectList","comp","co","changeSelect","option","buildingId","label","ref","data","treeList","leftProps","currentNodeKey","mid","expandedKeys","accordion","currentChange","nodeCollapse","floorList","activeRoomId","clickRoom","visible","guestsVisible","room","currentRoom","info","roomStatusInfo","onCloseDialog","width","beforeClose","modal","close","guestsClose","roomName","emptyBedNum","closeDialog","directives","rawName","loadingOccupyInfo","list","timeStr","person","one","relId","typeStr","personName","sexText","phone","renewal","checkOut","changeRoom","checkIn","reserve","release","empty","em","checkInVisible","save","checkInSave","closeFormDialog","checkInForm","rules","formRules","prop","idCard","reserveVisible","reserveSave","reserveForm","renewalVisible","renewalSave","renewalForm","newTimeForm","changeRoomVisible","top","changeRoomSave","inline","inlineForm","mlabel","selectList1","selectList2","queryRoomName","reloadQuery","icon","showClose","noFooter","loading","btnLoading","fl","multipleChoose","stopPropagation","checkAll","class","pCheckCss","buildingText","single","standard","suite","mul","emptyPlace","mchildren","ro","judgeLoading","mroomId","roomCss","roomSty","roomCheckbox","checkRoom","checkCss","numSty","mroomNum","purposeText","isAllocatedRoom","reserveId","roomText","sexValue","parseInt","appendOcc","preCheckOut","predis","cancel","preCancel","restore","preRestore","restoreAll","preRestoreAll","auto","preAuto","activeTeamId","changeCollapse","personList","teamId","boyList","boy","personId","headImg","src","alt","girlList","girl","chosenRoomId","loadingRoomId","autoDialogVisible","saveAuto","multiple","changeTeamSelect","selectExpand","reserveIds","changeBuildCheckGroup","buildingIds","buildList","rowList","row","r","floorName","floorIds","floorItems","types","roomTypesByAuto","rulesByAuto","disabled","status","changeRuleCheck","timeForm","roomStatusVisible","opened","queryRoomOccupyInfo","staticStyle","opt","resetGroup","go2Info","occupied","preClick","sure","computeAssign","num","computeReserve","allNeedReserve","chosenBedNum","chosenRoomNum","msgChosenNum","code","roomTypes","controls","precision","roomMonthVisible","monthRoomInfo","monthArr","mSty","text","monthStateList"],"mappings":"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","file":"modules/platform/js/dsf-platform.Dormitory.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","class EventBus {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n  \r\n  listen(event, callback){\r\n    if (this.events[event] === undefined){\r\n      this.events[event] = [callback];\r\n    }\r\n    else {\r\n      const arr = this.events[event];\r\n      if (!_.isArray(arr)){\r\n        console.log(` on  ${event} `)\r\n        return\r\n      }\r\n      arr.push(callback)\r\n    }\r\n  }\r\n  dispatch(event, params){\r\n    const eventDeal = this.events[event];\r\n    if (!eventDeal){\r\n      console.log(event + \"listen \")\r\n      return;\r\n    }\r\n    \r\n    if (!_.isArray(eventDeal)){\r\n      console.log(event + \"on, emit\")\r\n      return\r\n    }\r\n    eventDeal.forEach(a => {\r\n      a(params)\r\n    })\r\n  }\r\n\r\n  on(event, callback)  {\r\n    if (this.events[event] === undefined){\r\n      this.events[event] = callback\r\n    }\r\n    else if (_.isArray(this.events[event])){\r\n      console.log(` listen  ${event} `);\r\n    }\r\n    else {\r\n      console.log(event + \" \");\r\n    }\r\n  }\r\n  emit(event, params) {\r\n    const eventDeal = this.events[event]\r\n    if (!eventDeal){\r\n      console.log(event + \"on \")\r\n      return;\r\n    }\r\n    if (_.isArray(eventDeal)){\r\n      console.log(event + \"listen, dispatch\")\r\n      return\r\n    }\r\n  \r\n    eventDeal(params)\r\n  }\r\n  off(event) {\r\n    this.events[event] = undefined;\r\n  }\r\n  clear(){\r\n    this.events = {}\r\n  }\r\n\r\n  $getAllListener(){\r\n    return Object.entries(this.events)\r\n  }\r\n}\r\n\r\nconst eventBus = new EventBus();\r\nwindow.$simpleEventBus = eventBus;\r\nexport default eventBus","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: nativeGetOwnPropertyNames\n});\n","export default class ConfigBuilder {\r\n  constructor(config, business) {\r\n    this.config = config;\r\n    if (!business){\r\n      this.alert(\"urlopt\");\r\n    }\r\n    if (!this.config[business]) {\r\n      this.alert(`[${this.config.name}] urlopt`);\r\n    }\r\n    Object.getOwnPropertyNames(this.config[business]).forEach(key => {\r\n      this[key] = this.config[business][key];\r\n    })\r\n  }\r\n  \r\n  alert(msg){\r\n    dsf.layer.alert({\r\n      title: \"\",\r\n      type: \"warning\",\r\n      message: msg\r\n    });\r\n    throw new Error(msg)\r\n  }\r\n}","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dormitory.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"386800bd\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dormitory.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dormitory.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dormitory.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nexport {};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"ds-dormitory-container\" },\n    [\n      _c(\"left-menu\", {\n        attrs: { title: _vm.leftMenuTitle },\n        scopedSlots: _vm._u([\n          {\n            key: \"inner\",\n            fn: function() {\n              return [\n                _c(\n                  _vm.dynamicLeft,\n                  _vm._b(\n                    { tag: \"component\" },\n                    \"component\",\n                    _vm.commonProps,\n                    false,\n                    true\n                  )\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      }),\n      _c(\n        \"div\",\n        { staticClass: \"ds-dormitory-right\" },\n        [\n          _c(\n            \"div\",\n            { staticClass: \"top-tool-container\" },\n            [\n              _c(\n                _vm.dynamicTop,\n                _vm._b(\n                  { tag: \"component\" },\n                  \"component\",\n                  _vm.commonProps,\n                  false,\n                  true\n                )\n              )\n            ],\n            1\n          ),\n          _c(\n            _vm.dynamicRoom,\n            _vm._b(\n              { tag: \"component\" },\n              \"component\",\n              _vm.commonProps,\n              false,\n              true\n            )\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// Date Date String\r\n// (M)(d)(h)(m)(s)(q)  1-2 \r\n// (y) 1-4 (S) 1 ( 1-3 )\r\n// \r\n// (new Date()).Format(\"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423\r\n// (new Date()).Format(\"yyyy-M-d h:m:s.S\")      ==> 2006-7-2 8:9:4.18\r\nconst DateFormat = () => {\r\n  if (_.isFunction(Date.prototype.Format)) return;\r\n  Date.prototype.Format = function (fmt) {\r\n    const o = {\r\n      \"M+\": this.getMonth() + 1, //\r\n      \"d+\": this.getDate(), //\r\n      \"h+\": this.getHours(), //\r\n      \"m+\": this.getMinutes(), //\r\n      \"s+\": this.getSeconds(), //\r\n      \"q+\": Math.floor((this.getMonth() + 3) / 3), //\r\n      \"S\": this.getMilliseconds() //\r\n    };\r\n    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n    for (let k in o)\r\n      if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n    return fmt;\r\n  }\r\n}\r\n\r\nconst customAssign = (source, target) => {\r\n  const __custom = (old, other) => {\r\n    return other ? other : old\r\n  }\r\n  return _.assignWith({}, source, target, __custom)\r\n}\r\n\r\nconst filterOriginFloor = (originFloorList, roomStateList) => {\r\n  if (!originFloorList || originFloorList.length === 0) return [];\r\n  \r\n  const arr = [];\r\n  originFloorList.forEach(build => {\r\n    const obj = Object.assign({}, build);\r\n    obj.roomDtos = build.roomDtos.filter(item => {\r\n      const state = roomStateList.find(a => a.val === item.statusValue);\r\n      return state? state.checked: false\r\n    })\r\n    arr.push(obj);\r\n  })\r\n  \r\n  return arr\r\n}\r\n\r\nexport {\r\n  DateFormat,\r\n  customAssign,\r\n  filterOriginFloor\r\n}\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"ds-dormitory-left\" },\n    [\n      _c(\"div\", {\n        staticClass: \"title\",\n        domProps: { innerHTML: _vm._s(_vm.mtitle) }\n      }),\n      _vm._t(\"inner\")\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ds-dormitory-left\">\r\n    <div class=\"title\" v-html=\"mtitle\"></div>\r\n    <slot name=\"inner\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"leftMenu\",\r\n    props: {\r\n      title: {\r\n        type: [String, Array],\r\n        default: \"\"\r\n      }\r\n    },\r\n    computed: {\r\n      mtitle() {\r\n        const opt = this.$route.query.opt;\r\n        if (typeof this.title === \"string\") {\r\n          return `<label class=\"active\">${this.title}</label>`\r\n        } else if (this.title instanceof Array) {\r\n          let str = \"\";\r\n          this.title.forEach(a => {\r\n            str += `<label class=\"${a.opt === opt ? 'active' : ''}\" data-opt=\"${a.opt}\">${a.title}</label>`\r\n          })\r\n          \r\n          return str\r\n        }\r\n        \r\n        \r\n        return \"\"\r\n      }\r\n    },\r\n    mounted() {\r\n      this.bindLabelClickEvent()\r\n    },\r\n    watch:{\r\n      '$route.query.opt'(){\r\n        this.bindLabelClickEvent()\r\n      },\r\n    },\r\n    methods:{\r\n      bindLabelClickEvent(){\r\n        const self = this;\r\n        setTimeout(()=>{\r\n          $(\".title\").children(\"label\").on(\"click\", function () {\r\n            const opt = $(this).data(\"opt\");\r\n            self.$router.replace({query: {opt}})\r\n          })\r\n        }, 500)\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./leftMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./leftMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./leftMenu.vue?vue&type=template&id=0a48f87c&\"\nimport script from \"./leftMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./leftMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0a48f87c')) {\n      api.createRecord('0a48f87c', component.options)\n    } else {\n      api.reload('0a48f87c', component.options)\n    }\n    module.hot.accept(\"./leftMenu.vue?vue&type=template&id=0a48f87c&\", function () {\n      api.rerender('0a48f87c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/leftMenu.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"top-tool\" }, [\n    _c(\"div\", { staticClass: \"title\" }, [_vm._v(_vm._s(_vm.title))]),\n    _c(\n      \"div\",\n      { staticClass: \"sec-box\" },\n      [\n        _c(\"color-state-list\", {\n          attrs: { \"room-state-list\": _vm.roomStateList }\n        }),\n        _c(\"time-range\", {\n          attrs: {\n            \"only-choose-future\": !_vm.queryTimeCouldChooseHistory,\n            form: _vm.queryTime\n          }\n        }),\n        _c(\"dsf-button\", { on: { click: _vm.doQuery } }, [_vm._v(\"\")])\n      ],\n      1\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","const eventBusEvent = {\r\n  queryRoomList: \"queryRoomList\",\r\n  treeNextLevel: \"treeNextLevel\",\r\n  treeCurrent: \"treeCurrent\",\r\n  chosenRoomCheckOut: \"chosenRoomCheckOut\",    //\r\n  reserveRoomCancel: \"reserveRoomCancel\",    //\r\n  restoreSelectRoom: \"restoreSelectRoom\",   //\r\n  restoreAllRoom: \"restoreAllRoom\",   //\r\n  autoCheckIn: \"autoCheckIn\",   //\r\n  refreshGroupList: \"refreshGroupList\",   //\r\n  resetOccupiedRoom: \"resetOccupiedRoom\",       //\r\n  resetCheckedRoom: \"resetCheckedRoom\",         //\r\n  sureRoomResource: \"sureRoomResource\",         //\r\n  autoRoomResource: \"autoRoomResource\",         //\r\n}\r\n\r\nexport {eventBusEvent}","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"date-box\" },\n    [\n      _c(\"el-date-picker\", {\n        attrs: {\n          type: \"datetime\",\n          placeholder: \"\",\n          readonly: this.readonlyArr[0],\n          \"value-format\": \"yyyy-MM-dd HH:mm:ss\",\n          format: \"yyyy-MM-dd HH:mm\",\n          \"picker-options\": _vm.pickerOption1\n        },\n        on: { change: _vm.changeTime1 },\n        model: {\n          value: _vm.form.sDate,\n          callback: function($$v) {\n            _vm.$set(_vm.form, \"sDate\", $$v)\n          },\n          expression: \"form.sDate\"\n        }\n      }),\n      _c(\"span\", { staticClass: \"time-divider\" }, [_vm._v(\"\")]),\n      _c(\"el-date-picker\", {\n        attrs: {\n          type: \"datetime\",\n          placeholder: \"\",\n          readonly: this.readonlyArr[1],\n          \"value-format\": \"yyyy-MM-dd HH:mm:ss\",\n          format: \"yyyy-MM-dd HH:mm\",\n          \"picker-options\": _vm.pickerOption2\n        },\n        model: {\n          value: _vm.form.eDate,\n          callback: function($$v) {\n            _vm.$set(_vm.form, \"eDate\", $$v)\n          },\n          expression: \"form.eDate\"\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"date-box\">\r\n    <el-date-picker\r\n      v-model=\"form.sDate\"\r\n      type=\"datetime\"\r\n      placeholder=\"\"\r\n      :readonly=\"this.readonlyArr[0]\"\r\n      value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n      format=\"yyyy-MM-dd HH:mm\"\r\n      @change=\"changeTime1\"\r\n      :picker-options=\"pickerOption1\"\r\n    >\r\n    </el-date-picker>\r\n    <span class=\"time-divider\"></span>\r\n    <el-date-picker\r\n      v-model=\"form.eDate\"\r\n      type=\"datetime\"\r\n      placeholder=\"\"\r\n      :readonly=\"this.readonlyArr[1]\"\r\n      value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n      format=\"yyyy-MM-dd HH:mm\"\r\n      :picker-options=\"pickerOption2\"\r\n    >\r\n    </el-date-picker>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"timeRange\",\r\n    props:{\r\n      form: {\r\n        type: Object,\r\n        default(){\r\n          return {\r\n            sDate: '',\r\n            eDate: ''\r\n          }\r\n        }\r\n      },\r\n      readonlyArr: {\r\n        type: Array,\r\n        default() {\r\n          return [false, false];\r\n        }\r\n      },\r\n      onlyChooseFuture: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data(){\r\n      return{\r\n        pickerOption1: {\r\n          disabledDate: this.disabledDate1\r\n        },\r\n        pickerOption2:{\r\n          disabledDate: this.disabledDate2\r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      time1(){\r\n        return new Date(this.form.sDate).getTime()\r\n      },\r\n      time2(){\r\n        return new Date(this.form.eDate).getTime()\r\n      }\r\n    },\r\n    methods:{\r\n      disabledDate1(date){\r\n        if (!this.onlyChooseFuture) return false;\r\n        let toDay = new Date().Format(\"yyyy-MM-dd\");\r\n        toDay = new Date(toDay + \" 00:00:00\").getTime();\r\n        const time = new Date(date).getTime();\r\n        return time < toDay\r\n      },\r\n      disabledDate2(date){\r\n        const temp = new Date(date).getTime();\r\n        return temp < this.time1\r\n      },\r\n      changeTime1(){\r\n        if (this.time1 >= this.time2){\r\n          this.form.eDate = \"\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeRange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeRange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./timeRange.vue?vue&type=template&id=1d1bcd11&\"\nimport script from \"./timeRange.vue?vue&type=script&lang=js&\"\nexport * from \"./timeRange.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1d1bcd11')) {\n      api.createRecord('1d1bcd11', component.options)\n    } else {\n      api.reload('1d1bcd11', component.options)\n    }\n    module.hot.accept(\"./timeRange.vue?vue&type=template&id=1d1bcd11&\", function () {\n      api.rerender('1d1bcd11', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/dialog/timeRange.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"ul\",\n    { staticClass: \"ds-state-list\" },\n    _vm._l(_vm.roomStateList, function(item, it) {\n      return _c(\"li\", { key: item.val }, [\n        _c(\n          \"label\",\n          {\n            on: {\n              click: function($event) {\n                return _vm.checkState(item, it)\n              }\n            }\n          },\n          [\n            _c(\"i\", { style: _vm.getSty(item) }),\n            _c(\"span\", [_vm._v(_vm._s(item.txt))])\n          ]\n        )\n      ])\n    }),\n    0\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <ul class=\"ds-state-list\">\r\n    <li v-for=\"(item, it) in roomStateList\" :key=\"item.val\">\r\n      <label @click=\"checkState(item, it)\">\r\n        <i :style=\"getSty(item)\"></i>\r\n        <span>{{item.txt}}</span>\r\n      </label>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"colorStateList\",\r\n    props: {\r\n      roomStateList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n      checkAble: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    created() {\r\n      //\r\n      this.roomStateList.forEach(a => {\r\n        a.checked = true\r\n      })\r\n    },\r\n    methods: {\r\n      getSty(a) {\r\n        return {\r\n          backgroundColor: a.checked ? a.bgColor: \"rgba(255,255,255,0)\",\r\n          border: a.checked ? \"none\": \"2px solid \" + a.color\r\n        }\r\n      },\r\n      checkState(a, index){\r\n        if (!this.checkAble) return;\r\n        const arr = _.cloneDeep(this.roomStateList);\r\n        const temp = Object.assign({}, a);\r\n        temp.checked = !temp.checked\r\n        arr.splice(index, 1, temp)\r\n        this.$store.commit('dormitory/changeRoomStateList', arr)\r\n      },\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorStateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./colorStateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./colorStateList.vue?vue&type=template&id=31f69068&\"\nimport script from \"./colorStateList.vue?vue&type=script&lang=js&\"\nexport * from \"./colorStateList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('31f69068')) {\n      api.createRecord('31f69068', component.options)\n    } else {\n      api.reload('31f69068', component.options)\n    }\n    module.hot.accept(\"./colorStateList.vue?vue&type=template&id=31f69068&\", function () {\n      api.rerender('31f69068', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/colorStateList.vue\"\nexport default component.exports","<template>\r\n  <div class=\"top-tool\">\r\n    <div class=\"title\">{{title}}</div>\r\n    <div class=\"sec-box\">\r\n      <color-state-list :room-state-list=\"roomStateList\"></color-state-list>\r\n      <time-range :only-choose-future=\"!queryTimeCouldChooseHistory\" :form=\"queryTime\"></time-range>\r\n      <dsf-button @click=\"doQuery\"></dsf-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import timeRange from \"_platform/pc/dormitory/dialog/timeRange\";\r\n  import colorStateList from \"_platform/pc/dormitory/room/colorStateList\";\r\n  \r\n  export default {\r\n    name: \"guestsTopTool\",\r\n    inject: ['rightConfigPointer'],\r\n    props: {\r\n      queryTime: {\r\n        type: Object,\r\n        default() {\r\n          return {\r\n            sDate: \"\",\r\n            eDate: \"\",\r\n          }\r\n        }\r\n      },\r\n    },\r\n    computed:{\r\n      ...mapState('dormitory', [\r\n        'roomStateList'\r\n      ]),\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        title: \"\",\r\n        queryTimeCouldChooseHistory: false\r\n      }\r\n    },\r\n    components: {\r\n      timeRange,\r\n      colorStateList\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n    },\r\n    methods: {\r\n      doQuery() {\r\n        eventBus.emit(eventBusEvent.queryRoomList);\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./guestsTopTool.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./guestsTopTool.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./guestsTopTool.vue?vue&type=template&id=33af2734&\"\nimport script from \"./guestsTopTool.vue?vue&type=script&lang=js&\"\nexport * from \"./guestsTopTool.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('33af2734')) {\n      api.createRecord('33af2734', component.options)\n    } else {\n      api.reload('33af2734', component.options)\n    }\n    module.hot.accept(\"./guestsTopTool.vue?vue&type=template&id=33af2734&\", function () {\n      api.rerender('33af2734', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/guestsTopTool.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\n      \"div\",\n      { staticClass: \"top-tool\" },\n      [\n        _c(\"div\", { staticClass: \"title\" }, [_vm._v(_vm._s(_vm.title))]),\n        _c(\"color-state-list\", {\n          attrs: { \"room-state-list\": _vm.roomStateList }\n        }),\n        _c(\"inline-select-box\")\n      ],\n      1\n    ),\n    _vm.team\n      ? _c(\"div\", { staticClass: \"msg-box\" }, [\n          _c(\"div\", { staticClass: \"msg\" }, [\n            _c(\"label\", [_vm._v(\"\")]),\n            _c(\"span\", [_vm._v(_vm._s(_vm.team.teamName))]),\n            _c(\"span\", { staticClass: \"time\" }, [\n              _vm._v(_vm._s(_vm.team.sDate))\n            ]),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"time\" }, [\n              _vm._v(_vm._s(_vm.team.eDate))\n            ])\n          ])\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.showSelect\n    ? _c(\n        \"div\",\n        { staticClass: \"select-box\" },\n        _vm._l(_vm.selectList, function(comp, co) {\n          return _c(\n            \"el-select\",\n            {\n              key: co,\n              attrs: { placeholder: comp.placeholder },\n              on: {\n                change: function($event) {\n                  return _vm.changeSelect(co)\n                }\n              },\n              model: {\n                value: comp.value,\n                callback: function($$v) {\n                  _vm.$set(comp, \"value\", $$v)\n                },\n                expression: \"comp.value\"\n              }\n            },\n            _vm._l(comp.option, function(item, it) {\n              return _c(\"el-option\", {\n                key: item.buildingId,\n                attrs: { value: item.buildingId, label: item.name }\n              })\n            }),\n            1\n          )\n        }),\n        1\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"showSelect\" class=\"select-box\">\r\n    <el-select\r\n      v-for=\"(comp, co) in selectList\"\r\n      v-model=\"comp.value\"\r\n      :key=\"co\"\r\n      @change=\"changeSelect(co)\"\r\n      :placeholder=\"comp.placeholder\"\r\n    >\r\n      <el-option\r\n        v-for=\"(item, it) in comp.option\"\r\n        :key=\"item.buildingId\"\r\n        :value=\"item.buildingId\"\r\n        :label=\"item.name\"\r\n      >\r\n      </el-option>\r\n    </el-select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n\r\n  export default {\r\n    name: \"inlineSelectBox\",\r\n    inject: ['rightConfigPointer'],\r\n    computed: {\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        selectList: [],\r\n        \r\n        //\r\n        showSelect: false,\r\n        currentSelect: null,    //\r\n        firstTime: true,    //\r\n      }\r\n    },\r\n    created() {\r\n      let predis = dsf.url.queryString(\"predis\");\r\n      Object.assign(this, this.rightConfig);\r\n      //\r\n      if (predis === \"1\") {\r\n        this.getFirstArea();     //groupRoomBox\r\n        return;\r\n      }\r\n      \r\n      this.showSelect = true;\r\n      this.selectList.forEach(item => {\r\n        item.value = \"\";\r\n        item.option = []\r\n      })\r\n      this.queryBuildList();\r\n    },\r\n    methods: {\r\n      queryBuildList(num = -1) {\r\n        let next = num + 1\r\n        if (!this.selectList[next]) return;\r\n        \r\n        let q = {};\r\n        if (this.currentSelect) {\r\n          q = {\r\n            buildingId: this.currentSelect.buildingId,\r\n            type: +this.currentSelect.typeValue + 1\r\n          }\r\n        }\r\n        this.$http.get(this.apiBuildingList.url, q).done(res => {\r\n          let obj = this.selectList.slice(next, next + 1);\r\n          // \"\"\r\n          if (next === 1) {\r\n            res.data.unshift({\r\n              buildingId: this.selectList[next-1].value,\r\n              name: \"\",\r\n              typeText: \"\",\r\n              typeValue: 0\r\n            })\r\n          }\r\n          \r\n          // \"\"\r\n          if (next === 2){\r\n            res.data.unshift({\r\n              buildingId: this.selectList[next-1].value,\r\n              name: \"\",\r\n              typeText: \"\",\r\n              typeValue: 1\r\n            })\r\n          }\r\n          obj.option = res.data;\r\n          this.selectList.splice(next, 1, obj);\r\n          //, ()\r\n          if (this.currentSelect?.name === \"\" && this.currentSelect?.typeValue === 0){\r\n            this.selectList[2].option = []\r\n          }\r\n          \r\n          //\r\n          if (this.firstTime){\r\n            this.firstTime = false;\r\n            this.selectList[0].value = res.data[0].buildingId;\r\n            this.changeSelect(0)\r\n          }\r\n        })\r\n      },\r\n      changeSelect(num) {\r\n        this.currentSelect = this.selectList[num].option.find(a => a.buildingId === this.selectList[num].value);\r\n        eventBus.emit(eventBusEvent.queryRoomList, this.currentSelect);\r\n        //\r\n        for (let i = 0; i < this.selectList.length; i++) {\r\n          if (i <= num) continue;\r\n          let obj = this.selectList.slice(i, i + 1);\r\n          obj.option = [];\r\n          obj.value = \"\";\r\n          this.selectList.splice(i, 1, obj);\r\n        }\r\n        //\r\n        this.queryBuildList(num);\r\n      },\r\n      getFirstArea(){\r\n        this.$http.get(this.apiBuildingList.url).done(res => {\r\n          let firstArea = res.data[0];\r\n          eventBus.emit(eventBusEvent.queryRoomList, firstArea)\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inlineSelectBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inlineSelectBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./inlineSelectBox.vue?vue&type=template&id=b0206cec&\"\nimport script from \"./inlineSelectBox.vue?vue&type=script&lang=js&\"\nexport * from \"./inlineSelectBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('b0206cec')) {\n      api.createRecord('b0206cec', component.options)\n    } else {\n      api.reload('b0206cec', component.options)\n    }\n    module.hot.accept(\"./inlineSelectBox.vue?vue&type=template&id=b0206cec&\", function () {\n      api.rerender('b0206cec', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/inlineSelectBox.vue\"\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"top-tool\">\r\n      <div class=\"title\">{{title}}</div>\r\n      <color-state-list :room-state-list=\"roomStateList\"></color-state-list>\r\n      <inline-select-box></inline-select-box>\r\n    </div>\r\n    <div v-if=\"team\" class=\"msg-box\">\r\n      <div class=\"msg\">\r\n        <label></label>\r\n        <span>{{team.teamName}}</span>\r\n        <span class=\"time\">{{team.sDate}}</span>\r\n        <span class=\"time\">{{team.eDate}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n  import colorStateList from \"_platform/pc/dormitory/room/colorStateList\";\r\n  import inlineSelectBox from \"_platform/pc/dormitory/room/inlineSelectBox\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  \r\n  export default {\r\n    name: \"resetGroupTopTool\",\r\n    inject: ['rightConfigPointer'],\r\n    props: {\r\n      personList:{\r\n        type: Array,\r\n        default(){\r\n          return []\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      colorStateList,\r\n      inlineSelectBox\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        title: \"\",\r\n        apiBuildingList: null,\r\n        \r\n        //\r\n        btnLoading:{\r\n          checkOut: false,\r\n          cancel: false,\r\n          restore: false,\r\n          restoreAll: false,\r\n          auto: false\r\n        }\r\n      }\r\n    },\r\n    computed:{\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      },\r\n      predis(){\r\n        return dsf.url.queryString(\"predis\")\r\n      },\r\n      ...mapState('dormitory', [\r\n        'roomStateList',\r\n        'activeTeamId'\r\n      ]),\r\n      team(){\r\n        let team = null;\r\n        for (let i=0; i<this.personList.length; i++){\r\n          let a = this.personList[i];\r\n          if (a.teamId === this.activeTeamId){\r\n            team = Object.assign({}, a);\r\n            team.sDate = a.sDate.replace(/:\\d\\d$/, \"\");\r\n            team.eDate = a.eDate.replace(/:\\d\\d$/, \"\");\r\n            break;\r\n          }\r\n        }\r\n        return team\r\n      },\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n    },\r\n    methods: {\r\n      preCheckOut() {\r\n        eventBus.emit(eventBusEvent.chosenRoomCheckOut, this.btnLoading);\r\n      },\r\n      preCancel() {\r\n        eventBus.emit(eventBusEvent.reserveRoomCancel, this.btnLoading)\r\n      },\r\n      preRestore() {\r\n        eventBus.emit(eventBusEvent.restoreSelectRoom, this.btnLoading);\r\n      },\r\n      preRestoreAll() {\r\n        eventBus.emit(eventBusEvent.restoreAllRoom, this.btnLoading)\r\n      },\r\n      preAuto() {\r\n        eventBus.emit(eventBusEvent.autoCheckIn, this.btnLoading)\r\n      },\r\n      \r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetGroupTopTool.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetGroupTopTool.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resetGroupTopTool.vue?vue&type=template&id=2f24bb1e&\"\nimport script from \"./resetGroupTopTool.vue?vue&type=script&lang=js&\"\nexport * from \"./resetGroupTopTool.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2f24bb1e')) {\n      api.createRecord('2f24bb1e', component.options)\n    } else {\n      api.reload('2f24bb1e', component.options)\n    }\n    module.hot.accept(\"./resetGroupTopTool.vue?vue&type=template&id=2f24bb1e&\", function () {\n      api.rerender('2f24bb1e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/resetGroupTopTool.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"el-tree\", {\n    ref: \"tree\",\n    attrs: {\n      data: _vm.treeList,\n      props: _vm.leftProps,\n      \"icon-class\": \"el-icon-arrow-right\",\n      \"current-node-key\": _vm.currentNodeKey,\n      \"node-key\": _vm.mid,\n      \"default-expand-all\": false,\n      \"default-expanded-keys\": _vm.expandedKeys,\n      accordion: \"\"\n    },\n    on: {\n      \"current-change\": _vm.currentChange,\n      \"node-collapse\": _vm.nodeCollapse\n    }\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <el-tree\r\n    ref=\"tree\"\r\n    :data=\"treeList\"\r\n    :props=\"leftProps\"\r\n    icon-class=\"el-icon-arrow-right\"\r\n    :current-node-key=\"currentNodeKey\"\r\n    :node-key=\"mid\"\r\n    :default-expand-all=\"false\"\r\n    :default-expanded-keys=\"expandedKeys\"\r\n    accordion\r\n    @current-change=\"currentChange\"\r\n    @node-collapse=\"nodeCollapse\"\r\n  ></el-tree>\r\n</template>\r\n\r\n<script>\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n\r\n  export default {\r\n    name: \"treeList\",\r\n    inject:['leftConfigPointer'],\r\n    props: {\r\n      treeList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiTree: null,\r\n        leftProps: null,\r\n        level: null,\r\n\r\n        //\r\n        defaultChosen: null,    //\r\n        currentNodeKey: \"\",     //key\r\n        expandedKeys: [],\r\n      }\r\n    },\r\n    computed: {\r\n      leftConfig(){\r\n        return this.leftConfigPointer()\r\n      },\r\n      \"mid\"() {\r\n        return this.leftProps.id\r\n      },\r\n      \"mtype\"() {\r\n        return this.leftProps.type\r\n      },\r\n      \"mchildren\"() {\r\n        return this.leftProps.children\r\n      }\r\n    },\r\n    watch: {\r\n      treeList() {\r\n        this.$nextTick(() => {\r\n          let buildingId = dsf.url.queryString(\"buildingId\");\r\n          if (buildingId) {\r\n            this.currentNodeKey = buildingId;\r\n          } else {\r\n            this.currentNodeKey = this.defaultChosen[this.mid];\r\n          }\r\n        })\r\n      },\r\n      currentNodeKey(val) {\r\n        console.log(\"currentNode\")\r\n        this.$refs.tree.setCurrentKey(val);\r\n        const data = this.$refs.tree.getCurrentNode();\r\n        this.$store.commit(\"dormitory/currentFloor\", {\r\n          buildingId: data[this.mid],\r\n          type: data[this.mtype]\r\n        });\r\n      }\r\n    },\r\n    created() {\r\n      Object.assign(this, this.leftConfig);   //\r\n      this.queryTree();\r\n    },\r\n    mounted() {\r\n      eventBus.on(eventBusEvent.treeNextLevel, q => {\r\n        let nextLevel;\r\n        const data = _.cloneDeep(this.treeList);\r\n        const recurData = list => {\r\n          for (let i = 0; i < list.length; i++) {\r\n            let item = list[i];\r\n            let children = item[this.mchildren];\r\n            if (_.isArray(children) && children.length > 0) {\r\n              if (q.id === item[this.mid]) {\r\n                nextLevel = children\r\n              }\r\n              recurData(children)\r\n            }\r\n          }\r\n        }\r\n        recurData(data)\r\n        q.callback(nextLevel);\r\n      })\r\n\r\n      eventBus.on(eventBusEvent.treeCurrent, q => {\r\n        let current;\r\n        const data = _.cloneDeep(this.treeList);\r\n        const recurData = list => {\r\n          for (let i = 0; i < list.length; i++) {\r\n            let item = list[i];\r\n            let children = item[this.mchildren];\r\n\r\n            if (q.id === item[this.mid]) current = item;\r\n            if (_.isArray(children) && children.length > 0) {\r\n              recurData(children)\r\n            }\r\n          }\r\n        }\r\n\r\n        recurData(data)\r\n        q.callback(current);\r\n      })\r\n    },\r\n    methods: {\r\n      queryTree() {\r\n        const computeTree = list => {\r\n          let mlevel = 0;\r\n          const expandArr = [];     //\r\n          let defaultChosen;        //\r\n\r\n          const recurData = list => {\r\n            for (let i = 0; i < list.length; i++) {\r\n              let item = list[i];\r\n              if (_.isArray(item[this.mchildren]) && item[this.mchildren].length > 0) {\r\n                //\r\n                if (mlevel < this.level) {\r\n                  mlevel += 1\r\n                  item.mlevel = mlevel;\r\n                  expandArr.push(item[this.mid])\r\n                }\r\n                if (mlevel === this.level) {\r\n                  !defaultChosen && (defaultChosen = item)\r\n                }\r\n\r\n                recurData(item[this.mchildren])\r\n              } else {\r\n                item.mlevel = mlevel + 1;\r\n                item.isLeaf = true;\r\n                !defaultChosen && (defaultChosen = item)\r\n              }\r\n            }\r\n          }\r\n          recurData(list);\r\n          return {\r\n            expandArr: expandArr,\r\n            defaultChosen: defaultChosen,\r\n          }\r\n        }\r\n\r\n        this.$http.get(this.apiTree.url)\r\n          .done(res => {\r\n            let data = res.data;\r\n            if (_.isFunction(this.apiTree.callback)) {\r\n              data = this.apiTree.callback(data);\r\n            }\r\n\r\n            //\r\n            if (_.isNumber(this.level) && this.level > 0) {\r\n              const result = computeTree(data);\r\n              this.expandedKeys = result.expandArr;\r\n              this.defaultChosen = result.defaultChosen;\r\n            }\r\n\r\n            this.$emit(\"update:treeList\", data);\r\n          })\r\n          .error(() => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n      },\r\n      currentChange(data) {\r\n        this.$store.commit(\"dormitory/currentFloor\", {\r\n          buildingId: data[this.mid],\r\n          type: data[this.mtype]\r\n        });\r\n      },\r\n      nodeCollapse(data, node){\r\n        //()\r\n        if (node.level === 1){\r\n          node.childNodes.forEach(a => {\r\n            a.expanded = false\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./treeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./treeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./treeList.vue?vue&type=template&id=d02897d0&\"\nimport script from \"./treeList.vue?vue&type=script&lang=js&\"\nexport * from \"./treeList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('d02897d0')) {\n      api.createRecord('d02897d0', component.options)\n    } else {\n      api.reload('d02897d0', component.options)\n    }\n    module.hot.accept(\"./treeList.vue?vue&type=template&id=d02897d0&\", function () {\n      api.rerender('d02897d0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/treeList.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"floor-container\" },\n    [\n      _c(\"floor-box\", {\n        attrs: {\n          \"floor-list\": _vm.floorList,\n          \"active-room-id\": _vm.activeRoomId\n        },\n        on: {\n          \"update:activeRoomId\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"update:active-room-id\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"click-room\": _vm.clickRoom\n        }\n      }),\n      _c(\"guests-opt-dialog\", {\n        attrs: {\n          visible: _vm.guestsVisible,\n          room: _vm.currentRoom,\n          info: _vm.roomStatusInfo,\n          \"tree-list\": _vm.treeList\n        },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.guestsVisible = $event\n          },\n          \"close-dialog\": _vm.onCloseDialog\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"el-dialog\",\n        {\n          attrs: {\n            visible: _vm.visible,\n            width: \"40%\",\n            \"before-close\": _vm.beforeClose,\n            modal: false,\n            \"append-to-body\": true,\n            \"lock-scroll\": true,\n            \"custom-class\": \"dsf-dormitory-dialog\"\n          },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.visible = $event\n            },\n            close: _vm.guestsClose\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"title\",\n              fn: function() {\n                return [\n                  _c(\"div\", { staticClass: \"plain-title\" }, [\n                    _c(\"span\", [_vm._v(\"\" + _vm._s(_vm.info.roomName))]),\n                    _c(\"span\", [\n                      _vm._v(\"\" + _vm._s(_vm.info.emptyBedNum))\n                    ])\n                  ])\n                ]\n              },\n              proxy: true\n            },\n            {\n              key: \"footer\",\n              fn: function() {\n                return [\n                  _c(\n                    \"div\",\n                    { staticClass: \"dialog-footer\" },\n                    [\n                      _c(\"el-button\", { on: { click: _vm.closeDialog } }, [\n                        _vm._v(\" \")\n                      ])\n                    ],\n                    1\n                  )\n                ]\n              },\n              proxy: true\n            }\n          ])\n        },\n        [\n          _c(\n            \"div\",\n            {\n              directives: [\n                {\n                  name: \"loading\",\n                  rawName: \"v-loading\",\n                  value: _vm.loadingOccupyInfo,\n                  expression: \"loadingOccupyInfo\"\n                }\n              ],\n              staticClass: \"list-box\"\n            },\n            _vm._l(_vm.list, function(item, it) {\n              return _c(\"div\", { key: it, staticClass: \"item\" }, [\n                _c(\"i\", { staticClass: \"ico-point\" }),\n                _c(\"p\", [_vm._v(_vm._s(item.timeStr))]),\n                _c(\n                  \"ul\",\n                  [\n                    _vm._l(item.person, function(one, o) {\n                      return _c(\"li\", { key: one.relId }, [\n                        _c(\"p\", [\n                          _vm._v(\n                            \" \" +\n                              _vm._s(one.typeStr) +\n                              \"\" +\n                              _vm._s(one.personName) +\n                              \"[ \" +\n                              _vm._s(one.sexText) +\n                              \" ] \"\n                          )\n                        ]),\n                        _c(\"p\", [_vm._v(\" \" + _vm._s(one.phone) + \" \")]),\n                        _c(\n                          \"p\",\n                          [\n                            one.type === 1\n                              ? [\n                                  _c(\n                                    \"span\",\n                                    {\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.renewal(one)\n                                        }\n                                      }\n                                    },\n                                    [_vm._v(\"\")]\n                                  ),\n                                  _c(\n                                    \"span\",\n                                    {\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.checkOut(one)\n                                        }\n                                      }\n                                    },\n                                    [_vm._v(\"\")]\n                                  ),\n                                  _c(\n                                    \"span\",\n                                    {\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.changeRoom(one)\n                                        }\n                                      }\n                                    },\n                                    [_vm._v(\"\")]\n                                  )\n                                ]\n                              : _vm._e(),\n                            one.type === 0\n                              ? [\n                                  _c(\n                                    \"span\",\n                                    {\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.checkIn(one)\n                                        }\n                                      }\n                                    },\n                                    [_vm._v(\"\")]\n                                  )\n                                ]\n                              : _vm._e(),\n                            one.type === 2\n                              ? [\n                                  _c(\"span\", { on: { click: _vm.reserve } }, [\n                                    _vm._v(\"\")\n                                  ]),\n                                  _c(\"span\", { on: { click: _vm.checkIn } }, [\n                                    _vm._v(\"\")\n                                  ])\n                                ]\n                              : _vm._e()\n                          ],\n                          2\n                        )\n                      ])\n                    }),\n                    _vm._l(item.release, function(empty, em) {\n                      return _c(\"li\", { key: em }, [\n                        _c(\"p\", [_vm._v(\"\")]),\n                        _c(\"p\"),\n                        _vm.info.statusValue !== 0\n                          ? _c(\"p\", [\n                              _c(\n                                \"span\",\n                                {\n                                  on: {\n                                    click: function($event) {\n                                      return _vm.reserve(item)\n                                    }\n                                  }\n                                },\n                                [_vm._v(\"\")]\n                              ),\n                              _c(\n                                \"span\",\n                                {\n                                  on: {\n                                    click: function($event) {\n                                      return _vm.checkIn(item)\n                                    }\n                                  }\n                                },\n                                [_vm._v(\"\")]\n                              )\n                            ])\n                          : _c(\"p\", [\n                              _c(\"span\", { staticClass: \"warning\" }, [\n                                _vm._v(\"\")\n                              ])\n                            ])\n                      ])\n                    })\n                  ],\n                  2\n                )\n              ])\n            }),\n            0\n          )\n        ]\n      ),\n      _c(\"action-dialog\", {\n        attrs: { visible: _vm.checkInVisible, title: \"\" },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.checkInVisible = $event\n          },\n          save: _vm.checkInSave,\n          \"dialog-close\": function($event) {\n            return _vm.closeFormDialog(\"checkInForm\")\n          }\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"body\",\n            fn: function() {\n              return [\n                _c(\n                  \"el-form\",\n                  {\n                    ref: \"checkInForm\",\n                    attrs: {\n                      model: _vm.checkInForm,\n                      rules: _vm.formRules,\n                      \"label-width\": \"100px\"\n                    }\n                  },\n                  [\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"personName\" } },\n                      [\n                        _c(\"el-input\", {\n                          model: {\n                            value: _vm.checkInForm.personName,\n                            callback: function($$v) {\n                              _vm.$set(_vm.checkInForm, \"personName\", $$v)\n                            },\n                            expression: \"checkInForm.personName\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"idCard\" } },\n                      [\n                        _c(\"el-input\", {\n                          model: {\n                            value: _vm.checkInForm.idCard,\n                            callback: function($$v) {\n                              _vm.$set(_vm.checkInForm, \"idCard\", $$v)\n                            },\n                            expression: \"checkInForm.idCard\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"phone\" } },\n                      [\n                        _c(\"el-input\", {\n                          model: {\n                            value: _vm.checkInForm.phone,\n                            callback: function($$v) {\n                              _vm.$set(_vm.checkInForm, \"phone\", $$v)\n                            },\n                            expression: \"checkInForm.phone\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\"el-form-item\", { attrs: { label: \"\" } }, [\n                      _c(\"div\", { staticClass: \"date-box\" }, [\n                        _c(\"span\", [_vm._v(_vm._s(_vm.checkInForm.sDate))]),\n                        _c(\"span\", { staticClass: \"text-divider\" }, [\n                          _vm._v(\"\")\n                        ]),\n                        _c(\"span\", [_vm._v(_vm._s(_vm.checkInForm.eDate))])\n                      ])\n                    ])\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      }),\n      _c(\"action-dialog\", {\n        attrs: { visible: _vm.reserveVisible, title: \"\" },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.reserveVisible = $event\n          },\n          save: _vm.reserveSave,\n          \"dialog-close\": function($event) {\n            return _vm.closeFormDialog(\"reserveForm\")\n          }\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"body\",\n            fn: function() {\n              return [\n                _c(\n                  \"el-form\",\n                  {\n                    ref: \"reserveForm\",\n                    attrs: {\n                      model: _vm.reserveForm,\n                      rules: _vm.formRules,\n                      \"label-width\": \"100px\"\n                    }\n                  },\n                  [\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"personName\" } },\n                      [\n                        _c(\"el-input\", {\n                          model: {\n                            value: _vm.reserveForm.personName,\n                            callback: function($$v) {\n                              _vm.$set(_vm.reserveForm, \"personName\", $$v)\n                            },\n                            expression: \"reserveForm.personName\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"idCard\" } },\n                      [\n                        _c(\"el-input\", {\n                          model: {\n                            value: _vm.reserveForm.idCard,\n                            callback: function($$v) {\n                              _vm.$set(_vm.reserveForm, \"idCard\", $$v)\n                            },\n                            expression: \"reserveForm.idCard\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"phone\" } },\n                      [\n                        _c(\"el-input\", {\n                          model: {\n                            value: _vm.reserveForm.phone,\n                            callback: function($$v) {\n                              _vm.$set(_vm.reserveForm, \"phone\", $$v)\n                            },\n                            expression: \"reserveForm.phone\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\"el-form-item\", { attrs: { label: \"\" } }, [\n                      _c(\"div\", { staticClass: \"date-box\" }, [\n                        _c(\"span\", [_vm._v(_vm._s(_vm.reserveForm.sDate))]),\n                        _c(\"span\", { staticClass: \"text-divider\" }, [\n                          _vm._v(\"\")\n                        ]),\n                        _c(\"span\", [_vm._v(_vm._s(_vm.reserveForm.eDate))])\n                      ])\n                    ])\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      }),\n      _c(\"action-dialog\", {\n        attrs: { visible: _vm.renewalVisible, title: \"\" },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.renewalVisible = $event\n          },\n          save: _vm.renewalSave,\n          \"dialog-close\": function($event) {\n            return _vm.closeFormDialog(\"renewalForm\")\n          }\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"body\",\n            fn: function() {\n              return [\n                _c(\n                  \"el-form\",\n                  {\n                    ref: \"renewalForm\",\n                    attrs: {\n                      model: _vm.renewalForm,\n                      rules: _vm.formRules,\n                      \"label-width\": \"120px\"\n                    }\n                  },\n                  [\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"personName\" } },\n                      [\n                        _c(\"el-input\", {\n                          attrs: { readonly: true },\n                          model: {\n                            value: _vm.renewalForm.personName,\n                            callback: function($$v) {\n                              _vm.$set(_vm.renewalForm, \"personName\", $$v)\n                            },\n                            expression: \"renewalForm.personName\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\", prop: \"idCard\" } },\n                      [\n                        _c(\"el-input\", {\n                          attrs: { readonly: true },\n                          model: {\n                            value: _vm.renewalForm.idCard,\n                            callback: function($$v) {\n                              _vm.$set(_vm.renewalForm, \"idCard\", $$v)\n                            },\n                            expression: \"renewalForm.idCard\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      {\n                        staticClass: \"justify\",\n                        attrs: { label: \"\" }\n                      },\n                      [\n                        _c(\"time-range\", {\n                          attrs: {\n                            form: _vm.renewalForm,\n                            \"readonly-arr\": [true, true]\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      {\n                        staticClass: \"justify\",\n                        attrs: { label: \"\", prop: \"eDate\" }\n                      },\n                      [\n                        _c(\"time-range\", {\n                          attrs: {\n                            form: _vm.newTimeForm,\n                            \"readonly-arr\": [true, false]\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      }),\n      _c(\"action-dialog\", {\n        attrs: {\n          visible: _vm.changeRoomVisible,\n          title: \"\",\n          width: \"80%\",\n          \"show-close\": false,\n          top: \"8vh\"\n        },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.changeRoomVisible = $event\n          },\n          save: _vm.changeRoomSave\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"topTool\",\n            fn: function() {\n              return [\n                _c(\n                  \"el-form\",\n                  { attrs: { inline: true } },\n                  [\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: _vm.inlineForm[0].label } },\n                      [\n                        _c(\n                          \"el-select\",\n                          {\n                            attrs: { placeholder: \"\" },\n                            on: {\n                              change: function($event) {\n                                return _vm.changeSelect(0)\n                              }\n                            },\n                            model: {\n                              value: _vm.inlineForm[0].value,\n                              callback: function($$v) {\n                                _vm.$set(_vm.inlineForm[0], \"value\", $$v)\n                              },\n                              expression: \"inlineForm[0].value\"\n                            }\n                          },\n                          _vm._l(_vm.treeList, function(item, it) {\n                            return _c(\"el-option\", {\n                              key: item[_vm.mid],\n                              attrs: {\n                                value: item[_vm.mid],\n                                label: item[_vm.mlabel]\n                              }\n                            })\n                          }),\n                          1\n                        )\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: _vm.inlineForm[1].label } },\n                      [\n                        _c(\n                          \"el-select\",\n                          {\n                            attrs: { placeholder: \"\" },\n                            on: {\n                              change: function($event) {\n                                return _vm.changeSelect(1)\n                              }\n                            },\n                            model: {\n                              value: _vm.inlineForm[1].value,\n                              callback: function($$v) {\n                                _vm.$set(_vm.inlineForm[1], \"value\", $$v)\n                              },\n                              expression: \"inlineForm[1].value\"\n                            }\n                          },\n                          _vm._l(_vm.selectList1, function(item, it) {\n                            return _c(\"el-option\", {\n                              key: item[_vm.mid],\n                              attrs: {\n                                value: item[_vm.mid],\n                                label: item[_vm.mlabel]\n                              }\n                            })\n                          }),\n                          1\n                        )\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: _vm.inlineForm[2].label } },\n                      [\n                        _c(\n                          \"el-select\",\n                          {\n                            attrs: { placeholder: \"\" },\n                            on: {\n                              change: function($event) {\n                                return _vm.changeSelect(2)\n                              }\n                            },\n                            model: {\n                              value: _vm.inlineForm[2].value,\n                              callback: function($$v) {\n                                _vm.$set(_vm.inlineForm[2], \"value\", $$v)\n                              },\n                              expression: \"inlineForm[2].value\"\n                            }\n                          },\n                          _vm._l(_vm.selectList2, function(item, it) {\n                            return _c(\"el-option\", {\n                              key: item[_vm.mid],\n                              attrs: {\n                                value: item[_vm.mid],\n                                label: item[_vm.mlabel]\n                              }\n                            })\n                          }),\n                          1\n                        )\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\" } },\n                      [\n                        _c(\"el-input\", {\n                          model: {\n                            value: _vm.queryRoomName,\n                            callback: function($$v) {\n                              _vm.queryRoomName = $$v\n                            },\n                            expression: \"queryRoomName\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      [\n                        _c(\"dsf-button\", { on: { click: _vm.reloadQuery } }, [\n                          _vm._v(\" \")\n                        ]),\n                        _c(\"dsf-button\", {\n                          attrs: { icon: \"sousuo\" },\n                          on: { click: _vm.queryRoomList }\n                        })\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                ),\n                _c(\n                  \"div\",\n                  {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: false,\n                        expression: \"false\"\n                      }\n                    ],\n                    staticClass: \"time-item\"\n                  },\n                  [\n                    _c(\"label\", [_vm._v(\"\")]),\n                    _c(\"time-range\", { attrs: { form: _vm.newTimeForm } })\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          },\n          {\n            key: \"floorBox\",\n            fn: function() {\n              return [\n                _c(\"floor-box\", {\n                  attrs: {\n                    \"floor-list\": _vm.floorList,\n                    \"active-room-id\": _vm.activeRoomId\n                  },\n                  on: {\n                    \"update:activeRoomId\": function($event) {\n                      _vm.activeRoomId = $event\n                    },\n                    \"update:active-room-id\": function($event) {\n                      _vm.activeRoomId = $event\n                    }\n                  }\n                })\n              ]\n            },\n            proxy: true\n          }\n        ])\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-dialog\",\n    {\n      attrs: {\n        visible: _vm.visible,\n        width: _vm.width,\n        \"before-close\": _vm.closeDialog,\n        \"append-to-body\": true,\n        \"lock-scroll\": true,\n        \"custom-class\": \"dsf-dormitory-dialog action-dialog\",\n        \"show-close\": _vm.showClose,\n        top: _vm.top\n      },\n      on: {\n        \"update:visible\": function($event) {\n          _vm.visible = $event\n        }\n      },\n      scopedSlots: _vm._u(\n        [\n          {\n            key: \"title\",\n            fn: function() {\n              return [\n                _c(\"div\", { staticClass: \"bg-title\" }, [\n                  _c(\"span\", [_vm._v(_vm._s(_vm.title))]),\n                  _c(\"div\", { staticClass: \"top-tool\" }, [_vm._t(\"topTool\")], 2)\n                ])\n              ]\n            },\n            proxy: true\n          },\n          !_vm.noFooter\n            ? {\n                key: \"footer\",\n                fn: function() {\n                  return [\n                    _c(\n                      \"div\",\n                      { staticClass: \"action-footer\" },\n                      [\n                        _c(\"dsf-button\", { on: { click: _vm.closeDialog } }, [\n                          _vm._v(\" \")\n                        ]),\n                        _c(\n                          \"dsf-button\",\n                          {\n                            attrs: { loading: _vm.btnLoading.save },\n                            on: { click: _vm.save }\n                          },\n                          [_vm._v(\" \")]\n                        )\n                      ],\n                      1\n                    )\n                  ]\n                },\n                proxy: true\n              }\n            : null\n        ],\n        null,\n        true\n      )\n    },\n    [\n      _c(\"div\", { staticClass: \"custom-body\" }, [_vm._t(\"body\")], 2),\n      _vm._t(\"inner\"),\n      _c(\"div\", { staticClass: \"floor-container\" }, [_vm._t(\"floorBox\")], 2)\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :visible.sync=\"visible\"\r\n    :width=\"width\"\r\n    :before-close=\"closeDialog\"\r\n    :append-to-body=\"true\"\r\n    :lock-scroll=\"true\"\r\n    custom-class=\"dsf-dormitory-dialog action-dialog\"\r\n    :show-close=\"showClose\"\r\n    :top=\"top\"\r\n  >\r\n    <template #title>\r\n      <div class=\"bg-title\">\r\n        <span>{{title}}</span>\r\n        <div class=\"top-tool\">\r\n          <slot name=\"topTool\"></slot>\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <div class=\"custom-body\">\r\n      <slot name=\"body\"></slot>\r\n    </div>\r\n    <slot name=\"inner\"></slot>\r\n    <div class=\"floor-container\">\r\n      <slot name=\"floorBox\"></slot>\r\n    </div>\r\n    <template v-if=\"!noFooter\" #footer>\r\n      <div class=\"action-footer\">\r\n        <dsf-button @click=\"closeDialog\"> </dsf-button>\r\n        <dsf-button @click=\"save\" :loading=\"btnLoading.save\"> </dsf-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"actionDialog\",\r\n    props:{\r\n      title:{\r\n        type: String,\r\n        required: true\r\n      },\r\n      visible: {\r\n        type: Boolean,\r\n        default: false,\r\n        required: true\r\n      },\r\n      width: {\r\n        type: String,\r\n        default: \"40%\"\r\n      },\r\n      showClose:{\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      top:{\r\n        type: String,\r\n        default: \"15vh\"\r\n      },\r\n      noFooter:{\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n    },\r\n    data(){\r\n      return{\r\n        btnLoading: {\r\n          save: false\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      closeDialog(){\r\n        this.$emit(\"dialog-close\");\r\n        this.$emit(\"update:visible\", false);\r\n      },\r\n      save(){\r\n        this.$emit(\"save\", this.btnLoading);\r\n      },\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./actionDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./actionDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./actionDialog.vue?vue&type=template&id=1b09ce0d&\"\nimport script from \"./actionDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./actionDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1b09ce0d')) {\n      api.createRecord('1b09ce0d', component.options)\n    } else {\n      api.reload('1b09ce0d', component.options)\n    }\n    module.hot.accept(\"./actionDialog.vue?vue&type=template&id=1b09ce0d&\", function () {\n      api.rerender('1b09ce0d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/dialog/actionDialog.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    _vm._l(_vm.floorList, function(floor, fl) {\n      return _c(\"div\", { key: fl, staticClass: \"floor-box\" }, [\n        _c(\"div\", { staticClass: \"floor-title\" }, [\n          _vm.multipleChoose\n            ? _c(\n                \"div\",\n                {\n                  staticClass: \"check-box\",\n                  on: {\n                    click: function($event) {\n                      $event.stopPropagation()\n                      return _vm.checkAll(floor)\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"iconfont\",\n                    class: _vm.pCheckCss(floor)\n                  }),\n                  _c(\"span\", [_vm._v(\"\")])\n                ]\n              )\n            : _vm._e(),\n          _c(\"span\", [\n            _vm._v(_vm._s(floor.buildingText) + \" / \" + _vm._s(floor.title))\n          ]),\n          _c(\"span\", [_vm._v(\"\")]),\n          _c(\"span\", { staticClass: \"it\" }, [\n            _vm._v(\"\" + _vm._s(floor.single))\n          ]),\n          _c(\"span\", { staticClass: \"it\" }, [\n            _vm._v(\"\" + _vm._s(floor.standard))\n          ]),\n          _c(\"span\", { staticClass: \"it\" }, [\n            _vm._v(\"\" + _vm._s(floor.suite))\n          ]),\n          _c(\"span\", { staticClass: \"it\" }, [\n            _vm._v(\"\" + _vm._s(floor.mul))\n          ]),\n          _c(\"span\", [_vm._v(\"\")])\n        ]),\n        _c(\n          \"div\",\n          { staticClass: \"room-container\", on: { click: _vm.emptyPlace } },\n          [\n            _vm._l(floor[_vm.mchildren], function(room, ro) {\n              return _c(\n                \"div\",\n                {\n                  directives: [\n                    {\n                      name: \"loading\",\n                      rawName: \"v-loading\",\n                      value: _vm.judgeLoading(room[_vm.mroomId]),\n                      expression: \"judgeLoading(room[mroomId])\"\n                    }\n                  ],\n                  key: ro,\n                  staticClass: \"room\",\n                  class: _vm.roomCss(room),\n                  style: _vm.roomSty(room),\n                  attrs: { \"data-id\": room[_vm.mroomId] },\n                  on: {\n                    click: function($event) {\n                      $event.stopPropagation()\n                      return _vm.clickRoom(room)\n                    }\n                  }\n                },\n                [\n                  _vm.roomCheckbox\n                    ? _c(\n                        \"div\",\n                        {\n                          staticClass: \"check-box\",\n                          on: {\n                            click: function($event) {\n                              $event.stopPropagation()\n                              return _vm.checkRoom(room)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"i\", {\n                            staticClass: \"iconfont\",\n                            class: _vm.checkCss(room)\n                          })\n                        ]\n                      )\n                    : _vm._e(),\n                  _c(\"div\", { staticClass: \"num\", style: _vm.numSty(room) }, [\n                    _vm._v(_vm._s(room[_vm.mroomNum]))\n                  ]),\n                  _c(\"div\", { staticClass: \"inner\" }, [\n                    _c(\"p\", [_vm._v(_vm._s(room.purposeText))]),\n                    _c(\"p\", [\n                      _c(\"i\", {\n                        directives: [\n                          {\n                            name: \"show\",\n                            rawName: \"v-show\",\n                            value: _vm.isAllocatedRoom(room.reserveId),\n                            expression: \"isAllocatedRoom(room.reserveId)\"\n                          }\n                        ],\n                        staticClass: \"iconfont icon-dui1\"\n                      }),\n                      _vm._v(_vm._s(room.roomText))\n                    ]),\n                    !room.sexValue\n                      ? _c(\"p\", [_vm._v(\"\")])\n                      : parseInt(room.sexValue) === 1\n                      ? _c(\"p\", [_vm._v(\"\")])\n                      : parseInt(room.sexValue) === 0\n                      ? _c(\"p\", [_vm._v(\"\")])\n                      : _vm._e()\n                  ])\n                ]\n              )\n            }),\n            _vm._l(_vm.appendOcc, function(item) {\n              return _c(\"div\", { key: fl + \"_\" + item, staticClass: \"occ\" })\n            })\n          ],\n          2\n        )\n      ])\n    }),\n    0\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-for=\"(floor, fl) in floorList\" :key=\"fl\" class=\"floor-box\">\r\n      <div class=\"floor-title\">\r\n        <div v-if=\"multipleChoose\" class=\"check-box\" @click.stop=\"checkAll(floor)\">\r\n          <i class=\"iconfont\" :class=\"pCheckCss(floor)\"></i>\r\n          <span></span>\r\n        </div>\r\n        <span>{{floor.buildingText}} / {{floor.title}}</span>\r\n        <span></span>\r\n        <span class=\"it\">{{floor.single}}</span>\r\n        <span class=\"it\">{{floor.standard}}</span>\r\n        <span class=\"it\">{{floor.suite}}</span>\r\n        <span class=\"it\">{{floor.mul}}</span>\r\n        <span></span>\r\n      </div>\r\n      <div @click=\"emptyPlace\" class=\"room-container\">\r\n        <div\r\n          v-for=\"(room, ro) in floor[mchildren]\"\r\n          class=\"room\"\r\n          :class=\"roomCss(room)\"\r\n          :style=\"roomSty(room)\"\r\n          :key=\"ro\"\r\n          :data-id=\"room[mroomId]\"\r\n          v-loading=\"judgeLoading(room[mroomId])\"\r\n          @click.stop=\"clickRoom(room)\"\r\n        >\r\n          <div v-if=\"roomCheckbox\" class=\"check-box\" @click.stop=\"checkRoom(room)\">\r\n            <i class=\"iconfont\" :class=\"checkCss(room)\"></i>\r\n          </div>\r\n          <div class=\"num\" :style=\"numSty(room)\">{{room[mroomNum]}}</div>\r\n          <div class=\"inner\">\r\n            <p>{{room.purposeText}}</p>\r\n            <p><i v-show=\"isAllocatedRoom(room.reserveId)\" class=\"iconfont icon-dui1\"></i>{{room.roomText}}</p>\r\n            <p v-if=\"!room.sexValue\"></p>\r\n            <p v-else-if=\"parseInt(room.sexValue) === 1\"></p>\r\n            <p v-else-if=\"parseInt(room.sexValue) === 0\"></p>\r\n          </div>\r\n        </div>\r\n        <div v-for=\"item in appendOcc\" :key=\"fl+'_'+item\" class=\"occ\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    inject: ['rightConfigPointer'],\r\n    name: \"floorBox\",\r\n    props: {\r\n      floorList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n      chosenRoomId: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n      multipleChoose: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      loadingRoomId: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n      activeRoomId: {\r\n        type: String,\r\n        default: \"\"\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiRoomStatus: null,\r\n        roomCheckbox: true,\r\n        \r\n        //\r\n        appendOcc: [],  //div\r\n      }\r\n    },\r\n    computed: {\r\n      rightConfig() {\r\n        return this.rightConfigPointer()\r\n      },\r\n      stateList() {\r\n        const obj = {};\r\n        for (let i = 0; i < this.rightConfig.roomStateList.length; i++) {\r\n          let state = this.rightConfig.roomStateList[i];\r\n          obj[state.val] = state\r\n        }\r\n        return obj\r\n      },\r\n      mchildren() {\r\n        return this.apiRoomStatus.childrenAlias\r\n      },\r\n      mroomNum() {\r\n        return this.apiRoomStatus.roomNumAlias\r\n      },\r\n      mroomId() {\r\n        return this.apiRoomStatus.roomIdAlias\r\n      },\r\n    },\r\n    watch: {\r\n      floorList(val) {\r\n        this.stateRoomObj(val);\r\n        this.$nextTick(() => {\r\n          this.resize();\r\n        })\r\n      },\r\n      loadingRoomId() {\r\n        const diffArr = _.difference(this.chosenRoomId, this.loadingRoomId);\r\n        this.$emit(\"update:chosenRoomId\", diffArr)\r\n      },\r\n      chosenRoomId(val) {\r\n        this.$store.commit(\"dormitory/chosenRoomId\", val)\r\n      },\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig)\r\n    },\r\n    methods: {\r\n      isAllocatedRoom(reserveId){\r\n        const opt = this.$route.query.opt;\r\n        if (opt !== \"allocation\") return false;\r\n        return reserveId === this.$route.query.reserveId\r\n      },\r\n      judgeLoading(roomId) {\r\n        return this.loadingRoomId.includes(roomId)\r\n      },\r\n      roomCss(room) {\r\n        return {\r\n          chosen: this.chosenRoomId.includes(room[this.mroomId]),\r\n          active: this.activeRoomId === room[this.mroomId]\r\n        }\r\n      },\r\n      pCheckCss(floor) {\r\n        let jud = 0;\r\n        for (let i = 0; i < floor[this.mchildren].length; i++) {\r\n          let room = floor[this.mchildren][i];\r\n          let roomId = room[this.mroomId];\r\n          for (let j = 0; j < this.chosenRoomId.length; j++) {\r\n            let chosenId = this.chosenRoomId[j];\r\n            if (roomId === chosenId) {\r\n              jud += 1;\r\n              break\r\n            }\r\n          }\r\n        }\r\n        floor.isAllCheck = jud === floor[this.mchildren].length;\r\n        \r\n        return floor.isAllCheck ? \"icon-kongjianyixuan\" : \"icon-kongjianweixuan\"\r\n      },\r\n      checkCss(room) {\r\n        return this.chosenRoomId.includes(room[this.mroomId]) ? \"icon-kongjianyixuan\" : \"icon-kongjianweixuan\"\r\n      },\r\n      roomSty(room) {\r\n        let border;\r\n        let color = this.stateList[room.statusValue]?.color || \"#000000\";\r\n        let showBorder = this.chosenRoomId.includes(room[this.mroomId]) || this.activeRoomId === room[this.mroomId];\r\n        border = showBorder ? \"4px solid \" + color : \"none\"\r\n        \r\n        return {\r\n          background: this.stateList[room.statusValue]?.bgColor || \"#555555\",\r\n          color: this.stateList[room.statusValue]?.color || \"#000000\",\r\n          border: border\r\n        }\r\n        \r\n      },\r\n      numSty(room) {\r\n        return {\r\n          background: this.stateList[room.statusValue]?.color || \"#000000\",\r\n        }\r\n      },\r\n      checkAll(floor) {\r\n        const chosenId = this.chosenRoomId.slice(0);\r\n        const obj = {};\r\n        let result = [];\r\n        \r\n        if (floor.isAllCheck) {\r\n          chosenId.forEach(a => {\r\n            obj[a] = a\r\n          })\r\n          floor[this.mchildren].forEach(a => {\r\n            if (obj[a[this.mroomId]]){\r\n              obj[a[this.mroomId]] = false\r\n            }\r\n          })\r\n          for (let i in obj){\r\n            if (obj[i]) {\r\n              result.push(i)\r\n            }\r\n          }\r\n        } else {\r\n          const arr = floor[this.mchildren].map(a => {\r\n            return a[this.mroomId]\r\n          })\r\n          chosenId.concat(arr).forEach(a => {\r\n            obj[a] = a\r\n          })\r\n          result = Object.getOwnPropertyNames(obj)\r\n        }\r\n        this.$emit(\"update:chosenRoomId\", result)\r\n      },\r\n      clickRoom(room) {\r\n        if (this.loadingRoomId.includes(room[this.mroomId])) return;    //loading\r\n        this.$emit(\"update:activeRoomId\", room[this.mroomId])\r\n        this.$emit(\"click-room\", room)\r\n      },\r\n      resize() {\r\n        const allWid = $(\".room-container\").width();\r\n        const itemWid = $(\".room\").width() + 30;  //30 margin-left\r\n        let rowNum = _.floor(allWid / itemWid);\r\n        if (rowNum === this.appendOcc.length) return;   //div\r\n        const temp = [];\r\n        for (let i = 0; i < rowNum; i++) {\r\n          temp.push(i);\r\n        }\r\n        this.appendOcc = temp;\r\n      },\r\n      emptyPlace() {\r\n        this.$emit(\"update:activeRoomId\", \"\")\r\n      },\r\n      stateRoomObj(val) {\r\n        let obj = {};\r\n        let mid = this.mroomId;\r\n        let mchildren = this.mchildren;\r\n        for (let i = 0; i < val.length; i++) {\r\n          let floor = val[i];\r\n          for (let j = 0; j < floor[mchildren].length; j++) {\r\n            let room = floor[mchildren][j];\r\n            obj[room[mid]] = room\r\n          }\r\n        }\r\n        this.$store.commit(\"dormitory/roomObj\", obj)\r\n      },\r\n      checkRoom(room) {\r\n        if (this.loadingRoomId.includes(room[this.mroomId])) return;    //loading\r\n        if (this.multipleChoose) {\r\n          let index = this.chosenRoomId.findIndex(a => a === room[this.mroomId]);\r\n          if (index === -1) {\r\n            this.chosenRoomId.push(room[this.mroomId])\r\n          } else {\r\n            this.chosenRoomId.splice(index, 1)\r\n          }\r\n        } else {\r\n          this.$emit(\"update:chosenRoomId\", [room[this.mroomId]])\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        window.addEventListener('resize', _.debounce(() => {\r\n          this.resize();\r\n        }, 100))\r\n      })\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floorBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floorBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./floorBox.vue?vue&type=template&id=5a21d75b&\"\nimport script from \"./floorBox.vue?vue&type=script&lang=js&\"\nexport * from \"./floorBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5a21d75b')) {\n      api.createRecord('5a21d75b', component.options)\n    } else {\n      api.reload('5a21d75b', component.options)\n    }\n    module.hot.accept(\"./floorBox.vue?vue&type=template&id=5a21d75b&\", function () {\n      api.rerender('5a21d75b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/floorBox.vue\"\nexport default component.exports","<template>\r\n  <div>\r\n    <el-dialog\r\n      :visible.sync=\"visible\"\r\n      width=\"40%\"\r\n      :before-close=\"beforeClose\"\r\n      :modal=\"false\"\r\n      :append-to-body=\"true\"\r\n      :lock-scroll=\"true\"\r\n      custom-class=\"dsf-dormitory-dialog\"\r\n      @close=\"guestsClose\"\r\n    >\r\n      <template #title>\r\n        <div class=\"plain-title\">\r\n          <span>{{info.roomName}}</span>\r\n          <span>{{info.emptyBedNum}}</span>\r\n        </div>\r\n      </template>\r\n      <div v-loading=\"loadingOccupyInfo\" class=\"list-box\">\r\n        <div v-for=\"(item, it) in list\" :key=\"it\" class=\"item\">\r\n          <i class=\"ico-point\"></i>\r\n          <p>{{item.timeStr}}</p>\r\n          <ul>\r\n            <li v-for=\"(one, o) in item.person\" :key=\"one.relId\">\r\n              <p>\r\n                {{one.typeStr}}{{one.personName}}[ {{one.sexText}} ]\r\n              </p>\r\n              <p>\r\n                {{one.phone}}\r\n              </p>\r\n              <p>\r\n                <template v-if=\"one.type === 1\">\r\n                  <span @click=\"renewal(one)\"></span>\r\n                  <span @click=\"checkOut(one)\"></span>\r\n                  <span @click=\"changeRoom(one)\"></span>\r\n                </template>\r\n                <template v-if=\"one.type === 0\">\r\n                  <span @click=\"checkIn(one)\"></span>\r\n                </template>\r\n                <template v-if=\"one.type === 2\">\r\n                  <span @click=\"reserve\"></span>\r\n                  <span @click=\"checkIn\"></span>\r\n                </template>\r\n              </p>\r\n            </li>\r\n            <li v-for=\"(empty, em) in item.release\" :key=\"em\">\r\n              <p></p>\r\n              <p></p>\r\n              <p v-if=\"info.statusValue !== 0\">\r\n                <span @click=\"reserve(item)\"></span>\r\n                <span @click=\"checkIn(item)\"></span>\r\n              </p>\r\n              <p v-else>\r\n                <span class=\"warning\"></span>\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button @click=\"closeDialog\"> </el-button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n    <!---->\r\n    <action-dialog\r\n      :visible.sync=\"checkInVisible\"\r\n      title=\"\"\r\n      @save=\"checkInSave\"\r\n      @dialog-close=\"closeFormDialog('checkInForm')\"\r\n    >\r\n      <template #body>\r\n        <el-form ref=\"checkInForm\" :model=\"checkInForm\" :rules=\"formRules\" label-width=\"100px\">\r\n          <el-form-item label=\"\" prop=\"personName\">\r\n            <el-input v-model=\"checkInForm.personName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"idCard\">\r\n            <el-input v-model=\"checkInForm.idCard\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"phone\">\r\n            <el-input v-model=\"checkInForm.phone\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <div class=\"date-box\">\r\n              <span>{{checkInForm.sDate}}</span>\r\n              <span class=\"text-divider\"></span>\r\n              <span>{{checkInForm.eDate}}</span>\r\n            </div>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n    </action-dialog>\r\n    \r\n    <!---->\r\n    <action-dialog\r\n      :visible.sync=\"reserveVisible\"\r\n      title=\"\"\r\n      @save=\"reserveSave\"\r\n      @dialog-close=\"closeFormDialog('reserveForm')\"\r\n    >\r\n      <template #body>\r\n        <el-form ref=\"reserveForm\" :model=\"reserveForm\" :rules=\"formRules\" label-width=\"100px\">\r\n          <el-form-item label=\"\" prop=\"personName\">\r\n            <el-input v-model=\"reserveForm.personName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"idCard\">\r\n            <el-input v-model=\"reserveForm.idCard\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"phone\">\r\n            <el-input v-model=\"reserveForm.phone\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <div class=\"date-box\">\r\n              <span>{{reserveForm.sDate}}</span>\r\n              <span class=\"text-divider\"></span>\r\n              <span>{{reserveForm.eDate}}</span>\r\n            </div>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n    </action-dialog>\r\n    \r\n    <!---->\r\n    <action-dialog\r\n      :visible.sync=\"renewalVisible\"\r\n      title=\"\"\r\n      @save=\"renewalSave\"\r\n      @dialog-close=\"closeFormDialog('renewalForm')\"\r\n    >\r\n      <template #body>\r\n        <el-form ref=\"renewalForm\" :model=\"renewalForm\" :rules=\"formRules\" label-width=\"120px\">\r\n          <el-form-item label=\"\" prop=\"personName\">\r\n            <el-input v-model=\"renewalForm.personName\" :readonly=\"true\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"idCard\">\r\n            <el-input v-model=\"renewalForm.idCard\" :readonly=\"true\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item class=\"justify\" label=\"\">\r\n            <time-range :form=\"renewalForm\" :readonly-arr=\"[true, true]\"></time-range>\r\n          </el-form-item>\r\n          <el-form-item class=\"justify\" label=\"\" prop=\"eDate\">\r\n            <time-range :form=\"newTimeForm\" :readonly-arr=\"[true, false]\"></time-range>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n    </action-dialog>\r\n    \r\n    <!---->\r\n    <action-dialog\r\n      :visible.sync=\"changeRoomVisible\"\r\n      title=\"\"\r\n      width=\"80%\"\r\n      :show-close=\"false\"\r\n      top=\"8vh\"\r\n      @save=\"changeRoomSave\"\r\n    >\r\n      <template #topTool>\r\n        <el-form :inline=\"true\">\r\n          <el-form-item :label=\"inlineForm[0].label\">\r\n            <el-select v-model=\"inlineForm[0].value\" @change=\"changeSelect(0)\" placeholder=\"\">\r\n              <el-option\r\n                v-for=\"(item, it) in treeList\"\r\n                :key=\"item[mid]\"\r\n                :value=\"item[mid]\"\r\n                :label=\"item[mlabel]\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item :label=\"inlineForm[1].label\">\r\n            <el-select v-model=\"inlineForm[1].value\" @change=\"changeSelect(1)\" placeholder=\"\">\r\n              <el-option\r\n                v-for=\"(item, it) in selectList1\"\r\n                :key=\"item[mid]\"\r\n                :value=\"item[mid]\"\r\n                :label=\"item[mlabel]\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item :label=\"inlineForm[2].label\">\r\n            <el-select v-model=\"inlineForm[2].value\" @change=\"changeSelect(2)\" placeholder=\"\">\r\n              <el-option\r\n                v-for=\"(item, it) in selectList2\"\r\n                :key=\"item[mid]\"\r\n                :value=\"item[mid]\"\r\n                :label=\"item[mlabel]\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <el-input v-model=\"queryRoomName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <dsf-button @click=\"reloadQuery\"> </dsf-button>\r\n            <dsf-button icon=\"sousuo\" @click=\"queryRoomList\"></dsf-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div v-show=\"false\" class=\"time-item\">\r\n          <label></label>\r\n          <time-range :form=\"newTimeForm\"></time-range>\r\n        </div>\r\n      </template>\r\n      <template #floorBox>\r\n        <floor-box\r\n          :floor-list=\"floorList\"\r\n          :active-room-id.sync=\"activeRoomId\"\r\n        ></floor-box>\r\n      </template>\r\n    </action-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapGetters} from 'vuex'\r\n  import actionDialog from \"_platform/pc/dormitory/dialog/actionDialog\";\r\n  import floorBox from \"_platform/pc/dormitory/room/floorBox\";\r\n  import timeRange from \"_platform/pc/dormitory/dialog/timeRange\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  \r\n  export default {\r\n    name: \"guestsOptDialog\",\r\n    inject: ['leftConfigPointer', 'rightConfigPointer'],\r\n    props: {\r\n      info: {\r\n        type: Object,\r\n        default() {\r\n          return {\r\n            roomName: \"\",\r\n            emptyBedNum: \"\",\r\n            roomId: \"\",\r\n            sDate: \"\",\r\n            eDate: \"\",\r\n            statusValue: null\r\n          }\r\n        }\r\n      },\r\n      visible: {\r\n        type: Boolean,\r\n        default: false,\r\n        required: true\r\n      },\r\n      room: {\r\n        type: Object,\r\n      },\r\n      treeList: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      actionDialog,\r\n      floorBox,\r\n      timeRange\r\n    },\r\n    data() {\r\n      const validatePass = (rule, value, callback) => {\r\n        if (!value) return callback(new Error(''));\r\n        const judge = /^1[3-9]\\d{9}$/.test(value);\r\n        if (!judge) return callback(new Error(''));\r\n        callback()\r\n      }\r\n      return {\r\n        //\r\n        apiRoomStatus: null,\r\n        apiRoomOccupyInfo: null,\r\n        apiCheckIn: null,\r\n        apiCheckOut: null,\r\n        apiRenewal: null,\r\n        apiReserve: null,\r\n        apiChangeRoom: null,\r\n        \r\n        //\r\n        checkInVisible: false,\r\n        checkInForm: {},\r\n        reserveVisible: false,\r\n        reserveForm: {},\r\n        renewalVisible: false,\r\n        renewalForm: {},\r\n        \r\n        //\r\n        formRules: {\r\n          personName: [\r\n            {required: true, message: \"\"}\r\n          ],\r\n          idCard: [\r\n            {required: true, message: \"\"}\r\n          ],\r\n          phone: [\r\n            {validator: validatePass, trigger: ['blur', 'change']},\r\n            {required: true}\r\n          ]\r\n        },\r\n        \r\n        newTimeForm: {},\r\n        \r\n        changeRoomVisible: false,\r\n        queryInfo: {},\r\n        \r\n        list: [],\r\n        isDataChanged: false,   //\r\n        selectList1: [],\r\n        selectList2: [],\r\n        inlineForm: [],\r\n        originInlineForm: [],   //\r\n        queryRoomName: \"\",    //\r\n        currentSelectFloor: null,    //\r\n        floorList: [],\r\n        activeRoomId: \"\",   //\r\n        loadingOccupyInfo: true,\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters('dormitory', [\r\n        'roomStateDict'\r\n      ]),\r\n      leftConfig() {\r\n        return this.leftConfigPointer()\r\n      },\r\n      rightConfig() {\r\n        return this.rightConfigPointer()\r\n      },\r\n      mid() {\r\n        return this.leftConfig.leftProps.id\r\n      },\r\n      mlabel() {\r\n        return this.leftConfig.leftProps.label\r\n      },\r\n      mtype() {\r\n        return this.leftConfig.leftProps.type\r\n      },\r\n      mroomId() {\r\n        return this.apiRoomStatus.roomIdAlias\r\n      },\r\n    },\r\n    watch: {\r\n      \"visible\"(val) {\r\n        if (val) this.queryRoomOccupyInfo()\r\n      },\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n      this.inlineForm = this.leftConfig.inlineForm;\r\n      this.originInlineForm = _.cloneDeep(this.leftConfig.inlineForm);\r\n    },\r\n    methods: {\r\n      changeSelect(num) {\r\n        const self = this;\r\n        let a = num;\r\n        //\r\n        while (self[\"selectList\" + (a + 1)]) {\r\n          self[\"selectList\" + (a + 1)] = []\r\n          self.inlineForm[a + 1].value = \"\";\r\n          a++\r\n        }\r\n        \r\n        //\r\n        const s = {\r\n          id: self.inlineForm[num].value,\r\n          callback(result) {\r\n            self.currentSelectFloor = result\r\n            self.queryRoomList()\r\n          }\r\n        }\r\n        eventBus.emit(eventBusEvent.treeCurrent, s);\r\n        \r\n        //\r\n        const q = {\r\n          id: self.inlineForm[num].value,\r\n          callback(result) {\r\n            self[\"selectList\" + (num + 1)] = result\r\n          }\r\n        }\r\n        eventBus.emit(eventBusEvent.treeNextLevel, q);\r\n      },\r\n      closeDialog() {\r\n        this.$emit(\"update:visible\", false);\r\n      },\r\n      beforeClose() {\r\n        this.closeDialog();\r\n        this.room.chosen = false;\r\n      },\r\n      renewal(one) {\r\n        const time = new Date(one.edate).getTime() + 1000;\r\n        const date = new Date(time);\r\n        this.renewalForm = {\r\n          personName: one.personName,\r\n          phone: one.phone,\r\n          idCard: one.idCard,\r\n          occupyId: one.occupyId,\r\n          sDate: one.sdate,\r\n          eDate: one.edate,\r\n        }\r\n        this.newTimeForm = {\r\n          sDate: date,\r\n          eDate: \"\",\r\n        }\r\n        this.renewalVisible = true;\r\n      },\r\n      renewalSave(btnLoading) {\r\n        this.$refs.renewalForm.validate().then(() => {\r\n          if (!this.newTimeForm.eDate) {\r\n            dsf.layer.message(\"\", false);\r\n            return\r\n          }\r\n          btnLoading.save = true\r\n          const q = {\r\n            occupyId: this.renewalForm.occupyId,\r\n            lastDate: this.renewalForm.eDate,\r\n            curDate: this.newTimeForm.eDate,\r\n            roomId: this.info.roomId\r\n          };\r\n          this.$http.post(this.apiRenewal.url, JSON.stringify(q), {\r\n            headers: {\r\n              \"Content-Type\": \"application/json; charset=utf-8\"\r\n            }\r\n          })\r\n            .done(res => {\r\n              if (!res.success) {\r\n                dsf.layer.message(res.message, false);\r\n                return\r\n              }\r\n              \r\n              this.isDataChanged = true;\r\n              this.renewalVisible = false;\r\n              dsf.layer.message(\"\");\r\n              this.queryRoomOccupyInfo();\r\n            })\r\n            .error(err => {\r\n              dsf.layer.message(\"\", false)\r\n            })\r\n            .always(() => {\r\n              setTimeout(() => {\r\n                btnLoading.save = false\r\n              }, 700)\r\n            })\r\n        }).catch(err => {\r\n          //\r\n        })\r\n      },\r\n      checkIn(one) {\r\n        if (isPastDue(one)) {\r\n          dsf.layer.message(\"\", false)\r\n          return\r\n        }\r\n        \r\n        this.checkInForm = {\r\n          personName: one?.personName,\r\n          idCard: one?.idCard,\r\n          phone: one?.phone,\r\n          sDate: one?.sdate?.replace(/:\\d\\d$/, \"\"),\r\n          eDate: one?.edate?.replace(/:\\d\\d$/, \"\"),\r\n          reserveId: one?.relId,\r\n          roomId: this.info.roomId\r\n        }\r\n        this.checkInVisible = true;\r\n      },\r\n      checkInSave(btnLoading) {\r\n        this.$refs.checkInForm.validate().then(() => {\r\n          btnLoading.save = true\r\n          this.$http.post(this.apiCheckIn.url, JSON.stringify(this.checkInForm), {\r\n            headers: {\r\n              \"Content-Type\": \"application/json; charset=utf-8\"\r\n            }\r\n          })\r\n            .done(res => {\r\n              if (!res.success) {\r\n                dsf.layer.message(res.message, false);\r\n                return\r\n              }\r\n              \r\n              this.isDataChanged = true;\r\n              this.checkInVisible = false;\r\n              dsf.layer.message(\"\");\r\n              this.queryRoomOccupyInfo();\r\n            })\r\n            .error(err => {\r\n              dsf.layer.message(\"\", false);\r\n            })\r\n            .always(() => {\r\n              setTimeout(()=>{\r\n                btnLoading.save = false\r\n              }, 700)\r\n            })\r\n        }).catch(err => {\r\n          //\r\n        })\r\n      },\r\n      checkOut(one) {\r\n        dsf.layer.confirm({\r\n          message: \"\",\r\n          type: \"warning\",\r\n          customClass: \"el-message-box-center\"\r\n        })\r\n          .then(() => {\r\n            const q = {\r\n              roomId: this.info.roomId,\r\n              occupyId: one.relId\r\n            }\r\n            this.$http.post(this.apiCheckOut.url, JSON.stringify(q), {\r\n              headers: {\r\n                \"Content-Type\": \"application/json; charset=utf-8\"\r\n              }\r\n            })\r\n              .done(res => {\r\n                if (!res.success) {\r\n                  dsf.layer.message(res.message, false);\r\n                  return\r\n                }\r\n                this.isDataChanged = true;\r\n                dsf.layer.message(\"\");\r\n                this.queryRoomOccupyInfo();\r\n              })\r\n              .error(err => {\r\n                dsf.layer.message(\"\", false)\r\n              })\r\n          })\r\n          .catch(err => {\r\n            //\r\n          })\r\n        \r\n      },\r\n      reserve(one) {\r\n        if (isPastDue(one)) {\r\n          dsf.layer.message(\"\", false);\r\n          return\r\n        }\r\n        this.reserveForm = {\r\n          personName: \"\",\r\n          idCard: \"\",\r\n          phone: \"\",\r\n          sexValue: one.sexValue,\r\n          sexText: one.sexText,\r\n          sDate: one?.sdate?.replace(/:\\d\\d$/, \"\"),\r\n          eDate: one?.edate?.replace(/:\\d\\d$/, \"\"),\r\n          reserveId: one?.relId,\r\n          roomId: this.info.roomId\r\n        }\r\n        this.reserveVisible = true;\r\n      },\r\n      reserveSave(btnLoading) {\r\n        this.$refs.reserveForm.validate().then(() => {\r\n          btnLoading.save = true\r\n          this.$http.post(this.apiReserve.url, JSON.stringify(this.reserveForm), {\r\n            headers: {\r\n              \"Content-Type\": \"application/json; charset=utf-8\"\r\n            }\r\n          })\r\n            .done(res => {\r\n              if (!res.success) {\r\n                dsf.layer.message(res.message, false);\r\n                return\r\n              }\r\n              \r\n              this.isDataChanged = true;\r\n              this.reserveVisible = false;\r\n              dsf.layer.message(\"\");\r\n              this.queryRoomOccupyInfo();\r\n            })\r\n            .error(err => {\r\n              dsf.layer.message(\"\", false);\r\n            })\r\n            .always(() => {\r\n              setTimeout(() => {\r\n                btnLoading.save = false\r\n              }, 700)\r\n            })\r\n        }).catch(err => {\r\n          //\r\n        })\r\n      },\r\n      reloadQuery() {\r\n        this.inlineForm = _.cloneDeep(this.originInlineForm);\r\n        this.selectList1 = [];\r\n        this.selectList2 = [];\r\n        this.queryRoomName = \"\"\r\n  \r\n        //\r\n        this.inlineForm[0].value = this.treeList[0][this.mid]\r\n        this.changeSelect(0)\r\n      },\r\n      changeRoom(one) {\r\n        const currentTime = new Date().Format(\"yyyy-MM-dd\");\r\n        this.newTimeForm = {\r\n          sDate: currentTime + \" 00:00:00\",\r\n          eDate: one.edate,\r\n          occupyId: one.occupyId\r\n        }\r\n        this.floorList = [];\r\n        this.activeRoomId = \"\";\r\n        this.changeRoomVisible = true;\r\n        \r\n        //\r\n        this.inlineForm[0].value = this.treeList[0][this.mid]\r\n        this.changeSelect(0)\r\n      },\r\n      queryRoomOccupyInfo() {\r\n        this.loadingOccupyInfo = true;\r\n        const q = {\r\n          roomId: this.info.roomId,\r\n          sDate: this.info.sDate,\r\n          eDate: this.info.eDate\r\n        }\r\n        this.$http.get(this.apiRoomOccupyInfo.url, q)\r\n          .done(res => {\r\n            let data = res.data;\r\n            if (_.isFunction(this.apiRoomOccupyInfo.callback)) {\r\n              data = this.apiRoomOccupyInfo.callback(data);\r\n            }\r\n            this.list = data;\r\n          })\r\n          .always(() => {\r\n            this.loadingOccupyInfo = false\r\n          })\r\n      },\r\n      guestsClose() {\r\n        this.$emit(\"close-dialog\", this.isDataChanged);\r\n      },\r\n      queryRoomList() {\r\n        let q = {\r\n          buildingId: this.currentSelectFloor[this.mid],\r\n          type: this.currentSelectFloor[this.mtype],\r\n          sDate: this.newTimeForm.sDate,\r\n          eDate: this.newTimeForm.eDate,\r\n          name: this.queryRoomName\r\n        }\r\n        \r\n        this.$http.get(this.apiRoomStatus.url, q).done(res => {\r\n          this.activeRoomId = \"\";\r\n          \r\n          if (!res.success) {\r\n            this.floorList = []\r\n            return\r\n          }\r\n          \r\n          ///\r\n          this.floorList = res.data.map(floor => {\r\n            floor.roomDtos = floor.roomDtos.filter(room =>\r\n              room.statusValue === this.roomStateDict.normal || room.statusValue === this.roomStateDict.some\r\n            )\r\n            return floor\r\n          })\r\n        })\r\n      },\r\n      changeRoomSave(btnLoading) {\r\n        if (!this.activeRoomId) {\r\n          dsf.layer.message(\"\", false);\r\n          return\r\n        }\r\n        btnLoading.save = true\r\n        const q = {\r\n          occupyId: this.newTimeForm.occupyId,\r\n          roomId: this.activeRoomId\r\n        }\r\n        this.$http.post(this.apiChangeRoom.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return\r\n            }\r\n            \r\n            this.isDataChanged = true;\r\n            this.changeRoomVisible = false;\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomOccupyInfo();\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false);\r\n          })\r\n          .always(() => {\r\n            setTimeout(()=>{\r\n              btnLoading.save = false\r\n            }, 700)\r\n          })\r\n      },\r\n      closeFormDialog(ref) {\r\n        this.$refs[ref].clearValidate()\r\n      },\r\n    },\r\n    mounted() {\r\n    }\r\n  }\r\n  \r\n  function isPastDue(one) {\r\n    if (!one) return false;\r\n    const now = new Date().Format(\"yyyy-MM-dd hh:mm\") + \":00\";\r\n    const edate = one.edate.replace(/:\\d\\d$/g, \"\") + \":00\";\r\n    \r\n    const now_t = new Date(now).getTime();\r\n    const edate_t = new Date(edate).getTime();\r\n    return now_t > edate_t\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./guestsOptDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./guestsOptDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./guestsOptDialog.vue?vue&type=template&id=e0a63b3e&\"\nimport script from \"./guestsOptDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./guestsOptDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('e0a63b3e')) {\n      api.createRecord('e0a63b3e', component.options)\n    } else {\n      api.reload('e0a63b3e', component.options)\n    }\n    module.hot.accept(\"./guestsOptDialog.vue?vue&type=template&id=e0a63b3e&\", function () {\n      api.rerender('e0a63b3e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/dialog/guestsOptDialog.vue\"\nexport default component.exports","<template>\r\n  <div class=\"floor-container\">\r\n    <floor-box\r\n      :floor-list=\"floorList\"\r\n      :active-room-id.sync=\"activeRoomId\"\r\n      @click-room=\"clickRoom\"\r\n    ></floor-box>\r\n    <guests-opt-dialog\r\n      :visible.sync=\"guestsVisible\"\r\n      :room=\"currentRoom\"\r\n      :info=\"roomStatusInfo\"\r\n      :tree-list=\"treeList\"\r\n      @close-dialog=\"onCloseDialog\"\r\n    ></guests-opt-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n  import guestsOptDialog from \"_platform/pc/dormitory/dialog/guestsOptDialog\";\r\n  import floorBox from \"_platform/pc/dormitory/room/floorBox\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import {customAssign, filterOriginFloor} from \"_platform/pc/dormitory/func\";\r\n\r\n  export default {\r\n    name: \"roomBox\",\r\n    inject: ['rightConfigPointer'],\r\n    props: {\r\n      queryTime: {\r\n        type: Object,\r\n        default(){\r\n          return {\r\n            sDate: \"\",\r\n            eDate: \"\"\r\n          }\r\n        }\r\n      },\r\n      treeList:{\r\n        type: Array,\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiRoomStatus: null,\r\n        //\r\n        originFloorList: [],\r\n\r\n        guestsVisible: false,\r\n        currentRoom: null,\r\n        roomStatusInfo: {},\r\n        activeRoomId: \"\",   //roomId\r\n      }\r\n    },\r\n    computed: {\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      },\r\n      mchildren() {\r\n        return this.apiRoomStatus.childrenAlias\r\n      },\r\n      mroomNum() {\r\n        return this.apiRoomStatus.roomNumAlias\r\n      },\r\n      mroomId() {\r\n        return this.apiRoomStatus.roomIdAlias\r\n      },\r\n      floorList() {\r\n        return filterOriginFloor(this.originFloorList, this.roomStateList)\r\n      },\r\n      ...mapState('dormitory', [\r\n        \"currentFloor\",\r\n        \"roomStateList\"\r\n      ])\r\n    },\r\n    components: {\r\n      guestsOptDialog,\r\n      floorBox\r\n    },\r\n    watch: {\r\n      currentFloor() {\r\n        this.queryRoomList()\r\n      },\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n    },\r\n    mounted() {\r\n      eventBus.on(eventBusEvent.queryRoomList, () => {\r\n        this.queryRoomList()\r\n      })\r\n    },\r\n    \r\n    methods: {\r\n      clickRoom(item) {\r\n        this.currentRoom = item;\r\n        this.popGuests()\r\n      },\r\n      popGuests() {\r\n        this.roomStatusInfo = {\r\n          roomId: this.currentRoom[this.mroomId],\r\n          roomName: this.currentRoom[this.mroomNum],\r\n          emptyBedNum: this.currentRoom.beds,\r\n          statusValue: this.currentRoom.statusValue,    //\r\n          ...this.queryTime\r\n        }\r\n        this.guestsVisible = true;\r\n      },\r\n      queryRoomList() {\r\n        let q = {\r\n          ...this.currentFloor,\r\n        };\r\n  \r\n        if (_.isFunction(this.apiRoomStatus.query)){\r\n          let add = this.apiRoomStatus.query();\r\n          q = customAssign(q, add);\r\n        }\r\n        q = Object.assign({}, q, this.queryTime);\r\n        \r\n        this.$http.get(this.apiRoomStatus.url, q).done(res => {\r\n          this.originFloorList = res.success? res.data: [];\r\n          this.activeRoomId = \"\";\r\n        })\r\n      },\r\n      onCloseDialog(needReload){\r\n        this.chosenRoomId = \"\";\r\n        needReload && this.queryRoomList();\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roomBox.vue?vue&type=template&id=7d3c02e4&\"\nimport script from \"./roomBox.vue?vue&type=script&lang=js&\"\nexport * from \"./roomBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7d3c02e4')) {\n      api.createRecord('7d3c02e4', component.options)\n    } else {\n      api.reload('7d3c02e4', component.options)\n    }\n    module.hot.accept(\"./roomBox.vue?vue&type=template&id=7d3c02e4&\", function () {\n      api.rerender('7d3c02e4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/roomBox.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\"div\", { staticClass: \"top-tool\" }, [\n      _c(\"div\", { staticClass: \"title\" }, [_vm._v(_vm._s(_vm.title))]),\n      _c(\n        \"div\",\n        { staticClass: \"sec-box\" },\n        [\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.checkOut },\n              on: { click: _vm.preCheckOut }\n            },\n            [_vm._v(\"\")]\n          ),\n          _vm.predis === \"1\"\n            ? _c(\n                \"dsf-button\",\n                {\n                  attrs: { loading: _vm.btnLoading.cancel },\n                  on: { click: _vm.preCancel }\n                },\n                [_vm._v(\"\")]\n              )\n            : _vm._e(),\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.restore },\n              on: { click: _vm.preRestore }\n            },\n            [_vm._v(\"\")]\n          ),\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.restoreAll },\n              on: { click: _vm.preRestoreAll }\n            },\n            [_vm._v(\"\")]\n          ),\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.auto },\n              on: { click: _vm.preAuto }\n            },\n            [_vm._v(\"\")]\n          )\n        ],\n        1\n      )\n    ]),\n    _c(\n      \"div\",\n      { staticClass: \"state-box\" },\n      [\n        _c(\"color-state-list\", {\n          attrs: { \"room-state-list\": _vm.roomStateList }\n        }),\n        _c(\"inline-select-box\")\n      ],\n      1\n    ),\n    _vm.team\n      ? _c(\"div\", { staticClass: \"msg-box\" }, [\n          _c(\"div\", { staticClass: \"msg\" }, [\n            _c(\"label\", [_vm._v(\"\")]),\n            _c(\"span\", [_vm._v(_vm._s(_vm.team.teamName))]),\n            _c(\"span\", { staticClass: \"time\" }, [\n              _vm._v(_vm._s(_vm.team.sDate))\n            ]),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"time\" }, [\n              _vm._v(_vm._s(_vm.team.eDate))\n            ])\n          ])\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"top-tool\">\r\n      <div class=\"title\">{{title}}</div>\r\n      <div class=\"sec-box\">\r\n        <dsf-button :loading=\"btnLoading.checkOut\" @click=\"preCheckOut\"></dsf-button>\r\n        <dsf-button v-if=\"predis === '1'\" :loading=\"btnLoading.cancel\" @click=\"preCancel\"></dsf-button>\r\n        <dsf-button :loading=\"btnLoading.restore\" @click=\"preRestore\"></dsf-button>\r\n        <dsf-button :loading=\"btnLoading.restoreAll\" @click=\"preRestoreAll\"></dsf-button>\r\n        <dsf-button :loading=\"btnLoading.auto\" @click=\"preAuto\"></dsf-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"state-box\">\r\n      <color-state-list :room-state-list=\"roomStateList\"></color-state-list>\r\n      <inline-select-box></inline-select-box>\r\n    </div>\r\n    <div v-if=\"team\" class=\"msg-box\">\r\n      <div class=\"msg\">\r\n        <label></label>\r\n        <span>{{team.teamName}}</span>\r\n        <span class=\"time\">{{team.sDate}}</span>\r\n        <span class=\"time\">{{team.eDate}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n  import colorStateList from \"_platform/pc/dormitory/room/colorStateList\";\r\n  import inlineSelectBox from \"_platform/pc/dormitory/room/inlineSelectBox\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  \r\n  export default {\r\n    name: \"groupTopTool\",\r\n    inject: ['rightConfigPointer'],\r\n    props: {\r\n      personList:{\r\n        type: Array,\r\n        default(){\r\n          return []\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      colorStateList,\r\n      inlineSelectBox\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        title: \"\",\r\n        apiBuildingList: null,\r\n        \r\n        //\r\n        btnLoading:{\r\n          checkOut: false,\r\n          cancel: false,\r\n          restore: false,\r\n          restoreAll: false,\r\n          auto: false\r\n        }\r\n      }\r\n    },\r\n    computed:{\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      },\r\n      predis(){\r\n        return dsf.url.queryString(\"predis\")\r\n      },\r\n      ...mapState('dormitory', [\r\n        'roomStateList',\r\n        'activeTeamId'\r\n      ]),\r\n      team(){\r\n        let team = null;\r\n        for (let i=0; i<this.personList.length; i++){\r\n          let a = this.personList[i];\r\n          if (a.teamId === this.activeTeamId){\r\n            team = Object.assign({}, a);\r\n            team.sDate = a.sDate.replace(/:\\d\\d$/, \"\");\r\n            team.eDate = a.eDate.replace(/:\\d\\d$/, \"\");\r\n            break;\r\n          }\r\n        }\r\n        return team\r\n      },\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n    },\r\n    methods: {\r\n      preCheckOut() {\r\n        eventBus.emit(eventBusEvent.chosenRoomCheckOut, this.btnLoading);\r\n      },\r\n      preCancel() {\r\n        eventBus.emit(eventBusEvent.reserveRoomCancel, this.btnLoading)\r\n      },\r\n      preRestore() {\r\n        eventBus.emit(eventBusEvent.restoreSelectRoom, this.btnLoading);\r\n      },\r\n      preRestoreAll() {\r\n        eventBus.emit(eventBusEvent.restoreAllRoom, this.btnLoading)\r\n      },\r\n      preAuto() {\r\n        eventBus.emit(eventBusEvent.autoCheckIn, this.btnLoading)\r\n      },\r\n      \r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupTopTool.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupTopTool.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./groupTopTool.vue?vue&type=template&id=f3d75e6c&\"\nimport script from \"./groupTopTool.vue?vue&type=script&lang=js&\"\nexport * from \"./groupTopTool.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('f3d75e6c')) {\n      api.createRecord('f3d75e6c', component.options)\n    } else {\n      api.reload('f3d75e6c', component.options)\n    }\n    module.hot.accept(\"./groupTopTool.vue?vue&type=template&id=f3d75e6c&\", function () {\n      api.rerender('f3d75e6c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/groupTopTool.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"group-list-warp\" },\n    [\n      _c(\n        \"el-collapse\",\n        {\n          attrs: { value: _vm.activeTeamId, accordion: _vm.accordion },\n          on: { change: _vm.changeCollapse }\n        },\n        _vm._l(_vm.personList, function(item, it) {\n          return _c(\n            \"el-collapse-item\",\n            {\n              key: item.teamId,\n              attrs: { title: item.teamName, name: item.teamId }\n            },\n            [\n              _c(\"div\", { staticClass: \"group-person-box\" }, [\n                _c(\n                  \"ul\",\n                  [\n                    _vm._l(item.boyList, function(boy, it) {\n                      return _c(\n                        \"li\",\n                        {\n                          key: boy.personId,\n                          attrs: {\n                            \"data-id\": boy.personId,\n                            \"data-name\": boy.personName\n                          }\n                        },\n                        [\n                          boy.headImg\n                            ? _c(\"img\", {\n                                attrs: { src: boy.headImg, alt: \"\" }\n                              })\n                            : _c(\"i\", { staticClass: \"icon-boy-head\" }),\n                          _c(\"span\", [_vm._v(_vm._s(boy.personName))])\n                        ]\n                      )\n                    }),\n                    !item.boyList || item.boyList.length === 0\n                      ? _c(\"div\", [_vm._v(\"\")])\n                      : _vm._e()\n                  ],\n                  2\n                ),\n                _c(\n                  \"ul\",\n                  [\n                    _vm._l(item.girlList, function(girl, it) {\n                      return _c(\n                        \"li\",\n                        {\n                          key: girl.personId,\n                          attrs: {\n                            \"data-id\": girl.personId,\n                            \"data-name\": girl.personName\n                          }\n                        },\n                        [\n                          girl.headImg\n                            ? _c(\"img\", {\n                                attrs: { src: girl.headImg, alt: \"\" }\n                              })\n                            : _c(\"i\", { staticClass: \"icon-girl-head\" }),\n                          _c(\"span\", [_vm._v(_vm._s(girl.personName))])\n                        ]\n                      )\n                    }),\n                    !item.girlList || item.girlList.length === 0\n                      ? _c(\"div\", [_vm._v(\"\")])\n                      : _vm._e()\n                  ],\n                  2\n                )\n              ])\n            ]\n          )\n        }),\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"group-list-warp\">\r\n    <el-collapse :value=\"activeTeamId\" :accordion=\"accordion\" @change=\"changeCollapse\">\r\n      <el-collapse-item v-for=\"(item, it) in personList\" :title=\"item.teamName\" :name=\"item.teamId\" :key=\"item.teamId\">\r\n        <div class=\"group-person-box\">\r\n          <ul>\r\n            <li\r\n              v-for=\"(boy, it) in item.boyList\"\r\n              :key=\"boy.personId\"\r\n              :data-id=\"boy.personId\"\r\n              :data-name=\"boy.personName\"\r\n            >\r\n              <img v-if=\"boy.headImg\" :src=\"boy.headImg\" alt=\"\">\r\n              <i v-else class=\"icon-boy-head\"></i>\r\n              <span>{{boy.personName}}</span>\r\n            </li>\r\n            <div v-if=\"!item.boyList || item.boyList.length === 0\"></div>\r\n          </ul>\r\n          <ul>\r\n            <li\r\n              v-for=\"(girl, it) in item.girlList\"\r\n              :key=\"girl.personId\"\r\n              :data-id=\"girl.personId\"\r\n              :data-name=\"girl.personName\"\r\n            >\r\n              <img v-if=\"girl.headImg\" :src=\"girl.headImg\" alt=\"\">\r\n              <i v-else class=\"icon-girl-head\"></i>\r\n              <span>{{girl.personName}}</span>\r\n            </li>\r\n            <div v-if=\"!item.girlList || item.girlList.length === 0\"></div>\r\n          </ul>\r\n        </div>\r\n      </el-collapse-item>\r\n    </el-collapse>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import {customAssign} from \"_platform/pc/dormitory/func\";\r\n  import {mapState} from 'vuex'\r\n  \r\n  export default {\r\n    inject: ['leftConfigPointer'],\r\n    name: \"groupList\",\r\n    props: {\r\n      personObj: {\r\n        type: Object,\r\n        default() {\r\n          return {}\r\n        }\r\n      },\r\n      personList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiGroupList: null,\r\n        accordion: null,\r\n      }\r\n    },\r\n    computed: {\r\n      leftConfig() {\r\n        return this.leftConfigPointer()\r\n      },\r\n      sexRule() {\r\n        return this.apiGroupList.sexRule;\r\n      },\r\n      ...mapState('dormitory', [\r\n        \"activeTeamId\"\r\n      ])\r\n    },\r\n    watch: {\r\n      personList(val) {\r\n        let obj = {};\r\n        if (!val || val.length === 0) return obj;\r\n        for (let i = 0; i < val.length; i++) {\r\n          let team = val[i];\r\n          if (!team.person) continue;\r\n          for (let j = 0; j < team.person.length; j++) {\r\n            let person = team.person[j];\r\n            \r\n            if (obj[person.personId]) {\r\n              dsf.layer.alert(\" personId \")\r\n              return\r\n            }\r\n            obj[person.personId] = person\r\n          }\r\n        }\r\n        this.$emit(\"update:personObj\", obj);\r\n        \r\n        if (!this.activeTeamId) {\r\n          this.$store.commit(\"dormitory/activeTeamId\", val[0].teamId)\r\n        }\r\n        this.$nextTick(() => {\r\n          this.createInteraction()\r\n        })\r\n      }\r\n    },\r\n    created() {\r\n      Object.assign(this, this.leftConfig);\r\n      this.queryList();\r\n    },\r\n    mounted() {\r\n      eventBus.on(eventBusEvent.refreshGroupList, () => {\r\n        this.queryList()\r\n      })\r\n    },\r\n    methods: {\r\n      queryList() {\r\n        let q = {};\r\n        if (_.isFunction(this.apiGroupList.query)) {\r\n          let add = this.apiGroupList.query();\r\n          q = customAssign(q, add);\r\n        }\r\n        this.$http.get(this.apiGroupList.url, q).done(res => {\r\n          let result = res.data;\r\n          if (_.isFunction(this.apiGroupList.callback)) {\r\n            result = this.apiGroupList.callback(result);\r\n          }\r\n          \r\n          for (let i = 0; i < result.length; i++) {\r\n            let item = result[i];\r\n            item.boyList = [];\r\n            item.girlList = [];\r\n            if (!_.isArray(item.person)) continue;\r\n            for (let j = 0; j < item.person.length; j++) {\r\n              let person = item.person[j];\r\n              if (person.occupy === 1) continue;    //occupy 1 \r\n              if (person.sexValue === this.sexRule.male) item.boyList.push(person);\r\n              if (person.sexValue === this.sexRule.female) item.girlList.push(person);\r\n            }\r\n          }\r\n          this.$emit(\"update:personList\", result)\r\n        })\r\n      },\r\n      changeCollapse(val) {\r\n        this.$store.commit(\"dormitory/activeTeamId\", val);\r\n        this.createInteraction()\r\n      },\r\n      createInteraction() {\r\n        $(\".group-person-box li\").draggable({\r\n          addClasses: false,\r\n          start: function(evt) {\r\n            console.log(\"ss\")\r\n          },\r\n          helper() {\r\n            let txt = $(this).data(\"name\");\r\n            let id = $(this).data(\"id\");\r\n            return $(`<div class=\"drag-item\" data-id=${id}>${txt}</div>`);\r\n          },\r\n          cursor: \"default\",\r\n          cursorAt: {\r\n            top: -5,\r\n            left: -5\r\n          },\r\n          stop(evt, ui) {\r\n      \r\n          }\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./groupList.vue?vue&type=template&id=648d9e31&\"\nimport script from \"./groupList.vue?vue&type=script&lang=js&\"\nexport * from \"./groupList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('648d9e31')) {\n      api.createRecord('648d9e31', component.options)\n    } else {\n      api.reload('648d9e31', component.options)\n    }\n    module.hot.accept(\"./groupList.vue?vue&type=template&id=648d9e31&\", function () {\n      api.rerender('648d9e31', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/groupList.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"floor-container group\" },\n    [\n      _c(\"floor-box\", {\n        attrs: {\n          \"multiple-choose\": true,\n          \"floor-list\": _vm.floorList,\n          \"chosen-room-id\": _vm.chosenRoomId,\n          \"active-room-id\": _vm.activeRoomId,\n          \"loading-room-id\": _vm.loadingRoomId\n        },\n        on: {\n          \"update:chosenRoomId\": function($event) {\n            _vm.chosenRoomId = $event\n          },\n          \"update:chosen-room-id\": function($event) {\n            _vm.chosenRoomId = $event\n          },\n          \"update:activeRoomId\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"update:active-room-id\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"click-room\": _vm.clickRoom\n        }\n      }),\n      _c(\"action-dialog\", {\n        attrs: {\n          title: \"\",\n          visible: _vm.autoDialogVisible,\n          top: \"20px\",\n          width: \"60%\"\n        },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.autoDialogVisible = $event\n          },\n          save: _vm.saveAuto\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"body\",\n            fn: function() {\n              return [\n                _c(\n                  \"el-form\",\n                  {\n                    staticClass: \"auto-checkin-form\",\n                    attrs: { model: _vm.form, \"label-width\": \"100px\" }\n                  },\n                  [\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\" } },\n                      [\n                        _c(\n                          \"el-select\",\n                          {\n                            attrs: { multiple: \"\", placeholder: \"\" },\n                            on: {\n                              change: _vm.changeTeamSelect,\n                              \"visible-change\": _vm.selectExpand\n                            },\n                            model: {\n                              value: _vm.form.reserveIds,\n                              callback: function($$v) {\n                                _vm.$set(_vm.form, \"reserveIds\", $$v)\n                              },\n                              expression: \"form.reserveIds\"\n                            }\n                          },\n                          _vm._l(_vm.personList, function(team) {\n                            return _c(\"el-option\", {\n                              key: team.reserveId,\n                              attrs: {\n                                label: team.teamName,\n                                value: team.reserveId\n                              }\n                            })\n                          }),\n                          1\n                        )\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\" } },\n                      [\n                        _c(\n                          \"el-checkbox-group\",\n                          {\n                            on: { change: _vm.changeBuildCheckGroup },\n                            model: {\n                              value: _vm.form.buildingIds,\n                              callback: function($$v) {\n                                _vm.$set(_vm.form, \"buildingIds\", $$v)\n                              },\n                              expression: \"form.buildingIds\"\n                            }\n                          },\n                          _vm._l(_vm.buildList, function(item, it) {\n                            return _c(\n                              \"div\",\n                              { key: it, staticClass: \"checkbox-warp\" },\n                              [\n                                _c(\n                                  \"el-checkbox\",\n                                  { attrs: { label: item.buildingId } },\n                                  [_vm._v(_vm._s(item.name))]\n                                )\n                              ],\n                              1\n                            )\n                          }),\n                          0\n                        )\n                      ],\n                      1\n                    ),\n                    _c(\"el-form-item\", { attrs: { label: \"\" } }, [\n                      _vm.rowList.length > 0\n                        ? _c(\n                            \"div\",\n                            { staticClass: \"floor-checkbox-warp\" },\n                            _vm._l(_vm.rowList, function(row, r) {\n                              return _c(\n                                \"div\",\n                                { key: r },\n                                [\n                                  _c(\"label\", { staticClass: \"floor-name\" }, [\n                                    _c(\"span\", [_vm._v(_vm._s(row.floorName))])\n                                  ]),\n                                  _c(\n                                    \"el-checkbox-group\",\n                                    {\n                                      model: {\n                                        value: _vm.form.floorIds,\n                                        callback: function($$v) {\n                                          _vm.$set(_vm.form, \"floorIds\", $$v)\n                                        },\n                                        expression: \"form.floorIds\"\n                                      }\n                                    },\n                                    _vm._l(row.floorItems, function(item, it) {\n                                      return _c(\n                                        \"div\",\n                                        {\n                                          key: it,\n                                          staticClass: \"checkbox-warp\"\n                                        },\n                                        [\n                                          _c(\n                                            \"el-checkbox\",\n                                            {\n                                              attrs: { label: item.buildingId }\n                                            },\n                                            [_vm._v(_vm._s(item.name))]\n                                          )\n                                        ],\n                                        1\n                                      )\n                                    }),\n                                    0\n                                  )\n                                ],\n                                1\n                              )\n                            }),\n                            0\n                          )\n                        : _c(\"div\", { staticClass: \"no-check-group\" }, [\n                            _vm._v(\"\")\n                          ])\n                    ]),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\" } },\n                      [\n                        _c(\n                          \"el-checkbox-group\",\n                          {\n                            model: {\n                              value: _vm.form.types,\n                              callback: function($$v) {\n                                _vm.$set(_vm.form, \"types\", $$v)\n                              },\n                              expression: \"form.types\"\n                            }\n                          },\n                          _vm._l(_vm.roomTypesByAuto, function(item, it) {\n                            return _c(\n                              \"div\",\n                              { key: it, staticClass: \"checkbox-warp\" },\n                              [\n                                _c(\n                                  \"el-checkbox\",\n                                  { attrs: { label: item.val } },\n                                  [_vm._v(_vm._s(item.name))]\n                                )\n                              ],\n                              1\n                            )\n                          }),\n                          0\n                        )\n                      ],\n                      1\n                    ),\n                    _c(\n                      \"el-form-item\",\n                      { attrs: { label: \"\" } },\n                      [\n                        _c(\n                          \"el-checkbox-group\",\n                          { attrs: { value: _vm.form.rules } },\n                          _vm._l(_vm.rulesByAuto, function(item, it) {\n                            return _c(\n                              \"div\",\n                              { key: it, staticClass: \"checkbox-warp\" },\n                              [\n                                _c(\n                                  \"el-checkbox\",\n                                  {\n                                    attrs: {\n                                      label: item.val,\n                                      disabled: item.disabled,\n                                      checked: item.default\n                                    },\n                                    on: {\n                                      change: function(status) {\n                                        return _vm.changeRuleCheck(status, item)\n                                      }\n                                    }\n                                  },\n                                  [_vm._v(\" \" + _vm._s(item.name) + \" \")]\n                                )\n                              ],\n                              1\n                            )\n                          }),\n                          0\n                        )\n                      ],\n                      1\n                    ),\n                    _c(\"el-form-item\", { attrs: { label: \"\" } }, [\n                      _vm.timeForm.sDate\n                        ? _c(\"div\", { staticClass: \"date-box\" }, [\n                            _c(\"span\", [_vm._v(_vm._s(_vm.timeForm.sDate))]),\n                            _c(\"span\", { staticClass: \"text-divider\" }, [\n                              _vm._v(\"\")\n                            ]),\n                            _c(\"span\", [_vm._v(_vm._s(_vm.timeForm.eDate))])\n                          ])\n                        : _c(\"span\", [_vm._v(\" -- \")])\n                    ])\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      }),\n      _c(\"room-history-dialog\", {\n        attrs: { visible: _vm.roomStatusVisible, info: _vm.roomStatusInfo },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.roomStatusVisible = $event\n          },\n          \"dialog-close\": function($event) {\n            _vm.activeRoomId = \"\"\n          }\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-dialog\",\n    {\n      attrs: {\n        visible: _vm.visible,\n        width: \"40%\",\n        \"custom-class\": \"dsf-dormitory-dialog\",\n        \"before-close\": _vm.closeDialog,\n        modal: false\n      },\n      on: {\n        \"update:visible\": function($event) {\n          _vm.visible = $event\n        },\n        opened: _vm.queryRoomOccupyInfo\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"title\",\n          fn: function() {\n            return [\n              _c(\"div\", { staticClass: \"plain-title\" }, [\n                _c(\"span\", [_vm._v(\"\" + _vm._s(_vm.info.roomName))]),\n                _c(\"span\", [\n                  _vm._v(\"\" + _vm._s(_vm.info.emptyBedNum))\n                ])\n              ])\n            ]\n          },\n          proxy: true\n        },\n        {\n          key: \"footer\",\n          fn: function() {\n            return [\n              _c(\n                \"div\",\n                { staticClass: \"dialog-footer\" },\n                [\n                  _c(\"el-button\", { on: { click: _vm.closeDialog } }, [\n                    _vm._v(\" \")\n                  ])\n                ],\n                1\n              )\n            ]\n          },\n          proxy: true\n        }\n      ])\n    },\n    [\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"loading\",\n              rawName: \"v-loading\",\n              value: _vm.loadingOccupyInfo,\n              expression: \"loadingOccupyInfo\"\n            }\n          ],\n          staticClass: \"list-box\"\n        },\n        _vm._l(_vm.list, function(item, it) {\n          return _c(\"div\", { key: it, staticClass: \"item\" }, [\n            _c(\"i\", { staticClass: \"ico-point\" }),\n            _c(\"p\", [_vm._v(_vm._s(item.timeStr))]),\n            _c(\n              \"ul\",\n              [\n                _vm._l(item.person, function(one, o) {\n                  return _c(\"li\", { key: one.relId }, [\n                    _c(\"p\", [\n                      _vm._v(\n                        \" \" +\n                          _vm._s(one.typeStr) +\n                          \"\" +\n                          _vm._s(one.personName) +\n                          \"[ \" +\n                          _vm._s(one.sexText) +\n                          \" ] \"\n                      )\n                    ]),\n                    _c(\"p\", [_vm._v(\" \" + _vm._s(one.phone) + \" \")]),\n                    _c(\n                      \"p\",\n                      {\n                        staticStyle: {\n                          \"text-align\": \"right\",\n                          \"padding-right\": \"10px\"\n                        }\n                      },\n                      [\n                        _vm.opt === \"resetGroup\"\n                          ? _c(\n                              \"span\",\n                              {\n                                on: {\n                                  click: function($event) {\n                                    return _vm.resetGroup(one)\n                                  }\n                                }\n                              },\n                              [_vm._v(\"\")]\n                            )\n                          : _vm._e(),\n                        _c(\n                          \"span\",\n                          {\n                            on: {\n                              click: function($event) {\n                                return _vm.go2Info(one)\n                              }\n                            }\n                          },\n                          [_vm._v(\"\")]\n                        )\n                      ]\n                    )\n                  ])\n                }),\n                _vm._l(item.release, function(empty, em) {\n                  return _c(\"li\", { key: em }, [_c(\"p\", [_vm._v(\"\")])])\n                })\n              ],\n              2\n            )\n          ])\n        }),\n        0\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    :visible.sync=\"visible\"\r\n    width=\"40%\"\r\n    custom-class=\"dsf-dormitory-dialog\"\r\n    :before-close=\"closeDialog\"\r\n    :modal=\"false\"\r\n    @opened=\"queryRoomOccupyInfo\"\r\n  >\r\n    <template #title>\r\n      <div class=\"plain-title\">\r\n        <span>{{info.roomName}}</span>\r\n        <span>{{info.emptyBedNum}}</span>\r\n      </div>\r\n    </template>\r\n    <div v-loading=\"loadingOccupyInfo\" class=\"list-box\">\r\n      <div v-for=\"(item, it) in list\" :key=\"it\" class=\"item\">\r\n        <i class=\"ico-point\"></i>\r\n        <p>{{item.timeStr}}</p>\r\n        <ul>\r\n          <li v-for=\"(one, o) in item.person\" :key=\"one.relId\">\r\n            <p>\r\n              {{one.typeStr}}{{one.personName}}[ {{one.sexText}} ]\r\n            </p>\r\n            <p>\r\n              {{one.phone}}\r\n            </p>\r\n            <p style=\"text-align: right;padding-right: 10px\">\r\n              <span v-if=\"opt === 'resetGroup'\" @click=\"resetGroup(one)\"></span>\r\n              <span @click=\"go2Info(one)\"></span>\r\n            </p>\r\n          </li>\r\n          <li v-for=\"(empty, em) in item.release\" :key=\"em\">\r\n            <p></p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  \r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <el-button @click=\"closeDialog\"> </el-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n\r\n  export default {\r\n    name: \"roomHistoryDialog\",\r\n    inject:['rightConfigPointer'],\r\n    props: {\r\n      info:{\r\n        type: Object,\r\n        default(){\r\n          return{\r\n            roomName: \"\",\r\n            emptyBedNum: \"\",\r\n            roomId: \"\",\r\n            sDate: \"\",\r\n            eDate: \"\"\r\n          }\r\n        }\r\n      },\r\n      visible: {\r\n        type: Boolean,\r\n        default: false,\r\n        required: true\r\n      },\r\n    },\r\n    computed:{\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      },\r\n      opt(){\r\n        return this.$route.query.opt\r\n      },\r\n    },\r\n    data(){\r\n      return {\r\n        //\r\n        apiRoomOccupyInfo: null,\r\n        roomStatusDetailClick: null,\r\n        apiResetPerson: null,\r\n        \r\n        //\r\n        loadingOccupyInfo: false,\r\n        list: [],\r\n      }\r\n    },\r\n    /*watch: {\r\n      \"info.roomId\"() {\r\n        this.queryRoomOccupyInfo()\r\n      },\r\n    },*/\r\n    created(){\r\n      Object.assign(this, this.rightConfig);\r\n    },\r\n    methods: {\r\n      closeDialog(){\r\n        this.$emit(\"dialog-close\")\r\n        this.$emit(\"update:visible\", false);\r\n      },\r\n      queryRoomOccupyInfo() {\r\n        this.loadingOccupyInfo = true;\r\n        const q = {\r\n          roomId: this.info.roomId,\r\n          sDate: this.info.sDate,\r\n          eDate: this.info.eDate\r\n        }\r\n        this.$http.get(this.apiRoomOccupyInfo.url, q)\r\n          .done(res => {\r\n            let data = res.data;\r\n            if (_.isFunction(this.apiRoomOccupyInfo.callback)) {\r\n              data = this.apiRoomOccupyInfo.callback(data);\r\n            }\r\n            this.list = data;\r\n          })\r\n          .always(() => {\r\n            this.loadingOccupyInfo = false\r\n          })\r\n      },\r\n      go2Info(one){\r\n        if (!_.isFunction(this.roomStatusDetailClick)) return;\r\n        this.roomStatusDetailClick.call(this, one)\r\n      },\r\n      resetGroup(one){\r\n        const q = {\r\n          personId: one.personId\r\n        }\r\n        this.$http.post(this.apiResetPerson.url, q)\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return\r\n            }\r\n            this.queryRoomOccupyInfo()\r\n            dsf.layer.message(\"\");\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n      },\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomHistoryDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomHistoryDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roomHistoryDialog.vue?vue&type=template&id=73c3c1fc&\"\nimport script from \"./roomHistoryDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./roomHistoryDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('73c3c1fc')) {\n      api.createRecord('73c3c1fc', component.options)\n    } else {\n      api.reload('73c3c1fc', component.options)\n    }\n    module.hot.accept(\"./roomHistoryDialog.vue?vue&type=template&id=73c3c1fc&\", function () {\n      api.rerender('73c3c1fc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/dialog/roomHistoryDialog.vue\"\nexport default component.exports","<template>\r\n  <div class=\"floor-container group\">\r\n    <floor-box\r\n      :multiple-choose=\"true\"\r\n      :floor-list=\"floorList\"\r\n      :chosen-room-id.sync=\"chosenRoomId\"\r\n      :active-room-id.sync=\"activeRoomId\"\r\n      :loading-room-id=\"loadingRoomId\"\r\n      @click-room=\"clickRoom\"\r\n    ></floor-box>\r\n    \r\n    <action-dialog title=\"\" :visible.sync=\"autoDialogVisible\" top=\"20px\" width=\"60%\" @save=\"saveAuto\">\r\n      <template #body>\r\n        <el-form :model=\"form\" label-width=\"100px\" class=\"auto-checkin-form\">\r\n          <el-form-item label=\"\">\r\n            <el-select\r\n              v-model=\"form.reserveIds\"\r\n              multiple\r\n              placeholder=\"\"\r\n              @change=\"changeTeamSelect\"\r\n              @visible-change=\"selectExpand\">\r\n              <el-option\r\n                v-for=\"team in personList\"\r\n                :label=\"team.teamName\"\r\n                :value=\"team.reserveId\"\r\n                :key=\"team.reserveId\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <el-checkbox-group v-model=\"form.buildingIds\" @change=\"changeBuildCheckGroup\">\r\n              <div v-for=\"(item, it) in buildList\" :key=\"it\" class=\"checkbox-warp\">\r\n                <el-checkbox :label=\"item.buildingId\">{{item.name}}</el-checkbox>\r\n              </div>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <div class=\"floor-checkbox-warp\" v-if=\"rowList.length > 0\">\r\n              <div v-for=\"(row, r) in rowList\" :key=\"r\">\r\n                <label class=\"floor-name\"><span>{{row.floorName}}</span></label>\r\n                <el-checkbox-group v-model=\"form.floorIds\">\r\n                  <div v-for=\"(item, it) in row.floorItems\" :key=\"it\" class=\"checkbox-warp\">\r\n                    <el-checkbox :label=\"item.buildingId\">{{item.name}}</el-checkbox>\r\n                  </div>\r\n                </el-checkbox-group>\r\n              </div>\r\n            </div>\r\n            \r\n            <div v-else class=\"no-check-group\"></div>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <el-checkbox-group v-model=\"form.types\">\r\n              <div v-for=\"(item, it) in roomTypesByAuto\" :key=\"it\" class=\"checkbox-warp\">\r\n                <el-checkbox :label=\"item.val\">{{item.name}}</el-checkbox>\r\n              </div>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <el-checkbox-group :value=\"form.rules\">\r\n              <div v-for=\"(item, it) in rulesByAuto\" :key=\"it\" class=\"checkbox-warp\">\r\n                <el-checkbox\r\n                  :label=\"item.val\"\r\n                  @change=\"status => changeRuleCheck(status, item)\"\r\n                  :disabled=\"item.disabled\"\r\n                  :checked=\"item.default\"\r\n                >\r\n                  {{item.name}}\r\n                </el-checkbox>\r\n              </div>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"\">\r\n            <div v-if=\"timeForm.sDate\" class=\"date-box\">\r\n              <span>{{timeForm.sDate}}</span>\r\n              <span class=\"text-divider\"></span>\r\n              <span>{{timeForm.eDate}}</span>\r\n            </div>\r\n            <span v-else> -- </span>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n    </action-dialog>\r\n    <room-history-dialog\r\n      :visible.sync=\"roomStatusVisible\"\r\n      :info=\"roomStatusInfo\"\r\n      @dialog-close=\"activeRoomId= ''\"\r\n    ></room-history-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import floorBox from \"_platform/pc/dormitory/room/floorBox\";\r\n  import actionDialog from \"_platform/pc/dormitory/dialog/actionDialog\";\r\n  import roomHistoryDialog from \"_platform/pc/dormitory/dialog/roomHistoryDialog\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import {customAssign, filterOriginFloor} from \"_platform/pc/dormitory/func\";\r\n  import {mapState} from \"vuex\"\r\n  \r\n  export default {\r\n    name: \"groupRoomBox\",\r\n    inject: ['rightConfigPointer'],\r\n    components: {\r\n      roomHistoryDialog,\r\n      floorBox,\r\n      actionDialog,\r\n    },\r\n    props: {\r\n      queryTime: {\r\n        type: Object,\r\n        default() {\r\n          return {\r\n            sDate: \"\",\r\n            eDate: \"\"\r\n          }\r\n        }\r\n      },\r\n      personObj: {\r\n        type: Object,\r\n        default() {\r\n          return {}\r\n        }\r\n      },\r\n      personList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiRoomStatus: null,\r\n        dropAble: null,\r\n        apiTeamCheckin: null,\r\n        apiTeamCheckOut: null,\r\n        apiRestoreSelectRoom: null,\r\n        apiBuildingList: null,\r\n        apiAutoCheckIn: null,\r\n        apiReserveCancel: null,\r\n        roomTypesByAuto: null,    //\r\n        rulesByAuto: null,        //\r\n        \r\n        originFloorList: [],\r\n        chosenRoomId: [],     //roomId\r\n        activeRoomId: \"\",     //roomId\r\n        currentFloor: null,   //\r\n        loadingRoomId: [],    //loading\r\n        autoDialogVisible: false,\r\n        form: {},\r\n        buildList: [],    //\r\n        rowList: [],    //\r\n        timeForm: {},    //\r\n        \r\n        //\r\n        roomStatusVisible: false,\r\n        roomStatusInfo: {},\r\n        \r\n        firstQueryRoomList: true,   //\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState('dormitory', [\r\n        \"activeTeamId\",\r\n        \"roomStateList\"\r\n      ]),\r\n      rightConfig() {\r\n        return this.rightConfigPointer()\r\n      },\r\n      mchildren() {\r\n        return this.apiRoomStatus.childrenAlias\r\n      },\r\n      roomObj() {\r\n        let obj = {};\r\n        let mid = this.mid;\r\n        let mchildren = this.mchildren;\r\n        if (!this.floorList || this.floorList.length === 0) return obj;\r\n        for (let i = 0; i < this.floorList.length; i++) {\r\n          let floor = this.floorList[i];\r\n          for (let j = 0; j < floor[mchildren].length; j++) {\r\n            let room = floor[mchildren][j];\r\n            if (obj[room[mid]]) {\r\n              dsf.layer.alert(\"roomId\")\r\n              return\r\n            }\r\n            obj[room[mid]] = room\r\n          }\r\n        }\r\n        return obj\r\n      },\r\n      mid() {\r\n        return this.apiRoomStatus.roomIdAlias;\r\n      },\r\n      mnum() {\r\n        return this.apiRoomStatus.roomNumAlias;\r\n      },\r\n      floorList() {\r\n        return filterOriginFloor(this.originFloorList, this.roomStateList)\r\n      },\r\n    },\r\n    watch: {\r\n      floorList() {\r\n        this.$nextTick(() => {\r\n          this.createInteraction()\r\n        })\r\n      },\r\n      activeTeamId() {\r\n        this.queryRoomList()\r\n      },\r\n      autoDialogVisible(val) {\r\n        if (!val) return;\r\n        $(\".el-select-dropdown__list\").children(\"li.hover\").removeClass(\"hover\")\r\n      },\r\n      roomStateList(){\r\n        this.chosenRoomId = []\r\n      }\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n      const currentTime = new Date().Format(\"yyyy-MM-dd\");\r\n      \r\n      let start = dsf.url.queryString(\"sDate\");\r\n      let end = dsf.url.queryString(\"eDate\");\r\n      let sDate = start ? decodeURIComponent(start) : (currentTime + \" 00:00:00\");\r\n      let eDate = end ? decodeURIComponent(end) : (currentTime + \" 23:59:59\");\r\n      this.startTime = sDate;\r\n      this.endTime = eDate;\r\n    },\r\n    mounted() {\r\n      this.GetAllBuildList()\r\n      eventBus.on(eventBusEvent.queryRoomList, floor => {\r\n        this.currentFloor = floor;\r\n        // activeTeamId \r\n        if (!this.firstQueryRoomList){\r\n          this.queryRoomList()\r\n        }\r\n      })\r\n      eventBus.on(eventBusEvent.chosenRoomCheckOut, btnLoading => {\r\n        this.chosenRoomCheckOut(btnLoading);\r\n      })\r\n      eventBus.on(eventBusEvent.reserveRoomCancel, btnLoading => {\r\n        this.reserveRoomCancel(btnLoading);\r\n      })\r\n      eventBus.on(eventBusEvent.restoreSelectRoom, btnLoading => {\r\n        this.restoreSelectRoom(btnLoading);\r\n      })\r\n      eventBus.on(eventBusEvent.restoreAllRoom, btnLoading => {\r\n        this.restoreAllRoom(btnLoading)\r\n      })\r\n      eventBus.on(eventBusEvent.autoCheckIn, () => {\r\n        if (!_.isArray(this.floorList) || this.floorList.length === 0){\r\n          dsf.layer.message(\"\", false);\r\n          return\r\n        }\r\n        \r\n        this.rowList = [];\r\n        \r\n        let reserveIds, team;\r\n        if (_.isArray(this.personList)) {\r\n          team = this.activeTeamId ? getTeam.call(this): this.personList[0];\r\n          reserveIds = [team.reserveId];\r\n          this.timeForm = {\r\n            sDate: team.sDate.replace(/:\\d\\d$/, \"\"),\r\n            eDate: team.eDate.replace(/:\\d\\d$/, \"\")\r\n          }\r\n          \r\n        } else {\r\n          reserveIds = []\r\n          this.timeForm = {\r\n            sDate: \"\",\r\n            eDate: \"\"\r\n          }\r\n        }\r\n        \r\n        //\r\n        const defaultChosenTypes = [];\r\n        this.rulesByAuto.forEach(a => {\r\n          if (a.default === \"checked\") defaultChosenTypes.push(a.val)\r\n        });\r\n        \r\n        this.form = {\r\n          reserveIds: reserveIds,\r\n          buildingIds: [],\r\n          floorIds: [],\r\n          types: [],\r\n          rules: defaultChosenTypes\r\n        }\r\n        this.autoDialogVisible = true\r\n      })\r\n    },\r\n    methods: {\r\n      reserveRoomCancel(btnLoading) {\r\n        const team = getTeam.call(this);\r\n        if (!this.chosenRoomId || this.chosenRoomId.length === 0) {\r\n          dsf.layer.message(\"\", false);\r\n          return false\r\n        }\r\n        if (!team) {\r\n          dsf.layer.message(\"\", false)\r\n          return;\r\n        }\r\n        \r\n        btnLoading.cancel = true\r\n        this.loadingRoomId = this.chosenRoomId;\r\n        const q = {\r\n          roomIds: this.chosenRoomId,\r\n          reserveId: team.reserveId\r\n        }\r\n        this.$http.post(this.apiReserveCancel.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return\r\n            }\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n            eventBus.emit(eventBusEvent.refreshGroupList);\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n          .always(() => {\r\n            btnLoading.cancel = false;\r\n            this.loadingRoomId = [];\r\n          })\r\n        \r\n        \r\n      },\r\n      selectExpand(val) {\r\n        console.log(val)\r\n        $(\".el-select-dropdown__list\").children(\"li.hover\").removeClass(\"hover\")\r\n      },\r\n      clickRoom(room) {\r\n        this.roomStatusInfo = {\r\n          roomId: room[this.mid],\r\n          roomName: room[this.mnum],\r\n          emptyBedNum: room.beds,\r\n          ...this.queryTime\r\n        }\r\n        \r\n        const team = getTeam.call(this);\r\n        if (team) {\r\n          this.roomStatusInfo.sDate = team.sDate;\r\n          this.roomStatusInfo.eDate = team.eDate;\r\n        }\r\n        \r\n        this.roomStatusVisible = true;\r\n      },\r\n      queryRoomList() {\r\n        const team = getTeam.call(this);\r\n        let q = {\r\n          buildingId: this.currentFloor?.buildingId,\r\n          type: this.currentFloor?.typeValue,\r\n          sDate: team ? team.sDate : this.startTime,\r\n          eDate: team ? team.eDate : this.endTime\r\n        };\r\n        if (_.isFunction(this.apiRoomStatus.query)) {\r\n          let add = this.apiRoomStatus.query();\r\n          q = customAssign(q, add);\r\n        }\r\n        \r\n        this.$http.get(this.apiRoomStatus.url, q)\r\n          .done(res => {\r\n            this.originFloorList = res.success ? res.data : [];\r\n            this.chosenRoomId = [];\r\n          })\r\n          .always(() => {\r\n            this.firstQueryRoomList = false;\r\n          })\r\n      },\r\n      drop2room(person, room) {\r\n        const roomId = room[this.mid];\r\n        this.loadingRoomId.push(roomId);\r\n        \r\n        const q = {\r\n          personId: person.personId,\r\n          personName: person.personName,\r\n          sexValue: person.sexValue,\r\n          sexText: person.sexText,\r\n          reserveId: person.reserveId,\r\n          roomId: roomId\r\n        }\r\n        this.$http.post(this.apiTeamCheckin.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        }).done(res => {\r\n          if (!res.success) {\r\n            dsf.layer.message(res.message, false);\r\n            return\r\n          }\r\n          dsf.layer.message(\"\");\r\n          eventBus.emit(eventBusEvent.refreshGroupList);\r\n          this.queryRoomList();\r\n        })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n          .always(() => {\r\n            let index = this.loadingRoomId.findIndex(a => a === roomId);\r\n            this.loadingRoomId.splice(index, 1);\r\n          })\r\n      },\r\n      createInteraction() {\r\n        const self = this;\r\n        $(\".floor-container .room\").droppable({\r\n          addClasses: false,\r\n          tolerance: \"pointer\",\r\n          over(evt, ui) {\r\n            console.log(\"droppable over\")\r\n            const seatDOM = $(evt.target);\r\n            seatDOM.css({\"box-shadow\": \"0 0 5px inset #409eff\"})\r\n          },\r\n          drop(evt, ui) {\r\n            const seatDOM = $(evt.target);\r\n            seatDOM.css(\"box-shadow\", \"none\");\r\n            const seatId = seatDOM.data(\"id\");\r\n            const personId = ui.helper.data(\"id\");\r\n            //loading\r\n            if (self.loadingRoomId.includes(seatId)) return;\r\n            \r\n            const seat = self.roomObj[seatId];\r\n            const person = self.personObj[personId];\r\n            \r\n            \r\n            let isError = false; //\r\n            if (_.isFunction(self.dropAble)) {\r\n              isError = self.dropAble(person, seat);\r\n            }\r\n            \r\n            if (isError) {\r\n              const temp = {\r\n                type: \"warning\",\r\n              }\r\n              dsf.layer.confirm(Object.assign(isError, temp))\r\n              return\r\n            }\r\n            \r\n            self.drop2room(person, seat);\r\n          },\r\n          out(evt, ui) {\r\n            const seatDOM = $(evt.target);\r\n            seatDOM.css(\"box-shadow\", \"none\");\r\n          }\r\n        })\r\n        \r\n      },\r\n      chosenRoomCheckOut(btnLoading) {\r\n        if (!this.chosenRoomId || this.chosenRoomId.length === 0) {\r\n          dsf.layer.message(\"\", false);\r\n          return false\r\n        }\r\n        const team = getTeam.call(this);\r\n        if (!team) {\r\n          dsf.layer.message(\"\", false)\r\n          return;\r\n        }\r\n        btnLoading.checkOut = true\r\n        this.loadingRoomId = this.chosenRoomId;\r\n        const q = {\r\n          reserveId: team.reserveId,\r\n          roomIds: this.chosenRoomId\r\n        }\r\n        this.$http.post(this.apiTeamCheckOut.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return\r\n            }\r\n            \r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n            eventBus.emit(eventBusEvent.refreshGroupList);\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n          .always(() => {\r\n            btnLoading.checkOut = false;\r\n            this.loadingRoomId = [];\r\n          })\r\n      },\r\n      restoreSelectRoom(btnLoading) {\r\n        if (!this.chosenRoomId || this.chosenRoomId.length === 0) {\r\n          dsf.layer.message(\"\", false);\r\n          return false\r\n        }\r\n        const team = getTeam.call(this);\r\n        if (!team) {\r\n          dsf.layer.message(\"\", false)\r\n          return;\r\n        }\r\n        \r\n        let roomMsg = \"\"\r\n        this.chosenRoomId.forEach(a => {\r\n          let roomName = this[\"roomObj\"][a][this.mnum]\r\n          roomMsg += `<span>${roomName}</span>`\r\n        })\r\n        \r\n        const func1 = () => {\r\n          this.loadingRoomId = this.chosenRoomId;\r\n          btnLoading.restore = true;\r\n          const q = {\r\n            reserveId: team.reserveId,\r\n            roomIds: this.chosenRoomId,\r\n          }\r\n          this.$http.post(this.apiRestoreSelectRoom.url, JSON.stringify(q), {\r\n            headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n          }).done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return\r\n            }\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n            eventBus.emit(eventBusEvent.refreshGroupList);\r\n          }).error(err => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n            .always(() => {\r\n              btnLoading.restore = false;\r\n              this.loadingRoomId = [];\r\n            })\r\n        }\r\n        \r\n        dsf.layer.confirm({\r\n          message: `<p><b>${team.teamName}</b></p><p class=\"room-msg\">${roomMsg}</p><p></p>`,\r\n          customClass: \"dormitory-restore-select-room-confirm\"\r\n        }).then(() => {\r\n          func1()\r\n        }).catch(() => {\r\n        })\r\n        \r\n      },\r\n      restoreAllRoom(btnLoading) {\r\n        const team = getTeam.call(this);\r\n        if (!team) {\r\n          dsf.layer.message(\"\", false)\r\n          return;\r\n        }\r\n        dsf.layer.confirm({\r\n          message: `<p><b>${team.teamName}</b></p><p></p>`\r\n        }).then(() => {\r\n          btnLoading.restoreAll = true;\r\n          const q = {\r\n            reserveId: team.reserveId,\r\n          }\r\n          this.$http.post(this.apiRestoreSelectRoom.url, JSON.stringify(q), {\r\n            headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n          })\r\n            .done(res => {\r\n              if (!res.success) {\r\n                dsf.layer.message(res.message, false);\r\n                return\r\n              }\r\n              dsf.layer.message(\"\");\r\n              this.queryRoomList();\r\n              eventBus.emit(eventBusEvent.refreshGroupList);\r\n            })\r\n            .error(err => {\r\n              dsf.layer.message(\"\", false)\r\n            })\r\n            .always(() => {\r\n              btnLoading.restoreAll = false;\r\n            })\r\n        })\r\n          .catch(() => {\r\n          })\r\n      },\r\n      GetAllBuildList() {\r\n        this.$http.get(this.apiBuildingList.url, {\r\n          type: 1\r\n        }).done(res => {\r\n          this.buildList = res.data;\r\n        })\r\n      },\r\n      changeBuildCheckGroup(checkList) {\r\n        const callback = (list, obj) => {\r\n          console.log(list)\r\n          console.log(obj)\r\n          //\r\n          this.form.floorIds = this.form.floorIds.filter(id => !!obj[id]);\r\n          this.rowList = list\r\n        }\r\n        getRowList.call(this, checkList, callback);\r\n      },\r\n      saveAuto(btnLoading) {\r\n        //\r\n        if (!this.form.buildingIds || this.form.buildingIds.length === 0) {\r\n          dsf.layer.message(\"\", false);\r\n          return\r\n        }\r\n        //\r\n        if (!this.form.reserveIds || this.form.reserveIds.length === 0) {\r\n          dsf.layer.message(\"\", false)\r\n          return\r\n        }\r\n        \r\n        //\r\n        if (!judgeTeamTimeArrange.call(this)) return;\r\n        \r\n        if (!teamIsNotEmpty.call(this)) {\r\n          dsf.layer.message(\"\", false)\r\n          return;\r\n        }\r\n        \r\n        btnLoading.save = true\r\n        const teamNames = [];\r\n        this.personList.forEach(a => {\r\n          if (this.form.reserveIds.includes(a.reserveId)) {\r\n            teamNames.push(a.teamName)\r\n          }\r\n        });\r\n        const q = {\r\n          ...this.form,\r\n          ...this.timeForm,\r\n          teamNames: teamNames\r\n        }\r\n        this.$http.post(this.apiAutoCheckIn.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return\r\n            }\r\n            this.autoDialogVisible = false;\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n            eventBus.emit(eventBusEvent.refreshGroupList);\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n          .always(() => {\r\n            btnLoading.save = false;\r\n          })\r\n      },\r\n      changeRuleCheck(status, item) {\r\n        if (!status) {\r\n          this.form.rules = this.form.rules.filter(a => a !== item.val);\r\n        } else {\r\n          if (!item.atomicity) {\r\n            this.form.rules.push(item.val)\r\n            return;\r\n          }\r\n          \r\n          const arr = [];\r\n          this.rulesByAuto.forEach(a => {\r\n            if (a.atomicity === item.atomicity) arr.push(a.val)\r\n          });\r\n          this.form.rules = this.form.rules.filter(a => !arr.includes(a))\r\n          this.form.rules.push(item.val)\r\n        }\r\n      },\r\n      changeTeamSelect(val) {\r\n        const isOK = judgeTeamTimeArrange.call(this);\r\n        if (isOK) {\r\n          //\r\n          if (val.length === 0) {\r\n            this.timeForm = {\r\n              sDate: \"\",\r\n              eDate: \"\"\r\n            }\r\n          }\r\n          if (val.length === 1) {\r\n            const team = this.personList.find(a => a.reserveId === val[0])\r\n            this.timeForm = {\r\n              sDate: team.sDate,\r\n              eDate: team.eDate\r\n            }\r\n          }\r\n          return\r\n        }\r\n        this.form.reserveIds.pop()\r\n      }\r\n    }\r\n  }\r\n  \r\n  function getTeam() {\r\n    if (!this.activeTeamId) return false;\r\n    return this.personList.find(a => a.teamId === this.activeTeamId)\r\n  }\r\n  \r\n  function getRowList(list, callback) {\r\n    const all = [];\r\n    for (let i = 0; i < list.length; i++) {\r\n      let p = new Promise(resolve => {\r\n        this.$http.get(this.apiBuildingList.url, {\r\n          buildingId: list[i],\r\n          type: 2\r\n        })\r\n          .done(res => {\r\n            const build = this.buildList.find(a => a.buildingId === list[i]);\r\n            resolve({\r\n              floorName: build.name,\r\n              floorItems: res.data\r\n            });\r\n          })\r\n      })\r\n      all.push(p)\r\n    }\r\n    Promise.all(all).then(res => {\r\n      let obj = {};\r\n      for (let i = 0; i < res.length; i++) {\r\n        let item = res[i].floorItems;\r\n        for (let j = 0; j < item.length; j++) {\r\n          let one = item[j];\r\n          if (obj[one.buildingId]) {\r\n            dsf.error(\"buildingId \")\r\n            return false\r\n          }\r\n          \r\n          obj[one.buildingId] = one;\r\n        }\r\n      }\r\n      callback(res, obj);\r\n    })\r\n  }\r\n  \r\n  function judgeTeamTimeArrange() {\r\n    //, \r\n    if (!this.form.reserveIds || this.form.reserveIds.length === 0) {\r\n      return true\r\n    }\r\n    const teams = this.personList.filter(team => {\r\n      return this.form.reserveIds.includes(team.reserveId)\r\n    })\r\n    let team;\r\n    const sDate = teams[0].sDate.replace(/:\\d\\d$/, \"\")\r\n    const eDate = teams[0].eDate.replace(/:\\d\\d$/, \"\")\r\n    const timeNotPass = teams.some(a => {\r\n      team = a;\r\n      const start = a.sDate.replace(/:\\d\\d$/, \"\")\r\n      const end = a.eDate.replace(/:\\d\\d$/, \"\")\r\n      return start !== sDate || end !== eDate\r\n    })\r\n    if (timeNotPass) {\r\n      dsf.layer.message(`${team.teamName}  ${teams[0].teamName} `, false);\r\n      return false\r\n    }\r\n    \r\n    return true\r\n  }\r\n  \r\n  function teamIsNotEmpty() {\r\n    return this.personList.some(a => {\r\n      if (this.form.reserveIds.includes(a.reserveId)) {\r\n        if (a?.person?.length > 0) {\r\n          //\r\n          return a.person.some(p => +p.occupy === 0)\r\n        }\r\n      }\r\n    })\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupRoomBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupRoomBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./groupRoomBox.vue?vue&type=template&id=bd96e4a6&\"\nimport script from \"./groupRoomBox.vue?vue&type=script&lang=js&\"\nexport * from \"./groupRoomBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('bd96e4a6')) {\n      api.createRecord('bd96e4a6', component.options)\n    } else {\n      api.reload('bd96e4a6', component.options)\n    }\n    module.hot.accept(\"./groupRoomBox.vue?vue&type=template&id=bd96e4a6&\", function () {\n      api.rerender('bd96e4a6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/groupRoomBox.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"floor-container group\" },\n    [\n      _c(\"floor-box\", {\n        attrs: {\n          \"multiple-choose\": false,\n          \"floor-list\": _vm.floorList,\n          \"active-room-id\": _vm.activeRoomId,\n          \"loading-room-id\": _vm.loadingRoomId\n        },\n        on: {\n          \"update:activeRoomId\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"update:active-room-id\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"click-room\": _vm.clickRoom\n        }\n      }),\n      _c(\"room-history-dialog\", {\n        attrs: { visible: _vm.roomStatusVisible, info: _vm.roomStatusInfo },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.roomStatusVisible = $event\n          },\n          \"dialog-close\": _vm.closeDialog\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"floor-container group\">\r\n    <floor-box\r\n      :multiple-choose=\"false\"\r\n      :floor-list=\"floorList\"\r\n      :active-room-id.sync=\"activeRoomId\"\r\n      :loading-room-id=\"loadingRoomId\"\r\n      @click-room=\"clickRoom\"\r\n    ></floor-box>\r\n    \r\n    <room-history-dialog\r\n      :visible.sync=\"roomStatusVisible\"\r\n      :info=\"roomStatusInfo\"\r\n      @dialog-close=\"closeDialog\"\r\n    ></room-history-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import floorBox from \"_platform/pc/dormitory/room/floorBox\";\r\n  import roomHistoryDialog from \"_platform/pc/dormitory/dialog/roomHistoryDialog\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import {customAssign, filterOriginFloor} from \"_platform/pc/dormitory/func\";\r\n  import {mapState} from \"vuex\"\r\n  \r\n  export default {\r\n    name: \"groupRoomBox\",\r\n    inject: ['rightConfigPointer'],\r\n    components: {\r\n      roomHistoryDialog,\r\n      floorBox,\r\n    },\r\n    props: {\r\n      queryTime: {\r\n        type: Object,\r\n        default() {\r\n          return {\r\n            sDate: \"\",\r\n            eDate: \"\"\r\n          }\r\n        }\r\n      },\r\n      personObj: {\r\n        type: Object,\r\n        default() {\r\n          return {}\r\n        }\r\n      },\r\n      personList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiRoomStatus: null,\r\n        dropAble: null,\r\n        apiTeamCheckin: null,\r\n        apiBuildingList: null,\r\n        originFloorList: [],\r\n        loadingRoomId: [],    //loading\r\n        \r\n        //\r\n        roomStatusVisible: false,\r\n        roomStatusInfo: {},\r\n        firstQueryRoomList: true,   //\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState('dormitory', [\r\n        \"activeTeamId\",\r\n        \"roomStateList\"\r\n      ]),\r\n      rightConfig() {\r\n        return this.rightConfigPointer()\r\n      },\r\n      mchildren() {\r\n        return this.apiRoomStatus.childrenAlias\r\n      },\r\n      roomObj() {\r\n        let obj = {};\r\n        let mid = this.mid;\r\n        let mchildren = this.mchildren;\r\n        if (!this.floorList || this.floorList.length === 0) return obj;\r\n        for (let i = 0; i < this.floorList.length; i++) {\r\n          let floor = this.floorList[i];\r\n          for (let j = 0; j < floor[mchildren].length; j++) {\r\n            let room = floor[mchildren][j];\r\n            if (obj[room[mid]]) {\r\n              dsf.layer.alert(\"roomId\")\r\n              return\r\n            }\r\n            obj[room[mid]] = room\r\n          }\r\n        }\r\n        return obj\r\n      },\r\n      mid() {\r\n        return this.apiRoomStatus.roomIdAlias;\r\n      },\r\n      mnum() {\r\n        return this.apiRoomStatus.roomNumAlias;\r\n      },\r\n      floorList() {\r\n        return filterOriginFloor(this.originFloorList, this.roomStateList)\r\n      },\r\n    },\r\n    watch: {\r\n      floorList() {\r\n        this.$nextTick(() => {\r\n          this.createInteraction()\r\n        })\r\n      },\r\n      activeTeamId() {\r\n        this.queryRoomList()\r\n      },\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n      const currentTime = new Date().Format(\"yyyy-MM-dd\");\r\n      \r\n      let start = dsf.url.queryString(\"sDate\");\r\n      let end = dsf.url.queryString(\"eDate\");\r\n      let sDate = start ? decodeURIComponent(start) : (currentTime + \" 00:00:00\");\r\n      let eDate = end ? decodeURIComponent(end) : (currentTime + \" 23:59:59\");\r\n      this.startTime = sDate;\r\n      this.endTime = eDate;\r\n    },\r\n    mounted() {\r\n      eventBus.on(eventBusEvent.queryRoomList, floor => {\r\n        this.currentFloor = floor;\r\n        // activeTeamId \r\n        if (!this.firstQueryRoomList){\r\n          this.queryRoomList()\r\n        }\r\n      })\r\n    },\r\n    methods: {\r\n      clickRoom(room) {\r\n        this.roomStatusInfo = {\r\n          roomId: room[this.mid],\r\n          roomName: room[this.mnum],\r\n          emptyBedNum: room.beds,\r\n          ...this.queryTime\r\n        }\r\n        \r\n        const team = getTeam.call(this);\r\n        if (team) {\r\n          this.roomStatusInfo.sDate = team.sDate;\r\n          this.roomStatusInfo.eDate = team.eDate;\r\n        }\r\n        \r\n        this.roomStatusVisible = true;\r\n      },\r\n      queryRoomList() {\r\n        const team = getTeam.call(this);\r\n        let q = {\r\n          buildingId: this.currentFloor?.buildingId,\r\n          type: this.currentFloor?.typeValue,\r\n          sDate: team ? team.sDate : this.startTime,\r\n          eDate: team ? team.eDate : this.endTime\r\n        };\r\n        if (_.isFunction(this.apiRoomStatus.query)) {\r\n          let add = this.apiRoomStatus.query();\r\n          q = customAssign(q, add);\r\n        }\r\n        \r\n        this.$http.get(this.apiRoomStatus.url, q)\r\n          .done(res => {\r\n            this.originFloorList = res.success ? res.data : [];\r\n          })\r\n          .always(() => {\r\n            this.firstQueryRoomList = false;\r\n          })\r\n      },\r\n      drop2room(person, room) {\r\n        const roomId = room[this.mid];\r\n        this.loadingRoomId.push(roomId);\r\n        \r\n        const q = {\r\n          personId: person.personId,\r\n          personName: person.personName,\r\n          sexValue: person.sexValue,\r\n          sexText: person.sexText,\r\n          reserveId: person.reserveId,\r\n          roomId: roomId\r\n        }\r\n        this.$http.post(this.apiTeamCheckin.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        }).done(res => {\r\n          if (!res.success) {\r\n            dsf.layer.message(res.message, false);\r\n            return\r\n          }\r\n          dsf.layer.message(\"\");\r\n          eventBus.emit(eventBusEvent.refreshGroupList);\r\n          this.queryRoomList();\r\n        })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false)\r\n          })\r\n          .always(() => {\r\n            let index = this.loadingRoomId.findIndex(a => a === roomId);\r\n            this.loadingRoomId.splice(index, 1);\r\n          })\r\n      },\r\n      createInteraction() {\r\n        const self = this;\r\n        $(\".floor-container .room\").droppable({\r\n          addClasses: false,\r\n          tolerance: \"pointer\",\r\n          over(evt, ui) {\r\n            console.log(\"droppable over\")\r\n            const seatDOM = $(evt.target);\r\n            seatDOM.css({\"box-shadow\": \"0 0 5px inset #409eff\"})\r\n          },\r\n          drop(evt, ui) {\r\n            const seatDOM = $(evt.target);\r\n            seatDOM.css(\"box-shadow\", \"none\");\r\n            const seatId = seatDOM.data(\"id\");\r\n            const personId = ui.helper.data(\"id\");\r\n            //loading\r\n            if (self.loadingRoomId.includes(seatId)) return;\r\n            \r\n            const seat = self.roomObj[seatId];\r\n            const person = self.personObj[personId];\r\n            \r\n            \r\n            let isError = false; //\r\n            if (_.isFunction(self.dropAble)) {\r\n              isError = self.dropAble(person, seat);\r\n            }\r\n            \r\n            if (isError) {\r\n              const temp = {\r\n                type: \"warning\",\r\n              }\r\n              dsf.layer.confirm(Object.assign(isError, temp))\r\n              return\r\n            }\r\n            \r\n            self.drop2room(person, seat);\r\n          },\r\n          out(evt, ui) {\r\n            const seatDOM = $(evt.target);\r\n            seatDOM.css(\"box-shadow\", \"none\");\r\n          }\r\n        })\r\n        \r\n      },\r\n      closeDialog(){\r\n        this.activeRoomId= ''\r\n        this.queryRoomList()\r\n      },\r\n    }\r\n  }\r\n  \r\n  function getTeam() {\r\n    if (!this.activeTeamId) return false;\r\n    return this.personList.find(a => a.teamId === this.activeTeamId)\r\n  }\r\n  \r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetGroupRoomBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetGroupRoomBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resetGroupRoomBox.vue?vue&type=template&id=038ddf54&\"\nimport script from \"./resetGroupRoomBox.vue?vue&type=script&lang=js&\"\nexport * from \"./resetGroupRoomBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('038ddf54')) {\n      api.createRecord('038ddf54', component.options)\n    } else {\n      api.reload('038ddf54', component.options)\n    }\n    module.hot.accept(\"./resetGroupRoomBox.vue?vue&type=template&id=038ddf54&\", function () {\n      api.rerender('038ddf54', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/resetGroupRoomBox.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\"div\", { staticClass: \"top-tool\" }, [\n      _c(\"div\", { staticClass: \"title\" }, [_vm._v(_vm._s(_vm.title))]),\n      _c(\n        \"div\",\n        { staticClass: \"sec-box\" },\n        [\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.occupied },\n              on: {\n                click: function($event) {\n                  return _vm.preClick(\"resetOccupiedRoom\")\n                }\n              }\n            },\n            [_vm._v(\"\")]\n          ),\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.checked },\n              on: {\n                click: function($event) {\n                  return _vm.preClick(\"resetCheckedRoom\")\n                }\n              }\n            },\n            [_vm._v(\"\")]\n          ),\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.sure },\n              on: {\n                click: function($event) {\n                  return _vm.preClick(\"sureRoomResource\")\n                }\n              }\n            },\n            [_vm._v(\"\")]\n          ),\n          _c(\n            \"dsf-button\",\n            {\n              attrs: { loading: _vm.btnLoading.auto },\n              on: {\n                click: function($event) {\n                  return _vm.preClick(\"autoRoomResource\")\n                }\n              }\n            },\n            [_vm._v(\"\")]\n          )\n        ],\n        1\n      )\n    ]),\n    _c(\n      \"div\",\n      { staticClass: \"msg-box\" },\n      [\n        _c(\"color-state-list\", {\n          attrs: { \"room-state-list\": _vm.roomStateList }\n        }),\n        _c(\n          \"div\",\n          { staticClass: \"msg\" },\n          [\n            _c(\"label\", [_vm._v(\"\")]),\n            _vm._l(_vm.computeAssign, function(item, it) {\n              return _c(\"span\", { key: it }, [\n                _vm._v(_vm._s(item.name) + \"\"),\n                _c(\"b\", [_vm._v(_vm._s(item.num))]),\n                _vm._v(\"\")\n              ])\n            })\n          ],\n          2\n        )\n      ],\n      1\n    ),\n    _c(\"div\", { staticClass: \"msg-box\" }, [\n      _c(\"div\", { staticClass: \"msg\" }, [\n        _c(\"label\", [_vm._v(\"\")]),\n        _c(\"span\", [_vm._v(_vm._s(_vm.team.teamName))]),\n        _c(\"span\", { staticClass: \"time\" }, [_vm._v(_vm._s(_vm.team.sDate))]),\n        _vm._v(\" \"),\n        _c(\"span\", { staticClass: \"time\" }, [_vm._v(_vm._s(_vm.team.eDate))])\n      ]),\n      _c(\n        \"div\",\n        { staticClass: \"msg\" },\n        [\n          _c(\"label\", [_vm._v(\"\")]),\n          _vm._l(_vm.computeReserve, function(item, it) {\n            return _c(\"span\", { key: it }, [\n              _vm._v(_vm._s(item.name) + \"\"),\n              _c(\"b\", [_vm._v(_vm._s(item.num))]),\n              _vm._v(\"\")\n            ])\n          }),\n          _c(\"span\", [_vm._v(\"\" + _vm._s(_vm.allNeedReserve) + \"\")])\n        ],\n        2\n      ),\n      _c(\n        \"div\",\n        { staticClass: \"msg\" },\n        [\n          _c(\"label\", [_vm._v(\"\")]),\n          _c(\"span\", [\n            _vm._v(\"\"),\n            _c(\"b\", { staticClass: \"blue\" }, [\n              _vm._v(_vm._s(_vm.chosenBedNum))\n            ]),\n            _vm._v(\"\")\n          ]),\n          _vm._l(_vm.chosenRoomNum, function(item, it) {\n            return _c(\"span\", { key: it }, [\n              _vm._v(_vm._s(item.name) + \"\"),\n              _c(\"b\", { staticClass: \"blue\" }, [\n                _vm._v(_vm._s(_vm.msgChosenNum[item.code]))\n              ]),\n              _vm._v(\"\")\n            ])\n          })\n        ],\n        2\n      )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"top-tool\">\r\n      <div class=\"title\">{{title}}</div>\r\n      <div class=\"sec-box\">\r\n        <dsf-button :loading=\"btnLoading.occupied\" @click=\"preClick('resetOccupiedRoom')\"></dsf-button>\r\n        <dsf-button :loading=\"btnLoading.checked\" @click=\"preClick('resetCheckedRoom')\"></dsf-button>\r\n        <dsf-button :loading=\"btnLoading.sure\" @click=\"preClick('sureRoomResource')\"></dsf-button>\r\n        <dsf-button :loading=\"btnLoading.auto\" @click=\"preClick('autoRoomResource')\"></dsf-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"msg-box\">\r\n      <color-state-list :room-state-list=\"roomStateList\"></color-state-list>\r\n      <div class=\"msg\">\r\n        <label></label>\r\n        <span v-for=\"(item, it) in computeAssign\" :key=\"it\">{{item.name}}<b>{{item.num}}</b></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"msg-box\">\r\n      <div class=\"msg\">\r\n        <label></label>\r\n        <span>{{team.teamName}}</span>\r\n        <span class=\"time\">{{team.sDate}}</span>\r\n        <span class=\"time\">{{team.eDate}}</span>\r\n      </div>\r\n      <div class=\"msg\">\r\n        <label></label>\r\n        <span v-for=\"(item, it) in computeReserve\" :key=\"it\">{{item.name}}<b>{{item.num}}</b></span>\r\n        <span>{{allNeedReserve}}</span>\r\n      </div>\r\n      <div class=\"msg\">\r\n        <label></label>\r\n        <span><b class=\"blue\">{{chosenBedNum}}</b></span>\r\n        <span v-for=\"(item, it) in chosenRoomNum\" :key=\"it\">{{item.name}}<b class=\"blue\">{{msgChosenNum[item.code]}}</b></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n  import colorStateList from \"_platform/pc/dormitory/room/colorStateList\";\r\n  import inlineSelectBox from \"_platform/pc/dormitory/room/inlineSelectBox\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import {customAssign} from \"_platform/pc/dormitory/func\";\r\n  \r\n  export default {\r\n    name: \"allocationTopTool\",\r\n    inject: [\"rightConfigPointer\"],\r\n    components: {\r\n      colorStateList,\r\n      inlineSelectBox\r\n    },\r\n    computed: {\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      },\r\n      roomTypeObj() {\r\n        let obj = {}\r\n        for (let i = 0; i < this.roomTypes.length; i++) {\r\n          let item = this.roomTypes[i];\r\n          if (obj[item.val]) {\r\n            dsf.error(\"roomTypes val\");\r\n            return {}\r\n          }\r\n          obj[item.val] = item\r\n        }\r\n        return obj\r\n      },\r\n      ...mapState('dormitory', [\r\n        \"chosenRoomId\",\r\n        \"roomObj\",\r\n        \"roomStateList\"\r\n      ]),\r\n      chosenRoomNum(){\r\n        return this.roomTypes.filter(a => this.msgChosenNum[a.code] > 0)\r\n      },\r\n      computeReserve(){\r\n        let arr = [];\r\n        for (let i=0; i<this.roomTypes.length; i++){\r\n          let a = this.roomTypes[i];\r\n          let num = this.mReserve[a.code]\r\n          if (!num || num <= 0 ) continue;\r\n          let obj = {\r\n            name: a.name,\r\n            num: num\r\n          }\r\n          arr.push(obj)\r\n        }\r\n        return arr\r\n      },\r\n      computeAssign(){\r\n        let arr = [];\r\n        for (let i=0; i<this.roomTypes.length; i++){\r\n          let a = this.roomTypes[i];\r\n          let num = this.mAssign[a.code]\r\n          if (!num || num <= 0 ) continue;\r\n          let obj = {\r\n            name: a.name,\r\n            num: num\r\n          }\r\n          arr.push(obj)\r\n        }\r\n        return arr\r\n      },\r\n      chosenBedNum(){\r\n        if (_.isArray(this.chosenRoomId) && this.chosenRoomId.length > 0){\r\n          let num = 0;\r\n          this.chosenRoomId.forEach(a => {\r\n            num += parseInt(this.roomObj[a][\"beds\"])\r\n          })\r\n          return num\r\n        }\r\n        return 0\r\n      },\r\n      team(){\r\n        const q = this.$route.query;\r\n        return {\r\n          teamName: q.name,\r\n          sDate: decodeURIComponent(q.sDate),\r\n          eDate: decodeURIComponent(q.eDate)\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        title: \"\",\r\n        roomTypes: null,\r\n        apiRoomReserveInfo: null,\r\n  \r\n        //\r\n        btnLoading: {\r\n          occupied: false,\r\n          checked: false,\r\n          sure: false,\r\n          auto: false\r\n        },\r\n        msgChosenNum: {},\r\n        mReserve: {},     //\r\n        mAssign: {},      //\r\n        allNeedReserve: null,       //\r\n      }\r\n    },\r\n    watch: {\r\n      chosenRoomId(val) {\r\n        this.computeRoomNum(val)\r\n      }\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n      this.queryReserveInfo();\r\n    },\r\n    methods: {\r\n      preClick(type) {\r\n        let temp = type === \"autoRoomResource\"? this.mReserve: this.btnLoading;\r\n        eventBus.emit(eventBusEvent[type], temp);\r\n      },\r\n      computeRoomNum(checkedArr) {\r\n        this.msgChosenNum = {};\r\n        for (let i = 0; i < checkedArr.length; i++) {\r\n          let roomId = checkedArr[i]\r\n          let room = this.roomObj[roomId];\r\n          let code = this.roomTypeObj[room.roomType].code;\r\n          this.msgChosenNum[code] = (this.msgChosenNum[code] && this.msgChosenNum[code] > 0) ? this.msgChosenNum[code] + 1 : 1\r\n        }\r\n      },\r\n      queryReserveInfo(){\r\n        let q = {}\r\n        if (_.isFunction(this.apiRoomReserveInfo.query)) {\r\n          const add = this.apiRoomReserveInfo.query();\r\n          q = customAssign(q, add);\r\n        }\r\n        this.$http.get(this.apiRoomReserveInfo.url, q).done(res => {\r\n          this.mReserve = res.data.reserve;\r\n          this.mAssign = res.data.assign;\r\n          \r\n          //\r\n          let a = 0;\r\n          for (let i=0; i<this.roomTypes.length; i++){\r\n            let item = this.roomTypes[i];\r\n            a += parseInt(this.mReserve[item.code])\r\n          }\r\n          this.allNeedReserve = a\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./allocationTopTool.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./allocationTopTool.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./allocationTopTool.vue?vue&type=template&id=755863fe&\"\nimport script from \"./allocationTopTool.vue?vue&type=script&lang=js&\"\nexport * from \"./allocationTopTool.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('755863fe')) {\n      api.createRecord('755863fe', component.options)\n    } else {\n      api.reload('755863fe', component.options)\n    }\n    module.hot.accept(\"./allocationTopTool.vue?vue&type=template&id=755863fe&\", function () {\n      api.rerender('755863fe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/allocationTopTool.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"floor-container allocation\" },\n    [\n      _c(\"floor-box\", {\n        attrs: {\n          \"floor-list\": _vm.floorList,\n          \"chosen-room-id\": _vm.chosenRoomId,\n          \"active-room-id\": _vm.activeRoomId,\n          \"loading-room-id\": _vm.loadingRoomId,\n          \"multiple-choose\": true\n        },\n        on: {\n          \"update:chosenRoomId\": function($event) {\n            _vm.chosenRoomId = $event\n          },\n          \"update:chosen-room-id\": function($event) {\n            _vm.chosenRoomId = $event\n          },\n          \"update:activeRoomId\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"update:active-room-id\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"click-room\": _vm.clickRoom\n        }\n      }),\n      _c(\"action-dialog\", {\n        attrs: {\n          title: \"\",\n          visible: _vm.autoDialogVisible,\n          width: \"30%\"\n        },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.autoDialogVisible = $event\n          },\n          save: _vm.saveAuto\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"body\",\n            fn: function() {\n              return [\n                _c(\n                  \"el-form\",\n                  {\n                    ref: \"form\",\n                    staticClass: \"auto-checkin-form\",\n                    attrs: { model: _vm.form, \"label-width\": \"80px\" }\n                  },\n                  _vm._l(_vm.roomTypes, function(item, it) {\n                    return _c(\n                      \"el-form-item\",\n                      { key: it, attrs: { label: item.name } },\n                      [\n                        _c(\"el-input-number\", {\n                          attrs: { controls: false, precision: 0 },\n                          model: {\n                            value: _vm.form[item.code],\n                            callback: function($$v) {\n                              _vm.$set(_vm.form, item.code, $$v)\n                            },\n                            expression: \"form[item.code]\"\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  }),\n                  1\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      }),\n      _c(\"room-history-dialog\", {\n        attrs: { visible: _vm.roomStatusVisible, info: _vm.roomStatusInfo },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.roomStatusVisible = $event\n          },\n          \"dialog-close\": function($event) {\n            _vm.activeRoomId = \"\"\n          }\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"floor-container allocation\">\r\n    <floor-box\r\n      :floor-list=\"floorList\"\r\n      :chosen-room-id.sync=\"chosenRoomId\"\r\n      :active-room-id.sync=\"activeRoomId\"\r\n      :loading-room-id=\"loadingRoomId\"\r\n      :multiple-choose=\"true\"\r\n      @click-room=\"clickRoom\"\r\n    ></floor-box>\r\n    \r\n    <action-dialog\r\n      title=\"\"\r\n      :visible.sync=\"autoDialogVisible\"\r\n      width=\"30%\"\r\n      @save=\"saveAuto\"\r\n    >\r\n      <template #body>\r\n        <el-form ref=\"form\" :model=\"form\" class=\"auto-checkin-form\" label-width=\"80px\">\r\n          <el-form-item v-for=\"(item, it) in roomTypes\" :key=\"it\" :label=\"item.name\">\r\n            <el-input-number v-model=\"form[item.code]\" :controls=\"false\" :precision=\"0\"></el-input-number>\r\n          </el-form-item>\r\n        </el-form>\r\n      </template>\r\n    </action-dialog>\r\n    \r\n    <room-history-dialog\r\n      :visible.sync=\"roomStatusVisible\"\r\n      :info=\"roomStatusInfo\"\r\n      @dialog-close=\"activeRoomId= ''\"\r\n    ></room-history-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n  import floorBox from \"_platform/pc/dormitory/room/floorBox\";\r\n  import actionDialog from \"_platform/pc/dormitory/dialog/actionDialog\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import ActionDialog from \"_platform/pc/dormitory/dialog/actionDialog\";\r\n  import {customAssign, filterOriginFloor} from \"_platform/pc/dormitory/func\";\r\n  import roomHistoryDialog from \"_platform/pc/dormitory/dialog/roomHistoryDialog\";\r\n  \r\n  export default {\r\n    name: \"allocationRoomBox\",\r\n    inject: [\"rightConfigPointer\"],\r\n    props: {\r\n      queryTime: {\r\n        type: Object,\r\n        default() {\r\n          return {\r\n            sDate: \"\",\r\n            eDate: \"\"\r\n          }\r\n        }\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiRoomStatus: null,\r\n        roomTypes: null,\r\n        apiResetRoomStatus: null,\r\n        apiAssignRoomStatus: null,\r\n        apiAutoAssign: null,\r\n        \r\n        //\r\n        startTime: \"\",\r\n        endTime: \"\",\r\n        originFloorList: [],\r\n        chosenRoomId: [],     //roomId\r\n        activeRoomId: \"\",     //roomId\r\n        loadingRoomId: [],\r\n        autoDialogVisible: false,\r\n        form: {},\r\n        roomStatusVisible: false,\r\n        roomStatusInfo: {}\r\n      }\r\n    },\r\n    computed: {\r\n      rightConfig() {\r\n        return this.rightConfigPointer()\r\n      },\r\n      mid() {\r\n        return this.apiRoomStatus.roomIdAlias;\r\n      },\r\n      mnum() {\r\n        return this.apiRoomStatus.roomNumAlias;\r\n      },\r\n      floorList(){\r\n        return filterOriginFloor(this.originFloorList, this.roomStateList)\r\n      },\r\n      ...mapState('dormitory', [\r\n        \"currentFloor\",\r\n        \"roomStateList\"\r\n      ]),\r\n    },\r\n    watch: {\r\n      currentFloor() {\r\n        this.queryRoomList()\r\n      },\r\n      roomStateList(){\r\n        this.chosenRoomId = [];\r\n      }\r\n    },\r\n    components: {\r\n      roomHistoryDialog,\r\n      ActionDialog,\r\n      floorBox,\r\n      actionDialog\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n      const currentTime = new Date().Format(\"yyyy-MM-dd\");\r\n      this.startTime = currentTime + \" 00:00:00\";\r\n      this.endTime = currentTime + \" 23:59:59\";\r\n    },\r\n    mounted() {\r\n      eventBus.on(eventBusEvent.resetOccupiedRoom, (btnLoading) => {\r\n        this.preResetOccupiedRoom(btnLoading)\r\n      })\r\n      eventBus.on(eventBusEvent.resetCheckedRoom, (btnLoading) => {\r\n        if (!this.chosenRoomId || this.chosenRoomId.length === 0) {\r\n          dsf.layer.message(\"\", false)\r\n          return\r\n        }\r\n        this.resetCheckedRoom(btnLoading)\r\n      })\r\n      eventBus.on(eventBusEvent.sureRoomResource, btnLoading => {\r\n        this.preSureRoomResource(btnLoading)\r\n      })\r\n      eventBus.on(eventBusEvent.autoRoomResource, mRserve => {\r\n        let obj = {};\r\n        for (let i = 0; i < this.roomTypes.length; i++) {\r\n          let item = this.roomTypes[i];\r\n          let num = mRserve[item.code];\r\n          obj[item.code] = (num && +num > 0) ? +num : undefined\r\n        }\r\n        this.form = obj;\r\n        this.autoDialogVisible = true\r\n      })\r\n    },\r\n    methods: {\r\n      clickRoom(room) {\r\n        this.roomStatusInfo = {\r\n          roomId: room[this.mid],\r\n          roomName: room[this.mnum],\r\n          emptyBedNum: room.beds,\r\n          ...this.queryTime\r\n        }\r\n        this.roomStatusVisible = true;\r\n      },\r\n      \r\n      queryRoomList() {\r\n        let q = {\r\n          ...this.currentFloor,\r\n          sDate: this.startTime,\r\n          eDate: this.endTime\r\n        };\r\n        if (_.isFunction(this.apiRoomStatus.query)) {\r\n          let add = this.apiRoomStatus.query();\r\n          q = customAssign(q, add);\r\n        }\r\n        \r\n        this.$http.get(this.apiRoomStatus.url, q).done(res => {\r\n          this.originFloorList = res.success ? res.data : [];\r\n          this.chosenRoomId = [];\r\n        })\r\n      },\r\n      preResetOccupiedRoom(btnLoading) {\r\n        dsf.layer.confirm({\r\n          message: \"\"\r\n        }).then(() => {\r\n          this.resetOccupiedRoom(btnLoading);\r\n        })\r\n          .catch(() => {\r\n          })\r\n      },\r\n      resetOccupiedRoom(btnLoading) {\r\n        btnLoading.occupied = true;\r\n        let q = {};\r\n        if (_.isFunction(this.apiResetRoomStatus.query)) {\r\n          const add = this.apiResetRoomStatus.query();\r\n          q = Object.assign({}, q, add)\r\n        }\r\n        \r\n        this.$http.post(this.apiResetRoomStatus.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return;\r\n            }\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false);\r\n          })\r\n          .always(() => {\r\n            btnLoading.occupied = false\r\n          })\r\n      },\r\n      resetCheckedRoom(btnLoading) {\r\n        btnLoading.checked = true;\r\n        this.loadingRoomId = this.chosenRoomId;\r\n        let q = {\r\n          roomIds: this.chosenRoomId\r\n        };\r\n        if (_.isFunction(this.apiResetRoomStatus.query)) {\r\n          const add = this.apiResetRoomStatus.query();\r\n          q = Object.assign({}, q, add)\r\n        }\r\n        \r\n        this.$http.post(this.apiResetRoomStatus.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return;\r\n            }\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false);\r\n          })\r\n          .always(() => {\r\n            btnLoading.checked = false;\r\n            this.loadingRoomId = [];\r\n          })\r\n      },\r\n      preSureRoomResource(btnLoading) {\r\n        if (!this.chosenRoomId || this.chosenRoomId.length === 0) {\r\n          dsf.layer.message(\"\", false)\r\n          return\r\n        }\r\n        \r\n        const roomObjs = getRoomObjs(this.floorList, this.mid);\r\n        const passRoomId = [];\r\n        let couldRooms = \"\";    //\r\n        let unRooms = \"\";       //\r\n        this.chosenRoomId.forEach(id => {\r\n          const room = roomObjs[id];\r\n          if (room.statusValue !== 1) {\r\n            unRooms += \"<span>\" + room[this.mnum] + \"</span>\";\r\n          } else {\r\n            passRoomId.push(id);\r\n            couldRooms += \"<span>\" + room[this.mnum] + \"</span>\";\r\n          }\r\n        })\r\n        \r\n        //\r\n        if (unRooms.length === 0) {\r\n          this.sureRoomResource(btnLoading);\r\n          return\r\n        }\r\n        \r\n        const unHtml = `<p class=\"room-msg un-pass\">${unRooms}</p>`;\r\n        const passHtml = `<p class=\"room-msg pass\">${couldRooms}</p>`;\r\n        const msg = passRoomId.length === 0 ? \"\" : `${passHtml}`\r\n        dsf.layer.confirm({\r\n          message: `${unHtml}${msg}`,\r\n          customClass: \"dormitory-restore-select-room-confirm\"\r\n        }).then(() => {\r\n          this.chosenRoomId = passRoomId;\r\n          if (passRoomId.length > 0){\r\n            this.sureRoomResource(btnLoading);\r\n          }\r\n        }).catch(() => {\r\n          console.log(\"\")\r\n        })\r\n      },\r\n      sureRoomResource(btnLoading) {\r\n        btnLoading.sure = true;\r\n        this.loadingRoomId = this.chosenRoomId;\r\n        let q = {\r\n          roomIds: this.chosenRoomId\r\n        };\r\n        if (_.isFunction(this.apiAssignRoomStatus.query)) {\r\n          const add = this.apiAssignRoomStatus.query();\r\n          q = Object.assign({}, q, add)\r\n        }\r\n        \r\n        this.$http.post(this.apiAssignRoomStatus.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return;\r\n            }\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false);\r\n          })\r\n          .always(() => {\r\n            btnLoading.sure = false;\r\n            this.loadingRoomId = [];\r\n          })\r\n      },\r\n      saveAuto(btnLoading) {\r\n        btnLoading.save = true;\r\n        const arr = [];\r\n        for (let i = 0; i < this.roomTypes.length; i++) {\r\n          let room = this.roomTypes[i];\r\n          if (!this.form[room.code] || parseInt(this.form[room.code]) <= 0) continue;\r\n          let obj = {\r\n            type: room.val,\r\n            amount: this.form[room.code]\r\n          }\r\n          \r\n          arr.push(obj);\r\n        }\r\n        let q = {\r\n          roomTypes: arr\r\n        }\r\n        if (_.isFunction(this.apiAutoAssign.query)) {\r\n          const add = this.apiAutoAssign.query();\r\n          q = Object.assign({}, q, add)\r\n        }\r\n        \r\n        this.$http.post(this.apiAutoAssign.url, JSON.stringify(q), {\r\n          headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\r\n        })\r\n          .done(res => {\r\n            if (!res.success) {\r\n              dsf.layer.message(res.message, false);\r\n              return;\r\n            }\r\n            this.autoDialogVisible = false;\r\n            dsf.layer.message(\"\");\r\n            this.queryRoomList();\r\n          })\r\n          .error(err => {\r\n            dsf.layer.message(\"\", false);\r\n          })\r\n          .always(() => {\r\n            btnLoading.save = false;\r\n          })\r\n        \r\n      },\r\n    }\r\n  }\r\n  \r\n  function getRoomObjs(floorList, roomId) {\r\n    const obj = {};\r\n    for (let i = 0; i < floorList.length; i++) {\r\n      const floor = floorList[i];\r\n      for (let j = 0; j < floor.roomDtos.length; j++) {\r\n        const room = floor.roomDtos[j];\r\n        obj[room[roomId]] = room\r\n      }\r\n    }\r\n    return obj\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./allocationRoomBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./allocationRoomBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./allocationRoomBox.vue?vue&type=template&id=3f17ea38&\"\nimport script from \"./allocationRoomBox.vue?vue&type=script&lang=js&\"\nexport * from \"./allocationRoomBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3f17ea38')) {\n      api.createRecord('3f17ea38', component.options)\n    } else {\n      api.reload('3f17ea38', component.options)\n    }\n    module.hot.accept(\"./allocationRoomBox.vue?vue&type=template&id=3f17ea38&\", function () {\n      api.rerender('3f17ea38', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/allocationRoomBox.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"floor-container\" },\n    [\n      _c(\"floor-box\", {\n        attrs: {\n          \"floor-list\": _vm.floorList,\n          \"active-room-id\": _vm.activeRoomId\n        },\n        on: {\n          \"update:activeRoomId\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"update:active-room-id\": function($event) {\n            _vm.activeRoomId = $event\n          },\n          \"click-room\": _vm.clickRoom\n        }\n      }),\n      _c(\"room-history-dialog\", {\n        attrs: { visible: _vm.roomStatusVisible, info: _vm.roomStatusInfo },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.roomStatusVisible = $event\n          },\n          \"dialog-close\": _vm.onCloseDialog\n        }\n      }),\n      _c(\"action-dialog\", {\n        attrs: {\n          title: \"\",\n          visible: _vm.roomMonthVisible,\n          \"no-footer\": true\n        },\n        on: {\n          \"update:visible\": function($event) {\n            _vm.roomMonthVisible = $event\n          },\n          \"dialog-close\": _vm.onCloseDialog\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"inner\",\n            fn: function() {\n              return [\n                _c(\"div\", { staticClass: \"month-box\" }, [\n                  _c(\"div\", { staticClass: \"month-title\" }, [\n                    _c(\"span\", [_vm._v(_vm._s(_vm.monthRoomInfo.title))]),\n                    _c(\"span\", [_vm._v(_vm._s(_vm.monthRoomInfo.type))])\n                  ]),\n                  _c(\n                    \"div\",\n                    { staticClass: \"month-body\" },\n                    _vm._l(_vm.monthArr, function(item, it) {\n                      return _c(\"div\", { key: it, style: _vm.mSty(item) }, [\n                        _vm._v(_vm._s(item.text))\n                      ])\n                    }),\n                    0\n                  )\n                ]),\n                _c(\n                  \"div\",\n                  { staticClass: \"month-footer\" },\n                  [\n                    _c(\"color-state-list\", {\n                      attrs: {\n                        \"room-state-list\": _vm.monthStateList,\n                        \"check-able\": false\n                      }\n                    })\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"floor-container\">\r\n    <floor-box\r\n      :floor-list=\"floorList\"\r\n      :active-room-id.sync=\"activeRoomId\"\r\n      @click-room=\"clickRoom\"\r\n    ></floor-box>\r\n    <room-history-dialog\r\n      :visible.sync=\"roomStatusVisible\"\r\n      :info=\"roomStatusInfo\"\r\n      @dialog-close=\"onCloseDialog\"\r\n    ></room-history-dialog>\r\n    <action-dialog\r\n      title=\"\"\r\n      :visible.sync=\"roomMonthVisible\"\r\n      :no-footer=\"true\"\r\n      @dialog-close=\"onCloseDialog\"\r\n    >\r\n      <template #inner>\r\n        <div class=\"month-box\">\r\n          <div class=\"month-title\">\r\n            <span>{{monthRoomInfo.title}}</span>\r\n            <span>{{monthRoomInfo.type}}</span>\r\n          </div>\r\n          <div class=\"month-body\">\r\n            <div v-for=\"(item, it) in monthArr\" :key=\"it\" :style=\"mSty(item)\">{{item.text}}</div>\r\n          </div>\r\n        </div>\r\n  \r\n        <div class=\"month-footer\">\r\n          <color-state-list :room-state-list=\"monthStateList\" :check-able=\"false\"></color-state-list>\r\n        </div>\r\n      </template>\r\n    </action-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex'\r\n  import roomHistoryDialog from \"_platform/pc/dormitory/dialog/roomHistoryDialog\";\r\n  import floorBox from \"_platform/pc/dormitory/room/floorBox\";\r\n  import actionDialog from \"_platform/pc/dormitory/dialog/actionDialog\";\r\n  import colorStateList from \"_platform/pc/dormitory/room/colorStateList\";\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {eventBusEvent} from \"_platform/pc/dormitory/constant\";\r\n  import {customAssign, filterOriginFloor} from \"_platform/pc/dormitory/func\";\r\n  \r\n  export default {\r\n    name: \"roomBox\",\r\n    inject: ['rightConfigPointer'],\r\n    props: {\r\n      queryTime: {\r\n        type: Object,\r\n        default(){\r\n          return {\r\n            sDate: \"\",\r\n            eDate: \"\"\r\n          }\r\n        }\r\n      },\r\n      treeList:{\r\n        type: Array,\r\n      },\r\n      roomStateList: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        }\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        //\r\n        apiRoomStatus: null,\r\n        apiOneMonthRoomInfo: null,\r\n        \r\n        //\r\n        originFloorList: [],\r\n        roomStatusVisible: false,\r\n        roomStatusInfo: {},\r\n        activeRoomId: \"\",   //roomId\r\n        timeDistance: 0,    //\r\n        timeTicker: null,   //\r\n  \r\n        roomMonthVisible: false,\r\n        monthRoomInfo: {},\r\n        monthArr: [],\r\n      }\r\n    },\r\n    computed: {\r\n      rightConfig(){\r\n        return this.rightConfigPointer()\r\n      },\r\n      mchildren() {\r\n        return this.apiRoomStatus.childrenAlias\r\n      },\r\n      mroomNum() {\r\n        return this.apiRoomStatus.roomNumAlias\r\n      },\r\n      mroomId() {\r\n        return this.apiRoomStatus.roomIdAlias\r\n      },\r\n      monthStateList(){\r\n        return this.roomStateList.slice(0, 3);\r\n      },\r\n      floorList(){\r\n        return filterOriginFloor(this.originFloorList, this.roomStateList)\r\n      },\r\n      ...mapState('dormitory', [\r\n        \"currentFloor\",\r\n        \"roomStateList\"\r\n      ])\r\n    },\r\n    components: {\r\n      roomHistoryDialog,\r\n      floorBox,\r\n      actionDialog,\r\n      colorStateList\r\n    },\r\n    watch: {\r\n      currentFloor() {\r\n        this.queryRoomList()\r\n      },\r\n    },\r\n    created() {\r\n      Object.assign(this, this.rightConfig);\r\n    },\r\n    beforeDestroy(){\r\n      if (this.timeTicker){\r\n        clearTimeout(this.timeTicker);\r\n        this.timeTicker = null;\r\n      }\r\n    },\r\n    mounted() {\r\n      eventBus.on(eventBusEvent.queryRoomList, () => {\r\n        this.queryRoomList()\r\n      })\r\n    },\r\n    \r\n    methods: {\r\n      clickRoom(item) {\r\n        this.timeDistance += 1;\r\n        \r\n        if (!this.timeTicker){\r\n          this.timeTicker = setTimeout(()=>{\r\n            if (this.timeDistance >= 2){\r\n              this.dbClickRoom(item);\r\n            }\r\n            else {\r\n              this.singleClickRoom(item);\r\n            }\r\n            \r\n            this.timeDistance = 0\r\n            clearTimeout(this.timeTicker);\r\n            this.timeTicker = null;\r\n          }, 250)\r\n        }\r\n      },\r\n      dbClickRoom(item){\r\n        let q = {\r\n          roomId: item[this.mroomId]\r\n        }\r\n        this.$http.get(this.apiOneMonthRoomInfo.url, q).done(res => {\r\n          if (!res.success){\r\n            dsf.layer.message(\"\\n\" + res.message, false);\r\n            return\r\n          }\r\n          \r\n          this.monthRoomInfo = {\r\n            title: `${item.buildingText} / ${item.floorText} / ${item.name}`,\r\n            type: item.roomText\r\n          };\r\n          \r\n          let data = res.data;\r\n          if (_.isFunction(this.apiOneMonthRoomInfo.callback)){\r\n            data = this.apiOneMonthRoomInfo.callback(data)\r\n          }\r\n          \r\n          this.monthArr = data;\r\n          this.roomMonthVisible = true;\r\n        })\r\n      },\r\n      singleClickRoom(item){\r\n        this.roomStatusInfo = {\r\n          roomId: item[this.mroomId],\r\n          roomName: item[this.mroomNum],\r\n          emptyBedNum: item.beds,\r\n          ...this.queryTime\r\n        }\r\n        this.roomStatusVisible = true;\r\n      },\r\n      queryRoomList() {\r\n        let q = {\r\n          ...this.currentFloor,\r\n        };\r\n        if (_.isFunction(this.apiRoomStatus.query)){\r\n          let add = this.apiRoomStatus.query();\r\n          q = customAssign(q, add);\r\n        }\r\n        q = Object.assign({}, q, this.queryTime);\r\n        \r\n        this.$http.get(this.apiRoomStatus.url, q).done(res => {\r\n          this.originFloorList = res.success? res.data: [];\r\n          this.activeRoomId = \"\";\r\n        })\r\n      },\r\n      onCloseDialog(){\r\n        this.activeRoomId = \"\";\r\n      },\r\n      mSty(item){\r\n        return {\r\n          backgroundColor: item.bgColor\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stateRoomBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stateRoomBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./stateRoomBox.vue?vue&type=template&id=4a7ba05b&\"\nimport script from \"./stateRoomBox.vue?vue&type=script&lang=js&\"\nexport * from \"./stateRoomBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4a7ba05b')) {\n      api.createRecord('4a7ba05b', component.options)\n    } else {\n      api.reload('4a7ba05b', component.options)\n    }\n    module.hot.accept(\"./stateRoomBox.vue?vue&type=template&id=4a7ba05b&\", function () {\n      api.rerender('4a7ba05b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/room/stateRoomBox.vue\"\nexport default component.exports","<template>\r\n  <div class=\"ds-dormitory-container\">\r\n    <left-menu :title=\"leftMenuTitle\">\r\n      <template #inner>\r\n        <component :is=\"dynamicLeft\" v-bind.sync=\"commonProps\"></component>\r\n      </template>\r\n    </left-menu>\r\n    <div class=\"ds-dormitory-right\">\r\n      <div class=\"top-tool-container\">\r\n        <component :is=\"dynamicTop\" v-bind.sync=\"commonProps\"></component>\r\n      </div>\r\n      <component :is=\"dynamicRoom\" v-bind.sync=\"commonProps\"></component>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import eventBus from \"_platform/designer/seat/util/eventBus\";\r\n  import {customAssign, DateFormat} from \"_platform/pc/dormitory/func\";\r\n  import leftMenu from \"_platform/pc/dormitory/room/leftMenu\";\r\n  import guestsTopTool from \"_platform/pc/dormitory/room/guestsTopTool\";\r\n  import resetGroupTopTool from \"_platform/pc/dormitory/room/resetGroupTopTool\";\r\n  import treeList from \"_platform/pc/dormitory/room/treeList\";\r\n  import roomBox from \"_platform/pc/dormitory/room/roomBox\";\r\n  import groupTopTool from \"_platform/pc/dormitory/room/groupTopTool\";\r\n  import groupList from \"_platform/pc/dormitory/room/groupList\";\r\n  import groupRoomBox from \"_platform/pc/dormitory/room/groupRoomBox\";\r\n  import resetGroupRoomBox from \"_platform/pc/dormitory/room/resetGroupRoomBox\";\r\n  import allocationTopTool from \"_platform/pc/dormitory/room/allocationTopTool\";\r\n  import allocationRoomBox from \"_platform/pc/dormitory/room/allocationRoomBox\";\r\n  import stateRoomBox from \"_platform/pc/dormitory/room/stateRoomBox\";\r\n  import ConfigBuilder from \"_platform/designer/seat/util/configBuilder.js\";\r\n  \r\n  export default {\r\n    name: \"DsfDormitory\",\r\n    provide() {\r\n      return {\r\n        leftConfigPointer: () => this.leftConfig,\r\n        rightConfigPointer: () => this.rightConfig\r\n      };\r\n    },\r\n    components: {\r\n      leftMenu\r\n    },\r\n    data() {\r\n      return {\r\n        leftMenuTitle: \"\",\r\n        //props\r\n        commonProps: {\r\n          queryTime: {}, //\r\n          treeList: [], //\r\n          personObj: {}, //\r\n          personList: [], //\r\n        },\r\n        \r\n        //\r\n        dynamicLeft: null,\r\n        dynamicTop: null,\r\n        dynamicRoom: null,\r\n        \r\n        //\r\n        leftConfig: null,\r\n        rightConfig: null\r\n      };\r\n    },\r\n    watch: {\r\n      \"$route.query.opt\"() {\r\n        this.createDormitory()\r\n      }\r\n    },\r\n    methods: {\r\n      initGuestLayout() {\r\n        this.dynamicTop = guestsTopTool;\r\n        this.dynamicLeft = treeList;\r\n        this.dynamicRoom = roomBox;\r\n      },\r\n      initGroup() {\r\n        this.dynamicTop = groupTopTool;\r\n        this.dynamicLeft = groupList;\r\n        this.dynamicRoom = groupRoomBox;\r\n      },\r\n      initAllocation() {\r\n        this.dynamicTop = allocationTopTool;\r\n        this.dynamicLeft = treeList;\r\n        this.dynamicRoom = allocationRoomBox;\r\n      },\r\n      initStatus() {\r\n        this.dynamicTop = guestsTopTool;\r\n        this.dynamicLeft = treeList;\r\n        this.dynamicRoom = stateRoomBox;\r\n      },\r\n      initResetGroup() {\r\n        this.dynamicTop = resetGroupTopTool;\r\n        this.dynamicLeft = groupList;\r\n        this.dynamicRoom = resetGroupRoomBox;\r\n      },\r\n      renderInner() {\r\n        //Date \r\n        DateFormat();\r\n        this.commonProps.queryTime = getDefaultTime.call(this);\r\n        const q = this.$route.query.opt;\r\n        console.log(q)\r\n        switch (q) {\r\n          case \"guests\":\r\n            this.initGuestLayout();\r\n            break;\r\n          case \"group\":\r\n            this.initGroup();\r\n            break;\r\n          case \"allocation\":\r\n            this.initAllocation();\r\n            break;\r\n          case \"roomStatus\":\r\n            this.initStatus();\r\n            break;\r\n          case \"resetGroup\":\r\n            this.initResetGroup();\r\n            break;\r\n        }\r\n        \r\n        const {title} = this.leftConfig;\r\n        const {roomStateList} = this.rightConfig;\r\n        this.leftMenuTitle = title;\r\n        this.$store.commit(\"dormitory/changeRoomStateList\", roomStateList)\r\n        \r\n        this.$nextTick(() => {\r\n          $(window).off(\"scroll\").on(\"scroll\", function () {\r\n            let left = $(window).scrollLeft();\r\n            $(\".top-tool-container\").css(\"margin-left\", -left);\r\n          });\r\n        });\r\n      },\r\n      createDormitory() {\r\n        eventBus.clear();   //\r\n        this.$store.commit(\"dormitory/activeTeamId\", \"\")\r\n        this.leftConfig = new ConfigBuilder(leftTreeConfig, this.$route.query.opt);\r\n        this.rightConfig = new ConfigBuilder(rightLayoutConfig, this.$route.query.opt);\r\n        this.renderInner();\r\n      },\r\n    },\r\n    created() {\r\n      const leftConfigUrl = dsf.url.getWebPath(\"$/seat_config/dormitory/leftTree.js\");\r\n      const rightLayoutUrl = dsf.url.getWebPath(\"$/seat_config/dormitory/rightLayout.js\");\r\n      this.$http.importFiles([leftConfigUrl, rightLayoutUrl]).then((res) => {\r\n        this.createDormitory()\r\n      });\r\n    }\r\n  };\r\n  \r\n  function getDefaultTime() {\r\n    const sys_start = dsf.config.setting_sgcp_sdate;\r\n    const sys_end = dsf.config.setting_sgcp_edate;\r\n    const toDay = new Date().Format(\"yyyy-MM-dd\");\r\n    \r\n    const tomorrow = new Date(new Date().getTime() + 24 * 60 * 60 * 1000).Format(\"yyyy-MM-dd\");\r\n    const mStart = sys_start ? toDay + \" \" + sys_start : toDay + \" \" + \"00:00:00\";\r\n    const mEnd = sys_end ? tomorrow + \" \" + sys_end : toDay + \" \" + \"23:59:59\";\r\n    \r\n    let originTime = {\r\n      sDate: mStart,\r\n      eDate: mEnd\r\n    };\r\n    \r\n    const {defaultQueryByUrl: defaultQuery} = this.rightConfig;\r\n    let mTime = {\r\n      sDate: decodeURIComponent(dsf.url.queryString(defaultQuery[\"startTime\"])),\r\n      eDate: decodeURIComponent(dsf.url.queryString(defaultQuery[\"endTime\"]))\r\n    };\r\n    \r\n    return customAssign(originTime, mTime);\r\n  }\r\n</script>\r\n\r\n<style type=\"text/scss\" lang=\"scss\">\r\n  @import \"~_platform/assets/styles/pc/components/dormitory.scss\";\r\n</style>","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dormitory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dormitory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dormitory.vue?vue&type=template&id=35c151a6&\"\nimport script from \"./dormitory.vue?vue&type=script&lang=js&\"\nexport * from \"./dormitory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dormitory.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('35c151a6')) {\n      api.createRecord('35c151a6', component.options)\n    } else {\n      api.reload('35c151a6', component.options)\n    }\n    module.hot.accept(\"./dormitory.vue?vue&type=template&id=35c151a6&\", function () {\n      api.rerender('35c151a6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"pc/dormitory/dormitory.vue\"\nexport default component.exports"],"sourceRoot":""}